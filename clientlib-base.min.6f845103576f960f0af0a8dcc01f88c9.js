/*
 *  Copyright 2018 Adobe Systems Incorporated
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */
/* modified from html5up.net thanks @ajlkn */
(function($) {

    /**
     * Generate an indented list of links from a nav. Meant for use with panel().
     * @return {jQuery} jQuery object.
     */
    $.fn.navList = function() {

        var $this = $(this),
            $a = $this.find('a'),
            b = [];

        $a.each(function() {

            var $this = $(this),
                indent = Math.max(0, $this.parents('li').length - 1),
                href = $this.attr('href'),
                target = $this.attr('target');

            b.push(
                '<a ' +
                    'class="link depth-' + indent + '"' +
                    ( (typeof target !== 'undefined' && target != '') ? ' target="' + target + '"' : '') +
                    ( (typeof href !== 'undefined' && href != '') ? ' href="' + href + '"' : '') +
                '>' +
                    '<span class="indent-' + indent + '"></span>' +
                    $this.text() +
                '</a>'
            );

        });

        return b.join('');

    };

    /**
     * Panel-ify an element.
     * @param {object} userConfig User config.
     * @return {jQuery} jQuery object.
     */
    $.fn.panel = function(userConfig) {

        // No elements?
            if (this.length == 0)
                return $this;

        // Multiple elements?
            if (this.length > 1) {

                for (var i=0; i < this.length; i++)
                    $(this[i]).panel(userConfig);

                return $this;

            }

        // Vars.
            var $this = $(this),
                $body = $('body'),
                $window = $(window),
                id = $this.attr('id'),
                config;

        // Config.
            config = $.extend({

                // Delay.
                    delay: 0,

                // Hide panel on link click.
                    hideOnClick: false,

                // Hide panel on escape keypress.
                    hideOnEscape: false,

                // Hide panel on swipe.
                    hideOnSwipe: false,

                // Reset scroll position on hide.
                    resetScroll: false,

                // Reset forms on hide.
                    resetForms: false,

                // Side of viewport the panel will appear.
                    side: null,

                // Target element for "class".
                    target: $this,

                // Class to toggle.
                    visibleClass: 'visible'

            }, userConfig);

            // Expand "target" if it's not a jQuery object already.
                if (typeof config.target != 'jQuery')
                    config.target = $(config.target);

        // Panel.

            // Methods.
                $this._hide = function(event) {

                    // Already hidden? Bail.
                        if (!config.target.hasClass(config.visibleClass))
                            return;

                    // If an event was provided, cancel it.
                        if (event) {

                            event.preventDefault();
                            event.stopPropagation();

                        }

                    // Hide.
                        config.target.removeClass(config.visibleClass);

                    // Post-hide stuff.
                        window.setTimeout(function() {

                            // Reset scroll position.
                                if (config.resetScroll)
                                    $this.scrollTop(0);

                            // Reset forms.
                                if (config.resetForms)
                                    $this.find('form').each(function() {
                                        this.reset();
                                    });

                        }, config.delay);

                };

            // Vendor fixes.
                $this
                    .css('-ms-overflow-style', '-ms-autohiding-scrollbar')
                    .css('-webkit-overflow-scrolling', 'touch');

            // Hide on click.
                if (config.hideOnClick) {

                    $this.find('a')
                        .css('-webkit-tap-highlight-color', 'rgba(0,0,0,0)');

                    $this
                        .on('click', 'a', function(event) {

                            var $a = $(this),
                                href = $a.attr('href'),
                                target = $a.attr('target');

                            if (!href || href == '#' || href == '' || href == '#' + id)
                                return;

                            // Cancel original event.
                                event.preventDefault();
                                event.stopPropagation();

                            // Hide panel.
                                $this._hide();

                            // Redirect to href.
                                window.setTimeout(function() {

                                    if (target == '_blank'){
                                        window.open(href);
                                    }else
									{
                                        window.location.href = href;
									}

                                }, config.delay + 10);

                        });

                }

            // Event: Touch stuff.
                $this.on('touchstart', function(event) {

                    $this.touchPosX = event.originalEvent.touches[0].pageX;
                    $this.touchPosY = event.originalEvent.touches[0].pageY;

                })

                $this.on('touchmove', function(event) {

                    if ($this.touchPosX === null
                    ||  $this.touchPosY === null)
                        return;

                    var diffX = $this.touchPosX - event.originalEvent.touches[0].pageX,
                        diffY = $this.touchPosY - event.originalEvent.touches[0].pageY,
                        th = $this.outerHeight(),
                        ts = ($this.get(0).scrollHeight - $this.scrollTop());

                    // Hide on swipe?
                        if (config.hideOnSwipe) {

                            var result = false,
                                boundary = 20,
                                delta = 50;

                            switch (config.side) {

                                case 'left':
                                    result = (diffY < boundary && diffY > (-1 * boundary)) && (diffX > delta);
                                    break;

                                case 'right':
                                    result = (diffY < boundary && diffY > (-1 * boundary)) && (diffX < (-1 * delta));
                                    break;

                                case 'top':
                                    result = (diffX < boundary && diffX > (-1 * boundary)) && (diffY > delta);
                                    break;

                                case 'bottom':
                                    result = (diffX < boundary && diffX > (-1 * boundary)) && (diffY < (-1 * delta));
                                    break;

                                default:
                                    break;

                            }

                            if (result) {

                                $this.touchPosX = null;
                                $this.touchPosY = null;
                                $this._hide();

                                return false;

                            }

                        }

                    // Prevent vertical scrolling past the top or bottom.
                        if (($this.scrollTop() < 0 && diffY < 0)
                        || (ts > (th - 2) && ts < (th + 2) && diffY > 0)) {

                            event.preventDefault();
                            event.stopPropagation();

                        }

                });

            // Event: Prevent certain events inside the panel from bubbling.
                $this.on('click touchend touchstart touchmove', function(event) {
                    event.stopPropagation();
                });

            // Event: Hide panel if a child anchor tag pointing to its ID is clicked.
                $this.on('click', 'a[href="#' + id + '"]', function(event) {

                    event.preventDefault();
                    event.stopPropagation();

                    config.target.removeClass(config.visibleClass);

                });

        // Body.

            // Event: Hide panel on body click/tap.
                $body.on('click touchend', function(event) {
                    $this._hide(event);
                });

            // Event: Toggle.
                $body.on('click', 'a[href="#' + id + '"]', function(event) {

                    event.preventDefault();
                    event.stopPropagation();

                    config.target.toggleClass(config.visibleClass);

                });

        // Window.

            // Event: Hide on ESC.
                if (config.hideOnEscape)
                    $window.on('keydown', function(event) {

                        if (event.keyCode == 27)
                            $this._hide(event);

                    });

        return $this;

    };

    /**
     * Apply "placeholder" attribute polyfill to one or more forms.
     * @return {jQuery} jQuery object.
     */
    $.fn.placeholder = function() {

        // Browser natively supports placeholders? Bail.
            if (typeof (document.createElement('input')).placeholder != 'undefined')
                return $(this);

        // No elements?
            if (this.length == 0)
                return $this;

        // Multiple elements?
            if (this.length > 1) {

                for (var i=0; i < this.length; i++)
                    $(this[i]).placeholder();

                return $this;

            }

        // Vars.
            var $this = $(this);

        // Text, TextArea.
            $this.find('input[type=text],textarea')
                .each(function() {

                    var i = $(this);

                    if (i.val() == ''
                    ||  i.val() == i.attr('placeholder'))
                        i
                            .addClass('polyfill-placeholder')
                            .val(i.attr('placeholder'));

                })
                .on('blur', function() {

                    var i = $(this);

                    if (i.attr('name').match(/-polyfill-field$/))
                        return;

                    if (i.val() == '')
                        i
                            .addClass('polyfill-placeholder')
                            .val(i.attr('placeholder'));

                })
                .on('focus', function() {

                    var i = $(this);

                    if (i.attr('name').match(/-polyfill-field$/))
                        return;

                    if (i.val() == i.attr('placeholder'))
                        i
                            .removeClass('polyfill-placeholder')
                            .val('');

                });

        // Password.
            $this.find('input[type=password]')
                .each(function() {

                    var i = $(this);
                    var x = $(
                                $('<div>')
                                    .append(i.clone())
                                    .remove()
                                    .html()
                                    .replace(/type="password"/i, 'type="text"')
                                    .replace(/type=password/i, 'type=text')
                    );

                    if (i.attr('id') != '')
                        x.attr('id', i.attr('id') + '-polyfill-field');

                    if (i.attr('name') != '')
                        x.attr('name', i.attr('name') + '-polyfill-field');

                    x.addClass('polyfill-placeholder')
                        .val(x.attr('placeholder')).insertAfter(i);

                    if (i.val() == '')
                        i.hide();
                    else
                        x.hide();

                    i
                        .on('blur', function(event) {

                            event.preventDefault();

                            var x = i.parent().find('input[name=' + i.attr('name') + '-polyfill-field]');

                            if (i.val() == '') {

                                i.hide();
                                x.show();

                            }

                        });

                    x
                        .on('focus', function(event) {

                            event.preventDefault();

                            var i = x.parent().find('input[name=' + x.attr('name').replace('-polyfill-field', '') + ']');

                            x.hide();

                            i
                                .show()
                                .trigger('focus');

                        })
                        .on('keypress', function(event) {

                            event.preventDefault();
                            x.val('');

                        });

                });

        // Events.
            $this
                .on('submit', function() {

                    $this.find('input[type=text],input[type=password],textarea')
                        .each(function(event) {

                            var i = $(this);

                            if (i.attr('name').match(/-polyfill-field$/))
                                i.attr('name', '');

                            if (i.val() == i.attr('placeholder')) {

                                i.removeClass('polyfill-placeholder');
                                i.val('');

                            }

                        });

                })
                .on('reset', function(event) {

                    event.preventDefault();

                    $this.find('select')
                        .val($('option:first').val());

                    $this.find('input,textarea')
                        .each(function() {

                            var i = $(this),
                                x;

                            i.removeClass('polyfill-placeholder');

                            switch (this.type) {

                                case 'submit':
                                case 'reset':
                                    break;

                                case 'password':
                                    i.val(i.attr('defaultValue'));

                                    x = i.parent().find('input[name=' + i.attr('name') + '-polyfill-field]');

                                    if (i.val() == '') {
                                        i.hide();
                                        x.show();
                                    }
                                    else {
                                        i.show();
                                        x.hide();
                                    }

                                    break;

                                case 'checkbox':
                                case 'radio':
                                    i.attr('checked', i.attr('defaultValue'));
                                    break;

                                case 'text':
                                case 'textarea':
                                    i.val(i.attr('defaultValue'));

                                    if (i.val() == '') {
                                        i.addClass('polyfill-placeholder');
                                        i.val(i.attr('placeholder'));
                                    }

                                    break;

                                default:
                                    i.val(i.attr('defaultValue'));
                                    break;

                            }
                        });

                });

        return $this;

    };

    /**
     * Moves elements to/from the first positions of their respective parents.
     * @param {jQuery} $elements Elements (or selector) to move.
     * @param {bool} condition If true, moves elements to the top. Otherwise, moves elements back to their original locations.
     */
    $.prioritize = function($elements, condition) {

        var key = '__prioritize';

        // Expand $elements if it's not already a jQuery object.
            if (typeof $elements != 'jQuery')
                $elements = $($elements);

        // Step through elements.
            $elements.each(function() {

                var $e = $(this), $p,
                    $parent = $e.parent();

                // No parent? Bail.
                    if ($parent.length == 0)
                        return;

                // Not moved? Move it.
                    if (!$e.data(key)) {

                        // Condition is false? Bail.
                            if (!condition)
                                return;

                        // Get placeholder (which will serve as our point of reference for when this element needs to move back).
                            $p = $e.prev();

                            // Couldn't find anything? Means this element's already at the top, so bail.
                                if ($p.length == 0)
                                    return;

                        // Move element to top of parent.
                            $e.prependTo($parent);

                        // Mark element as moved.
                            $e.data(key, $p);

                    }

                // Moved already?
                    else {

                        // Condition is true? Bail.
                            if (condition)
                                return;

                        $p = $e.data(key);

                        // Move element back to its original location (using our placeholder).
                            $e.insertAfter($p);

                        // Unmark element as moved.
                            $e.removeData(key);

                    }

            });

    };

})(jQuery);
/**
    * GENERATED BY FMOD
    * Please do not modify this file directly.
    * Check 'ui.frontend/README.md' for the instructions.
    **/


/******/ (function() { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ 75:
/***/ (function() {

/**
 * Form - Text Field
 *
 * Text field in basic form component
 */

(function ($, _) {
  window.FDX.components.form_dropdown = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '';

    /**
     * Create component instance
     *
     * @public
     * @param {Object} _parent - parent form
     * @return {Object} instance
     */
    function create(_parent) {
      /**
       * @type {Object} parent form
       */
      var parent = _parent;

      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * @type {Object} jQuery DOM input element
       */
      var $input = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {
          id: '',
          type: '',
          key: '',
          title: '',
          order: '',
          required: ''
        };
        config = $.extend({}, defaultConfig, _config);
      }

      /**
       * Get configuration
       *
       * @public
       * @return {Object} configuration key/value pair
       */
      function getConfig() {
        return config;
      }

      /**
       * Bind interactions
       *
       * @private
       */
      function bindInteractions() {
        // validate on change
        $input.on('change', function (event) {
          isValid();
        });

        // start interaction
        $input.on('change', function (event) {
          _parent.startInteraction();
        });
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;
        $input = $root.find('select');

        // bind interactions
        bindInteractions();

        // initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      /**
       * Get field value
       *
       * @public
       * @param {string} format
       * @return {string} field value
       */
      function getValue(format) {
        return $input.val() || '';
      }

      /**
       * Set field value
       *
       * @public
       * @param {string} field value
       */
      function setValue(value) {
        $input.val(value);
      }

      /**
       * Is the field valid
       *
       * @public
       * @return {boolean} returns true if valid
       */
      function isValid() {
        var valid = !config.required || !!$input.val();
        toggleError(!valid, parent.getConfig().msg_required);
        return valid;
      }

      /**
       * Toggle field error status
       *
       * @private
       * @param {boolean} toggle show/hide
       * @param {string} error message
       */
      function toggleError(toggle, error) {
        $root.find('.fxg-form__error').text(error);
        $root.toggleClass('cc-aem-c-form--is-invalid', toggle);
        $root.find('.cc-aem-c-form__message').toggleClass('cc-aem-u-display--none', !toggle);
        if (toggle) parent.trackError('validation', config.id, error);
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        getConfig: getConfig,
        init: init,
        getElement: getElement,
        getValue: getValue,
        setValue: setValue,
        isValid: isValid
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        isValid = jest.fn(isValid);
        toggleError = jest.fn(toggleError);
        instance.$private = function () {
          return {
            isValid: isValid,
            toggleError: toggleError
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();

      // We always create and initialize this component through form component.
      // Therefore this component does not need to be initialized through bootstrap.
      promise.resolve();
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _);

/***/ }),

/***/ 190:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 341:
/***/ (function() {

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
/**
* Tabs component
*/
(function (hash) {
  window.FDX.components.tabs = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '.fxg-tab';
    var TAB_TOGGLE = '.fxg-tab__toggle';
    var TAB_CONTENT = '.fxg-tab__content';
    var TAB_DROPDOWN = '.fxg-tab__dropdown';
    var TAB_BUTTON = '.fxg-tab__dropdown__button';
    var TAB_ACTIVE = 'cmp-tabs__tabpanel--active';
    var ACTIVE_TAB = 'cmp-tabs__tab--active';

    /**
     * @type {string} View Type setting
     */
    var viewType = '';

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    function create() {
      /**
      * @type {Object} configuration
      */
      var config = {};

      /**
       * @type {Object} DOM root element
       */
      var root = null;

      /**
       * @type {Object} Tabs toggle DOM element
       */
      var toggleNode = null;

      /**
       * @type {Object} Tabs content DOM element
       */
      var contentNode = null;

      /**
       * @type {Object} dropdownTab DOM element
       */
      var dropDownTab = null;

      /**
       * @type {Object} dropdownTabButton DOM element
       */
      var dropDownTabButton = null;

      /**
       * @type {Object} Active Tab DOM element
       */
      var activeTab = null;

      /**
       * @type {Object} Active dropdown button DOM element
       */
      var activeButton = null;
      var allButtons = [];
      var allListItems = [];
      var allContentItems = [];

      /**
       * @type {string} Active Tab ID
       */
      var activeTabId = '';

      /**
       * @type {string} Active dropdown label
       */
      var activeTabLabel = '';

      /**
       * @type {string} View Type setting
       */
      var viewType = '';

      /**
        * Set configuration
        *
        * @public
        * @param {Object} _config - key/value pair
        * @return {Object} instance
        */
      var setConfig = function setConfig(_config) {
        var defaultConfig = {};
        config = _objectSpread(_objectSpread({}, defaultConfig), _config);
      };

      /**
       * Toggle Tab active state and the resp. content
       *
       * @private
       */
      function toggleTab(activeTab) {
        if (!allButtons.length || !allListItems.length || !allContentItems.length) return;

        // Reset previous states
        allButtons.forEach(function (button) {
          button.setAttribute('aria-selected', 'false');
          button.setAttribute('aria-expanded', 'false');
          button.setAttribute('tabindex', '-1');
        });

        // Reset all list items
        allListItems.forEach(function (item) {
          return item.classList.remove(ACTIVE_TAB);
        });

        // Reset all content items
        allContentItems.forEach(function (content) {
          content.classList.remove(TAB_ACTIVE);
          content.setAttribute('aria-hidden', 'true');
        });

        // Highlight active Tab
        if (activeTab) {
          var activeTabButton = activeTab.querySelector('button[role="tab"]');
          if (activeTabButton) {
            activeTabButton.setAttribute('aria-selected', 'true');
            activeTabButton.setAttribute('aria-expanded', 'true');
            activeTabButton.setAttribute('tabindex', '0');
          }
          activeTab.classList.add(ACTIVE_TAB);
        }
        if (activeButton) {
          var activeButtonLink = activeButton.querySelector('button[role="tab"]');
          if (activeButtonLink) {
            activeButtonLink.setAttribute('aria-selected', 'true');
            activeButtonLink.setAttribute('aria-expanded', 'true');
          }
        }
        var activeContent = contentNode.querySelector("[data-hash=\"".concat(activeTabId, "\"]"));
        if (activeContent) {
          activeContent.classList.add(TAB_ACTIVE);
          activeContent.setAttribute('aria-hidden', 'false');
        }

        // Tabs as dropdown on mobile mode
        var dropdownTabsTitle = toggleNode.querySelector('.cc-aem-c-dropdown__button__title');
        if (dropdownTabsTitle && activeTabLabel) {
          dropdownTabsTitle.textContent = activeTabLabel;
        }

        // Card viewtype
        var descriptions = toggleNode.querySelectorAll('.fxg-tab__description');
        descriptions.forEach(function (desc) {
          return desc.classList.remove('cc-aem-u-fontweight--bold');
        });
        if (activeTab) {
          var activeDescription = activeTab.querySelector('.fxg-tab__description');
          if (activeDescription) {
            activeDescription.classList.add('cc-aem-u-fontweight--bold');
          }
        }
      }

      /**
       * Toggle Dropdown state
       *
       * @private
       */
      function toggleDropDown() {
        if (!dropDownTabButton) return;
        var expanded = dropDownTabButton.getAttribute('aria-expanded') === 'true' ? 'false' : 'true';
        dropDownTabButton.setAttribute('aria-expanded', expanded);
        var parentElement = dropDownTabButton.parentElement;
        if (parentElement) {
          parentElement.classList.toggle('cc-aem-c-dropdown--is-open');
        }
        var icon = dropDownTabButton.querySelector('.cc-aem-c-icon');
        if (icon) {
          icon.classList.toggle('cc-aem-u-rotate--180');
        }
      }

      /**
        * check whether tab with hash can be found
        *
        * @public
        * @param {string} hashValue hash value
        * @return {Promise} A promise that resolves with valid element when hash is valid
        */
      var checkHash = function checkHash(hashValue) {
        return new Promise(function (resolve) {
          var scrollToTab = hashValue ? toggleNode.querySelector("[data-hash=\"".concat(hashValue, "\"]")) : null;
          if (!scrollToTab) {
            resolve(null);
          } else {
            resolve(scrollToTab);
            setActive(hashValue, false);
          }
        });
      };

      /**
       * Set active Tabs
       * and trigger the toggle functions
       *
       * @private
       * @param {string} tabId hash value
       * @param {boolean} isDropdownEvent flag if triggered by dropdown link
       */
      function setActive(tabId, isDropdownEvent) {
        var _activeTab, _activeTab2, _activeTab3;
        var item = null;
        var activeTabButton = toggleNode.querySelector('.cmp-tabs__tab--active button[role="tab"]');
        if (!tabId && activeTabButton) {
          tabId = activeTabButton.getAttribute('data-hash');
        }
        if (tabId) {
          var key = "[data-hash=\"".concat(tabId, "\"]");
          item = toggleNode.querySelectorAll(key);
        }
        activeTab = item && item[0] ? item[0].parentElement : null;
        activeButton = item && item[1] ? item[1].parentElement : null;
        activeTabId = ((_activeTab = activeTab) === null || _activeTab === void 0 || (_activeTab = _activeTab.querySelector('button[role="tab"]')) === null || _activeTab === void 0 ? void 0 : _activeTab.dataset.hash) || '';
        activeTabLabel = ((_activeTab2 = activeTab) === null || _activeTab2 === void 0 || (_activeTab2 = _activeTab2.querySelector('button[role="tab"]')) === null || _activeTab2 === void 0 ? void 0 : _activeTab2.textContent.trim()) || '';
        toggleTab(activeTab);
        if (!tabId) {
          var firstButton = toggleNode.querySelector('button[role="tab"]');
          if (firstButton) {
            firstButton.setAttribute('tabindex', '0');
          }
        }
        if (isDropdownEvent) {
          toggleDropDown();
        }

        // TODO - check the scenario with FIRE team
        var videoControls = ((_activeTab3 = activeTab) === null || _activeTab3 === void 0 ? void 0 : _activeTab3.querySelectorAll('button.vjs-play-control')) || [];
        videoControls.forEach(function (control) {
          if (control.classList.contains('vjs-playing')) {
            control.click();
          }
        });
      }

      /**
       * scroll to Content Block
       * and trigger the toggle functions
       *
       * @private
       *
       */

      function scrollToContentBlock() {
        contentNode.scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });
      }

      /**
       * Bind interactions events
       *
       * @private
       */
      function bindInteractions() {
        toggleNode.addEventListener('click', function (e) {
          var target = e.target.closest('li');
          if (!target) return;
          e.preventDefault();
          e.stopPropagation();
          var tabButton = target.querySelector('button[role="tab"]');
          if (!tabButton) return;
          var targetId = tabButton.dataset.hash;
          var isDropdownEvent = target.classList.contains('cc-aem-c-dropdown__menu__item');

          // update location hash
          window.location.hash = targetId;
          setActive(targetId, isDropdownEvent);
          if (viewType === "card") scrollToContentBlock();
        });

        // Code to enable keyboard navigation for tablist using arrow keys along with circular navigation
        var tabButtons = root.querySelectorAll('.fxg-tab__list button[role="tab"]');
        tabButtons.forEach(function (button) {
          button.addEventListener('keydown', function (e) {
            var current = e.target;
            var parent = current.parentElement;
            var parentList = current.closest('ul, ol'); // Get the parent <ul> or <ol> element
            var items = Array.from(parentList.children); // Get all child <li> elements

            switch (e.key) {
              case 'ArrowLeft':
              case 'ArrowRight':
                {
                  e.preventDefault();
                  var navigation = e.key === 'ArrowLeft' ? 'previous' : 'next';
                  var adjacentTarget = navigation === 'previous' ? parent.previousElementSibling : parent.nextElementSibling;
                  var _items = current.closest('[role="tablist"]').querySelectorAll('[role="tab"]');
                  var circularTarget = _items[navigation === 'previous' ? _items.length - 1 : 0];
                  var target = adjacentTarget ? adjacentTarget.querySelector('[role="tab"]') : circularTarget;
                  target === null || target === void 0 || target.focus();
                  target === null || target === void 0 || target.click();
                  break;
                }
              case 'ArrowUp':
              case 'ArrowDown':
                e.preventDefault();
                break;
            }
          });
        });
      }

      /**
       * Init Dropdown
       *
       * @private
       */
      function initDropdownTabs() {
        dropDownTab = root.querySelector(TAB_DROPDOWN);
        dropDownTabButton = root.querySelector(TAB_BUTTON);
        if (!dropDownTab) return;

        // register dropdown click
        dropDownTabButton.addEventListener('click', function (event) {
          event.preventDefault();
          event.stopPropagation();
          toggleDropDown();
        });
      }

      /**
        * Initialize component instance
        *
        * @public
        * @param {Object} [_root] component root element (optional)
        * @return {Promise} A promise that resolves when instance is initiated
        */
      function init(_root) {
        return new Promise(function (resolve) {
          root = _root;
          // Handle jQuery object case first
          if (root && root.jquery) {
            root = root[0];
          }
          // Validate if root is a valid DOM element
          if (!root || typeof root.querySelector !== 'function') {
            console.error('Invalid root element provided to tabs.init():', root);
            resolve();
            return;
          }
          // Fetch only direct children
          // This is to avoid Nested children/Tab init and to avoid duplicate events
          toggleNode = root.querySelector(TAB_TOGGLE);
          contentNode = root.querySelector(TAB_CONTENT);
          allButtons = toggleNode.querySelectorAll('button[role="tab"]');
          allListItems = toggleNode.querySelectorAll('li');
          allContentItems = contentNode.querySelectorAll(':scope > [data-hash]');
          // bind interactions
          bindInteractions();
          var hashValue = window.location.hash.slice(1);
          if (hashValue === '') setActive();
          initDropdownTabs();

          //set rendered variables
          viewType = root.dataset.viewType;

          // initialized
          root.dataset.initialized = 'true';
          resolve();
        });
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} DOM element
       */
      var getElement = function getElement() {
        return root;
      };

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        checkHash: checkHash,
        getElement: getElement
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        var _toggleTab = jest.fn(toggleTab);
        var _setActive = jest.fn(setActive);
        var _toggleDropDown = jest.fn(toggleDropDown);
        var _checkHash = jest.fn(checkHash);
        instance.$private = function () {
          return {
            toggleTab: _toggleTab,
            setActive: _setActive,
            toggleDropDown: _toggleDropDown,
            checkHash: _checkHash
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    var createInstances = function createInstances() {
      return new Promise(function (resolve) {
        var initPromises = [];

        // find all related elements
        document.querySelectorAll(selector).forEach(function (element) {
          // skip already initialized elements
          if (element.dataset.initialized) return;

          // create instance
          var instance = window.FDX.components.tabs.create();

          // initialize instance
          var initPromise = instance.init(element);
          initPromises.push(initPromise);

          //set rendered variables
          viewType = instance.getElement().dataset.viewType;
        });
        if (initPromises.length) {
          // resolve after all inits
          Promise.all(initPromises).then(function () {
            hash.initHash();
            resolve();
          })["catch"](function (error) {
            console.error('Error initializing tabs:', error);
            // to prevent blocking other components
            resolve();
          });
        }
      });
    };

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(FDX.services.hash);

// TABS TARGET IMPLEMENTATION
document.addEventListener('DOMContentLoaded', function () {
  document.addEventListener('readystatechange', function () {
    try {
      var isTargetEnabled = typeof adobe !== 'undefined' && typeof adobe.target !== 'undefined' && typeof adobe.target.VERSION !== 'undefined';
      if (isTargetEnabled) {
        var tabElements = document.querySelectorAll('.at-element-marker');
        tabElements.forEach(function (marker) {
          var siblingTabs = marker.parentElement.querySelectorAll('.root.responsivegrid ' + FDX.components.tabs.selector);
          if (siblingTabs.length > 0) {
            FDX.components.tabs.createInstances();
          }
        });
      }
    } catch (err) {
      console.error(err);
    }
  });
});

/***/ }),

/***/ 375:
/***/ (function() {

/**
 * Drawer
 */

(function ($, _) {
  window.FDX.components.drawer = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];
    /**
    * @type {string} root selector
    */
    var selector = '.fxg-drawer';

    /**
     * @type {string} root selector
     */
    var drawerClass = '.fxg-drawer';

    /**
     * @type {string} root selector
     */
    var drawerButtonClass = 'fxg-drawer__button';

    /**
    * @type {string} root selector
    */
    var drawerContentClass = 'fxg-drawer__content';

    /**
    * @type {string} root selector
    */
    var drawerOpenClass = 'fxg-drawer--open';

    /**
    * @type {string} root selector
    */
    var drawerCloseButtonClass = 'fxg-drawer__close-button';

    /**
    * @type {string} root selector
    */
    var kalturaVideoPlayControlClass = '.mwPlayerContainer .controlBarContainer .controlsContainer button.playPauseBtn';
    var link = '';
    var data = '';
    var image_location = '';
    $(function () {
      $('.' + FDX.components.drawer.drawerButtonClass).on('click', function (event) {
        event.preventDefault();
        FDX.components.drawer.toggleDrawer(this, image_location);
      });
      $('.' + FDX.components.drawer.drawerCloseButtonClass).bind("click", function () {
        $(this).closest('.fxg-drawer').css('background-image', 'none');
        var stage1BGClr = $(this).closest(".fxg-drawer").attr('data-color');
        if (stage1BGClr == 'default' || stage1BGClr == '') {
          $(this).closest(".fxg-drawer").css('background-color', '');
        } else {
          $(this).closest(".fxg-drawer").css('background-color', stage1BGClr);
        }
        $(this).closest('.fxg-drawer').find('.fxg-drawer-layout-one').hide();
        $(this).siblings('div.fxg-drawer__title-wrapper').children('a.fxg-drawer__button').trigger('focus');
      });
      $('.' + FDX.components.drawer.drawerCloseButtonClass).on('click keydown', function (e) {
        if (e.type === 'keydown') {
          return;
        }
        e.preventDefault();
        //stop playing video when click on close button
        var iFrameContent = $(this).prev().find('.kWidgetIframeContainer.mavice-kp-player iframe').contents(),
          playPauseBtn = iFrameContent.find(FDX.components.drawer.kalturaVideoPlayControlClass);
        if (playPauseBtn.hasClass('icon-pause')) {
          playPauseBtn.trigger('click');
        }
        FDX.components.drawer.toggleDrawer(this, image_location);
      });
    });

    /**
    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    function create() {
      /**
        * @type {Object} configuration
        */
      var config = {};
      /**
      * @type {Object} jQuery DOM root element
      */
      var $root = null;
      function setConfig(_config) {
        var defaultConfig = {};
        config = $.extend({}, defaultConfig, _config);
      }
      ;
      /**
        * Render HTML
        *
        * @private
        * @return {Promise<string>} A promise that resolves with rendered HTML
        */
      function render() {}

      /**
        * Bind interactions events
        *
        * @private
        */
      function bindInteractions() {
        /*Changes to drawer video component*/
        var image_location = '';
        if ($('.fxg-drawer').length == 0) {
          image_location = '';
        } else {
          var fxg_drawerClass = document.getElementsByClassName('fxg-drawer');
          image_location = fxg_drawerClass[0].style.backgroundImage;
          if (!$('.fxg-drawer').hasClass(FDX.components.drawer.drawerOpenClass)) {
            $('.fxg-drawer').css('background-image', 'none');
          } else {
            $('.fxg-drawer').css('background-image', image_location);
            //  $(this).closest(".fxg-drawer").css('background-color',$(this).closest(".fxg-drawer-layout-one").css('background-color'));
          }
        }
      }
      ;

      /**
        * Initialize component instance
        *
        * @public
        * @param {Object} [_$root] compnent root element (optional)
        * @return {Promise} A promise that resolves when instance is initiated
        */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;
        // drawer functions
        titleFirst_drawer();

        // bind interaction events
        bindInteractions();
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        titleFirst_drawer: titleFirst_drawer,
        toggleDrawer: toggleDrawer,
        getElement: getElement
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        titleFirst_drawer = jest.fn(titleFirst_drawer);
        toggleDrawer = jest.fn(toggleDrawer);
        bindInteractions = jest.fn(bindInteractions);
        instance.$private = function () {
          return {
            $root: $root,
            selector: selector,
            toggleDrawer: toggleDrawer,
            titleFirst_drawer: titleFirst_drawer,
            bindInteractions: bindInteractions
          };
        };
      }
      instances.push(instance);
      return instance;
    }
    function titleFirst_drawer(imgFirst, titleFirst) {
      var $drawer = $(link).closest('.' + FDX.components.drawer.drawerClass);
      if (imgFirst) {
        //if decorative img on left
        var titleContainer = $drawer.find('.fxg-drawer-offer').find('.fxg-drawer__detail');
        var title = $(titleContainer).children(":first");
        $(title).attr('aria-live', 'polite');
        setTimeout(function () {
          var titleVal = $(title).text();
          $(title).html(titleVal);
        }, 500);
        setTimeout(function () {
          $(title).trigger('focus');
          $(title).removeAttr('aria-live');
        }, 1000);
      } else if (titleFirst) {
        //if title on left
        var title = $(titleFirst).children(":first");
        $(title).attr('aria-live', 'polite');
        setTimeout(function () {
          var titleVal = $(title).text();
          $(title).html(titleVal);
        }, 500);
        setTimeout(function () {
          $(title).trigger('focus');
          $(title).removeAttr('aria-live');
        }, 1000);
      }
    }

    /**
    * toggleDrawer
    *
    * @public
    */
    function toggleDrawer(link, loc) {
      var $drawer = $(link).closest(FDX.components.drawer.drawerClass);
      var imagePath = loc;
      $drawer.toggleClass(FDX.components.drawer.drawerOpenClass, function () {
        if ($drawer.hasClass(FDX.components.drawer.drawerOpenClass)) {
          // send focus to the first child
          var imgFirst = $drawer.find('.fxg-drawer-offer').children(":first").hasClass('fxg-drawer__detail-image') ? $drawer.find('.fxg-drawer-offer').children(":first") : false;
          var titleFirst = $drawer.find('.fxg-drawer-offer').children(":first").hasClass('fxg-drawer__detail') ? $drawer.find('.fxg-drawer-offer').children(":first") : false;
          if (imgFirst) {
            //if img is on left
            $(imgFirst).attr('aria-live', 'polite');
            var imgEleDrawer = $drawer.find('.fxg-drawer__detail-image').children(":first");
            var altVal = $(imgEleDrawer).attr('alt');
            if (altVal) {
              //if img is non-decorative
              $(imgEleDrawer).trigger('focus');
              setTimeout(function () {
                $(imgEleDrawer).attr('aria-label', altVal + '.');
              }, 500);
              setTimeout(function () {
                $(imgFirst).removeAttr('aria-live');
                $(imgEleDrawer).removeAttr('aria-label');
              }, 1000);
            } else {
              //if img is decorative
              FDX.components.drawer.titleFirst_drawer(imgFirst, titleFirst);
            }
          } else if (titleFirst) {
            //if title is on left
            FDX.components.drawer.titleFirst_drawer(imgFirst, titleFirst);
          }
          $drawer.css('background-image', imagePath);
          $drawer.css('background-color', $drawer.find(".fxg-drawer-layout-one").css('background-color'));
          $drawer.find('.fxg-drawer-layout-one').show('slow');
          if ($(this).css("display") == "inline" || $(this).css("display") == "none") return;
        }
      });
    }

    /**
    * Create instances
    *
    * @public
    * @return {Promise} A promise that resolves when all instances are initiated
    */
    function createInstances() {
      var promise = $.Deferred();
      var initPromises = [];

      // find all related elements
      $(".fxg-drawer").each(function () {
        // skip already initialized elements
        var $element = $(this);
        if ($element.data('initialized')) return;

        // create instance
        var instance = window.FDX.components.drawer.create();

        // initialize instance
        var initPromise = instance.init($element);
        initPromises.push(initPromise);
      });

      // resolve after all inits
      $.when.apply($, initPromises).then(function () {
        promise.resolve();
      });
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      drawerClass: drawerClass,
      drawerContentClass: drawerContentClass,
      drawerOpenClass: drawerOpenClass,
      drawerCloseButtonClass: drawerCloseButtonClass,
      kalturaVideoPlayControlClass: kalturaVideoPlayControlClass,
      drawerButtonClass: drawerButtonClass,
      toggleDrawer: toggleDrawer,
      titleFirst_drawer: titleFirst_drawer
    };
  }();
})(jQuery, _);

/***/ }),

/***/ 402:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 424:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 459:
/***/ (function() {

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
(function () {
  window.FDX = window.FDX || {};
  window.FDX.components = window.FDX.components || {};
  window.FDX.components.image = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];
    var imageSelector = {
      /**
       * @type {string} root selector
       */
      selector: '.fxg-image-component__image',
      /**
        * @type {string} root selector
        */
      imageComponentClass: 'fxg-image-component__image',
      /**
       * @type {string} root selector
       */
      imageClass: 'fxg-img',
      /**
       * @type {string} root selector
       */
      imageCaptionClass: 'fxg-image-component__caption'
    };

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    var create = function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {HTMLElement} DOM root element
       */
      var rootElement = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      var setConfig = function setConfig(_config) {
        var defaultConfig = {};
        config = _objectSpread(_objectSpread({}, defaultConfig), _config);
      };
      var setImageCaptionWidth = function setImageCaptionWidth() {
        var imageCaption = document.querySelector(".".concat(imageSelector.imageCaptionClass));
        if (imageCaption) {
          var _imageCaption$parentE;
          var imageComponent = (_imageCaption$parentE = imageCaption.parentElement) === null || _imageCaption$parentE === void 0 ? void 0 : _imageCaption$parentE.querySelector(".".concat(imageSelector.imageComponentClass));
          var image = imageComponent === null || imageComponent === void 0 ? void 0 : imageComponent.querySelector(".".concat(imageSelector.imageClass));
          if (image) {
            var width = image.offsetWidth;
            imageCaption.style.width = "inherit";
          }
        }
      };

      /**
       * Bind interactions events
       *
       * @private
       */
      var bindInteractions = function bindInteractions() {
        setImageCaptionWidth();
        window.addEventListener('resize', function () {
          setImageCaptionWidth();
        });
      };

      /**
       * Initialize component instance
       *
       * @public
       * @param {HTMLElement} [_rootElement] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      var init = function init(_rootElement) {
        return new Promise(function (resolve) {
          rootElement = _rootElement;

          // bind interactions
          bindInteractions();

          // initialized
          if (rootElement && rootElement.dataset) {
            rootElement.dataset.initialized = 'true';
          }
          resolve();
        });
      };

      // add and return instance

      var instance = {
        setConfig: setConfig,
        init: init,
        setImageCaptionWidth: setImageCaptionWidth
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        bindInteractions = jest.fn(bindInteractions);
        setImageCaptionWidth = jest.fn(setImageCaptionWidth);
        instance.$private = function () {
          return {
            bindInteractions: bindInteractions,
            setImageCaptionWidth: setImageCaptionWidth
          };
        };
      }
      instances.push(instance);
      return instance;
    };

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    var createInstances = function createInstances() {
      return new Promise(function (resolve) {
        var initPromises = [];

        // find all related elements
        var elements = document.querySelectorAll(imageSelector.selector);
        elements.forEach(function (element) {
          // skip already initialized elements
          if (element.dataset.initialized) return;

          // create instance
          var instance = window.FDX.components.image.create();

          // initialize instance
          var initPromise = instance.init(element);
          initPromises.push(initPromise);
        });

        // resolve after all inits
        Promise.all(initPromises).then(function () {
          resolve();
        });
      });
    };

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: imageSelector.selector,
      imageComponentClass: imageSelector.imageComponentClass,
      imageClass: imageSelector.imageClass,
      imageCaptionClass: imageSelector.imageCaptionClass
    };
  }();
})();

/***/ }),

/***/ 551:
/***/ (function() {

/**
 * ICON
 *
 * This component is created for demonstration purpose
 */

window.FDX = window.FDX || {};
window.FDX.components = window.FDX.components || {};
window.FDX.components.icon = function () {
  /**
   * @type {Object[]} list of instances
   */
  var instances = [];

  /**
   * @type {string} root selector
   */
  var selector = '.fxg-icon';

  /**
   * @type {string} root selector
   */

  var customIconClass = '.fxg-icon--custom';

  /**
   * Create component instance
   *
   * @public
   *
   * @return {Object} instance
   */
  var create = function create() {
    /**
     * @type {Object} configuration
     */
    var config = {};

    /**
     * @type {Object}  
     */
    var root = null;

    /**
     * Set configuration
     *
     * @public
     * @param {Object} _config - key/value pair
     * @return {Object} instance
     */
    var setConfig = function setConfig(_config) {
      instance.config = _config;
      return instance;
    };

    /**
     * Initialize component instance
     *
     * @public
     * @param {Object} [_root] component root element (optional)
     * @return {Promise} A promise that resolves when instance is initiated
     */
    var init = function init(_root) {
      if (!_root || typeof _root.setAttribute !== 'function') {
        return Promise.reject(new Error('Invalid or missing root element provided to icon.init'));
      }
      root = _root;
      return new Promise(function (resolve) {
        var elements = document.querySelectorAll(selector + customIconClass);
        elements.forEach(function (el) {
          var style = window.getComputedStyle(el);
          var imagePath = style.backgroundImage;
          if (imagePath && imagePath.indexOf('.svg') !== -1) {
            el.setAttribute('role', 'presentation');
          }
        });
        root.setAttribute('data-initialized', 'true');
        resolve();
      });
    };

    /**
     * Get component element
     *
     * @public
    * @return {Object} 
    */
    var getElement = function getElement() {
      return root;
    };
    var instance = {
      setConfig: setConfig,
      init: init,
      getElement: getElement
    };
    instances.push(instance);
    return instance;
  };

  /**
   * Create instances
   *
   * @public
   * @return {Promise} A promise that resolves when all instances are initiated
   */
  var createInstances = function createInstances() {
    var initPromises = [];
    var elements = document.querySelectorAll(selector);
    elements.forEach(function (element) {
      if (element.getAttribute('data-initialized')) return;
      var instance = window.FDX.components.icon.create();
      var initPromise = instance.init(element);
      initPromises.push(initPromise);
    });
    return Promise.all(initPromises);
  };
  return {
    create: create,
    instances: instances,
    createInstances: createInstances,
    selector: selector
  };
}();

/***/ }),

/***/ 568:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 606:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 675:
/***/ (function() {

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
/**
 * FEDEX SEARCH
 *
 * A component that redirects users to the configured (search) page
 */

(function () {
  window.FDX.components.searchbar = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '.fxg-searchbar';
    var SETTINGS = {
      component: 'searchbar'
    };
    var SELECTORS = {
      inputField: "js-".concat(SETTINGS.component, "-input"),
      form: "js-".concat(SETTINGS.component, "-form")
    };

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    var create = function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {HTMLElement} DOM root element
       */
      var root = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      var setConfig = function setConfig(_config) {
        var defaultConfig = {};
        config = _objectSpread(_objectSpread({}, defaultConfig), _config);
      };

      /**
       * Initialize component instance
       *
       * @public
       * @param {HTMLElement} [_root] - component root element (optional)
       * @return {Promise} - A promise that resolves when instance is initiated
       */
      var init = function init(_root) {
        return new Promise(function (resolve) {
          // Ensure root is a plain DOM element
          root = _root instanceof jQuery ? _root.get(0) : _root;
          var element = root;

          //////////////////////////////////////
          //////// START SEARCHBAR LOGIC ///////
          //////////////////////////////////////

          // For GDL Form tracking
          var firstChange = true;
          var inputField = element.querySelector(".".concat(SELECTORS.inputField));
          var form = element.querySelector(".".concat(SELECTORS.form));
          var searchbarType = form.dataset.searchbarType;
          inputField.addEventListener('keyup', function (event) {
            handleFieldKeyup(event);
          });
          form.addEventListener('submit', function (event) {
            handleSubmit(event);
          });

          /**
           * Handle Field Key Up
           * Search field type action tracing, updates search query in GDL
           *
           * @param {Object} event
           */
          var handleFieldKeyup = function handleFieldKeyup(event) {
            var searchQuery = event.target.value;

            // Fire GDL events
            if (firstChange) {
              // Mark first change
              firstChange = false;
              fireFormInteraction('start-interaction', SETTINGS.component, {
                query: searchQuery
              });
            } else {
              // Only update if query is longer than 2 characters
              if (searchQuery.length < 3) return;
              // The update-data event doesn't fire a request but is saved in the session
              // it's only sent on submit or exit
              fireFormInteraction('update-data', SETTINGS.component, {
                query: searchQuery
              });
            }
          };

          /**
           * Handle Submit
           * Search form submit tracking through GDL
           *
           * @param {Object} event - Submit event object
           */
          var handleSubmit = function handleSubmit() {
            fireFormInteraction('submit', SETTINGS.component);
          };

          /**
           * Fire Form Interaction
           * Fires GDL form events
           *
           * Docs: https://gdl-master.devapp.paas.fedex.com/testbed.form.html
           *
           * @param {string} eventName - Name of the GDL event
           * @param {string} formName - Name of the form
           * @param {Object} data - The data to be sent to GDL
           */
          var fireFormInteraction = function fireFormInteraction(eventName, formName, data) {
            // Only fire if GDL is available
            if (_typeof(window.FDX.GDL) !== 'object') return;
            window.FDX.GDL.push(['event:publish', ['form', eventName, _objectSpread({
              name: formName,
              componentType: searchbarType
            }, data && {
              data: data
            })]]);
          };

          // Mock functions for Jest
          if (typeof jest !== 'undefined') {
            fireFormInteraction = jest.fn(fireFormInteraction);
            handleFieldKeyup = jest.fn(handleFieldKeyup);
            handleSubmit = jest.fn(handleSubmit);
            instance.$private = function () {
              return {
                fireFormInteraction: fireFormInteraction,
                handleFieldKeyup: handleFieldKeyup,
                handleSubmit: handleSubmit
              };
            };
          }

          /////////////////////////////////
          ////// END SEARCHBAR LOGIC ///////
          /////////////////////////////////

          // Initialized
          root.dataset.initialized = true;
          resolve();
        });
      };

      /**
       * Get component element
       *
       * @public
       * @return {HTMLElement} DOM element
       */
      var getElement = function getElement() {
        return root;
      };

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement
      };
      instances.push(instance);
      return instance;
    };

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    var createInstances = function createInstances() {
      var promise = new Promise(function (resolve) {
        var initPromises = [];

        // find all related elements
        document.querySelectorAll(selector).forEach(function (element) {
          // skip already initialized elements
          if (element.dataset.initialized) return;

          // create instance
          var instance = window.FDX.components.searchbar.create();

          // Set configuration
          var configElement = element.querySelector('[data-config="js-searchbar-config"]');
          if (configElement) {
            try {
              var config = JSON.parse(configElement.textContent.trim());
              instance.setConfig(config);
            } catch (error) {
              console.error('Failed to parse searchbar config JSON:', error);
            }
          }

          // initialize instance
          var initPromise = instance.init(element);
          initPromises.push(initPromise);
        });

        // resolve after all inits
        Promise.all(initPromises).then(function () {
          resolve();
        });
      });
      return promise;
    };

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})();

/***/ }),

/***/ 763:
/***/ (function() {

/**
 * Adaptive Form
 *
 * Adaptive form container responsible for loading and submitting form created by AAF editor
 */

(function ($, _, $components, $fetch, $analytics, $utils) {
  window.FDX.components.aaf = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '.fxg-adaptiveform';

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * @type {Object[]} list of fields
       */
      var fields = [];

      /**
       * @type {Object} jQuery DOM loader element
       */
      var $loader = null;

      /**
       * @type {Object} jQuery DOM loader element
       */
      var $form = null;

      /**
       * @type {Object} jQuery DOM success notification element
       */
      var $successNotification = null;

      /**
       * @type {Object} jQuery DOM error notification element
       */
      var $errorNotification = null;

      /**
       * @type {Object} jQuery DOM default loader element
       */
      var $defaultLoaderText = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {
          formId: '',
          analytics: '',
          formPath: '',
          thankyouConfig: '',
          thankyouPage: '',
          failureConfig: '',
          failurePage: '',
          placeholders: '{}'
        };
        config = $.extend({}, defaultConfig, _config);
      }
      ;

      /**
       * Render HTML
       *
       * @private
       * @return {Promise<string>} A promise that resolves with rendered HTML
       */
      function render() {}

      /**
       * Bind interactions events
       *
       * @private
       */
      function bindInteractions() {
        // start-interaction event
        var startInteractionTriggered = false;
        function startInteraction() {
          // trigger only once
          if (startInteractionTriggered) return false;
          $analytics.push({
            gdl: {
              category: 'form',
              eventName: 'start-interaction',
              params: {
                name: config.analytics
              }
            }
          });
          startInteractionTriggered = true;
        }

        // bind once for "keyup" event of input fields
        $root.one('keyup', 'input[type="text"], input[type="email"], input[type="tel"], input[type="date"], textarea', startInteraction);

        // use guideBridge to detect changes in radios, checkboxes, dropdowns and datepickers
        guideBridge.on('elementValueChanged', startInteraction);
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;
        $loader = $root.find('.fxg-adaptiveform__loader');
        $successNotification = $root.find('.fxg-adaptiveform__notification--success');
        $errorNotification = $root.find('.fxg-adaptiveform__notification--error');

        // load form
        loadForm().then(function () {
          //  GDL VIEW EVENT
          var payload = {
            gdl: {
              category: 'form',
              eventName: 'view',
              params: {
                name: config.analytics,
                componentType: 'adaptiveform'
              }
            }
          };
          $analytics.push(payload);

          // initialized
          $root.data('initialized', true);
          promise.resolve();
        }, function (error) {
          console.error(error);
          promise.reject(error);
        });
        return promise;
      }
      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      /**
       * Trigger GDL error event for every field validation failure,
       *
       * @private
       * @param {Object} payload object containing array list with error messages
       */
      function handleValidationComplete(payload) {
        $loader[0].hidden = true;
        payload.newText.forEach(function (error) {
          var _field;
          // GDL event for Error validation
          // DTM event is not required for error validation event
          var detailedName = error.som || '';
          var field = _.split(detailedName, '.');
          var source = (_field = field[field.length - 1]) === null || _field === void 0 ? void 0 : _field.replace('[0]', '');
          var payload = {
            gdl: {
              category: 'error',
              eventName: 'error',
              params: {
                'type': 'validation',
                'source': source,
                'message': error.errorText
              }
            }
          };
          $analytics.push(payload);
        });
      }

      /**
       * Load form
       *
       * @private
       */
      function loadForm() {
        var promise = $.Deferred();

        // reject if path is empty
        var path = config.formPath;
        if (!path) {
          promise.reject('Form path is not configured!');
          return promise;
        }

        // fetch form
        $fetch.ajax(path, '', {
          'dataType': 'html'
        }).then(function (data) {
          var response = data || '';
          if (response) {
            // interpolate placeholders
            response = interpolatePlaceholders(response);

            // remove unnecessary head tags
            var $afDOM = $('<div/>').append(response);
            $afDOM.find('title').remove();
            $afDOM.find('meta').remove();

            // Fix added for AAF layout to be aligned with the main layout
            var $container = $afDOM.find('.guideContainerWrapperNode');
            $container.removeClass('container');

            // to avoid CSS issues, we have to make sure we delete all the default AAF style sheets
            // except "_jcr_content.inline.css" - a style config's by Authors
            $afDOM.find('link[rel=stylesheet]:not(link[href*="_jcr_content.inline"])').remove();

            // remove Akamai bot manager script that potentially causes error
            // Akamai script already gets injected in parent page
            $afDOM.find('script[src*="akam"]').remove();

            // Fix following OOTB issues:
            // - it overwrites the dropdown DOM, which clears our commoncore formatting
            // - it shows alerts for incorrect file size / mime type while we already take care of that in aaf-fileupload
            $afDOM.find('script[src*="widgets"]').append($("\n                <script>\n                    $.xfaWidget.dropDownList.prototype.render = function () {\n                        return this.element.children().eq(0);\n                    }   \n                    $.fn.adobeFileAttachment = function (option, value) {}\n                </script>\n            "));

            // update the DOM, and evaluates the code embedded in the script tag.
            $root.append($afDOM);

            // pass placeholders as a hidden field
            var placeholdersEncoded = JSON.stringify(config.placeholders);
            var $actionField = $root.find('form').find('#actionField');
            $('<input>').attr('type', 'hidden').attr('name', 'placeholders').attr('value', placeholdersEncoded).appendTo($actionField);

            // init form
            initForm();
          }
          promise.resolve();
        }, function (error) {
          console.error(error);
          promise.reject(error);
        });
        return promise;
      }

      /**
       * Interpolate the placeholders using the configurations
       *
       * @param {string} html - The AAF HTML to be interpolated
       * @return {string} The interpolated AAF HTML with placeholder values.
       */
      function interpolatePlaceholders(html) {
        // parse placeholders json
        var decoded = decodeURIComponent(config.placeholders) || '{}';
        var placeholders = JSON.parse(decoded);

        // lets replace ${...} to $[...] prevent conflict with our placeholders
        html = html.replace(/\$\{(\s*[a-zA-Z0-9_.-]+?\s*)\}/g, function (match, key) {
          return '$[' + key + ']';
        });

        // interpolate placeholders in multiple iterations
        var interpolated = '';
        var lastInterpolated = html;
        var continueInterpolating = true;
        var loopSafe = 10;

        // replace placeholder regex-pattern that excludes Author validations
        var interpolateRegex = /(\bvalidatePictureClause\b.*?\"\,)|\{\s*([a-zA-Z0-9_.-]+?)\s*\}/g;
        while (continueInterpolating) {
          // interpolate placeholders everywhere with format {placeholder}
          interpolated = lastInterpolated.replace(interpolateRegex, function (match, validation, key) {
            return validation || placeholders[key] || key;
          });

          // Continue interpolating ?
          loopSafe--;
          continueInterpolating = (!lastInterpolated || interpolated !== lastInterpolated) && loopSafe > 0;
          lastInterpolated = interpolated;
        }

        // lets replace $[...] back to ${...}
        interpolated = interpolated.replace(/\$\[(\s*[a-zA-Z0-9_.-]+?\s*)\]/g, function (match, key) {
          return '${' + key + '}';
        });
        return interpolated;
      }

      /**
       * Create and initialize field instances
       *
       * @public
       * @return {Object[]} initialized fields
       */
      function initFields() {
        // scan form for fields
        var parent = FDX.components.aaf.instances[FDX.components.aaf.instances.length - 1];
        $root.find('[data-type]').each(function (index) {
          // look up field component
          var $element = $(this);
          var eleConfig = $element.data();
          eleConfig.index = index;
          eleConfig.analytics = config.analytics;
          var component = $components['aaf_' + eleConfig.type];

          // skip non existing component types AND components that have already been defined
          if (!component) return;

          // create and initialize field
          var field = component.create(parent);
          field.setConfig(eleConfig);
          field.init($element);
          fields.push(field);
        });
      }

      /**
       * Init form
       *
       * @private
       */
      function initForm() {
        // Check if GUIDE API is Available
        if (!window.guideBridge) {
          console.error('Guide API is not available to carry out form submit actions');
          return;
        }

        // set form id
        $form = $root.find('form');
        $form.attr('id', config.formId);

        // create and initialize field instances
        initFields();
        initFocus();
        setDisabled();
        bindInteractions();

        // toggle CC validation class on validation
        guideBridge.on('elementValidationStatusChanged', function (event, payload) {
          var name = payload.jsonModel.target.name;
          var isValid = payload.jsonModel.target.isValid;

          // fileAttachment case: Here target is "guideCompositeFieldItem", so to validate
          // the required scenario, we need to know the actual fileAttachment field name and value
          if (payload.jsonModel.target.name === 'fileAttachment') {
            name = payload.jsonModel.target.parent.name;
            isValid = !!payload.jsonModel.target.parent.fileAttachment.value;
          }
          var $ccForm = $(".".concat(name, " .cc-aem-c-form"));
          $ccForm.toggleClass('cc-aem-c-form--is-invalid', !isValid);
          var $error = $(".".concat(name, " .fxg-form__error"));
          if ($error[0]) $error[0].hidden = isValid;
        });

        // toggle tooltip
        $root.find('.fxg-adaptiveform__tooltip-btn').on('click', function (event) {
          event.preventDefault();
          var toolTip = $(this).siblings('.fxg-adaptiveform__tooltip-content')[0] || $(this).closest('.fxg-adaptiveform__tooltip-content')[0];
          if (!toolTip) return;
          toolTip.hidden = !toolTip.hidden;
        });

        // trigger GDL error event for every field validation failure
        guideBridge.on('validationComplete', function (event, payload) {
          if (!payload.prevText && payload.newText.length) {
            handleValidationComplete(payload);
          }
        });

        // Submit form
        $form.on('submit', function (event) {
          event.preventDefault();
          submit();
        });
      }

      /**
       * Set Disabled state for readonly input elements
       *
       * @private
       */
      function setDisabled() {
        $root.find('input[readonly="readOnly"], textarea[readonly="readOnly"]').each(function () {
          this.disabled = true;
        });
      }

      /**
       * Set ADA compliant Focus ring to Radio and Checkbox elements
       *
       * @private
       */
      function initFocus() {
        var $checkboxRadioElements = $root.find('.guideCheckBoxItem input, .guideRadioButtonItem input, .guide-tnc-checkboxwidget input');
        $($checkboxRadioElements).on('blur', function (e) {
          $root.find('.is-focused').removeClass('is-focused');
        });
        $($checkboxRadioElements).on('focus', function (e) {
          $(this).parent().parent().find('.guideWidgetLabel').addClass('is-focused');
        });
      }

      /**
       * Redirect to Thankyou or failure page
       *
       * @private
       * @param {string} option thankyou or failure option
       * @param {string} pageUrl thankyou or or failure page url
       */
      function redirect(option, pageUrl) {
        if (option === 'page' && pageUrl) {
          window.location.assign(pageUrl);
        }
      }

      /**
       * Submit form
       *
       * @private
       */
      function submit() {
        // Hide default load, success and error text elements
        $defaultLoaderText = $root.find('#loadingPage');
        if ($defaultLoaderText[0]) $defaultLoaderText[0].hidden = true;
        $successNotification[0].hidden = true;
        $errorNotification[0].hidden = true;
        $loader[0].hidden = false;
        _.each(fields, function (instance) {
          var config = instance.getConfig();
          if (config.type === 'fileupload') {
            instance.attachFiles();
          }
        });
        guideBridge.submit({
          validate: true,
          error: function error(guideResultObject) {
            var _guideBridge$_guideVi;
            $loader[0].hidden = true;

            // show and scroll to notification message
            if (config.failureConfig === 'message') {
              $successNotification[0].hidden = true;
              $errorNotification[0].hidden = false;
              var y = $errorNotification.offset().top - FDX.components.header.height - 20;
              window.scrollTo({
                top: y,
                behavior: 'instant'
              });
            }

            // fetch the actionype from guideBridge API
            var actionType = ((_guideBridge$_guideVi = guideBridge._guideView) === null || _guideBridge$_guideVi === void 0 || (_guideBridge$_guideVi = _guideBridge$_guideVi._model) === null || _guideBridge$_guideVi === void 0 ? void 0 : _guideBridge$_guideVi.jsonModel['actionType']) || '';
            var message = $errorNotification.text().trim() || '';

            // GDL & DTM ERROR (Form Fail error)
            var payload = {
              gdl: {
                category: 'error',
                eventName: 'error',
                params: {
                  'type': 'server',
                  'source': actionType,
                  'message': message
                }
              },
              dtm: {
                type: 'button',
                event: '',
                analyticsText: 'form:fail:' + config.analytics,
                target: 'samePage'
              }
            };
            $analytics.push(payload);

            // redirect to failure page
            redirect(config.failureConfig, config.failurePage);
          },
          success: function success(guideResult) {
            $form.hide();
            $loader[0].hidden = true;

            // show and scroll to notification message
            if (config.thankyouConfig === 'message') {
              $successNotification[0].hidden = false;
              $errorNotification[0].hidden = true;
              var y = $successNotification.offset().top - FDX.components.header.height - 20;
              window.scrollTo({
                top: y,
                behavior: 'instant'
              });
            }

            //  GDL & DTM Submit event
            var payload = {
              gdl: {
                category: 'form',
                eventName: 'submit',
                params: {
                  'name': config.analytics
                }
              },
              dtm: {
                type: 'button',
                event: '',
                analyticsText: 'form:submit:' + config.analytics,
                target: 'samePage'
              }
            };
            $analytics.push(payload);

            // redirect to thank you page
            redirect(config.thankyouConfig, config.thankyouPage);
          }
        });
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement,
        initFields: initFields
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        loadForm = jest.fn(loadForm);
        handleValidationComplete = jest.fn(handleValidationComplete);
        redirect = jest.fn(redirect);
        submit = jest.fn(submit);
        initFields = jest.fn(initFields);
        instance.$private = function () {
          return {
            loadForm: loadForm,
            handleValidationComplete: handleValidationComplete,
            redirect: redirect,
            submit: submit,
            initFields: initFields,
            fields: fields
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();
      var initPromises = [];

      // find all related elements
      $(selector).each(function () {
        // skip already initialized elements
        var $element = $(this);
        if ($element.data('initialized')) return;

        // create instance
        var instance = window.FDX.components.aaf.create();

        // set configuration
        var $config = $('[data-config="js-adaptiveform-config"]', $element);
        if ($config.length) {
          instance.setConfig(JSON.parse($config.html().trim()));
        }

        // initialize instance
        var initPromise = instance.init($element);
        initPromises.push(initPromise);
      });

      // resolve after all inits
      $.when.apply($, initPromises).then(function () {
        promise.resolve();
      });
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _, FDX.components, FDX.services.fetch, FDX.services.analytics, FDX.services.utils);

/***/ }),

/***/ 775:
/***/ (function() {

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
(function () {
  window.FDX.components.utilitynav = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];
    var utilityNavSelectors = {
      /**
       * @type {string} root selector
       */
      selector: '.fxg-user-options',
      /**
        * @type {string} root selector
        */
      searchClass: 'fxg-user-options__search',
      /**
       * @type {string} root selector
       */
      searchBtnClass: 'fxg-user-options__search-btn',
      /**
       * @type {string} root selector
       */
      headerOpenClass: 'fxg-header--search-open',
      /**
      * @type {string} root selector
      */
      headerCloseClass: 'fxg-header--search-close',
      /**
      * @type {string} root selector
      */
      searchBoxClass: 'fxg-search-js',
      /**
       * @type {string} root selector
       */
      searchResultsClass: 'fxg-search-results',
      /**
       * @type {string} root selector
       */
      searchResultsShowClass: 'fxg-search-results--show',
      /**
      * @type {string} root selector
      */
      headerClass: 'fxg-header',
      /**
      * @type {string} root selector
      */
      searchCloseBtnClass: 'fxg-close-btn',
      /**
       * @type {string} root selector
       */
      searchCloseAnchorClass: 'fxg-search-close-btn',
      /**
       * @type {string} root selector
       */
      searchFieldClass: 'fxg-user-options__search-field',
      /**
       * @type {string} root selector
       */
      wrapperClass: 'fxg-nav',
      /**
       * @type {string} root selector
       */
      wrapperOpenClass: 'fxg-nav--search-open',
      /**
       * @type {string} root selector
       */
      defaultSignInText: '',
      /**
       * @type {string} root selector
       */
      unAuthenticatedMarkupPath: '',
      /**
       * @type {string} root selector
       */
      authenticatedMarkupPath: '',
      /**
       * @type {string} root selector
       */
      rewardMemberClass: '.fxg-rewards-link-member',
      /**
       * @type {string} root selector
       */
      rewardNonMemberClass: '.fxg-rewards-link-non-member',
      /**
       * @type {string} root selector
       */
      rewardPointsClass: '.fxg-link__reward-points',
      /**
       * @type {string} root selector
       */
      rewardDetailClass: '.fxg-rewards-link-member .fxg-link__detail',
      /**
       * @type {string} root selector
       */
      signInSpanClass: '.fxg-user-options__sign-in a span',
      /**
       * @type {string} root selector
       */
      wlgnMarkupPath: '',
      /**
       * @type {string} root selector
       */
      coveoSuggestionsApiPath: '',
      /**
       * @type {string} root selector
       */
      coveoAnalyticsApiPath: '',
      /**
      * @type {string} root selector
      */
      coveoSearchApiKey: '',
      /**
       * @type {string} root selector
       */
      coveoSearchHub: '',
      /**
       * @type {string} root selector
       */
      currentSearchText: '',
      /**
       * @type {string} root selector
       */
      currentSessionSearchTerms: [],
      /**
      * @type {string} root selector
      */
      currentSearchSuggestions: []
    };

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} DOM root element
       */
      var root = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {};
        config = _objectSpread(_objectSpread({}, defaultConfig), _config);
      }
      function mobileCloseSearch(mq) {
        if (mq.matches) {
          var wrapper = document.querySelector(".".concat(utilityNavSelectors.wrapperClass));
          if (wrapper && wrapper.classList.contains(utilityNavSelectors.wrapperOpenClass)) {
            var closeBtn = document.querySelector(".".concat(utilityNavSelectors.searchClass, " .").concat(utilityNavSelectors.searchCloseBtnClass));
            FDX.components.utilitynav.closeSearchBox(closeBtn);
          }
        }
      }

      /**
       * Bind interactions events
       *
       * @private
       */

      function showShippingContactName(contactname) {
        var signInElement = document.querySelector('.fxg-user-options__sign-in a span');
        if (signInElement) {
          signInElement.textContent = contactname + " "; // leave a space after name
        }
      }
      ;

      /**
       * Bind interactions events
       *
       * @private
       */
      function bindInteractions() {
        // Add click event for search button
        document.querySelectorAll(".".concat(utilityNavSelectors.searchBtnClass)).forEach(function (element) {
          element.addEventListener('click', function () {
            FDX.components.utilitynav.openSearchBox();
          });
        });

        // Check if utility nav should be hidden
        var utilityWrap = document.querySelector('.fdx-utilityWrap');
        if (utilityWrap && utilityWrap.getAttribute('data-showUtilityNav') === 'no') {
          var loginWrapper = document.getElementById("global-login-wrapper");
          if (loginWrapper) loginWrapper.style.display = 'none';
          var searchBtn = document.querySelector(".fxg-user-options__option.fxg-user-options__search-btn");
          if (searchBtn) searchBtn.style.display = 'none';
        }

        // Set up search interactions
        var root = document.querySelector('.js-fxg-search');
        if (root) {
          var searchInputBtn = root.querySelector('.js-fxg-search-btn');
          if (searchInputBtn) {
            // Touch device hover effects
            ['touchstart', 'touchend'].forEach(function (eventType) {
              searchInputBtn.addEventListener(eventType, function () {
                root.classList.toggle('is-hovered');
              });
            });

            // Mouse hover effects
            searchInputBtn.addEventListener('mouseenter', function () {
              root.classList.add('is-hovered');
            });
            searchInputBtn.addEventListener('mouseleave', function () {
              root.classList.remove('is-hovered');
            });
          }
        }

        // Set up search box keyup handler
        document.querySelectorAll(".".concat(utilityNavSelectors.searchBoxClass)).forEach(function (searchBox) {
          searchBox.addEventListener('keyup', function () {
            if (searchBox.value.length > 0) {
              FDX.components.utilitynav.search(searchBox.value);
              FDX.components.utilitynav.showResults();
            } else {
              FDX.components.utilitynav.hideResults();
            }
          });
        });

        // Set up close button events
        var closeSelector = ".".concat(utilityNavSelectors.searchClass, " .").concat(utilityNavSelectors.searchCloseBtnClass, ", .").concat(utilityNavSelectors.searchCloseAnchorClass);
        document.querySelectorAll(closeSelector).forEach(function (button) {
          var handleCloseEvent = function handleCloseEvent(e) {
            if (e.type === 'keydown' && e.which !== 13 && e.keyCode !== 13) {
              return;
            }
            FDX.components.utilitynav.closeSearchBox(button);
          };
          button.addEventListener('click', handleCloseEvent);
          button.addEventListener('keydown', handleCloseEvent);
        });

        // Set up mobile media query listener
        FDX.services.device.getCCMobileMediaQuery().addListener(FDX.components.utilitynav.mobileCloseSearch);
        FDX.components.utilitynav.init();
      }
      ;

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_root) {
        return new Promise(function (resolve) {
          root = _root;

          // bind interactions
          bindInteractions();

          // initialized
          if (root && typeof root.setAttribute === 'function') {
            root.setAttribute('data-initialized', 'true');
          }
          resolve();
        });
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} DOM element
       */
      function getElement() {
        return root;
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        mobileCloseSearch: mobileCloseSearch,
        showShippingContactName: showShippingContactName,
        getElement: getElement
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        bindInteractions = jest.fn(bindInteractions);
        showResults = jest.fn(showResults);
        showShippingContactName = jest.fn(showShippingContactName);
        instance.$private = function () {
          return {
            bindInteractions: bindInteractions,
            mobileCloseSearch: mobileCloseSearch,
            showShippingContactName: showShippingContactName
          };
        };
      }
      instances.push(instance);
      return instance;
    }
    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */

    function createInstances() {
      return new Promise(function (resolve) {
        var initPromises = [];

        // find all related elements
        var elements = document.querySelectorAll(utilityNavSelectors.selector);
        elements.forEach(function (element) {
          // skip already initialized elements
          if (element.getAttribute("data-initialized")) return;

          // create instance
          var instance = window.FDX.components.utilitynav.create();

          // initialize instance
          var initPromise = instance.init(element);
          initPromises.push(initPromise);
        });

        // resolve after all inits
        Promise.all(initPromises).then(function () {
          resolve();
        });
      });
    }
    var showUnAuthenticatedState = function showUnAuthenticatedState() {
      // swap out the markup
      fetch(utilityNavSelectors.unAuthenticatedMarkupPath).then(function (response) {
        return response.text();
      }).then(function (result) {
        var submenu = document.querySelector('.utility-nav-dropdown__sub-menu');
        submenu.innerHTML = result;

        // Remove previous submit handlers
        var loginForm = document.querySelector(FDX.LOGIN.loginFormID);
        if (loginForm) {
          var cloneForm = loginForm.cloneNode(true);
          loginForm.parentNode.replaceChild(cloneForm, loginForm);

          // Add new submit handler
          if (!cloneForm.classList.contains('bound')) {
            cloneForm.classList.add('bound');
            cloneForm.addEventListener('submit', function (e) {
              e.preventDefault();
              FDX.DTM.pushButtonInfo("hdr|Login", "samePage");
              FDX.LOGIN.doLogin(e.target);
            });
          }
        }
        FDX.LOGIN.setRememberMeState();
        var passwordShow = document.querySelector("#NavLoginPassword_show");
        if (passwordShow) {
          passwordShow.style.display = 'none';
        }
        FDX.LOGIN.onPasswordClick();
        FDX.LOGIN.onPasswordShowKeyPress();
        FDX.LOGIN.onPasswordKeyUp();
        FDX.LOGIN.onPasswordShowclick();
      });
    };
    var showWlgnState = function showWlgnState() {
      fetch(utilityNavSelectors.wlgnMarkupPath).then(function (response) {
        return response.text();
      }).then(function (result) {
        var submenu = document.querySelector('.utility-nav-dropdown__sub-menu');
        submenu.innerHTML = result;
        FDX.components.utilitynav.toggleRewardPointsLink();
      });
    };

    // Upon login (FDX.LOGIN), this method is used to show the authenticated state dropdown links of the utility nav
    var showAuthenticatedState = function showAuthenticatedState() {
      // swap out the markup
      fetch(utilityNavSelectors.authenticatedMarkupPath).then(function (response) {
        return response.text();
      }).then(function (result) {
        var submenu = document.querySelector('.utility-nav-dropdown__sub-menu');
        submenu.innerHTML = result;
        FDX.components.utilitynav.toggleRewardPointsLink();
      });
      FDX.components.utilitynav.showContactName();
    };
    var hideResults = function hideResults() {
      var searchResults = document.querySelector(".".concat(utilityNavSelectors.searchResultsClass));
      if (searchResults) {
        searchResults.classList.remove(utilityNavSelectors.searchResultsShowClass);
      }
    };

    // Upon logout (FDX.LOGIN.doLogout), this method is used to show the default "Sign In" text
    var hideContactName = function hideContactName() {
      document.querySelector('.fxg-user-options__sign-in a span').textContent = utilityNavSelectors.defaultSignInText + " "; // leave a space after text
    };

    // Upon login (FDX.LOGIN.doLogin), this method is used to show the contact name in place of the "Sign In" text
    var showContactName = function showContactName() {
      var contactName = FDX.SESSION.getContactName();
      if (contactName) {
        var signInElement = document.querySelector(utilityNavSelectors.signInSpanClass);
        if (signInElement) {
          signInElement.textContent = contactName + " "; // leave a space after name
        }
      }
    };
    var toggleRewardPointsLink = function toggleRewardPointsLink() {
      var rewardCookie = FDX.SESSION.getRewardCookie();
      var rewardCookieType = _typeof(rewardCookie);

      // Simplify null check logic
      var isCookieNull = rewardCookieType === 'string' && rewardCookie === 'null' || rewardCookie === null;
      if (FDX.SESSION && !isCookieNull) {
        // Set reward points
        var rewardPointsElement = document.querySelector(utilityNavSelectors.rewardPointsClass);
        if (rewardPointsElement) rewardPointsElement.textContent = Number(FDX.SESSION.userRewards).toLocaleString();

        // Handle member tiers
        if (FDX.SESSION.userRewardsTier !== "BASE") {
          // Set points and tier for non-BASE members
          var rewardDetailElement = document.querySelector(utilityNavSelectors.rewardDetailClass);
          if (rewardDetailElement) rewardDetailElement.textContent = FDX.SESSION.userRewardsTier;
        } else {
          // Handle BASE tier members
          var isAPIGEnabled = FDX.SESSION.rewardsAPIGEnabled === 'true';
          var mfxrBasepath = document.getElementById('mfxr-basepath');
          if (isAPIGEnabled && mfxrBasepath) {
            var baseMemberLink = mfxrBasepath.value;
            var link = document.querySelector('.fxg-rewards-link-member a');
            if (link) link.setAttribute('href', baseMemberLink);
          }

          // Do not display points for base members
          if (rewardPointsElement) rewardPointsElement.textContent = "";
        }

        // Show reward points display
        var memberElement = document.querySelector(utilityNavSelectors.rewardMemberClass);
        var nonMemberElement = document.querySelector(utilityNavSelectors.rewardNonMemberClass);
        if (memberElement) memberElement.style.display = '';
        if (nonMemberElement) nonMemberElement.style.display = 'none';
      } else {
        var _FDX$SESSION$userMode;
        // Handle non-member display
        var _memberElement = document.querySelector(utilityNavSelectors.rewardMemberClass);
        var _nonMemberElement = document.querySelector(utilityNavSelectors.rewardNonMemberClass);
        if (_memberElement) _memberElement.style.display = 'none';

        // Check if user has a business profile
        var hasBusinessProfile = FDX.SESSION.userModel != null && ((_FDX$SESSION$userMode = FDX.SESSION.userModel.userProfileAddress) === null || _FDX$SESSION$userMode === void 0 || (_FDX$SESSION$userMode = _FDX$SESSION$userMode.contact) === null || _FDX$SESSION$userMode === void 0 ? void 0 : _FDX$SESSION$userMode.companyName);
        if (_nonMemberElement) {
          _nonMemberElement.style.display = hasBusinessProfile ? '' : 'none';
        }
      }
    };
    var openSearchBox = function openSearchBox() {
      var wrapper = document.querySelector(".".concat(utilityNavSelectors.wrapperClass));
      if (wrapper) {
        wrapper.classList.add(utilityNavSelectors.wrapperOpenClass);
        var searchBox = wrapper.querySelector(".".concat(utilityNavSelectors.searchBoxClass));
        if (searchBox) searchBox.focus();
      }
    };
    var closeSearchBox = function closeSearchBox(elem) {
      // Clear the search field
      var prevField = elem.previousElementSibling;
      if (prevField && prevField.classList.contains(utilityNavSelectors.searchFieldClass)) {
        prevField.value = '';
      }

      // Update wrapper classes
      var wrapper = document.querySelector(".".concat(utilityNavSelectors.wrapperClass));
      if (!wrapper) return;
      wrapper.classList.remove(utilityNavSelectors.wrapperOpenClass);
      wrapper.classList.add(utilityNavSelectors.headerCloseClass);

      // Wait for animation to complete
      setTimeout(function () {
        wrapper.classList.remove(utilityNavSelectors.headerCloseClass);

        // Focus on the first visible element in search button
        var searchBtn = document.querySelector(".".concat(utilityNavSelectors.searchBtnClass));
        if (searchBtn) {
          var visibleElements = Array.from(searchBtn.children).filter(function (el) {
            return getComputedStyle(el).display !== 'none';
          });
          if (visibleElements.length > 0) visibleElements[0].focus();
        }
      }, 250);
      FDX.components.utilitynav.hideResults();
    };
    var showResults = function showResults() {
      var searchResults = document.querySelector(".".concat(utilityNavSelectors.searchResultsClass));
      if (searchResults) {
        searchResults.classList.add(utilityNavSelectors.searchResultsShowClass);
      }
      FDX.components.dropdown.showOverlay();
    };
    var search = function search(searchText) {
      var _FDX$DATALAYER, _FDX$DATALAYER2;
      // STUB METHOD TO FIRE SEARCH CALL
      // FDX.components.utilitynav.search();
      if (utilityNavSelectors.coveoSearchApiKey === '') {
        utilityNavSelectors.coveoSearchApiKey = document.getElementById('fxg-search-coveoSearchApiKey').value;
      }
      if (utilityNavSelectors.coveoSearchHub === '') {
        utilityNavSelectors.coveoSearchHub = document.getElementById('fxg-search-coveoSearchHub').value;
      }
      if (utilityNavSelectors.coveoSuggestionsApiPath === '') {
        utilityNavSelectors.coveoSuggestionsApiPath = document.getElementById('fxg-search-coveoSuggestionsApiUrl').value;
      }

      // Build URL for the search API
      var language = (_FDX$DATALAYER = FDX.DATALAYER) === null || _FDX$DATALAYER === void 0 ? void 0 : _FDX$DATALAYER.page.pageInfo.language;
      var country = (_FDX$DATALAYER2 = FDX.DATALAYER) === null || _FDX$DATALAYER2 === void 0 ? void 0 : _FDX$DATALAYER2.page.pageInfo.country;
      var locale = "".concat(language, "-").concat(country.toUpperCase());
      var url = "".concat(utilityNavSelectors.coveoSuggestionsApiPath, "?q=").concat(searchText, "&locale=").concat(locale, "&searchHub=").concat(utilityNavSelectors.coveoSearchHub);

      // Update search tracking variables
      utilityNavSelectors.currentSearchText = searchText;
      utilityNavSelectors.currentSessionSearchTerms.push(searchText);

      // Make the API call using fetch
      fetch(url, {
        headers: {
          'Authorization': "Bearer ".concat(utilityNavSelectors.coveoSearchApiKey)
        }
      }).then(function (response) {
        return response.json();
      }).then(function (result) {
        var searchResultsElement = document.querySelector('.fxg-search-results');

        // Clear previous search results
        var rows = searchResultsElement.querySelectorAll('.fxg-search-results__row');
        rows.forEach(function (row) {
          return row.remove();
        });

        // Reset suggestions tracking
        utilityNavSelectors.currentSearchSuggestions = [];
        FDX.components.utilitynav.currentSuggestionReponseId = "";

        // Process search results if available
        if (result && result.completions) {
          FDX.components.utilitynav.currentSuggestionReponseId = result.responseId;

          // Generate new suggestion elements
          result.completions.forEach(function (completion, index) {
            utilityNavSelectors.currentSearchSuggestions.push(completion.expression);
            var anchorElement = document.createElement('a');
            anchorElement.href = 'javascript:void(0)';
            anchorElement.className = 'fxg-search-results__row';
            anchorElement.textContent = completion.expression;
            anchorElement.addEventListener('click', function (event) {
              FDX.components.utilitynav.redirectToSearchPage(event, completion.expression, index);
            });
            searchResultsElement.appendChild(anchorElement);
          });
        }
      })["catch"](function (error) {
        return console.error('Error fetching search suggestions:', error);
      });
    };
    var redirectToSearchPage = function redirectToSearchPage(e, expression, index) {
      var _FDX$DATALAYER3, _FDX$DATALAYER4, _FDX$DATALAYER5;
      // Prepare search metadata
      var firstQueryMeta = {
        "value": expression,
        "enableQuerySyntax": false,
        "analytics": {
          "cause": "omniboxFromLink",
          "metadata": {
            "suggestionRanking": index,
            "partialQuery": utilityNavSelectors.currentSearchText,
            "partialQueries": utilityNavSelectors.currentSessionSearchTerms,
            "suggestions": utilityNavSelectors.currentSearchSuggestions,
            "querySuggestResponseId": FDX.components.utilitynav.currentSuggestionReponseId
          }
        }
      };

      // Reset search session data
      utilityNavSelectors.currentSessionSearchTerms = [];
      FDX.components.utilitynav.currentSuggestionReponseId = "";

      // Determine host for URL construction
      var host = typeof FDX_HOSTNAME !== 'undefined' && FDX_HOSTNAME !== null && FDX_HOSTNAME.trim().length > 0 ? FDX_HOSTNAME : window.location.host;

      // Store search metadata for later use
      localStorage.setItem("coveo-standalone-search-box-data", JSON.stringify(firstQueryMeta));

      // Prepare analytics payload
      var payload = {
        gdl: {
          category: 'search',
          eventName: 'submit',
          params: {
            searchTerm: expression,
            searchBar: 'global-header'
          }
        }
      };

      // Use analytics service directly instead of jQuery
      FDX.services.analytics.push(payload);

      // Get search URL from the page
      var searchURL = document.getElementById("fxg-search-url").value;
      var language = (_FDX$DATALAYER3 = FDX.DATALAYER) === null || _FDX$DATALAYER3 === void 0 ? void 0 : _FDX$DATALAYER3.page.pageInfo.language;
      var country = (_FDX$DATALAYER4 = FDX.DATALAYER) === null || _FDX$DATALAYER4 === void 0 ? void 0 : _FDX$DATALAYER4.page.pageInfo.country;
      var locale = (_FDX$DATALAYER5 = FDX.DATALAYER) === null || _FDX$DATALAYER5 === void 0 ? void 0 : _FDX$DATALAYER5.page.pageInfo.locale;

      // Build the URL based on available parameters
      var baseUrl = "".concat(window.location.protocol, "//").concat(host, "/").concat(language, "-").concat(country, "/");
      var defaultSearchPath = 'search.html';
      var targetUrl = encodeURI(baseUrl + (searchURL && searchURL !== "#" ? searchURL : defaultSearchPath) + "?cc=".concat(locale));

      // Navigate to search page
      if (searchURL && searchURL !== "#") {
        window.location = targetUrl;
      } else {
        window.open(targetUrl, '_self');
      }
    };
    function init() {
      // save the initial content as variables, so we can put it back on logout
      var signInElement = document.querySelector('.fxg-user-options__sign-in a');
      var subMenuElement = document.querySelector('.utility-nav-dropdown__sub-menu');

      // Get default sign in text from data attribute
      utilityNavSelectors.defaultSignInText = signInElement ? signInElement.getAttribute('data-default-signInText') : '';

      // Get path and construct URLs for different content fragments
      var jcrPath = subMenuElement ? subMenuElement.getAttribute('data-util-nav-jcr-path') : '';
      utilityNavSelectors.wlgnMarkupPath = "".concat(jcrPath, "/wlgn_link.html");
      utilityNavSelectors.unAuthenticatedMarkupPath = "".concat(jcrPath, "/login_module.html");
      utilityNavSelectors.authenticatedMarkupPath = "".concat(jcrPath, "/authenticated_links.html");

      // Initialize rewards display
      FDX.components.utilitynav.toggleRewardPointsLink();
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: utilityNavSelectors.selector,
      searchClass: utilityNavSelectors.searchClass,
      searchBtnClass: utilityNavSelectors.searchBtnClass,
      headerOpenClass: utilityNavSelectors.headerOpenClass,
      headerCloseClass: utilityNavSelectors.headerCloseClass,
      searchBoxClass: utilityNavSelectors.searchBoxClass,
      searchResultsClass: utilityNavSelectors.searchResultsClass,
      searchResultsShowClass: utilityNavSelectors.searchResultsShowClass,
      searchCloseBtnClass: utilityNavSelectors.searchCloseBtnClass,
      searchCloseAnchorClass: utilityNavSelectors.searchCloseAnchorClass,
      searchFieldClass: utilityNavSelectors.searchFieldClass,
      wrapperClass: utilityNavSelectors.wrapperClass,
      wrapperOpenClass: utilityNavSelectors.wrapperOpenClass,
      defaultSignInText: utilityNavSelectors.defaultSignInText,
      unAuthenticatedMarkupPath: utilityNavSelectors.unAuthenticatedMarkupPath,
      authenticatedMarkupPath: utilityNavSelectors.authenticatedMarkupPath,
      rewardMemberClass: utilityNavSelectors.rewardMemberClass,
      rewardNonMemberClass: utilityNavSelectors.rewardNonMemberClass,
      rewardPointsClass: utilityNavSelectors.rewardPointsClass,
      rewardDetailClass: utilityNavSelectors.rewardDetailClass,
      wlgnMarkupPath: utilityNavSelectors.wlgnMarkupPath,
      coveoSuggestionsApiPath: utilityNavSelectors.coveoSuggestionsApiPath,
      coveoAnalyticsApiPath: utilityNavSelectors.coveoAnalyticsApiPath,
      coveoSearchApiKey: utilityNavSelectors.coveoSearchApiKey,
      coveoSearchHub: utilityNavSelectors.coveoSearchHub,
      currentSearchText: utilityNavSelectors.currentSearchText,
      currentSessionSearchTerms: utilityNavSelectors.currentSessionSearchTerms,
      currentSearchSuggestions: utilityNavSelectors.currentSearchSuggestions,
      hideResults: hideResults,
      toggleRewardPointsLink: toggleRewardPointsLink,
      showContactName: showContactName,
      showAuthenticatedState: showAuthenticatedState,
      hideContactName: hideContactName,
      showWlgnState: showWlgnState,
      showUnAuthenticatedState: showUnAuthenticatedState,
      openSearchBox: openSearchBox,
      closeSearchBox: closeSearchBox,
      init: init,
      showResults: showResults,
      search: search,
      redirectToSearchPage: redirectToSearchPage
    };
  }();
})(FDX.services.analytics, FDX.services.device);

/***/ }),

/***/ 832:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 848:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 869:
/***/ (function() {

/**
 * Download
 */

(function ($, _, $file) {
  window.FDX.components.download = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '.fxg__download-accordion-wraper';

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {};
        config = $.extend({}, defaultConfig, _config);
      }

      /**
       * Render HTML
       *
       * @private
       * @return {Promise<string>} A promise that resolves with rendered HTML
       */
      function render() {}

      /**
       * Bind interactions events
       *
       * @private
       */
      function bindInteractions() {
        var downloadTags = $('.fxg__download-check-tags').attr('id');
        var download_filepath;
        var pdf_checkbox = false;
        var downloadTagstoJson = {};
        if (downloadTags != null && downloadTags != undefined) {
          downloadTagstoJson = JSON.parse(downloadTags);
        }
        var inputval = [];
        var inputTimeStamp = [];
        for (var i = 0; i < downloadTagstoJson.length; i++) {
          var downloadtag = downloadTagstoJson[i].languageTitle;
          $('.fxg-download-accordion_body-listItems', $root).append($("<li tabindex = '0'></li>").attr('value', downloadtag).attr('aria-label', downloadtag).text(downloadtag));
        }
        $('.fxg-download-drop_body__button-submit-lead', $root).on('click', function () {
          if ($(this).parents('.fxg-download-submit-button-col').siblings('.fxg-download-accordion_body-dropdown').find('p.fxg-download-drop_body__selected-item').text().length <= 1 && !$(this).hasClass('fxg__button-pdf-download-validated')) {
            $(this).parents('.fxg__download-dropdown-button-row').next('.fxg__download-validation-text-row').find('.fxg__download-validation-text').first().html('<p>Please select the type of file or checkbox</p>');
            $(this).parents('.fxg__download-dropdown-button-row').find('.fxg-download-drop_body__button-select').trigger('focus');
          } else {
            if ($(this).parents('.fxg-download-submit-button-col').siblings('.fxg-download-accordion_body-dropdown').find('p.fxg-download-drop_body__selected-item').text().length > 1) {
              for (var i = 0; i < downloadTagstoJson.length; i++) {
                downloadTagstoJson[i].languageTitle;
                var selectedlanguage_title = $(this).parents('.fxg-download-submit-button-col').siblings('.fxg-download-accordion_body-dropdown').find('p.fxg-download-drop_body__selected-item').text();
                if (downloadTagstoJson[i].languageTitle == selectedlanguage_title) {
                  var append_name = downloadTagstoJson[i].languageName;
                }
              }
              download_filepath = $(this).parents('.fxg__download-dropdown-button-row').prev('.fxg-download__accordion-header-row').first().find('.fxg__download-redirect-filepath').attr('id');
              var urlStr = download_filepath.substr(0, download_filepath.lastIndexOf('.'));
              var urlExtn = download_filepath.substr(download_filepath.lastIndexOf('.'), download_filepath.length);
              var append_filepath = urlStr + '_' + append_name + urlExtn;
              $(this).parents('#atag').attr('href', append_filepath);
            }
            $(this).parents('.fxg__download-dropdown-button-row').next('.fxg__download-validation-text-row').find('.fxg__download-validation-text').first().html(' ');
            if ($(this).hasClass('fxg__button-pdf-download-validated')) {
              var pdf_path = $(this).parents('.fxg__download-dropdown-button-row').prev('.fxg-download__accordion-header-row').first().find('.fxg__download-redirect-pdfFilePath').attr('id');
              window.open(pdf_path, '_blank');
            }
          }
        });
        $('.fxg__download-file-wsdl', $root).on('click', function () {
          download_filepath = $(this).parents('.fxg__download-options-heading').siblings('.fxg__download-redirect-wsdlFilePath').attr('id');
          window.location.href = download_filepath;
        });
        $('.fxg__download-file-xsd', $root).on('click', function () {
          download_filepath = $(this).parents('.fxg__download-options-heading').siblings('.fxg__download-redirect-xsdFilePath').attr('id');
          window.location.href = download_filepath;
        });
        $('.fxg__download-input-checkbox', $root).on('click', function () {
          pdf_checkbox = !pdf_checkbox;
          $(this).parents('.fxg__download-dropdown-button-row').find('.fxg-download-drop_body__button-submit-lead').toggleClass('fxg__button-pdf-download-validated');
          $(this).parents('.fxg__download-dropdown-button-row').next('.fxg__download-validation-text-row').first().find('.fxg__download-validation-text').html('');
        });
        $('.fxg-download-drop_body__button-select', $root).on('click', function (event) {
          event.stopPropagation();
          $('.fxg-download-accordion_body-listItems li', $root).removeClass('fxg-download-drop_body-lists-focus');
          $('span.fxg-download-drop_body__carot-icon', $root).removeClass('fxg-download-drop_body_carot-icon-open');
          $('button.fxg-download-drop_body__button-select', $root).removeClass('fxg-download-drop_body__violet-border');
          $(this).addClass('fxg-download-drop_body__violet-border');
          if ($(this).siblings('.display-dropdown-webTolead').length == 0) {
            $('.fxg-download-accordion_body-dropdown ul').removeClass('display-dropdown-webTolead');
            $(this).find('span.fxg-download-drop_body__carot-icon').removeClass('fxg-download-drop_body_carot-icon-close');
            $(this).siblings().addClass('display-dropdown-webTolead');
            $(this).find('span.fxg-download-drop_body__carot-icon').addClass('fxg-download-drop_body_carot-icon-open');
            $(this).siblings('ul').trigger('focus');
            /*$(this).siblings('ul').scrollTop($(this).siblings('ul').index()*$(this).siblings('ul').outerHeight()-40);*/
          } else {
            $('button.fxg-download-drop_body__button-select', $root).removeClass('fxg-download-drop_body__violet-border');
            $('.fxg-download-accordion_body-dropdown ul', $root).removeClass('display-dropdown-webTolead');
            $(this).find('span.fxg-download-drop_body__carot-icon').removeClass('fxg-download-drop_body_carot-icon-open');
            $(this).find('span.fxg-download-drop_body__carot-icon').addClass('fxg-download-drop_body_carot-icon-close');
          }
        });
        $('.fxg-download-drop_body__button-select', $root).on('keydown', function (e) {
          if (e.which == 13) {
            e.preventDefault();
            e.stopPropagation();
            $('.fxg-download-accordion_body-listItems li', $root).removeClass('fxg-download-drop_body-lists-focus');
            $('span.fxg-download-drop_body__carot-icon', $root).removeClass('fxg-download-drop_body_carot-icon-open');
            $('button.fxg-download-drop_body__button-select', $root).removeClass('fxg-download-drop_body__violet-border');
            $(this).addClass('fxg-download-drop_body__violet-border');
            if ($(this).siblings('.display-dropdown-webTolead').length == 0) {
              $('.fxg-download-accordion_body-dropdown ul').removeClass('display-dropdown-webTolead');
              $(this).find('span.fxg-download-drop_body__carot-icon').removeClass('fxg-download-drop_body_carot-icon-close');
              $(this).siblings().addClass('display-dropdown-webTolead');
              $(this).find('span.fxg-download-drop_body__carot-icon').addClass('fxg-download-drop_body_carot-icon-open');
              $(this).siblings('ul').trigger('focus');
              /*$(this).siblings('ul').scrollTop($(this).siblings('ul').index()*$(this).siblings('ul').outerHeight()-40);*/
            } else {
              $('button.fxg-download-drop_body__button-select', $root).removeClass('fxg-download-drop_body__violet-border');
              $('.fxg-download-accordion_body-dropdown ul', $root).removeClass('display-dropdown-webTolead');
              $(this).find('span.fxg-download-drop_body__carot-icon').removeClass('fxg-download-drop_body_carot-icon-open');
              $(this).find('span.fxg-download-drop_body__carot-icon').addClass('fxg-download-drop_body_carot-icon-close');
            }
          } else if (e.keyCode == 9) {
            $('button.fxg-download-drop_body__button-select', $root).removeClass('fxg-download-drop_body__violet-border');
            $('.fxg-download-accordion_body-dropdown ul', $root).removeClass('display-dropdown-webTolead');
            $(this).find('span.fxg-download-drop_body__carot-icon').removeClass('fxg-download-drop_body_carot-icon-open');
            $(this).find('span.fxg-download-drop_body__carot-icon').addClass('fxg-download-drop_body_carot-icon-close');
          }
        });
        $('.fxg-download-accordion_body-listItems li', $root).on('click', function () {
          $(this).parents('.fxg__download-dropdown-button-row').next('.fxg__download-validation-text-row').first().find('.fxg__download-validation-text').html('');
          $(this).parents('ul').siblings().find('.fxg-download-drop_body__selected-item').text($(this).text());
          $(this).parents('ul').siblings().find('.fxg-download-drop_body__default-item').removeClass('fxg-download-drop_body__default-item').addClass('fxg-download-drop_body__squeezed-item');
          $('.fxg-download-accordion_body-dropdown ul', $root).removeClass('display-dropdown-webTolead');
          $(this).parent('ul').siblings().find('span.fxg-download-drop_body__carot-icon').removeClass('fxg-download-drop_body_carot-icon-open');
          $(this).parent('ul').siblings().find('span.fxg-download-drop_body__carot-icon').addClass('fxg-download-drop_body_carot-icon-close');
        });
        $('.fxg-download-accordion_body-listItems li', $root).on('keydown', function (e) {
          if (e.which == 13) {
            $(this).parents('.fxg__download-dropdown-button-row').next('.fxg__download-validation-text-row').first().find('.fxg__download-validation-text').html('');
            $(this).parents('ul').siblings().find('.fxg-download-drop_body__selected-item').text($(this).text());
            $(this).parents('ul').siblings().find('.fxg-download-drop_body__default-item').removeClass('fxg-download-drop_body__default-item').addClass('fxg-download-drop_body__squeezed-item');
            $('.fxg-download-accordion_body-dropdown ul', $root).removeClass('display-dropdown-webTolead');
            $(this).parent('ul').siblings().find('span.fxg-download-drop_body__carot-icon').removeClass('fxg-download-drop_body_carot-icon-open');
            $(this).parent('ul').siblings().find('span.fxg-download-drop_body__carot-icon').addClass('fxg-download-drop_body_carot-icon-close');
            $('button.fxg-download-drop_body__button-select', $root).removeClass('fxg-download-drop_body__violet-border');
          }
        });
        $('ul.fxg-download-accordion_body-listItems', $root).on('keydown', function (e) {
          e.preventDefault();
          inputTimeStamp.push(e.timeStamp);
          if (e.timeStamp - inputTimeStamp[0] <= 650) {
            inputval.push(e.key);
            $(this).find('li').each(function () {
              var CountryName = $(this).text().match(/[A-Za-z0-9]/g).join('');
              var inputWithInTime = inputval.join('');
              if (inputWithInTime.toUpperCase() == CountryName.slice(0, inputval.length).toUpperCase() && e.keyCode != 32) {
                $(this).trigger('focus');
                return false;
              }
            });
          }
          if (e.timeStamp - inputTimeStamp[0] >= 650) {
            var firstLetter = e.key;
            inputTimeStamp = [];
            inputval = [];
            inputTimeStamp.push(e.timeStamp);
            inputval.push(e.key);
            $(this).find('li').each(function () {
              var CountryName = $(this).text().match(/[A-Za-z0-9]/g).join('');
              if (firstLetter.toUpperCase() == CountryName[0].toUpperCase()) {
                $(this).trigger('focus');
                return false;
              }
            });
          }
          if (e.keyCode == 40) {
            e.preventDefault();
            $(this).children().first().trigger('focus');
          } else if (e.keyCode == 9) {
            e.preventDefault();
            $('button.fxg-download-drop_body__button-select', $root).removeClass('fxg-download-drop_body__violet-border');
            $('.fxg-download-accordion_body-dropdown ul', $root).removeClass('display-dropdown-webTolead');
            $(this).siblings().find('span.fxg-download-drop_body__carot-icon').removeClass('fxg-download-drop_body_carot-icon-open');
            $(this).siblings().find('span.fxg-download-drop_body__carot-icon').addClass('fxg-download-drop_body_carot-icon-close');
            if ($(this).hasClass('fxg-download-drop_body__r-lisitems')) {
              $('.fxg-download-drop_body__label-meter input', $root).trigger('focus');
            } else if ($(this).hasClass('fxg-download-drop_body__nes-lisitems')) {
              $('.fxg-download-drop_body__button-submit-lead', $root).trigger('focus');
            }
          } else if (e.keyCode == 13) {
            $('button.fxg-download-drop_body__button-select', $root).removeClass('fxg-download-drop_body__violet-border');
            $('.fxg-download-accordion_body-dropdown ul', $root).removeClass('display-dropdown-webTolead');
            $(this).siblings().find('span.fxg-download-drop_body__carot-icon').removeClass('fxg-download-drop_body_carot-icon-open');
            $(this).siblings().find('span.fxg-download-drop_body__carot-icon').addClass('fxg-download-drop_body_carot-icon-close');
            if ($(this).hasClass('fxg-download-drop_body__r-lisitems')) {
              $('.fxg-download-drop_body__label-meter input', $root).trigger('focus');
            } else if ($(this).hasClass('fxg-download-drop_body__nes-lisitems')) {
              $('.fxg-download-drop_body__button-submit-lead', $root).trigger('focus');
            }
          }
        });
        $('ul.fxg-download-accordion_body-listItems li', $root).on('focus', function () {
          $(this).addClass('fxg-download-drop_body-lists-focus').siblings().removeClass('fxg-download-drop_body-lists-focus');
          /*$(this).closest('.fxg-download-drop_body-select_imp ul').scrollTop($(this).index()*$(this).outerHeight());*/
        }).on('keydown', function (e) {
          if (e.keyCode == 40) {
            $(this).next().trigger('focus');
            return false;
          } else if (e.keyCode == 38) {
            $(this).prev().trigger('focus');
            return false;
          }
        });
        $('ul.fxg-download-accordion_body-listItems li', $root).on('keydown', function (e) {
          if (e.keyCode == 9) {
            $('.fxg-download-accordion_body-dropdown ul', $root).removeClass('display-dropdown-webTolead');
            $(this).parent('ul').siblings().find('span.fxg-download-drop_body__carot-icon').removeClass('fxg-download-drop_body_carot-icon-open');
            $(this).parent('ul').siblings().find('span.fxg-download-drop_body__carot-icon').addClass('fxg-download-drop_body_carot-icon-close');
          }
        });
        $('*[id=dowload_checkbox], *[id=download_checkbox]').each(function (i) {
          var val = $(this).attr('id') + '-' + i;
          $(this).attr('id', val);
          var myParent = $(this).parent();
          if (myParent[0].nodeName == 'LABEL') {
            myParent.attr('for', val);
          }
        });
        $('.checkmark_download-label', $root).on('keypress', function (e) {
          if (e.keyCode == 13 || e.keyCode == 32) {
            if (e.keyCode == 32) {
              e.preventDefault();
            }
            $(this).trigger('click');
          }
        });
        $('.fxg__download-file-xsd', $root).on('keypress', function (e) {
          if (e.keyCode == 13) {
            $(this).trigger('click');
          }
        });
        $('.fxg__download-file-wsdl', $root).on('keypress', function (e) {
          if (e.keyCode == 13) {
            $(this).trigger('click');
          }
        });
        $(document).on('click', function () {
          $('.fxg-download-accordion_body-dropdown ul').removeClass('display-dropdown-webTolead');
          $(this).find('button.fxg-download-drop_body__button-select span.fxg-download-drop_body__carot-icon').removeClass('fxg-download-drop_body_carot-icon-open');
          $(this).find('button.fxg-download-drop_body__button-select span.fxg-download-drop_body__carot-icon').addClass('fxg-download-drop_body_carot-icon-close');
        });
        $('button.fxg_download-accordion-button', $root).on('click', function () {
          $(this).children('span.fxg-download-accordion__carot-icon').toggleClass('fxg-download-accordion_carot-icon-open');
          if ($(this).siblings('.fxg__download__accordion-panel').hasClass('fxg__download__accordion-panel-display')) {
            $(this).siblings('.fxg__download__accordion-panel').addClass('fxg__download__accordion-panel-no-display').removeClass('fxg__download__accordion-panel-display');
          } else {
            $(this).siblings('.fxg__download__accordion-panel').addClass('fxg__download__accordion-panel-display').removeClass('fxg__download__accordion-panel-no-display');
          }
        });
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;

        //run file saver
        $file.saveAsFile();

        // bind interactions
        bindInteractions();

        // initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      // add and return instance

      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        bindInteractions = jest.fn(bindInteractions);
        instance.$private = function () {
          return {
            bindInteractions: bindInteractions
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */

    function createInstances() {
      var promise = $.Deferred();
      var initPromises = [];

      // find all related elements
      $(selector).each(function () {
        // skip already initialized elements
        var $element = $(this);
        if ($element.data('initialized')) return;

        // create instance
        var instance = window.FDX.components.download.create();

        // initialize instance
        var initPromise = instance.init($element);
        initPromises.push(initPromise);
      });

      // resolve after all inits
      $.when.apply($, initPromises).then(function () {
        promise.resolve();
      });
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _, FDX.services.file);

/***/ }),

/***/ 943:
/***/ (function() {

/**
 * Form - Checkbox Group
 *
 * Checkbox Group field in basic form component
 */

(function ($, _) {
  window.FDX.components.form_checkbox_group = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '';

    /**
     * Create component instance
     *
     * @public
     * @param {Object} _parent - parent form
     * @return {Object} instance
     */
    function create(_parent) {
      /**
       * @type {Object} parent form
       */
      var parent = _parent;

      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {
          id: '',
          type: '',
          key: '',
          title: '',
          order: ''
        };
        config = $.extend({}, defaultConfig, _config);
      }

      /**
       * Get configuration
       *
       * @public
       * @return {Object} configuration key/value pair
       */
      function getConfig() {
        return config;
      }

      /**
       * Bind interactions
       *
       * @private
       */
      function bindInteractions() {
        // start interaction
        $root.find('input').on('change', function (event) {
          _parent.startInteraction();
        });
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;

        // bind interactions
        bindInteractions();

        // initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      /**
       * Get field value
       *
       * @public
       * @param {string} format
       * @return {string|string[]} field value
       */
      function getValue(format) {
        var value;
        var array = $root.find('input:checked').map(function (index, input) {
          return $(input).val();
        }).get();
        if (format === 'array') {
          value = array;
        } else {
          value = array.join(', ');
        }
        return value;
      }

      /**
       * Set field value
       *
       * @public
       * @param {string} field value (comma separated)
       */
      function setValue(value) {
        var selected = value.split(/\s*,\s*/);
        $root.find('input').each(function (index, el) {
          el.checked = selected.includes(el.value);
        });
      }

      /**
       * Is the field valid
       *
       * @public
       * @return {boolean} returns true if valid
       */
      function isValid() {
        var valid = true;
        toggleError(!valid, parent.getConfig().msg_required);
        return valid;
      }

      /**
       * Toggle field error status
       *
       * @private
       * @param {boolean} toggle show/hide
       * @param {string} error message
       */
      function toggleError(toggle, error) {
        $root.find('.fxg-form__error').text(error);
        $root.toggleClass('cc-aem-c-form--is-invalid', toggle);
        $root.find('div.cc-aem-c-form').toggleClass('cc-aem-c-form--is-invalid', toggle);
        $root.find('.cc-aem-c-form__message').toggleClass('cc-aem-u-display--none', !toggle);
        if (toggle) parent.trackError('validation', config.id, error);
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        getConfig: getConfig,
        init: init,
        getElement: getElement,
        getValue: getValue,
        setValue: setValue,
        isValid: isValid
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        isValid = jest.fn(isValid);
        toggleError = jest.fn(toggleError);
        instance.$private = function () {
          return {
            isValid: isValid,
            toggleError: toggleError
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();

      // We always create and initialize this component through form component.
      // Therefore this component does not need to be initialized through bootstrap.
      promise.resolve();
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _);

/***/ }),

/***/ 1056:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 1125:
/***/ (function() {

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _regenerator() { /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */ var e, t, r = "function" == typeof Symbol ? Symbol : {}, n = r.iterator || "@@iterator", o = r.toStringTag || "@@toStringTag"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, "_invoke", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError("Generator is already running"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = "next"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError("iterator result is not an object"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i["return"]) && t.call(i), c < 2 && (u = TypeError("The iterator does not provide a '" + o + "' method"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, "GeneratorFunction")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, "constructor", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = "GeneratorFunction", _regeneratorDefine2(GeneratorFunctionPrototype, o, "GeneratorFunction"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, "Generator"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, "toString", function () { return "[object Generator]"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }
function _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, "", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o("next", 0), o("throw", 1), o("return", 2)); }, _regeneratorDefine2(e, r, n, t); }
function asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }
function _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
/**
 * column
 */

(function () {
  window.FDX.components.column = function () {
    var COLUMNSELECTORS = {
      SELECTOR: ".fxg-col",
      CONFIG: '[data-config="js-column-config"]',
      MOBILE_VIEW: ".mobile-horizantal-view",
      LINE_OPT: "fxg-lineOpt",
      LINE_OPT_HORIZONTAL: ".fxg-lineOpt-horizontal",
      COLUMN_MARGIN: ".fxg-col--mlr16",
      innerWidth: 960,
      marginWidth: 32
    };

    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var columnClass = ".fxg-col";

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    var create = function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} DOM root element
       */
      var root = {};

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      var setConfig = function setConfig(_config) {
        var defaultConfig = {
          option1: "",
          option2: ""
        };
        config = _objectSpread(_objectSpread({}, defaultConfig), _config);
      };

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */

      var init = /*#__PURE__*/function () {
        var _ref = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee(_root) {
          var _root2;
          return _regenerator().w(function (_context) {
            while (1) switch (_context.n) {
              case 0:
                root = _root;
                if (!(!root || typeof root.querySelector !== "function")) {
                  _context.n = 1;
                  break;
                }
                root = (_root2 = root) !== null && _root2 !== void 0 && _root2.jquery ? root[0] : null;
                if (root) {
                  _context.n = 1;
                  break;
                }
                console.error("Root element is missing or invalid.");
                return _context.a(2);
              case 1:
                root.dataset.initialized = true;
                return _context.a(2);
            }
          }, _callee);
        }));
        return function init(_x) {
          return _ref.apply(this, arguments);
        };
      }();

      /**
       * Get component element
       *
       * @public
       * @return {Object} DOM element
       */
      var getElement = function getElement() {
        return root;
      };

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement
      };

      // pass private attributes and methods to jest
      if (typeof jest !== "undefined") {
        instance.$private = function () {
          return {};
        };
      }
      instances.push(instance);
      return instance;
    };

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    var createInstances = function createInstances() {
      return new Promise(function (resolve) {
        var initPromises = [];

        // Find all related elements and skip already initialized elements
        var elements = document.querySelectorAll(COLUMNSELECTORS.SELECTOR);
        elements.forEach(function (element) {
          if (element.dataset.initialized) return;

          // Create instance
          var instance = window.FDX.components.column.create();
          var configElement = element.querySelector(COLUMNSELECTORS.CONFIG);
          if (configElement) {
            instance.setConfig(JSON.parse(configElement.textContent.trim()));
          }

          // Initialize instance
          var initPromise = instance.init(element);
          initPromises.push(initPromise);
        });

        //Change class name to avoid border disable in mobile for column control
        document.querySelectorAll(COLUMNSELECTORS.MOBILE_VIEW).forEach(function () {
          document.querySelectorAll("." + COLUMNSELECTORS.LINE_OPT).forEach(function (lineOpt) {
            lineOpt.classList.remove(COLUMNSELECTORS.LINE_OPT);
            lineOpt.classList.add(COLUMNSELECTORS.LINE_OPT_HORIZONTAL);
          });
        });

        // Resolve after all inits
        Promise.all(initPromises).then(function () {
          resolve();
        });
      });
    };

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: COLUMNSELECTORS.SELECTOR,
      COLUMNSELECTORS: COLUMNSELECTORS,
      columnClass: columnClass
    };
  }();
})();

/***/ }),

/***/ 1181:
/***/ (function() {

function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
/**
 * casestatus
 *
 * A component that displays the latest case status
 */

(function ($, _) {
  window.FDX.components.casestatus = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '.fxg-casestatus';
    var SETTINGS = {
      component: 'casestatus',
      namespace: 'fxg'
    };
    var TAGS = {
      caseCheckName: 'customer-support-case-check',
      caseCloseName: 'customer-support-case-close',
      caseNumberValid: 'case-number-valid',
      caseNumberInvalid: 'case-number-invalid',
      checkAnotherTicket: 'check-another-ticket',
      tryAgain: 'please-try-again',
      apiError: 'API-error',
      caseNotFound: 'case-not-found',
      componentType: 'case-status-form',
      tooltip: 'case-number-tooltip',
      moreInfoButton: 'more-info-button',
      closeCase: 'close-case',
      cancelModal: 'cancel-modal',
      postalCodeValid: 'postal-code-valid',
      postalCodeInvalid: 'postal-code-invalid',
      tooManyAttempts: 'too-many-attempts',
      validationError: 'validation-error',
      statusPrePopulated: 'status-pre-populated'
    };
    var SELECTORS = {
      inputField: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-input-field"),
      inputWrapper: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-input-wrapper"),
      hint: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-hint"),
      hintPostalcode: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-close-hint"),
      formMessage: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-validation"),
      formMessageSuccess: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-validation-success"),
      formMessageError: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-validation-error"),
      toolTipContent: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-tooltip-content"),
      skeletonWrapper: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-skeleton-wrapper"),
      result: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-result"),
      responseSuccessTable: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-response-success-table"),
      responseError: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-response-error"),
      responseSuccessWrapper: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-response-success-wrapper"),
      responseErrorWrapper: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-response-error-wrapper"),
      responseCaseNumber: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-response-case-number"),
      tooltipButton: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-button-tooltip"),
      reinitButton: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-button-reinit"),
      fetchButton: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-button-fetch"),
      moreInfoContainer: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-more-info-container"),
      moreInfoButton: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-more-info-button"),
      closeCaseButton: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-close-case-button"),
      latestUpdateMessage: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-latest-update-message"),
      initialTitle: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-initial-title"),
      resultTitle: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-result-title"),
      resultHiddenAlert: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-result-hidden-alert"),
      postalCodeInputField: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-postal-code-input-field"),
      resolveWrapper: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-resolve-wrapper"),
      resolveMessage: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-resolve-message"),
      closeResolveMessageButton: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-button-close-resolve-message"),
      closeCaseFetchButton: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-button-close-case-fetch"),
      modalCloseButton: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-button-modal-close"),
      postalCodeForm: "js-".concat(SETTINGS.namespace, "-").concat(SETTINGS.component, "-postal-code-form")
    };
    var CLASSES = {
      isHidden: 'cc-aem-u-display--none',
      rotate: 'cc-aem-u-rotate--180',
      borderBottomNoneSmall: 'cc-aem-u-border--bottom-none@small-only',
      borderBottomNoneXSmall: 'cc-aem-u-border--bottom-none@x-small-only'
    };

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {};
        config = $.extend({}, defaultConfig, _config);
      }
      ;

      /**
       * Render HTML
       *
       * @private
       * @return {Promise<string>} A promise that resolves with rendered HTML
       */
      function render() {
        var promise = $.Deferred();
        var html = "";
        var rendered = _.template(html)(config);
        return promise.resolve(rendered);
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;

        /////////////////////////////////////
        ////// START CASE STATUS LOGIC //////
        /////////////////////////////////////

        // For GDL Form tracking
        var firstChange = true;
        var element = $root[0];
        var inputField = element.querySelector(".".concat(SELECTORS.inputField));
        var inputWrapper = element.querySelector(".".concat(SELECTORS.inputWrapper));
        var hint = element.querySelector(".".concat(SELECTORS.hint));
        var formMessage = element.querySelector(".".concat(SELECTORS.formMessage));
        var formMessageSuccess = element.querySelector(".".concat(SELECTORS.formMessageSuccess));
        var formMessageError = element.querySelector(".".concat(SELECTORS.formMessageError));
        var toolTipContent = element.querySelector(".".concat(SELECTORS.toolTipContent));
        var skeletonWrapper = element.querySelector(".".concat(SELECTORS.skeletonWrapper));
        var result = element.querySelector(".".concat(SELECTORS.result));
        var responseSuccessTable = element.querySelector(".".concat(SELECTORS.responseSuccessTable));
        var responseError = element.querySelector(".".concat(SELECTORS.responseError));
        var responseSuccessWrapper = element.querySelector(".".concat(SELECTORS.responseSuccessWrapper));
        var responseErrorWrapper = element.querySelector(".".concat(SELECTORS.responseErrorWrapper));
        var responseCaseNumber = element.querySelector(".".concat(SELECTORS.responseCaseNumber));
        var tooltipButton = element.querySelector(".".concat(SELECTORS.tooltipButton));
        var reinitButtons = element.querySelectorAll(".".concat(SELECTORS.reinitButton));
        var fetchButton = element.querySelector(".".concat(SELECTORS.fetchButton));
        var latestUpdateMessage = element.querySelector(".".concat(SELECTORS.latestUpdateMessage));
        var initialTitle = element.querySelector(".".concat(SELECTORS.initialTitle));
        var resultTitle = element.querySelector(".".concat(SELECTORS.resultTitle));
        var resultHiddenAlert = element.querySelector(".".concat(SELECTORS.resultHiddenAlert));
        var resolveWrapper = element.querySelector(".".concat(SELECTORS.resolveWrapper));

        // To be populated
        var lookedUpNumber;
        var moreInfoContainers;
        var moreInfoButtons;
        var closeCaseButtons;

        // To handle modal
        var Modal;
        var modalTriggered = false;
        var isValidJSON = function isValidJSON(value) {
          try {
            JSON.parse(value);
            return true;
          } catch (e) {
            return false;
          }
        };
        if (config.enablePrePopulation === "true") {
          checkLocalStorage();
        }
        function checkLocalStorage() {
          var _trackingDataParsed$;
          var localTrackingData = localStorage.getItem('detail-page-history');
          // 1. Check if localStorage item exists
          // 2. Check if the value of the localStorage item is valid JSON
          // 3. If it's valid JSON, parse it. Else set to empty array
          var trackingDataParsed = localTrackingData !== null && isValidJSON(localTrackingData) ? JSON.parse(localTrackingData) : null;
          var trackingID = Array.isArray(trackingDataParsed) && trackingDataParsed ? (_trackingDataParsed$ = trackingDataParsed[0]) === null || _trackingDataParsed$ === void 0 || (_trackingDataParsed$ = _trackingDataParsed$.trackNumberInfo) === null || _trackingDataParsed$ === void 0 ? void 0 : _trackingDataParsed$.trackingNumber : false;
          //Regular expression to validate AWB number from local storage
          var regex = /^(C-\d+|\d{7,34})$/i;
          if (regex.test(encodeURIComponent(trackingID))) {
            fetchLocalStorageAWBStatusDetails(trackingID);
          }
        }

        // Set view event for GDL form
        setViewAnalytic();
        bindInteractions();

        /**
         * Bind interactions events
         *
         * @private
         */
        function bindInteractions() {
          inputField.addEventListener('keyup', function (event) {
            hideAllHelperMessages();
            hint.classList.remove(CLASSES.isHidden);
            handleFieldKeyup(event);
          });
          inputField.addEventListener('focus', function () {
            hideAllHelperMessages();
            hint.classList.remove(CLASSES.isHidden);
          });
          reinitButtons.forEach(function (reinitButton) {
            return reinitButton.addEventListener('click', function () {
              return reInitiate(reinitButton);
            });
          });
          tooltipButton.addEventListener('click', toggleTooltip);
          fetchButton.addEventListener('click', fetchStatus);
          fetchButton.addEventListener('focus', validateInput); // For WACG compliance
        }

        ////////////////////////////////////////////
        /////// CASE STATUS LOOKUP FUNCTIONS ///////
        ////////////////////////////////////////////

        /**
         * Fetch Status
         * Trigger API fetch after input has been validated
         *
         */
        function fetchStatus() {
          if (validateInput()) {
            fireGenericInteraction(TAGS.caseCheckName, TAGS.caseNumberValid);
            inputWrapper.classList.add(CLASSES.isHidden);
            skeletonWrapper.classList.remove(CLASSES.isHidden);
            var caseNumber = encodeURIComponent(inputField.value.toUpperCase());
            lookedUpNumber = caseNumber;
            if (!config.apiURL.length > 0) {
              resultError();
              return;
            }
            fetch(config.apiURL + caseNumber).then(function (response) {
              if (response.ok) {
                response.json().then(function (data) {
                  data.cases[0].caseDescription ? resultSuccess(data, caseNumber) : resultError();
                })["catch"](function (error) {
                  resultError();
                });
              } else {
                switch (response.status) {
                  case 404:
                    resultNotFound();
                    break;
                  default:
                    resultError();
                }
              }
            })["catch"](function (error) {
              resultError();
            });
          } else {
            fireGenericInteraction(TAGS.caseCheckName, TAGS.caseNumberInvalid);
          }
        }

        /**
         * Fetch Status
         * Trigger API fetch after getting value from local storage
         *
         */
        function fetchLocalStorageAWBStatusDetails(awbNumber) {
          if (!config.apiURL.length > 0) {
            resultError();
            return;
          }
          fetch(config.apiURL + awbNumber).then(function (response) {
            if (response.ok) {
              inputWrapper.classList.add(CLASSES.isHidden);
              skeletonWrapper.classList.remove(CLASSES.isHidden);
              fireGenericInteraction(TAGS.caseCheckName, TAGS.statusPrePopulated);
              response.json().then(function (data) {
                data.cases[0].caseDescription ? resultSuccess(data, awbNumber) : resultError();
              });
            }
          });
        }

        /**
         * Result - Success
         * Handle component in case of a successful fetch
         *
         * @param {Object} data - The data as received from the API
         * @param {String} caseNumber - The case number used by the user
         * @param {String} fetchType - 'initial' (default) or 'refetch' (prevents sending analytics)
         *
         */
        function resultSuccess(data, caseNumber) {
          var fetchType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'initial';
          responseCaseNumber.textContent = caseNumber;
          renderResult(data, responseSuccessTable);
          showResult(responseSuccessWrapper);
          if (fetchType === 'initial') fireFormInteraction('submit', {
            inputType: data.type,
            inputValue: caseNumber,
            totalResults: data.cases.length,
            totalResultsResovable: data.cases.filter(function (item) {
              return item.resolvable;
            }).length
          });
        }

        /**
         * Result - Error
         * Handle component in case of a general error
         *
         */
        function resultError() {
          responseError.textContent = config.failureMessage;
          showResult(responseErrorWrapper);
          fireErrorInteraction(TAGS.caseCheckName, 'server', TAGS.apiError);
        }

        /**
         * Result - Not Found
         * Handle component when a case number cannot be found
         *
         */
        function resultNotFound() {
          responseError.textContent = config.caseNotFoundMessage;
          showResult(responseErrorWrapper);
          fireErrorInteraction(TAGS.caseCheckName, 'validation', TAGS.caseNotFound);
        }

        /**
         * Show Result
         * Update UI elements to show the result
         *
         * @param {Element} wrapperElement - The wrapper element that needs to be shown
         *
         */
        function showResult(wrapperElement) {
          skeletonWrapper.classList.add(CLASSES.isHidden);
          wrapperElement.classList.remove(CLASSES.isHidden);
          resultTitle.classList.remove(CLASSES.isHidden);
          initialTitle.classList.add(CLASSES.isHidden);
          result.classList.remove(CLASSES.isHidden);
        }

        /**
         * Render Result
         * Render table rows for result table
         *
         * @param {Object} data - The data as received from the API
         * @param {String} injectContainer - The element in that DOM where content gets injected
         *
         */
        function renderResult(data, injectContainer) {
          // Important: Update colspan in case more items are added to the table in the future

          var numberOfCases = data.cases.length;
          var template = "\n            ".concat(data.cases.map(function (item, index) {
            var uniqueId = Math.random().toString().substring(2);
            return "\n              <tr class=\"cc-aem-c-table__tbody__tr cc-aem-u-p--0 cc-aem-u-pt--3\" aria-describedby=\"RESULT-ID-".concat(uniqueId, "\">\n                <td class=\"cc-aem-c-table__tbody__td ").concat(CLASSES.borderBottomNoneSmall, " ").concat(CLASSES.borderBottomNoneXSmall, " cc-aem-u-font-size--small cc-aem-u-border--top@small-only cc-aem-u-border--top@x-small-only\" data-label=\"").concat(config.caseColumnText, "\">").concat(item.id, "</td>\n                <td class=\"cc-aem-c-table__tbody__td ").concat(CLASSES.borderBottomNoneSmall, " ").concat(CLASSES.borderBottomNoneXSmall, " cc-aem-u-font-size--small cc-aem-u-border--top@small-only cc-aem-u-border--top@x-small-only\" data-label=\"Status\"><span class=\"cc-aem-c-badge cc-aem-c-badge--pill ").concat(item.status == "OPEN" ? "cc-aem-c-badge--primary" : "cc-aem-c-badge--tertiary", "\" >").concat(item.statusLocalized, "</span></td>\n                <td class=\"cc-aem-c-table__tbody__td ").concat(CLASSES.borderBottomNoneSmall, " ").concat(CLASSES.borderBottomNoneXSmall, " cc-aem-u-font-size--small cc-aem-u-border--top@small-only cc-aem-u-border--top@x-small-only js-fxg-casestatus-last-update-label\" data-label=\"last Updated\">").concat(item.lastUpdateTime != "" ? item.lastUpdateTime : "", "</td>\n                <td class=\"cc-aem-c-table__tbody__td ").concat(index == 0 ? "".concat(CLASSES.borderBottomNoneSmall, " ").concat(CLASSES.borderBottomNoneXSmall) : '', " cc-aem-u-p--0 cc-aem-u-align--center@x-small-only cc-aem-u-align--center@small-only cc-aem-u-align--right@medium cc-aem-u-bg-color--white cc-aem-u-bg-color--grey-10@medium\" data-label=\"\" ").concat(numberOfCases == 1 ? "aria-hidden=\"true\"" : "", ">\n                ").concat(numberOfCases !== 1 ? "\n                  <button id=\"ACCORDION-BUTTON-ID-".concat(uniqueId, "\" class=\"cc-aem-c-button cc-aem-c-button--text js-fxg-casestatus-more-info-button cc-aem-u-p--3\" aria-label=\"").concat(item.id, ": ").concat(config.toggleText, "\" aria-describedby=\"RESULT-ID-").concat(uniqueId, "\" aria-expanded=\"").concat(index == 0 ? 'true' : 'false', "\" aria-controls=\"RESULT-ID-").concat(uniqueId, "\" data-opened-by-default=\"").concat(index == 0 ? 'true' : 'false', "\" data-interaction-amount=\"0\">\n                    <span class=\"cc-aem-c-button__title ").concat(CLASSES.isHidden, "@medium\">").concat(config.toggleText, "</span>\n                    <fdx-icon class=\"cc-aem-c-button__icon ").concat(index == 0 ? CLASSES.rotate : '', "\" aria-hidden=\"true\">\n                      <svg class=\"cc-aem-c-icon\" aria-hidden=\"true\" focusable=\"false\" role=\"presentation\">\n                        <use xlink:href=\"#chevron\"></use>\n                      </svg>\n                    </fdx-icon>\n                  </button>\n                ") : '', "\n                </td>\n              </tr>\n              <tr class=\"cc-aem-c-table__tbody__tr cc-aem-u-p--0 ").concat(index == 0 ? '' : CLASSES.isHidden, " js-fxg-casestatus-more-info-container\" ").concat(index == 0 ? '' : 'hidden', ">\n                <td class=\"cc-aem-c-table__tbody__td cc-aem-u-bg-color--white cc-aem-u-border--top-none\" colspan=\"4\" data-label=\"\">\n                <p id=\"RESULT-ID-").concat(uniqueId, "\" ").concat(numberOfCases !== 1 ? "aria-labelledby=\"ACCORDION-BUTTON-ID-".concat(uniqueId, "\"") : '', " class=\"cc-aem-c-paragraph cc-aem-c-paragraph--small cc-aem-u-pt--2\">").concat(sanitizeHTML(item.caseDescription), "</p>\n                ").concat(item.resolvable && config.enableCloseCase === 'true' ? "\n                <button class=\"cc-aem-c-button cc-aem-c-button--loading cc-aem-c-button--text cc-aem-c-button--text-condensed js-fxg-casestatus-close-case-button\" aria-label=\"".concat(item.id, ": ").concat(config.closeCaseButtonText, "\" aria-describedby=\"RESULT-ID-").concat(uniqueId, "\">\n                    <span class=\"cc-aem-c-button__loading-container\">\n                        <span class=\"cc-aem-c-button__title\">").concat(config.closeCaseButtonText, "</span>\n                        <span class=\"cc-aem-c-button__loading\">\n                            <div class=\"cc-aem-c-loader cc-aem-c-loader--medium\"></div>\n                        </span>\n                    </span>\n                </button>\n                ") : "", "\n                </td>\n              </tr>\n            ");
          }).join(''), "\n          ");

          // Resets for content
          injectContainer.innerHTML = "";
          latestUpdateMessage.innerHTML = "";
          resultHiddenAlert.innerHTML = "";

          // Set new content
          injectContainer.insertAdjacentHTML('afterbegin', template);
          latestUpdateMessage.insertAdjacentHTML('afterbegin', data.type === "CASE" ? config.latestUpdateMessage : config.latestUpdateMessageAWB);
          resultHiddenAlert.innerHTML = sanitizeHTML(data.cases[0].caseDescription);

          // Populate moreInfoContainers array after dynamic render is completed
          moreInfoContainers = element.querySelectorAll(".".concat(SELECTORS.moreInfoContainer));

          // Populate moreInfoButtons array after dynamic render is completed
          moreInfoButtons = element.querySelectorAll(".".concat(SELECTORS.moreInfoButton));

          // Populate closeCaseButtons array after dynamic render is completed
          closeCaseButtons = element.querySelectorAll(".".concat(SELECTORS.closeCaseButton));
          moreInfoButtons.forEach(function (moreInfoButton, index) {
            return moreInfoButton.addEventListener('click', function () {
              return toggleMoreInfoContainer(moreInfoButton, index, data);
            });
          });

          // Trigger and populate Close Case Modal for specific case number
          closeCaseButtons.forEach(function (closeCaseButton, index) {
            closeCaseButton.addEventListener('click', function () {
              fireGenericInteraction(TAGS.caseCheckName, TAGS.closeCase);
              showCloseCaseModal(data, index);
            });
          });
        }

        /**
         * Sanitize HTML
         * Return clean HTML (only allow text, a and href)
         *
         * @param {String} input - unsanitized HTML
         *
         */
        function sanitizeHTML(input) {
          var allowedTags = ['a'];
          var allowedAttributes = ['href'];
          var temporaryDiv = document.createElement('div');
          temporaryDiv.innerHTML = input;

          // Iterate through all elements in the temporary div
          temporaryDiv.querySelectorAll('*').forEach(function (element) {
            // If the element is not in the allowed tags list, remove it
            if (!allowedTags.includes(element.tagName.toLowerCase())) {
              element.remove();
              return;
            }

            // Iterate through all attributes of the element
            Array.from(element.attributes).forEach(function (attribute) {
              // If the attribute is not in the allowed attributes list, remove it
              if (!allowedAttributes.includes(attribute.name.toLowerCase())) {
                element.removeAttribute(attribute.name);
              }

              // If the attribute is 'href', check for 'javascript:' or 'data:' prefix and remove it
              if (attribute.name.toLowerCase() === 'href') {
                var hrefValue = attribute.value.toLowerCase();
                if (hrefValue.startsWith('javascript:') || hrefValue.startsWith('data:') || hrefValue.startsWith("vbscript:")) {
                  element.removeAttribute('href');
                }
              }
            });
          });
          return temporaryDiv.innerHTML;
        }

        /**
         * Re-initiate component
         * Re-initiate component and send relevant analytics
         *
         * @param {Element} reinitButton - The button that was clicked to re-initate the component
         *
         */
        function reInitiate(reinitButton) {
          // Track only the first re-initiation of the component for GDL
          if (reinitButton.dataset.hasInteracted === 'false') {
            var payload = reinitButton.dataset.buttonType === 'success' ? TAGS.checkAnotherTicket : TAGS.tryAgain;
            fireGenericInteraction(TAGS.caseCheckName, payload);
            reinitButton.dataset.hasInteracted = true;
          }
          hideAllHelperMessages();

          // View event for the form needs to be reinited given a successful request, since a submit event has been sent
          if (reinitButton.dataset.buttonType === 'success') fireFormInteraction('view');

          // Force to only add isHidden, not remove if present already
          responseErrorWrapper.classList.toggle(CLASSES.isHidden, true);
          responseSuccessWrapper.classList.toggle(CLASSES.isHidden, true);
          result.classList.add(CLASSES.isHidden);
          inputWrapper.classList.remove(CLASSES.isHidden);
          resultTitle.classList.add(CLASSES.isHidden);
          initialTitle.classList.remove(CLASSES.isHidden);
          resultHiddenAlert.innerHTML = "";
          resolveWrapper.innerHTML = "";

          // Reset focus to input field on re-initiation
          inputField.focus();
        }

        /**
         * Toggle Tooltip
         *
         */
        function toggleTooltip() {
          // Not resetting toolTipContent here, since its state needs to be remembered
          formMessage.classList.toggle(CLASSES.isHidden, true);
          hint.classList.toggle(CLASSES.isHidden, true);
          toolTipContent.classList.toggle(CLASSES.isHidden);
          // Track only the first interaction
          if (tooltipButton.dataset.hasInteracted === 'false') {
            fireGenericInteraction(TAGS.caseCheckName, TAGS.tooltip);
            tooltipButton.dataset.hasInteracted = true;
          }
        }

        /**
         * Toggle More Info Container
         *
         */
        function toggleMoreInfoContainer(moreInfoButton, index, data) {
          var isAriaExpanded = moreInfoButton.getAttribute('aria-expanded') === 'true';

          // Set WACG result message
          isAriaExpanded ? resultHiddenAlert.innerHTML = "" : resultHiddenAlert.innerHTML = data.cases[index].caseDescription;

          // Increase interaction amount on every click
          moreInfoButton.dataset.interactionAmount = Number(moreInfoButton.dataset.interactionAmount) + 1;

          // Update aria-expanded for button
          moreInfoButton.setAttribute('aria-expanded', isAriaExpanded ? 'false' : 'true');

          // Update hidden state for container
          moreInfoContainers[index].hidden = !moreInfoContainers[index].hidden;

          // Handle toggles
          moreInfoButton.querySelector('fdx-icon').classList.toggle(CLASSES.rotate);
          moreInfoContainers[index].classList.toggle(CLASSES.isHidden);
          moreInfoButton.parentElement.classList.toggle(CLASSES.borderBottomNoneSmall);
          moreInfoButton.parentElement.classList.toggle(CLASSES.borderBottomNoneXSmall);
          var actionType = moreInfoButton.dataset.interactionAmount == 1 ? moreInfoButton.dataset.openedByDefault == 'true' ? 'close' : 'open' : moreInfoButton.dataset.openedByDefault == 'true' ? 'open' : 'close';

          // Track a maximum of two interactions per button
          if (moreInfoButton.dataset.interactionAmount <= 2) {
            fireGenericInteraction(TAGS.caseCheckName, actionType);
          }
        }

        /**
         * Validate input field
         *
         */
        function validateInput() {
          // Allowed format: "C-" or "c-" followed by any amount of digits OR any number between 7 and 34 digits
          var regex = /^(C-\d+|\d{7,34})$/i;
          hideAllHelperMessages();
          formMessage.classList.remove(CLASSES.isHidden);
          if (regex.test(encodeURIComponent(inputField.value))) {
            formMessageSuccess.classList.remove(CLASSES.isHidden);
            formMessageError.classList.add(CLASSES.isHidden);
            fetchButton.setAttribute('aria-describedby', "SUCCESS-ID-".concat(config.uuid));
            return true;
          } else {
            formMessageSuccess.classList.add(CLASSES.isHidden);
            formMessageError.classList.remove(CLASSES.isHidden);
            fetchButton.setAttribute('aria-describedby', "ERROR-ID-".concat(config.uuid));
            return false;
          }
        }

        /**
         * Hide All Helper Messages
         * Reset function to hide all helper messages
         *
         * 1. Wrapper around regex messages (true and false)
         * 2. Message when clicking 'i'
         * 3. Hint message with instructions to pass regex
         *
         */
        function hideAllHelperMessages() {
          formMessage.classList.toggle(CLASSES.isHidden, true);
          toolTipContent.classList.toggle(CLASSES.isHidden, true);
          hint.classList.toggle(CLASSES.isHidden, true);
        }

        ///////////////////////////////////
        /////// CLOSE CASE FUNCTIONS //////
        ///////////////////////////////////

        /**
         * Show and populate Close Case Modal for specific case number
         *
         * @param {Object} data - Data related to specific case
         * @param {Number} index - Index indicating specific case
         */
        function showCloseCaseModal(data, index) {
          var caseId = data.cases[index].id;
          var modalTemplate = "\n          <h1 class=\"cc-aem-c-heading cc-aem-c-heading--h4 cc-aem-u-align--center\" ".concat(requestAllowed(caseId, 'get') ? "aria-describedby=\"MODAL-DESCRIPTION-ID-".concat(config.uuid, "\"") : "aria-describedby=\"ATTEMPTS-ERROR-ID-".concat(config.uuid, "\""), ">").concat(config.modalTitle, "</h1>\n          <p id=\"MODAL-DESCRIPTION-ID-").concat(config.uuid, "\" class=\"cc-aem-c-paragraph cc-aem-u-mt--4 cc-aem-u-align--center\">").concat(config.modalText, "</p>\n\n          <div class=\"cc-aem-c-form cc-aem-c-form--text js-fxg-casestatus-postal-code-form ").concat(requestAllowed(caseId, 'get') ? '' : CLASSES.isHidden, "\">\n            <label for=\"POSTAL-CODE-INPUT-ID-").concat(config.uuid, "\" class=\"cc-aem-c-form__label\">").concat(config.modalFormFieldTitle, "</label>\n            <input id=\"POSTAL-CODE-INPUT-ID-").concat(config.uuid, "\" type=\"text\" class=\"cc-aem-c-form__input ").concat(SELECTORS.postalCodeInputField, "\">\n            <div class=\"cc-aem-c-form__indicator\"></div>\n            <span class=\"cc-aem-c-form__hint js-fxg-casestatus-close-hint cc-aem-c-form__message__item--error ").concat(CLASSES.isHidden, "\" id=\"POSTAL-CODE-ERROR-ID-").concat(config.uuid, "\">\n              <fdx-icon class=\"cc-aem-c-form__message__item__icon\" aria-hidden=\"true\">\n                <svg class=\"cc-aem-c-icon\" aria-hidden=\"true\" focusable=\"false\" role=\"presentation\">\n                    <use xlink:href=\"#utility_cross-fat\"></use>\n                </svg>\n              </fdx-icon>\n              ").concat(config.modalValidationMessageFalse, "\n            </span>\n          </div>\n\n          <div class=\"cc-aem-c-button-group cc-aem-c-button-group--align-center cc-aem-c-button-group--gap cc-aem-u-mt--8 ").concat(requestAllowed(caseId, 'get') ? '' : CLASSES.isHidden, "\">\n            <button class=\"cc-aem-c-button cc-aem-c-button--loading cc-aem-c-button--primary js-fxg-casestatus-button-close-case-fetch\">\n              <span class=\"cc-aem-c-button__loading-container\">\n                  <span class=\"cc-aem-c-button__title\" aria-label=\"").concat(config.modalSubmitButtonText, ": ").concat(caseId, "\">").concat(config.modalSubmitButtonText, "</span>\n                  <span class=\"cc-aem-c-button__loading\">\n                      <div class=\"cc-aem-c-loader cc-aem-c-loader--white cc-aem-c-loader--medium\"></div>\n                  </span>\n              </span>\n            </button>\n          </div>\n\n          ").concat(requestAllowed(caseId, 'get') ? "" : "<div class=\"cc-aem-c-inline-message cc-aem-c-inline-message--error cc-aem-u-mt--4\" aria-labelledby=\"ATTEMPTS-ERROR-ID-".concat(config.uuid, "\" role=\"alert\" aria-live=\"assertive\">\n              <div class=\"cc-aem-c-inline-message__icon\">\n                  <fdx-icon class=\"\" aria-hidden=\"true\">\n                      <svg class=\"cc-aem-c-icon\" aria-hidden=\"true\" focusable=\"false\" role=\"presentation\">\n                          <use xlink:href=\"#exclamation-triangle\"></use>\n                      </svg>\n                  </fdx-icon>\n              </div>\n              <div class=\"cc-aem-c-inline-message__body\" id=\"ATTEMPTS-ERROR-ID-").concat(config.uuid, "\">\n                  <span class=\"cc-aem-c-inline-message__body__message-type\">").concat(config.wcagError, "</span>\n                  <span class=\"cc-aem-c-inline-message__title\">").concat(config.attemptsErrorTitle, "</span>\n                  <p class=\"cc-aem-u-m--0 cc-aem-u-fontweight--light\">").concat(config.attemptsErrorText, "</p>\n              </div>\n          </div>"), "\n\n          <div class=\"cc-aem-c-button-group cc-aem-c-button-group--align-center cc-aem-c-button-group--gap cc-aem-u-mt--4\">\n            <button class=\"cc-aem-c-button cc-aem-c-button--loading cc-aem-c-button--text cc-aem-c-button--text-condensed js-fxg-casestatus-button-modal-close\" aria-label=\"").concat(config.modalCancelButtonText, "\">\n                <span class=\"cc-aem-c-button__loading-container\">\n                    <span class=\"cc-aem-c-button__title\">").concat(config.modalCancelButtonText, "</span>\n                    <span class=\"cc-aem-c-button__loading\">\n                        <div class=\"cc-aem-c-loader cc-aem-c-loader--medium\"></div>\n                    </span>\n                </span>\n            </button>\n          </div>\n          ");

          // Only fire 'too many attempts' analytics if request is not allowed
          if (!requestAllowed(caseId, 'get')) {
            fireGenericInteraction(TAGS.caseCloseName, TAGS.tooManyAttempts);
          }
          ;

          // Initialize modal only once
          if (!modalTriggered) {
            modalTriggered = true;
            Modal = window.FDX.components.modal.create;
            Modal[config.uuid] = Modal();
          }

          // Set modal content based on case specific template
          Modal[config.uuid].set(modalTemplate);

          // Event binding for modal
          var modalElement = Modal[config.uuid].getElement();
          var postalCodeForm = modalElement.querySelector(".".concat(SELECTORS.postalCodeForm));
          var postalCodeHint = modalElement.querySelector(".".concat(SELECTORS.hintPostalcode));
          var closeCaseFetchButton = modalElement.querySelector(".".concat(SELECTORS.closeCaseFetchButton));
          var modalCloseButton = modalElement.querySelector(".".concat(SELECTORS.modalCloseButton));
          var handleResolveSubmit = function handleResolveSubmit() {
            // Allowed format: 1-100 chars
            var regex = /^(?!\s)[\s\S]{1,100}$/;
            var postalCode = postalCodeForm.querySelector('input').value;
            if (regex.test(postalCode)) {
              requestAllowed(caseId) ? resolveCase(caseId, postalCode) : '';
              fireGenericInteraction(TAGS.caseCloseName, TAGS.postalCodeValid);
            } else {
              postalCodeHint.classList.remove(CLASSES.isHidden);
              fireGenericInteraction(TAGS.caseCloseName, TAGS.postalCodeInvalid);
            }
          };
          var handleCloseModal = function handleCloseModal() {
            Modal[config.uuid].close();
            fireGenericInteraction(TAGS.caseCloseName, TAGS.cancelModal);
          };
          closeCaseFetchButton.addEventListener('click', handleResolveSubmit);
          modalCloseButton.addEventListener('click', handleCloseModal);
          Modal[config.uuid].open();
        }

        /**
         * Request Allowed
         * Check if a specific case is allowed to be resolved
         * Store attempt in sessionStorage
         *
         * @param {String} action - 'set' (update + do check) or 'get' (just check)
         * @param {String} caseId - The case id that needs to be resolved
         */
        function requestAllowed(caseId) {
          var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'set';
          var caseStatusCloseAttempts = sessionStorage.getItem('caseStatusCloseAttempts') || '[]';
          var caseStatusCloseAttemptsArray = JSON.parse(caseStatusCloseAttempts);
          var existingCase = caseStatusCloseAttemptsArray.find(function (item) {
            return item.caseId === caseId;
          });
          if (action === 'get') {
            return existingCase ? existingCase.attempts < 3 : true;
          }
          var requestAllowed = true;
          if (existingCase) {
            existingCase.attempts += 1;
            requestAllowed = existingCase.attempts <= 3;
          } else {
            caseStatusCloseAttemptsArray.push({
              caseId: caseId,
              attempts: 1
            });
          }
          sessionStorage.setItem('caseStatusCloseAttempts', JSON.stringify(caseStatusCloseAttemptsArray));
          return requestAllowed;
        }

        /**
         * Resolve Case
         * Trigger API resolve fetch after input has been validated
         *
         * @param {String} caseId - The case id that needs to be resolved
         * @param {String} postalCode - The postal code that needs to be verified
         */
        function resolveCase(caseId, postalCode) {
          fetch(config.closeCaseApiURL, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify({
              caseId: caseId,
              postalCode: postalCode
            })
          }).then(function (response) {
            Modal[config.uuid].close();
            if (response.ok) {
              resolveSuccess(caseId);
            } else {
              switch (response.status) {
                case 400:
                  resolveValidationError(caseId);
                  break;
                default:
                  resolveServerError(caseId);
              }
            }
          })["catch"](function (error) {
            Modal[config.uuid].close();
            resolveServerError(caseId);
          });
        }

        /**
         * Resolve Success
         * Handle component when a case is successfully resolved
         *
         * @param {String} caseId - The case id that needs to be resolved
         */
        function resolveSuccess(caseId) {
          renderResolveResult("success", caseId);
          updateTable(lookedUpNumber);
          fireGenericInteraction(TAGS.caseCloseName, "success_caseNumber-".concat(caseId));
        }

        /**
         * Resolve Server Error
         * Handle component when a resolving a case resulted in a server error
         *
         * @param {String} caseId - The case id that needs to be resolved
         */
        function resolveServerError(caseId) {
          renderResolveResult("error", caseId);
          fireErrorInteraction(TAGS.caseCloseName, 'server', TAGS.apiError);
        }

        /**
         * Resolve Validation Error
         * Handle component when a resolving a case resulted in a validation error
         *
         * @param {String} caseId - The case id that needs to be resolved
         */
        function resolveValidationError(caseId) {
          renderResolveResult("error", caseId);
          fireErrorInteraction(TAGS.caseCloseName, 'validation', TAGS.validationError);
        }

        /**
         * Render Resolve Result
         * Render resolve result message (Success or Error)
         *
         * @param {String} status - 'success' or 'error'
         * @param {String} caseId - The case id that needs to be resolved
         */
        function renderResolveResult(status, caseId) {
          resolveWrapper.innerHTML = "";
          var template = "\n          <div class=\"cc-aem-u-mb--3 js-fxg-casestatus-resolve-message cc-aem-c-inline-message cc-aem-c-inline-message--".concat(status == 'error' ? 'error' : 'success', "\" aria-labelledby=\"RESOLVE-RESULT-ID-").concat(config.uuid, "\">\n              <div class=\"cc-aem-c-inline-message__icon\">\n                  <fdx-icon class=\"\" aria-hidden=\"true\">\n                      <svg class=\"cc-aem-c-icon\" aria-hidden=\"true\" focusable=\"false\" role=\"presentation\">\n                          <use xlink:href=\"#").concat(status == 'error' ? 'exclamation-triangle' : 'utility_checkmark-fat', "\"></use>\n                      </svg>\n                  </fdx-icon>\n              </div>\n              <div class=\"cc-aem-c-inline-message__body\" id=\"RESOLVE-RESULT-ID-").concat(config.uuid, "\" role=\"alert\" aria-live=\"assertive\">\n                <span class=\"cc-aem-c-inline-message__body__message-type\">").concat(status == 'error' ? config.wcagError : config.wcagSuccess, "</span>\n                <span class=\"cc-aem-c-inline-message__title\">").concat(status == 'error' ? config.closeCaseErrorTitle : "".concat(caseId, " - ").concat(config.closeCaseSuccessTitle), "</span>\n                <p class=\"cc-aem-u-m--0 cc-aem-u-fontweight--light\">").concat(status == 'error' ? config.closeCaseErrorText : config.closeCaseSuccessText, "</p>\n              </div>\n              <div class=\"cc-aem-c-toast__footer\">\n                  <button class=\"cc-aem-c-toast__button js-fxg-casestatus-button-close-resolve-message\" aria-label=\"").concat(config.wcagClose, "\">\n                      <svg class=\"cc-aem-c-icon\" aria-hidden=\"true\">\n                          <use href=\"#cross\"></use>\n                      </svg>\n                  </button>\n              </div>\n          </div>\n          ");
          resolveWrapper.insertAdjacentHTML('afterbegin', template);
          var resolveMessage = element.querySelector(".".concat(SELECTORS.resolveMessage));
          var closeResolveMessageButton = element.querySelector(".".concat(SELECTORS.closeResolveMessageButton));
          closeResolveMessageButton.addEventListener("click", function () {
            resolveMessage.remove();
          });
        }

        /**
         * Update Table
         * Trigger API fetch to update table
         *
         * @param {String} previousLookUpNumber - The case number previously used by the user
         */
        function updateTable(previousLookUpNumber) {
          fetch(config.apiURL + previousLookUpNumber).then(function (response) {
            if (response.ok) {
              response.json().then(function (data) {
                data.cases[0].caseDescription ? resultSuccess(data, previousLookUpNumber, 'refetch') : '';
              })["catch"](function (error) {
                return;
              });
            } else {
              return;
            }
          })["catch"](function (error) {
            return;
          });
        }

        /////////////////////////////////
        ////// ANALYTICS FUNCTIONS //////
        /////////////////////////////////

        /**
         * Fire Generic Interaction
         * Fires the GDL Generic Interaction event
         *
         * Docs: https://gdl-master.devapp.paas.fedex.com/testbed.generic-interaction.html
         *
         * @param {String} payload - The string to be sent with this GDL event
         */
        function fireGenericInteraction(name, payload) {
          if (_typeof(window.FDX.GDL) !== 'object') return;
          window.FDX.GDL.push(['event:publish', ['interaction', 'click', {
            name: name,
            value: payload
          }]]);
        }

        /**
         * Fire Error Interaction
         * Fires the GDL Error Interaction event
         *
         * Docs: https://gdl-master.devapp.paas.fedex.com/testbed.error.html
         *
         * @param {String} source - The source name of the error
         * @param {String} type - The type of error, either validation or server
         * @param {String} message - The error message, or error code if available
         */
        function fireErrorInteraction(source, type, message) {
          if (_typeof(window.FDX.GDL) !== 'object') return;
          window.FDX.GDL.push(['event:publish', ['error', 'error', {
            type: type,
            source: source,
            message: message
          }]]);
        }

        /**
         * Fire Form Interaction
         * Fires GDL form events
         *
         * Docs: https://gdl-master.devapp.paas.fedex.com/testbed.form.html
         *
         * @param {string} eventName - Name of the GDL event
         * @param {Object} data - The data to be sent to GDL (optional)
         */
        function fireFormInteraction(eventName, data) {
          // Only fire if GDL is available
          if (_typeof(window.FDX.GDL) !== 'object') return;
          window.FDX.GDL.push(['event:publish', ['form', eventName, _objectSpread({
            name: TAGS.caseCheckName,
            componentType: TAGS.componentType
          }, data && {
            data: data
          })]]);
        }

        /**
         * Set View Analaytic
         * Fires the GDL View Interaction event for Form
         *
         * Docs: https://gdl-master.devapp.paas.fedex.com/testbed.form.html
         *
         * @private
         */
        function setViewAnalytic() {
          // Check if GDL is already available, if so send out the analytics event
          // Check every 100ms is GDL is ready, if not abandon the event

          var delay = 100;
          var maxCheck = 100;
          var intervalCheck = 0;
          var gdlInterval = setInterval(function () {
            if (intervalCheck > maxCheck) {
              clearInterval(gdlInterval);
            } else {
              intervalCheck += 1;
              if (FDX.GDL && FDX.GDL.params && FDX.GDL.params.gdl && FDX.GDL.params.gdl.ready) {
                clearInterval(gdlInterval);
                fireFormInteraction('view');
              }
            }
          }, delay);
        }

        /**
        * Hande Field Key Up
        * Input field type action tracing, updates case number query in GDL
        *
        * @param {Object} event
        */
        function handleFieldKeyup(event) {
          var caseNumber = encodeURIComponent(event.target.value);
          if (firstChange) {
            // Mark first change
            firstChange = false;
            fireFormInteraction('start-interaction', {
              caseNumber: caseNumber
            });
          } else {
            fireFormInteraction('update-data', {
              caseNumber: caseNumber
            });
          }
        }

        // pass private attributes and methods to jest
        if (typeof jest !== 'undefined') {
          checkLocalStorage = jest.fn(checkLocalStorage);
          fetchLocalStorageAWBStatusDetails = jest.fn(fetchLocalStorageAWBStatusDetails);
          bindInteractions = jest.fn(bindInteractions);
          handleFieldKeyup = jest.fn(handleFieldKeyup);
          validateInput = jest.fn(validateInput);
          resultSuccess = jest.fn(resultSuccess);
          resultNotFound = jest.fn(resultNotFound);
          resultError = jest.fn(resultError);
          reInitiate = jest.fn(reInitiate);
          fetchStatus = jest.fn(fetchStatus);
          showResult = jest.fn(showResult);
          renderResult = jest.fn(renderResult);
          showCloseCaseModal = jest.fn(showCloseCaseModal);
          requestAllowed = jest.fn(requestAllowed);
          resolveCase = jest.fn(resolveCase);
          resolveSuccess = jest.fn(resolveSuccess);
          resolveServerError = jest.fn(resolveServerError);
          resolveValidationError = jest.fn(resolveValidationError);
          renderResolveResult = jest.fn(renderResolveResult);
          updateTable = jest.fn(updateTable);
          instance.$private = function () {
            return {
              checkLocalStorage: checkLocalStorage,
              fetchLocalStorageAWBStatusDetails: fetchLocalStorageAWBStatusDetails,
              bindInteractions: bindInteractions,
              handleFieldKeyup: handleFieldKeyup,
              validateInput: validateInput,
              resultSuccess: resultSuccess,
              resultNotFound: resultNotFound,
              resultError: resultError,
              reInitiate: reInitiate,
              fetchStatus: fetchStatus,
              showResult: showResult,
              renderResult: renderResult,
              showCloseCaseModal: showCloseCaseModal,
              requestAllowed: requestAllowed,
              resolveCase: resolveCase,
              resolveSuccess: resolveSuccess,
              resolveServerError: resolveServerError,
              resolveValidationError: resolveValidationError,
              renderResolveResult: renderResolveResult,
              updateTable: updateTable
            };
          };
        }

        ///////////////////////////////////
        ////// END CASE STATUS LOGIC //////
        ///////////////////////////////////

        // initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement
      };
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();
      var initPromises = [];

      // find all related elements
      $(selector).each(function () {
        // skip already initialized elements
        var $element = $(this);
        if ($element.data('initialized')) return;

        // create instance
        var instance = window.FDX.components.casestatus.create();

        // set configuration
        var $config = $('[data-config="js-fxg-casestatus-config"]', $element);
        if ($config.length) {
          instance.setConfig(JSON.parse($config.html().trim()));
        }

        // initialize instance
        var initPromise = instance.init($element);
        initPromises.push(initPromise);
      });

      // resolve after all inits
      $.when.apply($, initPromises).then(function () {
        promise.resolve();
      });
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _);

/***/ }),

/***/ 1328:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 1336:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 1384:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 1440:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 1452:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 1547:
/***/ (function() {

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
/**
 * FAQ LIST
 *
 * A component that lists FAQ items in different views
 */

(function ($, _) {
  window.FDX.components.faqlist = function () {
    /**
      * @type {Object[]} list of instances
      */
    var instances = [];

    /**
      * @type {string} root selector
      */
    var selector = '.fxg-faqlist';
    var SETTINGS = {
      component: 'faqlist'
    };
    var SELECTORS = {
      accordion: ".js-".concat(SETTINGS.component, "-accordion"),
      accordionButton: ".js-".concat(SETTINGS.component, "-accordion-button")
    };

    /**
      * Create component instance
      *
      * @public
      * @return {Object} instance
      */
    function create() {
      /**
        * @type {Object} configuration
        */
      var config = {};

      /**
        * @type {Object} jQuery DOM root element
        */
      var $root = null;

      /**
        * Set configuration
        *
        * @public
        * @param {Object} _config - key/value pair
        * @return {Object} instance
        */
      function setConfig(_config) {
        var defaultConfig = {};
        config = $.extend({}, defaultConfig, _config);
      }
      ;

      /**
        * Render HTML
        *
        * @private
        * @return {Promise<string>} - A promise that resolves with rendered HTML
        */
      function render() {}

      /**
        * Initialize component instance
        *
        * @public
        * @param {Object} [_$root] - component root element (optional)
        * @return {Promise} - A promise that resolves when instance is initiated
        */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;
        var element = $root[0];

        ///////////////////////////////////
        ////// START ACCORDION LOGIC //////
        ///////////////////////////////////

        var isAccordion = element.querySelector(SELECTORS.accordion) ? true : false;
        if (isAccordion) {
          var accordionViewType = element.querySelector(SELECTORS.accordion).getAttribute('view-type');
          var accordionButtons = element.querySelectorAll(SELECTORS.accordionButton);
          var _loop = function _loop(i) {
            accordionButtons[i].dataset.hasInteracted = false;
            accordionButtons[i].addEventListener('click', function () {
              return handleButtonClick(accordionButtons[i], accordionViewType);
            });
          };
          for (var i = 0; i < accordionButtons.length; i++) {
            _loop(i);
          }
        }

        /**
         * Handle Accordion Button Click
         *
         * @param {HTMLElement} button - Clicked accordion button
         * @param {String} accordionViewType - The view type of the accordion ('faqaf' or faqasp)
         */
        function handleButtonClick(button, accordionViewType) {
          var analyticsAttribute = button.dataset.analyticsJs;
          var ariaExpanded = button.getAttribute('aria-expanded');
          var accordionItem = button.nextElementSibling;

          // Toggle (accessibility) attributes
          ariaExpanded = ariaExpanded == 'true' ? false : true;
          button.setAttribute('aria-expanded', ariaExpanded);
          accordionItem.hidden = accordionItem.hidden ? false : true;

          // Track only the first interaction with each accordion item
          if (button.dataset.hasInteracted === "false") {
            fireAccordionInteraction(analyticsAttribute, accordionViewType);
            button.dataset.hasInteracted = true;
          }
        }

        /**
         * Fire Accordion Interaction
         * Fires the GDL Accordion Interaction event
         *
         * Docs: https://gdl-master.devapp.paas.fedex.com/testbed.accordion.html
         *
         * @param {String} analyticsAttribute - The analytics attribute of the page / XF from the accordion item
         * @param {String} accordionViewType - The view type of the accordion ('faqaf' or faqasp)
         */
        function fireAccordionInteraction(analyticsAttribute, accordionViewType) {
          if (_typeof(window.FDX.GDL) !== 'object') return;
          window.FDX.GDL.push(['event:publish', ['accordion', 'open-item', {
            item: analyticsAttribute,
            group: accordionViewType
          }]]);
        }

        ///////////////////////////////////
        /////// END ACCORDION LOGIC ///////
        ///////////////////////////////////

        // Initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement
      };
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();
      var initPromises = [];

      // find all related elements
      $(selector).each(function () {
        // skip already initialized elements
        var $element = $(this);
        if ($element.data('initialized')) return;

        // create instance
        var instance = window.FDX.components.faqlist.create();

        // Set configuration
        var $config = $('[data-config="js-faqlist-config"]', $element);
        if ($config.length) {
          instance.setConfig(JSON.parse($config.html().trim()));
        }

        // initialize instance
        var initPromise = instance.init($element);
        initPromises.push(initPromise);
      });

      // resolve after all inits
      $.when.apply($, initPromises).then(function () {
        promise.resolve();
      });
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _);

/***/ }),

/***/ 1593:
/***/ (function() {

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
(function () {
  window.FDX.components.carousel = function () {
    var instances = [];
    var selector = '.fxg-carousel';
    var carouselArray = [];
    var isRTL = function isRTL() {
      return document.documentElement.getAttribute('dir') === 'rtl';
    };
    var carouselConfig = {
      carouselClass: '.fxg-carousel__carousel',
      carouselOuter: '.owl-wrapper-outer',
      carouselOwlItem: '.owl-item',
      arrowClass: '.fxg-carousel__arrow',
      prevArrow: '.fxg-carousel__arrow-prev',
      nextArrow: '.fxg-carousel__arrow-next',
      carouselPage: '.owl-page',
      carouselWrapper: '.owl-wrapper',
      carouselInner: '.owl-wrapper-outer .owl-wrapper',
      carouselItem: '.owl-wrapper .owl-item'
    };

    // Utility: Fix transform for RTL
    var changeTransformXVal = function changeTransformXVal() {
      document.querySelectorAll(carouselConfig.carouselWrapper).forEach(function (wrapper) {
        ['webkitTransitionEnd', 'otransitionend', 'oTransitionEnd', 'msTransitionEnd', 'transitionend'].forEach(function (event) {
          wrapper.addEventListener(event, changeTransformOnLoad);
        });
      });
    };
    var changeTransformOnLoad = function changeTransformOnLoad() {
      document.querySelectorAll(carouselConfig.carouselWrapper).forEach(function (wrapper) {
        var transformCss = getComputedStyle(wrapper).transform;
        if (!transformCss || !transformCss.includes(',')) return;
        var transformXVal = parseInt(transformCss.split(',')[4]);
        if (isNaN(transformXVal)) return;
        var transform = "translate3d(".concat(-transformXVal, "px, 0px,0px)");
        var style = wrapper.getAttribute('style');
        if (!style) return;
        var owlWrapStyle = style.replace("translate3d(".concat(transformXVal, "px, 0px, 0px)"), transform);
        wrapper.setAttribute('style', owlWrapStyle);
      });
    };

    // Arrow navigation
    var moveCarouselLeftRight = function moveCarouselLeftRight() {
      document.querySelectorAll(carouselConfig.prevArrow).forEach(function (arw, index) {
        arw.addEventListener('click', function () {
          if (!isRTL()) {
            carouselArray[index].prev();
          } else {
            carouselArray[index].next();
            changeTransformXVal();
          }
        });
      });
      document.querySelectorAll(carouselConfig.nextArrow).forEach(function (arw, index) {
        arw.addEventListener('click', function () {
          if (!isRTL()) {
            carouselArray[index].next();
          } else {
            carouselArray[index].prev();
            changeTransformXVal();
          }
        });
      });
    };
    moveCarouselLeftRight();

    // Factory for carousel instance
    var create = function create() {
      var config = {};
      var root = null;
      var setConfig = function setConfig(_config) {
        config = _objectSpread({}, _config);
      };
      var checkVideosInCarousel = function checkVideosInCarousel(element, wrapper) {
        var _FDX$OOYALA;
        element.querySelectorAll((_FDX$OOYALA = FDX.OOYALA) === null || _FDX$OOYALA === void 0 ? void 0 : _FDX$OOYALA.playerClass).forEach(function (child) {
          var _FDX$CORE, _FDX$OOYALA2;
          var isInvisible = (_FDX$CORE = FDX.CORE) === null || _FDX$CORE === void 0 ? void 0 : _FDX$CORE.isVisiable(child, wrapper);
          var containerId = child.getAttribute('data-container-id');
          var playersId = (_FDX$OOYALA2 = FDX.OOYALA) === null || _FDX$OOYALA2 === void 0 ? void 0 : _FDX$OOYALA2.players.map(function (e) {
            return e.getElementId();
          });
          if (isInvisible && playersId.includes(containerId)) {
            var _FDX$OOYALA3;
            (_FDX$OOYALA3 = FDX.OOYALA) === null || _FDX$OOYALA3 === void 0 || _FDX$OOYALA3.pauseVideoInCarousel(containerId);
          }
        });
      };

      // Adjust carousel height based on max slide height
      var _adjustMaxHeight = function _adjustMaxHeight() {
        document.querySelectorAll(carouselConfig.carouselInner).forEach(function (wrapper) {
          var maxHeight = 0;
          wrapper.querySelectorAll(carouselConfig.carouselOwlItem).forEach(function (item) {
            maxHeight = Math.max(maxHeight, item.clientHeight);
          });
          wrapper.querySelectorAll(carouselConfig.carouselOwlItem).forEach(function (item) {
            item.style.height = "".concat(maxHeight, "px");
          });
          if (wrapper.parentElement) {
            wrapper.parentElement.style.height = "".concat(maxHeight, "px");
          }
        });
      };
      var maxheightofslide = function maxheightofslide() {
        window.addEventListener('load', _adjustMaxHeight);
      };

      // Initialize carousels
      var initCarousels = function initCarousels() {
        document.querySelectorAll(carouselConfig.carouselClass).forEach(function (e, i) {
          var owl = $(e).owlCarousel({
            items: parseInt(e.getAttribute('data-visible-count'), 10),
            itemsDesktop: false,
            itemsDesktopSmall: false,
            itemsTablet: false,
            itemsTabletSmall: false,
            itemsMobile: [767, 1],
            scrollPerPage: true,
            autoHeight: true
          }).data('owlCarousel');
          if (owl.orignalItems > 1) {
            document.querySelectorAll(carouselConfig.carouselItem).forEach(function (item) {
              item.style.padding = '0px 10px 0px 10px';
            });
          }
          if (owl.orignalItems < owl.itemsAmount) {
            Array.from(e.parentNode.parentNode.querySelectorAll(carouselConfig.arrowClass)).forEach(function (elem, index) {
              elem.dataset.carouselIndex = i;
              elem.style.display = 'inline-block';
            });
          }
          if (parseInt(e.dataset.jumpTo) > 1) {
            owl.jumpTo(parseInt(e.dataset.jumpTo) - 1);
          }
          carouselArray.push(owl);
        });
      };

      // Bind events
      var bindInteractions = function bindInteractions() {
        window.addEventListener('load', function () {
          document.querySelectorAll(carouselConfig.carouselPage).forEach(function (page) {
            ['click', 'touchstart', 'touchmove'].forEach(function (evt) {
              page.addEventListener(evt, function (e) {
                if (isRTL()) changeTransformXVal();
              });
            });
          });
          document.querySelectorAll(carouselConfig.carouselOwlItem).forEach(function (item) {
            ['click', 'touchstart', 'touchmove'].forEach(function (evt) {
              item.addEventListener(evt, function (e) {
                if (isRTL()) e.stopImmediatePropagation();
              });
            });
          });
          if (isRTL()) changeTransformOnLoad();
        });
        maxheightofslide();
        initCarousels();
        setTimeout(function () {
          document.querySelectorAll(carouselConfig.carouselOuter).forEach(function (outer) {
            outer.style.height = 'auto';
          });
        }, 1000);
      };

      // Initialize instance
      var init = function init(_root) {
        return new Promise(function (resolve) {
          root = _root;
          bindInteractions();
          if (root instanceof HTMLElement) {
            root.dataset.initialized = true;
          } else if (root && _typeof(root) === 'object' && 'data' in root) {
            root.data('initialized', true);
          }
          resolve();
        });
      };
      var getElement = function getElement() {
        return root;
      };
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement,
        checkVideosInCarousel: checkVideosInCarousel,
        maxheightofslide: maxheightofslide,
        moveCarouselLeftRight: moveCarouselLeftRight,
        changeTransformXVal: changeTransformXVal,
        changeTransformOnLoad: changeTransformOnLoad,
        initCarousels: initCarousels
      };
      if (typeof jest !== 'undefined') {
        instance.$private = function () {
          return {
            bindInteractions: jest.fn(bindInteractions),
            checkVideosInCarousel: jest.fn(checkVideosInCarousel),
            maxheightofslide: jest.fn(maxheightofslide),
            moveCarouselLeftRight: jest.fn(moveCarouselLeftRight),
            changeTransformXVal: jest.fn(changeTransformXVal),
            changeTransformOnLoad: jest.fn(changeTransformOnLoad),
            initCarousels: jest.fn(initCarousels)
          };
        };
      }
      instances.push(instance);
      return instance;
    };

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */

    // Create all carousel instances
    var createInstances = function createInstances() {
      return new Promise(function (resolve) {
        var initPromises = [];
        document.querySelectorAll(selector).forEach(function (element) {
          if (element.dataset.initialized) return;
          var instance = window.FDX.components.carousel.create();
          initPromises.push(instance.init(element));
        });
        Promise.all(initPromises).then(resolve);
      });
    };
    return _objectSpread(_objectSpread({
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector,
      carouselArray: carouselArray
    }, carouselConfig), {}, {
      isRTL: isRTL
    });
  }();
})();

/***/ }),

/***/ 1595:
/***/ (function() {

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
/**
 * Notifications Banner
 */

(function () {
  var FDX = window.FDX || {};
  FDX.components = FDX.components || {};
  FDX.components.notifications = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];
    var notificationsSelectors = {
      /**
       * @type {string} notifications banner root selector
       */
      selector: ".fxg-notifications",
      /**
       * @type {string} parent banner of close button
       */
      currentBanner: null,
      /**
       * @type {string} notifications close selector
       */
      close: ".fxg-notifications__close",
      /**
       * @type {string} content selector
       */
      content: ".fxg-notifications__contents",
      /**
       * @type {string} content details selector
       */
      details: ".fxg-notifications__details",
      /**
       * @type {string} more details text content holder
       */
      detailsText: ".fxg-notifications__details  span:first-child",
      /**
       * @type {string} show details class
       */
      showDetails: "fxg-notifications__contents--show-more-details",
      /**
       * @type {string} closed state class
       */
      detailsClosedState: "fxg-notifications__details--close"
    };
    var addClass = function addClass(element, className) {
      if (!element || !className) return;
      var classNames = className.trim().split(/\s+/);
      classNames.forEach(function (cls) {
        if (cls) element.classList.add(cls);
      });
    };
    var removeClass = function removeClass(element, className) {
      if (!element || !className) return;
      var classNames = className.trim().split(/\s+/);
      classNames.forEach(function (cls) {
        if (cls) element.classList.remove(cls);
      });
    };

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    var create = function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} DOM root element
       */
      var root = {};

      /**
       * @type {boolean} flag for button click
       */
      var buttonClicked = false;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      var setConfig = function setConfig(_config) {
        var defaultConfig = {
          option1: "",
          option2: ""
        };
        config = _objectSpread(_objectSpread({}, defaultConfig), _config);
      };

      /**
       * To close current notification banner
       *
       * @private
       */
      var closeNotification = function closeNotification() {
        if (notificationsSelectors.currentBanner) {
          var element = typeof notificationsSelectors.currentBanner === "string" ? root.querySelector(notificationsSelectors.currentBanner) : notificationsSelectors.currentBanner;
          if (element) {
            element.style.display = "none";
          }
        }
      };

      /**
       * To show more details
       *
       * @private
       */
      var showMoreDetails = function showMoreDetails() {
        var detailsElements = root.querySelectorAll(notificationsSelectors.details);
        detailsElements.forEach(function (element) {
          addClass(element, notificationsSelectors.detailsClosedState);
        });
        var contentElements = root.querySelectorAll(notificationsSelectors.content);
        contentElements.forEach(function (element) {
          addClass(element, notificationsSelectors.showDetails);
        });
        buttonClicked = true;
      };

      /**
       * To show less details
       *
       * @private
       */
      var showLessDetails = function showLessDetails() {
        var detailsElements = root.querySelectorAll(notificationsSelectors.details);
        detailsElements.forEach(function (element) {
          removeClass(element, notificationsSelectors.detailsClosedState);
        });
        var contentElements = root.querySelectorAll(notificationsSelectors.content);
        contentElements.forEach(function (element) {
          removeClass(element, notificationsSelectors.showDetails);
        });
        buttonClicked = false;
      };

      /**
       * Bind interactions events
       *
       * @private
       */
      var bindInteractions = function bindInteractions() {
        var detailsElements = root.querySelectorAll(notificationsSelectors.details);
        detailsElements.forEach(function (element) {
          element.addEventListener("click", function () {
            if (buttonClicked) {
              showLessDetails();
            } else {
              showMoreDetails();
            }
          });
        });
        var closeButtons = root.querySelectorAll(notificationsSelectors.close);
        closeButtons.forEach(function (btn) {
          btn.addEventListener("click", function () {
            notificationsSelectors.currentBanner = this.closest(notificationsSelectors.selector);
            closeNotification();
          });
        });
      };

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_root] component root element (optional)
       */
      var init = function init(_root) {
        if (!_root || !(_root instanceof Element)) {
          console.error("Invalid root element provided:", _root);
          return Promise.reject(new Error("Invalid root element"));
        }
        root = _root;
        bindInteractions();
        root.setAttribute("data-initialized", "true");
        return Promise.resolve();
      };

      /**
       * Get component element
       *
       * @public
       * @return {Object} DOM element
       */
      var getElement = function getElement() {
        return root;
      };

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement
      };

      // pass private attributes and methods to jest
      if (typeof jest !== "undefined") {
        bindInteractions = jest.fn(bindInteractions);
        showLessDetails = jest.fn(showLessDetails);
        showMoreDetails = jest.fn(showMoreDetails);
        closeNotification = jest.fn(closeNotification);
        instance.$private = function () {
          return {
            root: root,
            buttonClicked: buttonClicked,
            bindInteractions: bindInteractions,
            showLessDetails: showLessDetails,
            showMoreDetails: showMoreDetails,
            closeNotification: closeNotification
          };
        };
      }
      instances.push(instance);
      return instance;
    };

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    var createInstances = function createInstances() {
      return new Promise(function (resolve) {
        var initPromises = [];

        // find all related elements
        document.querySelectorAll(notificationsSelectors.selector).forEach(function (element) {
          // skip already initialized elements
          if (element.hasAttribute("data-initialized")) return;

          // create instance
          var instance = window.FDX.components.notifications.create();

          // initialize instance
          var initPromise = instance.init(element);
          if (initPromise && typeof initPromise.then === "function") {
            initPromises.push(initPromise);
          } else {
            console.warn("init() did not return a Promise");
          }
        });

        // resolve after all inits
        Promise.all(initPromises).then(function () {
          resolve(true); // Indicate success
        })["catch"](function (error) {
          console.error("Error initializing notifications instances:", error);
          resolve(false); // Indicate failure
        });
      });
    };
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: notificationsSelectors.selector
    };
  }();
})();

// NOTIFICATION BANNER TARGET IMPLEMENTATION
document.addEventListener("DOMContentLoaded", function () {
  try {
    var isTargetEnabled = typeof adobe !== "undefined" && typeof adobe.target !== "undefined" && typeof adobe.target.VERSION !== "undefined";

    // Find all element markers
    var elementMarkers = document.querySelectorAll(".at-element-marker");
    if (isTargetEnabled && elementMarkers.length > 0) {
      // Check if any markers have notifications in their siblings
      var notificationsFound = false;
      elementMarkers.forEach(function (marker) {
        var parent = marker.parentElement;
        if (!parent) return;

        // Get all siblings by filtering parent's children that aren't the marker
        Array.from(parent.children).filter(function (child) {
          return child !== marker;
        }).forEach(function (sibling) {
          // Check for notifications within this sibling
          var notificationsSelector = ".root.responsivegrid " + FDX.components.notifications.selector;
          var notifications = sibling.querySelectorAll(notificationsSelector);
          if (notifications.length > 0) {
            notificationsFound = true;
          }
        });
      });
      if (notificationsFound) {
        FDX.components.notifications.createInstances();
      }
    }
  } catch (err) {
    console.error("Error initializing notification components:", err);
  }
});

/***/ }),

/***/ 1627:
/***/ (function() {

function _createForOfIteratorHelper(r, e) { var t = "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && "number" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t["return"] || t["return"](); } finally { if (u) throw o; } } }; }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
/**
* Eventbus
*
* Allows us to have seemless communication between components
*/
(function (window) {
  window.FDX.services.eventBus = function () {
    var eventsBus = {};

    /**
     * Init service
     *
     * @public
     */
    function init() {}

    // Check if the event of the passed type exists
    function hasEvent(type) {
      var flag = true;

      // Check if there is already event of this type registered
      if (typeof eventsBus[type] === 'undefined' || eventsBus[type].length === 0) {
        flag = false;
      }
      return flag;
    }

    /**
    * To register the event listener in the EventBus
    *
    * @param {string} type The name of the event to listen for
    * @param {function} callback Callback to call when event was triggered
    * @param {object} scope The scope in which the callback shall be executed
    * @param {array} args The scope in which the callback shall be executed
    */
    var on = function on(type, callback, scope, args) {
      // Check if there is already event of this type registered
      eventsBus[type] = hasEvent(type) ? eventsBus[type] : [];

      // Finally push new event to eventsBus array
      eventsBus[type].push({
        scope: scope,
        callback: callback,
        args: args
      });
    };

    /**
    * To remove the event listener from the EventBus
    *
    * @param {string} type The name of the event to be removed
    * @param {function} callback Callback of the event to be removed
    * @param {object} scope The scope of the event to be removed
    */
    var off = function off(type, callback, scope) {
      // Check if event of this type exists
      if (!hasEvent(type)) {
        return;
      }
      eventsBus[type] = eventsBus[type].filter(function (event) {
        // keep all elements that aren't equal to the passed event
        event.scope !== scope || event.callback !== callback;
      });
    };

    /**
    * To tirgger an event on the EventBus
    *
    * @param {string} type The name of the event to tirgger
    * @param {object} args The arguments passed to the callback
    */
    var trigger = function trigger(type, args) {
      if (!hasEvent(type)) {
        return;
      }

      // fetch the events registered
      var events = eventsBus[type].slice();

      // Iterate all passed events
      var _iterator = _createForOfIteratorHelper(events),
        _step;
      try {
        for (_iterator.s(); !(_step = _iterator.n()).done;) {
          var event = _step.value;
          if (event && event.callback) {
            // trigger the registered callback
            event.callback.apply(event.scope, args);
          }
        }
      } catch (err) {
        _iterator.e(err);
      } finally {
        _iterator.f();
      }
    };
    return {
      init: init,
      on: on,
      off: off,
      hasEvent: hasEvent,
      trigger: trigger
    };
  }();
})(window);

/***/ }),

/***/ 1783:
/***/ (function() {

/**
 * Form - Checkbox Single
 *
 * Checkbox Single field in basic form component
 */

(function ($, _) {
  window.FDX.components.form_checkbox_single = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '';

    /**
     * Create component instance
     *
     * @public
     * @param {Object} _parent - parent form
     * @return {Object} instance
     */
    function create(_parent) {
      /**
       * @type {Object} parent form
       */
      var parent = _parent;

      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * @type {Object} jQuery DOM input element
       */
      var $input = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {
          id: '',
          type: '',
          key: '',
          title: '',
          order: '',
          required: '',
          selected: '',
          unselected: ''
        };
        config = $.extend({}, defaultConfig, _config);
        config.selected = config.selected.toString();
        config.unselected = config.unselected.toString();
      }

      /**
       * Get configuration
       *
       * @public
       * @return {Object} configuration key/value pair
       */
      function getConfig() {
        return config;
      }

      /**
       * Bind interactions
       *
       * @private
       */
      function bindInteractions() {
        // on change
        $input.on('change', function (event) {
          // validate
          isValid();

          // start interaction
          _parent.startInteraction();
        });
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;
        $input = $root.find('input');

        // bind interactions
        bindInteractions();

        // initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      /**
       * Get field value
       *
       * @public
       * @param {string} format
       * @return {string} field value
       */
      function getValue(format) {
        var value;
        if (format === 'boolean') {
          value = $input[0].checked;
        } else {
          value = $input[0].checked ? config.selected : config.unselected;
        }
        return value;
      }

      /**
       * Set field value
       *
       * @public
       * @param {string} field value
       */
      function setValue(value) {
        var _boolean = value === config.selected;
        $input[0].checked = _boolean;
      }

      /**
       * Is the field valid
       *
       * @public
       * @return {boolean} returns true if valid
       */
      function isValid() {
        var valid = !config.required || $input[0].checked;
        toggleError(!valid, parent.getConfig().msg_required);
        return valid;
      }

      /**
       * Toggle field error status
       *
       * @private
       * @param {boolean} toggle show/hide
       * @param {string} error message
       */
      function toggleError(toggle, error) {
        $root.find('.fxg-form__error').text(error);
        $root.toggleClass('cc-aem-c-form--is-invalid', toggle);
        $root.find('div.cc-aem-c-form').toggleClass('cc-aem-c-form--is-invalid', toggle);
        $root.find('.cc-aem-c-form__message').toggleClass('cc-aem-u-display--none', !toggle);
        if (toggle) parent.trackError('validation', config.id, error);
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        getConfig: getConfig,
        init: init,
        getElement: getElement,
        getValue: getValue,
        setValue: setValue,
        isValid: isValid
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        isValid = jest.fn(isValid);
        toggleError = jest.fn(toggleError);
        instance.$private = function () {
          return {
            isValid: isValid,
            toggleError: toggleError
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();

      // We always create and initialize this component through form component.
      // Therefore this component does not need to be initialized through bootstrap.
      promise.resolve();
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _);

/***/ }),

/***/ 1802:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 1805:
/***/ (function() {

/**
 * Quick Links
 *
 * This component is created for demonstration purpose
 */

(function (device) {
  window.FDX.components.quicklinks = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '.fxg-quicklinks';

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    var create = function create() {
      /**
       * @type {Object} configuration
       */
      var config = {
        activeTab: null
      };

      /**
       * @type {Object} jQuery DOM root element
       */
      var root = null;

      /**
       * @type {boolean} flag for button click
       */
      var buttonClicked = false;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      var setConfig = function setConfig(_config) {
        var defaultConfig = {};
        config = Object.assign({}, defaultConfig, _config);
      };

      /**
       * Set Mobile Column Titles
       *
       * @public
       */
      var setMobileColumnTitles = function setMobileColumnTitles() {
        // If the tabcontainer is available that means there are two columns.
        // if it is not available we should show the titles in the columns like the desktop view.
        var tabContainer = root.querySelector('.fxg-quicklinks-mobile-nav');
        if (!tabContainer) {
          // querySelectorAll returns a NodeList, which supports forEach
          root.querySelectorAll('.fxg-quicklinks-title').forEach(function (el) {
            ['cc-aem-u-display--none@x-small-only', 'cc-aem-u-display--none@small-only'].forEach(function (cls) {
              return el.classList.remove(cls);
            });
          });
        }
      };

      /**
       * Render HTML
       *
       * @private
       * @return {Promise<string>} A promise that resolves with rendered HTML
       */
      var render = function render() {
        setMobileColumnTitles();
      };

      /**
       * Set Change Tab Behaviour
       *
       * @public
       * @param {Object} e - tab click event
       */
      var changeTab = function changeTab(e) {
        var tabs = e.data.tabs; // Array of tab elements
        var el = e.currentTarget;
        var id = el.getAttribute('href');
        var column = root.querySelector(id);

        // Set other tabs inactive & hide panels
        tabs.forEach(function (tab) {
          tab.removeAttribute('aria-selected');
        });
        root.querySelectorAll('.fxg-quicklinks-column').forEach(function (col) {
          col.classList.add('cc-aem-ql-hideBlock');
        });

        // Show selected tab & column
        el.setAttribute('aria-selected', 'true');
        if (column) {
          column.classList.remove('cc-aem-ql-hideBlock');
        }
        e.preventDefault();
        return column;
      };

      /**
       * Bind interactions events
       *
       * @private
       */
      var bindInteractions = function bindInteractions() {
        // Find tabs inside root
        var tabs = Array.from(root.querySelectorAll('li.cc-aem-c-tabs__list-item a'));
        if (tabs.length) {
          // Add click event listener to each tab, passing tabs as data
          tabs.forEach(function (tab) {
            tab.addEventListener('click', function (e) {
              e.data = {
                tabs: tabs
              };
              changeTab(e);
            });
          });

          // Mobile - trigger first tab click if viewport width < 768
          if (window.innerWidth < device.cctabletMediaQuery) {
            tabs[0].click();
          }

          // Window resize handler
          window.addEventListener('resize', function () {
            if (window.innerWidth < device.cctabletMediaQuery && !config.activeTab) {
              config.activeTab = 1;
              tabs[0].click();
            } else if (window.innerWidth >= device.cctabletMediaQuery && config.activeTab) {
              config.activeTab = null;
              root.querySelectorAll('.fxg-quicklinks-column').forEach(function (col) {
                col.classList.remove('cc-aem-ql-hideBlock');
              });
            }
          });
          return tabs;
        }
        return false;
      };

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      var init = function init(_root) {
        return new Promise(function (resolve) {
          // Ensure root is a native DOM element
          root = _root instanceof jQuery ? _root[0] : _root;

          // render - transformations
          render();

          // bind interactions
          bindInteractions();

          // initialized
          root.setAttribute('data-initialized', 'true');
          resolve();
        });
      };

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      var getElement = function getElement() {
        return root;
      };

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        bindInteractions = jest.fn(bindInteractions);
        changeTab = jest.fn(changeTab);
        instance.$private = function () {
          return {
            root: root,
            buttonClicked: buttonClicked,
            bindInteractions: bindInteractions,
            changeTab: changeTab
          };
        };
      }
      instances.push(instance);
      return instance;
    };

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    var createInstances = function createInstances() {
      var elements = document.querySelectorAll(selector);
      var initPromises = [];
      elements.forEach(function (element) {
        // skip already initialized elements
        if (element.getAttribute('data-initialized')) return;

        // create instance
        var instance = window.FDX.components.quicklinks.create();

        // initialize instance
        var initPromise = instance.init(element);
        initPromises.push(initPromise);
      });

      // return a promise that resolves when all instances are initialized
      return Promise.all(initPromises).then(function () {
        // could do extra logic here if needed
      });
    };

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(FDX.services.device);

/***/ }),

/***/ 1848:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 1868:
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
  * File Saver
  *
  *  A saveAs() FileSaver implementation
  */

(function ($, window) {
  window.FDX.services.file = function () {
    /**
     * Init service
     *
     * @public
     */
    function init() {}

    /**
     * File Saver
     *
     * @public
     */
    function saveAsFile() {
      var saveAs = saveAs || function (view) {
        "use strict";

        // IE <10 is explicitly unsupported
        if (typeof navigator !== "undefined" && /MSIE [1-9]\./.test(navigator.userAgent)) {
          return;
        }
        var doc = view.document
          // only get URL when necessary in case Blob.js hasn't overridden it yet
          ,
          get_URL = function get_URL() {
            return view.URL || view.webkitURL || view;
          },
          save_link = doc.createElementNS("http://www.w3.org/1999/xhtml", "a"),
          can_use_save_link = "download" in save_link,
          click = function click(node) {
            var event = new MouseEvent("click");
            node.dispatchEvent(event);
          },
          is_safari = /Version\/[\d\.]+.*Safari/.test(navigator.userAgent),
          webkit_req_fs = view.webkitRequestFileSystem,
          req_fs = view.requestFileSystem || webkit_req_fs || view.mozRequestFileSystem,
          throw_outside = function throw_outside(ex) {
            (view.setImmediate || view.setTimeout)(function () {
              throw ex;
            }, 0);
          },
          force_saveable_type = "application/octet-stream",
          fs_min_size = 0
          // the Blob API is fundamentally broken as there is no "downloadfinished" event to subscribe to
          ,
          arbitrary_revoke_timeout = 1000 * 40 // in ms
          ,
          revoke = function revoke(file) {
            var revoker = function revoker() {
              if (typeof file === "string") {
                // file is an object URL
                get_URL().revokeObjectURL(file);
              } else {
                // file is a File
                file.remove();
              }
            };
            setTimeout(revoker, arbitrary_revoke_timeout);
          },
          dispatch = function dispatch(filesaver, event_types, event) {
            event_types = [].concat(event_types);
            var i = event_types.length;
            while (i--) {
              var listener = filesaver["on" + event_types[i]];
              if (typeof listener === "function") {
                try {
                  listener.call(filesaver, event || filesaver);
                } catch (ex) {
                  throw_outside(ex);
                }
              }
            }
          },
          auto_bom = function auto_bom(blob) {
            // prepend BOM for UTF-8 XML and text/* types (including HTML)
            if (/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(blob.type)) {
              return new Blob(["\uFEFF", blob], {
                type: blob.type
              });
            }
            return blob;
          },
          FileSaver = function FileSaver(blob, name, no_auto_bom) {
            if (!no_auto_bom) {
              blob = auto_bom(blob);
            }
            // First try a.download, then web filesystem, then object URLs
            var filesaver = this,
              type = blob.type,
              blob_changed = false,
              object_url,
              target_view,
              dispatch_all = function dispatch_all() {
                dispatch(filesaver, "writestart progress write writeend".split(" "));
              }
              // on any filesys errors revert to saving with object URLs
              ,
              fs_error = function fs_error() {
                if (target_view && is_safari && typeof FileReader !== "undefined") {
                  // Safari doesn't allow downloading of blob urls
                  var reader = new FileReader();
                  reader.onloadend = function () {
                    var base64Data = reader.result;
                    target_view.location.href = "data:attachment/file" + base64Data.slice(base64Data.search(/[,;]/));
                    filesaver.readyState = filesaver.DONE;
                    dispatch_all();
                  };
                  reader.readAsDataURL(blob);
                  filesaver.readyState = filesaver.INIT;
                  return;
                }
                // don't create more object URLs than needed
                if (blob_changed || !object_url) {
                  object_url = get_URL().createObjectURL(blob);
                }
                if (target_view) {
                  target_view.location.href = object_url;
                } else {
                  var new_tab = view.open(object_url, "_blank");
                  if (new_tab === undefined && is_safari) {
                    //Apple do not allow window.open, see http://bit.ly/1kZffRI
                    view.location.href = object_url;
                  }
                }
                filesaver.readyState = filesaver.DONE;
                dispatch_all();
                revoke(object_url);
              },
              abortable = function abortable(func) {
                return function () {
                  if (filesaver.readyState !== filesaver.DONE) {
                    return func.apply(this, arguments);
                  }
                };
              },
              create_if_not_found = {
                create: true,
                exclusive: false
              },
              slice;
            filesaver.readyState = filesaver.INIT;
            if (!name) {
              name = "download";
            }
            if (can_use_save_link) {
              object_url = get_URL().createObjectURL(blob);
              setTimeout(function () {
                save_link.href = object_url;
                save_link.download = name;
                click(save_link);
                dispatch_all();
                revoke(object_url);
                filesaver.readyState = filesaver.DONE;
              });
              return;
            }
            // Object and web filesystem URLs have a problem saving in Google Chrome when
            // viewed in a tab, so I force save with application/octet-stream
            // http://code.google.com/p/chromium/issues/detail?id=91158
            // Update: Google errantly closed 91158, I submitted it again:
            // https://code.google.com/p/chromium/issues/detail?id=389642
            if (view.chrome && type && type !== force_saveable_type) {
              slice = blob.slice || blob.webkitSlice;
              blob = slice.call(blob, 0, blob.size, force_saveable_type);
              blob_changed = true;
            }
            // Since I can't be sure that the guessed media type will trigger a download
            // in WebKit, I append .download to the filename.
            // https://bugs.webkit.org/show_bug.cgi?id=65440
            if (webkit_req_fs && name !== "download") {
              name += ".download";
            }
            if (type === force_saveable_type || webkit_req_fs) {
              target_view = view;
            }
            if (!req_fs) {
              fs_error();
              return;
            }
            fs_min_size += blob.size;
            req_fs(view.TEMPORARY, fs_min_size, abortable(function (fs) {
              fs.root.getDirectory("saved", create_if_not_found, abortable(function (dir) {
                var save = function save() {
                  dir.getFile(name, create_if_not_found, abortable(function (file) {
                    file.createWriter(abortable(function (writer) {
                      writer.onwriteend = function (event) {
                        target_view.location.href = file.toURL();
                        filesaver.readyState = filesaver.DONE;
                        dispatch(filesaver, "writeend", event);
                        revoke(file);
                      };
                      writer.onerror = function () {
                        var error = writer.error;
                        if (error.code !== error.ABORT_ERR) {
                          fs_error();
                        }
                      };
                      "writestart progress write abort".split(" ").forEach(function (event) {
                        writer["on" + event] = filesaver["on" + event];
                      });
                      writer.write(blob);
                      filesaver.abort = function () {
                        writer.abort();
                        filesaver.readyState = filesaver.DONE;
                      };
                      filesaver.readyState = filesaver.WRITING;
                    }), fs_error);
                  }), fs_error);
                };
                dir.getFile(name, {
                  create: false
                }, abortable(function (file) {
                  // delete file if it already exists
                  file.remove();
                  save();
                }), abortable(function (ex) {
                  if (ex.code === ex.NOT_FOUND_ERR) {
                    save();
                  } else {
                    fs_error();
                  }
                }));
              }), fs_error);
            }), fs_error);
          },
          FS_proto = FileSaver.prototype,
          saveAs = function saveAs(blob, name, no_auto_bom) {
            return new FileSaver(blob, name, no_auto_bom);
          };
        // IE 10+ (native saveAs)
        if (typeof navigator !== "undefined" && navigator.msSaveOrOpenBlob) {
          return function (blob, name, no_auto_bom) {
            if (!no_auto_bom) {
              blob = auto_bom(blob);
            }
            return navigator.msSaveOrOpenBlob(blob, name || "download");
          };
        }
        FS_proto.abort = function () {
          var filesaver = this;
          filesaver.readyState = filesaver.DONE;
          dispatch(filesaver, "abort");
        };
        FS_proto.readyState = FS_proto.INIT = 0;
        FS_proto.WRITING = 1;
        FS_proto.DONE = 2;
        FS_proto.error = FS_proto.onwritestart = FS_proto.onprogress = FS_proto.onwrite = FS_proto.onabort = FS_proto.onerror = FS_proto.onwriteend = null;
        return saveAs;
      }(typeof self !== "undefined" && self || typeof window !== "undefined" && window || this.content);
      // `self` is undefined in Firefox for Android content script context
      // while `this` is nsIContentFrameMessageManager
      // with an attribute `content` that corresponds to the window

      if ( true && module.exports) {
        module.exports.saveAs = saveAs;
      } else if ( true && __webpack_require__.amdD !== null && __webpack_require__.amdO !== null) {
        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
          return saveAs;
        }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
      }
    }

    // return service
    return {
      init: init,
      saveAsFile: saveAsFile
    };
  }();
})(window.jQuery, window);

/***/ }),

/***/ 1964:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 1969:
/***/ (function() {

function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }
function _arrayWithHoles(r) { if (Array.isArray(r)) return r; }
/**
 * secondaryMenu
 */

(function (device) {
  window.FDX.components.secondaryMenu = function () {
    var instances = [];
    var selector = '.fxg-secondary-menu';
    var CLASSES = {
      activeItemClass: 'fxg-secondary-menu__item--active',
      linkClass: 'fxg-secondary-menu__link',
      dropdownClass: 'fxg-secondary-menu__dropdown',
      activeDropdownClass: 'fxg-secondary-menu__dropdown--active',
      closeBtnClass: 'fxg-secondary-menu__close-btn',
      nextBtnClass: 'fxg-secondary-menu__nav-next',
      prevBtnClass: 'fxg-secondary-menu__nav-prev',
      navClass: 'fxg-secondary-menu__nav',
      activeNavClass: 'fxg-secondary-menu__nav--active',
      navWrapperClass: 'fxg-secondary-menu__nav-wrapper',
      mobileMenuClass: 'fxg-secondary-menu__mobile-toggle',
      activeMobileMenuClass: 'fxg-secondary-menu__mobile-toggle--active',
      aemItemClass: 'secondary-menu-item',
      socialBtnClass: 'fxg-secondary-menu__social-btn',
      socialDropdownClass: 'fxg-secondary-menu__social-dropdown',
      socailLink: 'fxg-secondary-menu__social-link',
      secondary_menu_social: 'fxg-secondary-menu__social',
      shrunkClass: 'fxg-secondary-header--shrunk',
      secondaryWrapper: 'fxg-secondary-wrapper',
      secondaryMenu: 'fxg-secondary-menu',
      aria_expanded: 'false',
      secondaryActiveClass: 'secondary-item-active',
      linkNoDirect: 'fxg-linkNoDirect',
      linkDirect: 'fxg-linkDirect',
      secNavLinkBold: 'fxg-secNavLinkBold',
      cc_aem_u_display_inline_block: 'cc-aem-u-display--inline-block',
      cc_aem_u_display_none: 'cc-aem-u-display--none',
      cc_aem_u_display_block: 'cc-aem-u-display--block',
      fxg_last_of_type: 'a.fxg-link.js-fxgc-init:last-of-type',
      secNavLinkRegular: 'fxg-secNavLinkRegular',
      fxg_header: 'fxg-header',
      js_secondary_menu: 'js-secondary-menu',
      stickyNavigation: 'stickyNavigation'
    };
    var IDS = {
      mobileSecondaryMenuCloseId: 'fxg-mobile-secondary-icon-close',
      mobileSecondaryMenuIconId: 'fxg-mobile-secondary-icon',
      stickyMenu: 'stickyMenu'
    };
    var isRTL = document.documentElement.getAttribute('dir') === 'rtl';
    var clickCounter = 0;

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    var create = function create() {
      /**
       * The root DOM element.
       * @type {Element|null}
       */
      var root = null;
      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      var setConfig = function setConfig(_config) {};

      /**
       * Resets mobile-specific styles for the provided link element.
       * 
       * @param {HTMLAnchorElement} link - The link element to reset styles for.
       */
      var resetMobileStyles = function resetMobileStyles(link) {
        var linkElements = root[0].querySelectorAll(".".concat(CLASSES.linkNoDirect));
        linkElements.forEach(function (el) {
          clearLinkStyle(el);
        });
        applyBoldStyle(link);
      };

      /**
       * Hides all elements with the social dropdown class.
       * This function ensures that all social dropdowns are hidden from view.
       */
      var hideSocialDropdowns = function hideSocialDropdowns() {
        var socialDropdownElements = root[0].querySelectorAll(".".concat(CLASSES.socialDropdownClass));
        socialDropdownElements.forEach(function (el) {
          el.classList.remove(CLASSES.cc_aem_u_display_block);
        });
      };

      /**
       * Clears custom inline styles from a link element.
       * @param {HTMLElement} el 
       */
      var clearLinkStyle = function clearLinkStyle(el) {
        el.style.backgroundColor = '';
        el.style.fontWeight = 'inherit';
      };

      /**
       * Applies bold styling to a link element.
       * @param {HTMLElement} el 
       */
      var applyBoldStyle = function applyBoldStyle(el) {
        el.style.backgroundColor = '';
        el.style.fontWeight = '700';
      };

      /**
       * Sets the position of the dropdown relative to the navigation element.
       * The dropdown's position is either aligned to the left or right, 
       * depending on whether the page is using right-to-left (RTL) text direction.
       *
       * @param {HTMLElement} dropdown - The dropdown element to position.
       * @param {HTMLElement} navElement - The navigation element used for positioning.
       */
      var setDropdownPosition = function setDropdownPosition(dropdown, navElement) {
        var navStyleVal = isRTL ? navElement.style.insetInlineEnd : navElement.style.insetInlineStart;
        var position = Math.abs(parseInt(navStyleVal, 10)) + 'px';
        if (isRTL) {
          dropdown.style.insetInlineEnd = position;
        } else {
          dropdown.style.insetInlineStart = position;
        }
      };

      /**
       * Toggles the active state for a dropdown and its parent elements on desktop.
       * Removes the active state if the link item is already active.
       * 
       * @param {boolean} isLinkItemActive - A boolean indicating if the link item is already active.
       * @param {HTMLElement|null} dropdown - The dropdown element to toggle.
       * @param {HTMLElement} parent - The parent element of the link item.
       * @param {HTMLElement} navElement - The navigation element that contains the dropdown.
       * @param {HTMLAnchorElement} link - The link element that triggers the dropdown.
       */
      var toggleDesktopActiveState = function toggleDesktopActiveState(isLinkItemActive, dropdown, parent, navElement, link) {
        var _link$classList;
        if (!isLinkItemActive) return;
        var elements = [{
          el: dropdown,
          className: CLASSES.activeDropdownClass
        }, {
          el: parent,
          className: CLASSES.activeItemClass
        }, {
          el: navElement,
          className: CLASSES.activeNavClass
        }];
        elements.forEach(function (_ref) {
          var _el$classList;
          var el = _ref.el,
            className = _ref.className;
          el === null || el === void 0 || (_el$classList = el.classList) === null || _el$classList === void 0 || _el$classList.remove(className);
        });
        link === null || link === void 0 || (_link$classList = link.classList) === null || _link$classList === void 0 || _link$classList.remove(CLASSES.secondaryActiveClass);
        link === null || link === void 0 || link.setAttribute('aria-expanded', 'false');
      };

      /**
       * Handles the active state of a link item on mobile.
       * Resets the active state and modifies the link's background and font weight for mobile view.
       *
       * @param {boolean} isLinkItemActive - A boolean indicating if the link item is already active.
       * @param {HTMLElement} parent - The parent element of the link item.
       * @param {HTMLAnchorElement} link - The link element to modify on mobile.
       */
      var handleMobileActiveState = function handleMobileActiveState(isLinkItemActive, parent, link) {
        if (isLinkItemActive) {
          parent.classList.remove(CLASSES.activeItemClass);
          link.style.backgroundColor = '#FAFAFA';
          link.style.fontWeight = '700';
        }
      };

      /**
       * Handles the click event for a link item in the navigation menu.
       * This function manages the active state of the link, dropdown positioning, and styling based on the device type.
       * It supports both desktop and mobile devices with different behaviors for each.
       *
       * @param {HTMLAnchorElement} link - The link element that was clicked.
       */
      var linkItemClick = function linkItemClick(link) {
        if (!link || !link.parentElement) return;
        checkBoldFont();
        var parent = link.parentElement;
        var isMobile = device.getMobileMediaQuery().matches;
        var navElement = root[0].querySelector(".".concat(CLASSES.navClass));
        var dropdown = parent.querySelector(".".concat(CLASSES.dropdownClass));
        var isLinkItemActive = parent.classList.contains(CLASSES.activeItemClass);
        handleMobileResetStyles(isMobile, link);
        closeAllDropdowns();
        hideSocialDropdowns();
        if (!isLinkItemActive) {
          handleDropdownState(dropdown, navElement);
          handleNavState(parent, navElement, link);
        } else {
          toggleDesktopActiveState(isLinkItemActive, dropdown, parent, navElement, link);
        }
      };

      /**
       * Resets mobile styles on the provided link element if the device is mobile.
       * 
       * @param {boolean} isMobile - A boolean indicating whether the device is mobile.
       * @param {HTMLElement} link - The link element to reset styles on.
       */

      var handleMobileResetStyles = function handleMobileResetStyles(isMobile, link) {
        if (isMobile) {
          resetMobileStyles(link);
        }
      };

      /**
       * Adds the active class to the dropdown and sets its position based on the navigation element if the device is not mobile.
       * 
       * @param {boolean} isMobile - A boolean indicating whether the device is mobile.
       * @param {HTMLElement} dropdown - The dropdown element to modify.
       * @param {HTMLElement} navElement - The navigation element used to set the dropdown's position.
       */

      var handleDropdownState = function handleDropdownState(dropdown, navElement) {
        if (dropdown && navElement) {
          dropdown.classList.add(CLASSES.activeDropdownClass);
          setDropdownPosition(dropdown, navElement);
        }
      };

      /**
       * Adds active classes to navigation items and sets the ARIA expanded attribute for the link if the device is not mobile.
       * 
       * @param {boolean} isMobile - A boolean indicating whether the device is mobile.
       * @param {HTMLElement} parent - The parent navigation item element to modify.
       * @param {HTMLElement} navElement - The navigation element to modify.
       * @param {HTMLElement} link - The link element to modify the ARIA attribute.
       */

      var handleNavState = function handleNavState(parent, navElement, link) {
        parent.classList.add(CLASSES.activeItemClass);
        link.setAttribute('aria-expanded', 'true');
        navElement.classList.add(CLASSES.activeNavClass);
      };

      /**
       * Checks if any direct links are in bold font, and removes the bold if present.
       * @private
       */
      var checkBoldFont = function checkBoldFont() {
        var directLinkElements = root[0].querySelectorAll(".".concat(CLASSES.linkDirect));
        directLinkElements.forEach(function (link) {
          if (link.classList.contains(CLASSES.secNavLinkBold)) {
            link.classList.remove(CLASSES.secNavLinkBold);
          }
        });
      };

      /**
       * Saves the clicked link's information (URL and text) in local storage.
       *
       * @param {string} lnk - The URL of the clicked link.
       * @param {string} txt - The text content of the clicked link.
       * @private
       */
      var saveClickedLinkInfo = function saveClickedLinkInfo(lnk, txt) {
        var linkInfo = [lnk, txt];
        localStorage.setItem("secNavLink", JSON.stringify(linkInfo));
      };

      /**
       * Retrieves and processes the information of the clicked link from local storage.
       * @private
       */
      var getClickedLinkInfo = function getClickedLinkInfo() {
        var secNavLink = localStorage.getItem("secNavLink");
        if (!secNavLink) return false;
        var getParsedItem = JSON.parse(secNavLink);
        var _getParsedItem = _slicedToArray(getParsedItem, 2),
          href = _getParsedItem[0],
          text = _getParsedItem[1];
        var secMenuLinkElements = root[0].querySelectorAll(".fxg-secondary-menu a.fxg-linkDirect");
        var trimmedText = text && typeof text === 'string' ? text.trim() : '';
        var trimmedHref = href && typeof href === 'string' ? href.trim() : '';
        secMenuLinkElements.forEach(function (link) {
          var linkText = link.textContent.trim();
          var linkHref = link.getAttribute('href').trim();
          if (linkText === trimmedText && linkHref === trimmedHref) {
            link.classList.add("fxg-secNavLinkBold");
          }
        });
        return true;
      };

      /**
       * Helper function to remove classes from elements based on a selector.
       * 
       * @param {string} selector - The CSS selector to find the elements.
       * @param {string} className - The class name to remove from each element.
       */
      var removeClassFromElements = function removeClassFromElements(selector, className) {
        var elements = root[0].querySelectorAll(selector);
        elements.forEach(function (el) {
          el.classList.remove(className);
        });
      };

      /**
       * Helper function to toggle the visibility of an element based on its ID.
       * 
       * @param {string} elementId - The ID of the element to show or hide.
       * @param {boolean} show - Whether to show (true) or hide (false) the element.
       */
      var toggleElementVisibility = function toggleElementVisibility(elementId, show) {
        var element = document.getElementById(elementId);
        if (element) {
          element.style.display = show ? 'block' : 'none';
        }
      };

      /**
       * Closes all dropdowns by removing active states, hiding elements, and resetting styles.
       */
      var closeAllDropdowns = function closeAllDropdowns() {
        var dropdownElements = root[0].querySelectorAll(".".concat(CLASSES.dropdownClass));
        dropdownElements.forEach(function (dropdown) {
          dropdown.classList.remove('in');
          dropdown.removeAttribute('aria-expanded');
          dropdown.style.height = '';
        });
        removeClassFromElements(".".concat(CLASSES.activeItemClass, " .").concat(CLASSES.linkNoDirect), CLASSES.secNavLinkBold);
        removeClassFromElements(".".concat(CLASSES.activeItemClass), CLASSES.activeItemClass);
        removeClassFromElements(".".concat(CLASSES.activeDropdownClass), CLASSES.activeDropdownClass);
        removeClassFromElements(".".concat(CLASSES.navClass), CLASSES.activeNavClass);
        var closeIcon = root[0].querySelector("#".concat(IDS.mobileSecondaryMenuCloseId));
        var menuIcon = root[0].querySelector("#".concat(IDS.mobileSecondaryMenuIconId));
        if (closeIcon) closeIcon.style.display = 'none';
        if (menuIcon) menuIcon.style.display = 'block';
      };
      var removeSecondaryItemActive = function removeSecondaryItemActive() {
        var linkElements = root[0].querySelectorAll(".fxg-link.bottom-line");
        linkElements.forEach(function (link) {
          link.classList.remove(CLASSES.secondaryActiveClass);
        });
      };

      /**
      * Handles navigation to the previous menu item.
      * This function shifts the navigation menu to the left by a certain amount
      * and updates the visibility of the navigation buttons.
      * It also handles RTL (Right-to-Left) and LTR (Left-to-Right) modes for the menu.
      */
      var menuNavPrev = function menuNavPrev() {
        var nav = root[0].querySelector(".".concat(CLASSES.navClass));
        var secMenuWrapper = root[0].querySelector(".".concat(CLASSES.navWrapperClass));
        var prevBtn = root[0].querySelector(".".concat(CLASSES.prevBtnClass));
        var nextBtn = root[0].querySelector(".".concat(CLASSES.nextBtnClass));
        var endedClass = "ended";
        var transitionClass = "transitioning";
        if (nav.classList.contains(transitionClass)) return;
        nav.classList.add(transitionClass);
        if (secMenuWrapper.classList.contains(endedClass)) {
          secMenuWrapper.classList.remove(endedClass);
        }
        clickCounter -= 1;
        closeAllDropdowns();
        removeSecondaryItemActive();
        var perClickVal = 192;
        var sign = isRTL ? '+' : '-';
        if (isRTL) {
          var currentRight = parseFloat(getComputedStyle(nav).right.replace(/[^\d.-]/g, '')) || 0;
          var newRight = "-".concat(Math.abs(currentRight) - perClickVal, "px");
          nav.style.insetInlineStart = newRight;
          var updatedRight = parseFloat(getComputedStyle(nav).right.replace(/[^\d.-]/g, '')) || 0;
          if (updatedRight >= -perClickVal) {
            prevBtn.classList.add(CLASSES.cc_aem_u_display_none);
            prevBtn.classList.remove(CLASSES.cc_aem_u_display_inline_block);
            nav.style.insetInlineStart = '0px';
            secMenuWrapper.addEventListener('transitionend', function () {
              secMenuWrapper.classList.add(endedClass);
            });
          }
        } else {
          var currentLeft = parseFloat(getComputedStyle(nav).left.replace(/[^\d.-]/g, '')) || 0;
          var newLeft = "".concat(sign).concat(Math.abs(currentLeft) - perClickVal, "px");
          nav.style.insetInlineStart = newLeft;
          var updatedLeft = parseFloat(getComputedStyle(nav).left.replace(/[^\d.-]/g, '')) || 0;
          if (updatedLeft >= -perClickVal) {
            prevBtn.classList.add(CLASSES.cc_aem_u_display_none);
            prevBtn.classList.remove(CLASSES.cc_aem_u_display_inline_block);
            nav.style.insetInlineStart = '0px';
            secMenuWrapper.addEventListener('transitionend', function () {
              secMenuWrapper.classList.add(endedClass);
            });
          }
        }
        nextBtn.classList.add(CLASSES.cc_aem_u_display_inline_block);
        nextBtn.classList.remove(CLASSES.cc_aem_u_display_none);
        ['webkitTransitionEnd', 'otransitionend', 'oTransitionEnd', 'msTransitionEnd', 'transitionend'].forEach(function (event) {
          nav.addEventListener(event, function () {
            nav.classList.remove(transitionClass);
          });
        });
      };

      /**
       * Handles navigation to the next menu item.
       * This function shifts the navigation menu to the right by a certain amount
       * and updates the visibility of the navigation buttons.
       * It also handles RTL (Right-to-Left) and LTR (Left-to-Right) modes for the menu.
       */
      var getNumericStyle = function getNumericStyle(el, prop) {
        return parseFloat(getComputedStyle(el)[prop]) || 0;
      };
      var toggleClassVisibility = function toggleClassVisibility(el, show) {
        el.classList.toggle(CLASSES.cc_aem_u_display_none, !show);
        el.classList.toggle(CLASSES.cc_aem_u_display_inline_block, show);
      };
      var onTransitionEnd = function onTransitionEnd(el, callback) {
        var events = ['webkitTransitionEnd', 'otransitionend', 'oTransitionEnd', 'msTransitionEnd', 'transitionend'];
        var _wrapped = function wrapped() {
          callback();
          events.forEach(function (event) {
            return el.removeEventListener(event, _wrapped);
          });
        };
        events.forEach(function (event) {
          return el.addEventListener(event, _wrapped);
        });
      };
      var menuNavNext = function menuNavNext() {
        var nav = root[0].querySelector(".".concat(CLASSES.navClass));
        var secMenuWrapper = root[0].querySelector(".".concat(CLASSES.navWrapperClass));
        var transitionClass = "transitioning";
        var endedClass = "ended";
        if (nav.classList.contains(transitionClass)) return;
        nav.classList.add(transitionClass);
        secMenuWrapper.classList.remove(endedClass);
        clickCounter += 1;
        closeAllDropdowns();
        removeSecondaryItemActive();
        var wrapper = root[0].querySelector(".".concat(CLASSES.navWrapperClass));
        var wrapperWidth = wrapper.offsetWidth;
        var items = Array.from(nav.firstElementChild.children);
        var perClickVal = 192;
        var lastElement = items[items.length - 1];
        var totalWidth = 0;
        items.forEach(function (item) {
          var style = getComputedStyle(item);
          totalWidth += item.offsetWidth + parseInt(style.marginLeft) + parseInt(style.marginRight);
        });
        var prevBtn = root[0].querySelector(".".concat(CLASSES.prevBtnClass));
        toggleClassVisibility(prevBtn, true);
        var navStyle = getComputedStyle(nav);
        var currentLeft = getNumericStyle(nav, 'inset-inline-start');
        var currentRight = getNumericStyle(nav, 'inset-inline-end');
        var widthTraveled;
        if (!isRTL) {
          nav.style.insetInlineStart = "-".concat(Math.abs(currentLeft) + perClickVal, "px");
          widthTraveled = Math.abs(currentLeft) + wrapperWidth - lastElement.offsetWidth + perClickVal;
        } else {
          nav.style.insetInlineStart = "-".concat(Math.abs(currentRight) + perClickVal, "px");
          widthTraveled = Math.abs(currentRight) + wrapperWidth - lastElement.offsetWidth + perClickVal;
        }
        if (widthTraveled >= totalWidth - perClickVal) {
          var nextBtn = root[0].querySelector(".".concat(CLASSES.nextBtnClass));
          toggleClassVisibility(nextBtn, false);
          onTransitionEnd(secMenuWrapper, function () {
            secMenuWrapper.classList.add(endedClass);
          });
          var finalOffset = "".concat(totalWidth - wrapperWidth, "px");
          if (!isRTL) {
            nav.style.insetInlineStart = "-".concat(finalOffset);
          } else {
            nav.style.insetInlineStart = "-".concat(finalOffset);
          }
        }
        onTransitionEnd(nav, function () {
          nav.classList.remove(transitionClass);
        });
      };

      /**
       * Toggles the visibility of the "Next" button based on the width of the navigation items.
       * 
       * This function checks if the device is mobile, and if so, hides the "Next" button.
       * If the device is not mobile, it calculates the width of all items in the navigation
       * and determines if the "Next" button should be shown based on the total width of the items 
       * compared to the widths of the wrapper elements.
       * 
       * @function
       */
      var showNextButton = function showNextButton() {
        var isMobile = device.getMobileMediaQuery().matches;
        var nextBtn = root[0].querySelector(".".concat(CLASSES.nextBtnClass));
        if (isMobile) {
          nextBtn.classList.add(CLASSES.cc_aem_u_display_none);
          return;
        }
        var childrenWidth = 0;
        var childElements = root[0].querySelectorAll(".".concat(CLASSES.navClass, " > * > *"));
        childElements.forEach(function (el) {
          var style = window.getComputedStyle(el);
          var marginLeft = parseInt(style.marginLeft, 10) || 0;
          var marginRight = parseInt(style.marginRight, 10) || 0;
          childrenWidth += el.offsetWidth + marginLeft + marginRight;
        });
        var secondaryWrapperWidth = root[0].querySelector(".".concat(CLASSES.secondaryWrapper)).offsetWidth;
        var navWrapper = root[0].querySelector(".".concat(CLASSES.navWrapperClass));
        var navWrapperWidth = navWrapper.offsetWidth;
        var isNoSocial = navWrapper.classList.contains('fxg-nosocial');
        var showBtn = childrenWidth > secondaryWrapperWidth || childrenWidth > navWrapperWidth && !isNoSocial;
        nextBtn.classList.toggle(CLASSES.cc_aem_u_display_inline_block, showBtn);
        nextBtn.classList.toggle(CLASSES.cc_aem_u_display_none, !showBtn);
      };

      /**
       * Adjusts the navigation position and visibility of buttons based on the given item.
       * 
       * This function determines the position of the navigation relative to the item passed in, 
       * and adjusts the visibility of the previous and next navigation buttons. It also
       * adjusts the position of the navigation (using `left`) based on whether the item
       * is within the viewport, considering both left-to-right and right-to-left configurations.
       * 
       * @param {HTMLElement} item - The item element to check in the navigation.
       */
      var showHiddenItem = function showHiddenItem(item) {
        var nav = root[0].querySelector(".".concat(CLASSES.navClass));
        var wrapper = root[0].querySelector(".".concat(CLASSES.navWrapperClass));
        var secondaryWrapper = root[0].querySelector(".".concat(CLASSES.secondaryWrapper));
        var transitionClass = "transitioning";
        var itemOffset = item.getBoundingClientRect().left + item.offsetWidth / 2;
        var distanceFromLeftEdge = (window.innerWidth - wrapper.offsetWidth) / 2;
        var rightEdge = wrapper.offsetWidth + distanceFromLeftEdge;
        var childrenWidth = 0;
        var childs = nav.querySelectorAll(".".concat(CLASSES.navClass, " > * > *"));
        childs.forEach(function (child) {
          var style = getComputedStyle(child);
          var marginRight = parseFloat(style.marginRight) || 0;
          var marginLeft = parseFloat(style.marginLeft) || 0;
          childrenWidth += child.offsetWidth + marginLeft + marginRight;
        });
        var itemsWidthCheck = childrenWidth > secondaryWrapper.offsetWidth;
        var navCenter = distanceFromLeftEdge + wrapper.offsetWidth / 2;
        var prevBtn = root[0].querySelector(".".concat(CLASSES.prevBtnClass));
        var nextBtn = root[0].querySelector(".".concat(CLASSES.nextBtnClass));
        if (!isRTL) {
          if (itemOffset < 0) {
            nav.style.insetInlineStart = '0px';
            prevBtn.style.display = 'none';
            nextBtn.style.display = 'block';
          } else if (itemOffset > navCenter + 100 && itemsWidthCheck) {
            menuNavNext();
          } else if (itemOffset < navCenter - 100 && itemsWidthCheck) {
            menuNavPrev();
          }
        } else {
          if (itemOffset > rightEdge && itemsWidthCheck) {
            nav.style.insetInlineStart = '0px';
            prevBtn.style.display = 'none';
            nextBtn.style.display = 'block';
          } else if (itemOffset < navCenter - 100 && itemsWidthCheck) {
            menuNavNext();
          } else if (itemOffset > navCenter + 100 && itemsWidthCheck) {
            menuNavPrev();
          }
        }
        nav.classList.remove(transitionClass);
      };

      /**
       * resetBoldForLinks
       *
       * @private
       */
      var resetBoldForLinks = function resetBoldForLinks() {
        var menuItemElements = root[0].querySelectorAll(".".concat(CLASSES.aemItemClass));
        menuItemElements.forEach(function (item) {
          var linkElements = item.querySelectorAll(".fxg-link.bottom-line");
          linkElements.forEach(function (link) {
            link.classList.remove(CLASSES.secondaryActiveClass);
            link.style.fontWeight = "";
          });
        });
      };

      /**
       * resetState
       *
       * @private
       */
      var resetState = function resetState() {
        closeAllDropdowns();
        hideSocialDropdowns();
        var activeMobileMenuElements = root[0].querySelectorAll(".".concat(CLASSES.activeMobileMenuClass));
        activeMobileMenuElements.forEach(function (el) {
          el.classList.remove(CLASSES.activeMobileMenuClass);
        });
        var navWrapperElements = root[0].querySelectorAll(".".concat(CLASSES.navWrapperClass));
        navWrapperElements.forEach(function (el) {
          el.style.display = "";
        });
        var navElements = root[0].querySelectorAll(".".concat(CLASSES.navClass));
        navElements.forEach(function (el) {
          el.style.insetInlineStart = "";
        });
        var prevBtnElements = root[0].querySelectorAll(".".concat(CLASSES.prevBtnClass));
        prevBtnElements.forEach(function (el) {
          // el.style.display = "none";
          el.classList.add(CLASSES.cc_aem_u_display_none);
        });
        showNextButton();
        resetBoldForLinks();
      };

      /**
       * toggleSocialMenu
       *
       * @private
       */
      var toggleSocialMenu = function toggleSocialMenu() {
        closeAllDropdowns();
        var socialDropdownElements = root[0].querySelectorAll(".".concat(CLASSES.socialDropdownClass));
        socialDropdownElements.forEach(function (el) {
          el.classList.toggle(CLASSES.cc_aem_u_display_block);
        });
      };

      /**
      * socialShare
      *
      * @private
      */
      var socialShare = function socialShare(site) {
        var siteUrl = encodeURIComponent(window.location.href);
        var winTop = screen.height / 2 - 400 / 2;
        var winLeft = screen.width / 2 - 600 / 2;
        var strParam = "width=600,height=400,resizable=no,top=".concat(winTop, ",left=").concat(winLeft);
        var shareUrl = '';
        switch (site) {
          case "twitter":
            {
              var meta = document.querySelector('head meta[name="twitter:description"]');
              var description = meta ? encodeURIComponent(meta.getAttribute('content')) : '';
              shareUrl = "https://twitter.com/intent/tweet?&text=".concat(description, "&url=").concat(siteUrl, "&hashtags=");
              break;
            }
          case "linkedin":
            shareUrl = "https://www.linkedin.com/shareArticle?mini=true&url=".concat(siteUrl);
            break;
          case "facebook":
            shareUrl = "https://www.facebook.com/sharer/sharer.php?u=".concat(siteUrl);
            break;
          default:
            return;
        }
        var objWindow = window.open(shareUrl, '', strParam);
        if (objWindow) {
          objWindow.focus();
        }
      };

      /**
       * Toggles the 'shrunk' class on secondary menus.
       *
       * @private
       */
      var toggleSecondaryMenuShrunk = function toggleSecondaryMenuShrunk(shouldShrink) {
        root[0].classList.toggle(CLASSES.shrunkClass, shouldShrink);
      };
      var shrink = function shrink() {
        toggleSecondaryMenuShrunk(true);
      };
      var grow = function grow() {
        toggleSecondaryMenuShrunk(false);
      };

      /**
       * scrollCheck
       *
       * @private
       */
      var scrollCheck = function scrollCheck() {
        var scrollTop = window.scrollY || document.documentElement.scrollTop;
        var isShrunk = root[0].classList.contains(CLASSES.shrunkClass);
        if (scrollTop > 1 && !isShrunk) {
          shrink();
        } else if (scrollTop <= 1) {
          grow();
        }
      };

      /**
       * activeItem - handles toggle click behavior within the current menu instance
       *
       * @private
       */
      var activeItem = function activeItem() {
        var linkElements = root[0].querySelectorAll(".".concat(CLASSES.linkClass));
        linkElements.forEach(function (link) {
          link.addEventListener('click', function (event) {
            var currentLink = event.currentTarget;
            var isActive = currentLink.classList.contains(CLASSES.secondaryActiveClass);

            // Remove active state from all links in this menu instance
            linkElements.forEach(function (l) {
              l.classList.remove(CLASSES.secondaryActiveClass);
              l.setAttribute('aria-expanded', 'false');
            });

            // Toggle: if wasn't active, make it active
            if (!isActive) {
              currentLink.classList.add(CLASSES.secondaryActiveClass);
              currentLink.setAttribute('aria-expanded', 'true');
            }
          });
        });
      };

      /**
       * stickyNav
       *
       * @private
       */
      var stickyNav = function stickyNav() {
        var stickyMenu = document.getElementById(IDS.stickyMenu);
        if (stickyMenu && stickyMenu.value === "true") {
          var _FDX, _FDX2;
          var header = document.querySelector(".".concat(CLASSES.fxg_header));
          var headerHeight = header ? header.offsetHeight : 0;
          var ALERT_SHOW = ((_FDX = FDX) === null || _FDX === void 0 || (_FDX = _FDX.components) === null || _FDX === void 0 || (_FDX = _FDX.header) === null || _FDX === void 0 ? void 0 : _FDX.alertClass) || "fxg-alert--show js-alert-header";
          var WIKI_HEADER = ((_FDX2 = FDX) === null || _FDX2 === void 0 || (_FDX2 = _FDX2.components) === null || _FDX2 === void 0 || (_FDX2 = _FDX2.header) === null || _FDX2 === void 0 ? void 0 : _FDX2.headerWikiClass) || "fxg-wiki-header";
          var ALERT_SHOW_NEW = "fxg-alerts";
          var gHeights = {
            alerts: 0,
            alertsnew: 0,
            wikiHeader: 0
          };
          window.addEventListener("scroll", function () {
            var secMenu = root[0].querySelector(".".concat(CLASSES.js_secondary_menu));
            if (!secMenu && !root[0].classList.contains(CLASSES.js_secondary_menu)) return;
            var secondaryMenuTopPos = (secMenu || root[0]).offsetTop;
            scrollCheck();
            var scrollTop = window.scrollY || document.documentElement.scrollTop;
            var alertEl = document.querySelector(".".concat(ALERT_SHOW.split(" ").join(".")));
            var alertNewEl = document.querySelector(".".concat(ALERT_SHOW_NEW));
            var wikiHeaderEl = document.querySelector(".".concat(WIKI_HEADER));
            gHeights.alerts = alertEl ? alertEl.offsetHeight : 0;
            gHeights.alertsnew = alertNewEl ? alertNewEl.offsetHeight : 0;
            gHeights.wikiHeader = wikiHeaderEl ? wikiHeaderEl.offsetHeight : 0;
            var totalOffset = scrollTop + gHeights.alerts + gHeights.alertsnew + gHeights.wikiHeader + headerHeight;
            var secondaryMenu = root[0];
            if (!secondaryMenu) return;
            if (totalOffset >= secondaryMenuTopPos) {
              var divHeights = gHeights.alerts + gHeights.alertsnew + gHeights.wikiHeader + headerHeight;
              secondaryMenu.classList.add(CLASSES.stickyNavigation);
              secondaryMenu.style.top = "".concat(divHeights, "px");
            } else {
              secondaryMenu.classList.remove(CLASSES.stickyNavigation);
              secondaryMenu.style.top = "0";
              secondaryMenu.classList.remove(CLASSES.shrunkClass);
            }
          });
        }
      };

      /**
       * Initializes the document by setting up event listeners and handling UI logic.
       */
      var docReady = function docReady() {
        activeItem();
        stickyNav();
        showNextButton();
        var mobileIcon = root[0].querySelector("#".concat(IDS.mobileSecondaryMenuIconId));
        if (mobileIcon) mobileIcon.style.display = 'block';
        setupLinkClickListeners();
        setupKeyUpListener();
        handleSecondaryMenuSocialLinks();
        setupCloseButtonListeners();
        setupNavigationButtonListeners();
        setupSocialButtonListeners();
        setupMobileMenuListeners();
        setupSocialLinkListeners();
        setupMobileKeydownAndBlurListeners();
        setupDirectLinkListeners();
        getClickedLinkInfo();
        device.getMobileMediaQuery().addListener(resetState);
        window.addEventListener('orientationchange', handleOrientationChange);
      };

      /**
        * Sets up the keyup event listener to handle Tab key navigation.
        */
      var setupKeyUpListener = function setupKeyUpListener() {
        var handleKeyUp = function handleKeyUp(e) {
          var key = e.key || String.fromCharCode(e.keyCode || e.which);
          if (key === 'Tab') {
            var focusedElement = root[0].querySelector(".".concat(CLASSES.aemItemClass, " :focus"));
            if (!focusedElement) return;
            var link = focusedElement.querySelector(".".concat(CLASSES.aemItemClass, " .fxg-link:focus"));
            if (link) {
              showHiddenItem(link);
            }
          }
        };
        window.addEventListener('keyup', handleKeyUp);
      };

      /**
       * Adds 'fxg-nosocial' class to secondary menu if no social links are present.
       */
      var handleSecondaryMenuSocialLinks = function handleSecondaryMenuSocialLinks() {
        if (!root[0].querySelector(".".concat(CLASSES.secondary_menu_social))) {
          var navWrapper = root[0].querySelector(".".concat(CLASSES.navWrapperClass));
          if (navWrapper) navWrapper.classList.add('fxg-nosocial');
        }
      };

      /**
       * Sets up event listeners for close buttons.
       */
      var setupCloseButtonListeners = function setupCloseButtonListeners() {
        var buttonElements = root[0].querySelectorAll(".".concat(CLASSES.closeBtnClass));
        buttonElements.forEach(function (btn) {
          ['click', 'blur'].forEach(function (eventType) {
            btn.addEventListener(eventType, handleCloseBtn);
          });
        });
      };

      /**
       * Handles close button clicks and blurs, hiding dropdowns and resetting active states.
       * @param {Event} e - The event object.
       */
      var handleCloseBtn = function handleCloseBtn(e) {
        e.preventDefault();
        var linkElements = root[0].querySelectorAll(".".concat(CLASSES.linkClass));
        linkElements.forEach(function (link) {
          link.classList.remove(CLASSES.secondaryActiveClass);
          link.setAttribute('aria-expanded', 'false');
        });
        closeAllDropdowns();
        if (e.type === 'click') {
          hideSocialDropdowns();
        }
      };

      /**
       * Sets up mobile-specific keydown and blur events for navigation links.
       */
      var setupMobileKeydownAndBlurListeners = function setupMobileKeydownAndBlurListeners() {
        var isMobile = document.documentElement.clientWidth <= device.mobileMediaQuery;
        if (!isMobile) return;
        var linkElements = root[0].querySelectorAll(".".concat(CLASSES.linkNoDirect));
        linkElements.forEach(function (link) {
          var handleKeydown = function handleKeydown(e) {
            var key = e.key || String.fromCharCode(e.keyCode || e.which);
            if (key === 'Tab') {
              var parent = link.parentElement;
              if (parent !== null && parent !== void 0 && parent.classList.contains(CLASSES.activeItemClass)) {
                link.classList.add(CLASSES.secNavLinkBold);
              } else {
                resetLinkStyle(link);
              }
            }
          };
          var handleBlur = function handleBlur() {
            return resetLinkStyle(link);
          };
          link.addEventListener('keydown', handleKeydown);
          link.addEventListener('blur', handleBlur);
        });
        var navItemElements = root[0].querySelectorAll(".".concat(CLASSES.aemItemClass));
        navItemElements.forEach(function (item) {
          var lastLink = item.querySelector(CLASSES.fxg_last_of_type);
          if (!lastLink) return;
          lastLink.addEventListener('keydown', function (e) {
            var key = e.key || String.fromCharCode(e.keyCode || e.which);
            if (key === 'Tab') {
              var firstChild = item.firstElementChild;
              if (firstChild) {
                firstChild.classList.remove(CLASSES.secNavLinkBold);
                firstChild.classList.add(CLASSES.secNavLinkRegular);
              }
            }
          });
        });
      };

      /**
       * Resets inline styles for background color and font weight on a link.
       * @param {HTMLElement} link 
       */
      var resetLinkStyle = function resetLinkStyle(link) {
        link.style.backgroundColor = '';
        link.style.fontWeight = 'inherit';
      };

      /**
       * Handles orientation change to reset navigation layout.
       */
      var handleOrientationChange = function handleOrientationChange() {
        var nav = root[0].querySelector(".".concat(CLASSES.navClass));
        if (!nav) return;
        nav.style.insetInlineStart = '0px';
        var childElements = nav.querySelectorAll(".".concat(CLASSES.navClass, " > * > *"));
        var totalChildrenWidth = Array.from(childElements).reduce(function (acc, child) {
          var style = window.getComputedStyle(child);
          var margin = parseInt(style.marginLeft) + parseInt(style.marginRight);
          return acc + child.offsetWidth + margin;
        }, 0);
        var isScreenWide = document.documentElement.clientWidth >= device.mobileMediaQuery;
        var isOverflowing = totalChildrenWidth > nav.offsetWidth;
        if (isOverflowing && isScreenWide) {
          var nextBtn = root[0].querySelector(".".concat(CLASSES.nextBtnClass));
          var prevBtn = root[0].querySelector(".".concat(CLASSES.prevBtnClass));
          if (nextBtn) {
            nextBtn.classList.add(CLASSES.cc_aem_u_display_inline_block);
            nextBtn.classList.remove(CLASSES.cc_aem_u_display_none);
          }
          if (prevBtn) {
            prevBtn.classList.remove(CLASSES.cc_aem_u_display_inline_block);
            prevBtn.classList.add(CLASSES.cc_aem_u_display_none);
          }
        }
      };

      /**
       * Utility to add event listeners to elements by class.
       * @param {string} className - Class name of the elements to select.
       * @param {Function} handler - Event handler function. Receives the element and event as arguments.
       * @param {boolean} preventDefault - Whether to call e.preventDefault() by default.
       */
      var addClickHandler = function addClickHandler(className, handler) {
        var preventDefault = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
        var elements = root[0].querySelectorAll(".".concat(className));
        elements.forEach(function (el) {
          el.addEventListener('click', function (e) {
            if (preventDefault) e.preventDefault();
            handler(el, e);
          });
        });
      };

      /**
       * Sets up the click event listeners for all links with class `linkClass`.
       */
      var setupLinkClickListeners = function setupLinkClickListeners() {
        addClickHandler(CLASSES.linkClass, function (link) {
          linkItemClick(link);
        });
      };

      /**
       * Sets up event listeners for navigation buttons (next/prev).
       */
      var setupNavigationButtonListeners = function setupNavigationButtonListeners() {
        addClickHandler(CLASSES.nextBtnClass, function () {
          menuNavNext();
        });
        addClickHandler(CLASSES.prevBtnClass, function () {
          menuNavPrev();
        });
      };

      /**
       * Sets up event listeners for social menu buttons.
       */
      var setupSocialButtonListeners = function setupSocialButtonListeners() {
        addClickHandler(CLASSES.socialBtnClass, function () {
          toggleSocialMenu();
        });
      };

      /**
       * Sets up event listeners for mobile menu toggle buttons.
       */
      var setupMobileMenuListeners = function setupMobileMenuListeners() {
        addClickHandler(CLASSES.mobileMenuClass, function (button) {
          var navWrapper = root[0].querySelector(".".concat(CLASSES.navWrapperClass));
          if (navWrapper) {
            navWrapper.classList.toggle(CLASSES.cc_aem_u_display_block);
          }
          button.classList.toggle(CLASSES.activeMobileMenuClass);
        });
      };

      /**
       * Sets up event listeners for social share links.
       */
      var setupSocialLinkListeners = function setupSocialLinkListeners() {
        addClickHandler(CLASSES.socailLink, function (link) {
          var site = link.dataset.site;
          socialShare(site);
        });
      };

      /**
       * Sets up click event listeners for direct links.
       */
      var setupDirectLinkListeners = function setupDirectLinkListeners() {
        var directLinkElements = root[0].querySelectorAll('.fxg-linkDirect');
        directLinkElements.forEach(function (element) {
          element.addEventListener('click', function () {
            var href = element.getAttribute('href');
            var text = element.textContent;
            saveClickedLinkInfo(href, text);
          });
        });
      };

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_root] compnent root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      var init = function init(_root) {
        return new Promise(function (resolve) {
          root = _root;
          docReady();
          // Convert jQuery wrapped element to native element for dataset access
          var element = _root[0] || _root;
          element.dataset.initialized = 'true';
          resolve();
        });
      };

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      var getElement = function getElement() {
        return root;
      };

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        docReady = jest.fn(docReady);
        linkItemClick = jest.fn(linkItemClick);
        checkBoldFont = jest.fn(checkBoldFont);
        saveClickedLinkInfo = jest.fn(saveClickedLinkInfo);
        getClickedLinkInfo = jest.fn(getClickedLinkInfo);
        closeAllDropdowns = jest.fn(closeAllDropdowns);
        menuNavPrev = jest.fn(menuNavPrev);
        menuNavNext = jest.fn(menuNavNext);
        showNextButton = jest.fn(showNextButton);
        showHiddenItem = jest.fn(showHiddenItem);
        resetBoldForLinks = jest.fn(resetBoldForLinks);
        resetState = jest.fn(resetState);
        toggleSocialMenu = jest.fn(toggleSocialMenu);
        socialShare = jest.fn(socialShare);
        shrink = jest.fn(shrink);
        grow = jest.fn(grow);
        scrollCheck = jest.fn(scrollCheck);
        activeItem = jest.fn(activeItem);
        stickyNav = jest.fn(stickyNav);
        setupNavigationButtonListeners = jest.fn(setupNavigationButtonListeners);
        setupCloseButtonListeners = jest.fn(setupCloseButtonListeners);
        handleCloseBtn = jest.fn(handleCloseBtn);
        hideSocialDropdowns = jest.fn(hideSocialDropdowns);
        removeClassFromElements = jest.fn(removeClassFromElements);
        handleSecondaryMenuSocialLinks = jest.fn(handleSecondaryMenuSocialLinks);
        setupSocialButtonListeners = jest.fn(setupSocialButtonListeners);
        setupMobileMenuListeners = jest.fn(setupMobileMenuListeners);
        setupSocialLinkListeners = jest.fn(setupSocialLinkListeners);
        setupMobileKeydownAndBlurListeners = jest.fn(setupMobileKeydownAndBlurListeners);
        setupDirectLinkListeners = jest.fn(setupDirectLinkListeners);
        handleOrientationChange = jest.fn(handleOrientationChange);
        handleMobileResetStyles = jest.fn(handleMobileResetStyles);
        handleDropdownState = jest.fn(handleDropdownState);
        addClickHandler = jest.fn(addClickHandler);
        toggleDesktopActiveState = jest.fn(toggleDesktopActiveState);
        handleMobileActiveState = jest.fn(handleMobileActiveState);
        resetLinkStyle = jest.fn(resetLinkStyle);
        handleNavState = jest.fn(handleNavState);
        setupLinkClickListeners = jest.fn(setupLinkClickListeners);
        setupKeyUpListener = jest.fn(setupKeyUpListener);
        window.open = jest.fn();
        instance.$private = function () {
          return {
            docReady: docReady,
            linkItemClick: linkItemClick,
            checkBoldFont: checkBoldFont,
            saveClickedLinkInfo: saveClickedLinkInfo,
            getClickedLinkInfo: getClickedLinkInfo,
            closeAllDropdowns: closeAllDropdowns,
            menuNavPrev: menuNavPrev,
            menuNavNext: menuNavNext,
            showNextButton: showNextButton,
            showHiddenItem: showHiddenItem,
            resetBoldForLinks: resetBoldForLinks,
            resetState: resetState,
            toggleSocialMenu: toggleSocialMenu,
            socialShare: socialShare,
            shrink: shrink,
            grow: grow,
            scrollCheck: scrollCheck,
            activeItem: activeItem,
            stickyNav: stickyNav,
            setupNavigationButtonListeners: setupNavigationButtonListeners,
            setupCloseButtonListeners: setupCloseButtonListeners,
            handleCloseBtn: handleCloseBtn,
            hideSocialDropdowns: hideSocialDropdowns,
            removeClassFromElements: removeClassFromElements,
            handleSecondaryMenuSocialLinks: handleSecondaryMenuSocialLinks,
            setupMobileMenuListeners: setupMobileMenuListeners,
            setupSocialButtonListeners: setupSocialButtonListeners,
            setupSocialLinkListeners: setupSocialLinkListeners,
            setupMobileKeydownAndBlurListeners: setupMobileKeydownAndBlurListeners,
            setupDirectLinkListeners: setupDirectLinkListeners,
            handleOrientationChange: handleOrientationChange,
            handleMobileResetStyles: handleMobileResetStyles,
            handleDropdownState: handleDropdownState,
            addClickHandler: addClickHandler,
            toggleDesktopActiveState: toggleDesktopActiveState,
            handleMobileActiveState: handleMobileActiveState,
            resetLinkStyle: resetLinkStyle,
            handleNavState: handleNavState,
            setupLinkClickListeners: setupLinkClickListeners,
            setupKeyUpListener: setupKeyUpListener
          };
        };
      }
      instances.push(instance);
      return instance;
    };

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    var createInstances = function createInstances() {
      return new Promise(function (resolve) {
        var initPromises = [];
        // find all related elements
        document.querySelectorAll(selector).forEach(function (element) {
          // skip already initialized elements
          if (element.dataset.initialized) return;
          // create instance
          var instance = window.FDX.components.secondaryMenu.create();
          // initialize instance
          var initPromise = instance.init($(element));
          initPromises.push(initPromise);
        });
        // resolve after all inits
        Promise.all(initPromises).then(function () {
          return resolve();
        });
      });
    };

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector,
      activeItemClass: CLASSES.activeItemClass,
      linkClass: CLASSES.linkClass,
      DropdownClass: CLASSES.dropdownClass,
      ActiveDropdownClass: CLASSES.activeDropdownClass,
      closeBtnClass: CLASSES.closeBtnClass,
      nextBtnClass: CLASSES.nextBtnClass,
      prevBtnClass: CLASSES.prevBtnClass,
      navClass: CLASSES.navClass,
      activeNavClass: CLASSES.activeNavClass,
      navWrapperClass: CLASSES.navWrapperClass,
      mobileMenuClass: CLASSES.mobileMenuClass,
      activeMobileMenuClass: CLASSES.activeMobileMenuClass,
      aemItemClass: CLASSES.aemItemClass,
      socialBtnClass: CLASSES.socialBtnClass,
      mobileSecondaryMenuCloseId: IDS.mobileSecondaryMenuCloseId,
      mobileSecondaryMenuIconId: IDS.mobileSecondaryMenuIconId,
      socialDropdownClass: CLASSES.socialDropdownClass,
      socailLink: CLASSES.socailLink,
      isRTL: isRTL,
      clickCounter: clickCounter,
      shrunkClass: CLASSES.shrunkClass,
      secondaryMenu: CLASSES.secondaryMenu,
      secondaryWrapper: CLASSES.secondaryWrapper,
      aria_expanded: CLASSES.aria_expanded
    };
  }();
})(FDX.services.device);

/***/ }),

/***/ 2112:
/***/ (function() {

"use strict";

;// ./src/components/alert/alert.inline.html?raw
var alert_inlineraw_namespaceObject = "<div class=\"fxg-alerts cc-aem-u-py--6 cc-aem-u-elevation--z6 <%= color.bg %> <%= responsiveClasses %>\">\n  <div class=\"fxg-wrapper cc-aem-u-flex cc-aem-u-flex-align-items--center\">\n    <% if (alertDesign.showIcon) { %>\n      <div style=\"width:40px\" class=\"cc-aem-u-flex--start\">\n        <svg class=\"cc-aem-c-icon cc-aem-u-font-size--h3 <%= color.icon %>\" aria-hidden=\"true\">\n          <use href=\"#<%= icon %>\"></use>\n        </svg>\n      </div>\n    <% } %>\n    <div class=\"cc-aem-u-flex--1 cc-aem-u-font-size--small cc-aem-u-mx--4 <%= color.fg %>\">\n      <%= parsedAlertText %>\n      <% if (alertDesign.showDetails) { %>\n        <div class=\"fxg-alerts__details <% if (!detailExpanded) { %>cc-aem-u-display--none<% } %>\">\n        <%= parsedAlertDetail %>\n        </div>\n        <button class=\"fxg-alerts__details-toggle cc-aem-c-button cc-aem-c-button--text cc-aem-c-button--condensed\n                        cc-aem-u-font-size--default cc-aem-u-line-height--large <%= color.fg %>\">\n          <span class=\"fxg-alerts__details-open <% if (detailExpanded) { %>cc-aem-u-display--none<% } %>\">\n            <%= showDetail.buttonText %><svg class=\"cc-aem-c-icon cc-aem-u-mx--1\" aria-hidden=\"true\" aria-label=\"<%= showDetail.buttonAltText %>\">\n              <use href=\"#navigational_chevron_down\"></use>\n            </svg>\n          </span>\n          <span class=\"fxg-alerts__details-close <% if (!detailExpanded) { %>cc-aem-u-display--none<% } %>\">\n            <%= hideDetail.buttonText %><svg class=\"cc-aem-c-icon cc-aem-u-mx--1\" aria-hidden=\"true\" aria-label=\"<%= hideDetail.buttonAltText %>\">\n              <use href=\"#navigational_chevron_up\"></use>\n            </svg>\n          </span>\n        </button>\n      <% } %>\n    </div>\n    <% if (alertDesign.persistence.dismissible) { %>\n      <button class=\"fxg-alerts__close cc-aem-c-button cc-aem-c-button--condensed cc-aem-c-button--icon\n                                   cc-aem-u-flex--start\" aria-label=\"<%= closeButton.altText %>\">\n        <svg class=\"cc-aem-c-icon <%= color.fg %>\" aria-hidden=\"true\">\n          <use href=\"#cross\"></use>\n        </svg>\n      </button>\n    <% } %>\n  </div>\n</div>";
;// ./src/components/alert/alert.js
function _createForOfIteratorHelper(r, e) { var t = "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && "number" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t["return"] || t["return"](); } finally { if (u) throw o; } } }; }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }


/**
 * Alert
 *
 * Displays important notifications at top or bottom of the screen
 */

(function ($, _, FDX, $services) {
  FDX.components.alert = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '';

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {
          location: '',
          alertText: '',
          alertDetail: '',
          exclusions: {
            pages: [],
            countries: [],
            pageNames: ''
          },
          showOnlyOn: {
            pages: [],
            countries: [],
            pageNames: ''
          },
          showDateTime: {
            enabled: true,
            fromTime: 0,
            toTime: 0,
            timeZone: ''
          },
          schedule: {
            onTime: 0,
            offTime: 0,
            timeZone: 0
          },
          alertDesign: {
            color: 'red',
            showIcon: false,
            iconType: '',
            showDetails: false,
            persistence: {
              dismissible: false,
              cookieId: '',
              expiresAt: 0
            },
            hideOnDesktop: false,
            hideOnMobile: false,
            hideOnTablet: false
          },
          showDetail: {
            buttonText: '',
            buttonAltText: ''
          },
          hideDetail: {
            buttonText: '',
            buttonAltText: ''
          },
          closeButton: {
            altText: ''
          },
          detailExpanded: false
        };
        config = $.extend({}, defaultConfig, _config);
        config.alertDesign.persistence.cookieId = 'fxg-alerts__' + config.alertDesign.persistence.cookieId;
      }
      ;

      /**
       * Render HTML
       *
       * @private
       * @return {Promise<string>} A promise that resolves with rendered HTML
       */
      function render() {
        var promise = $.Deferred();

        // select color
        var colors = {
          gray: {
            bg: 'cc-aem-u-bg-color--grey-20',
            fg: 'cc-aem-u-color--gray',
            icon: 'cc-aem-u-color--purple'
          },
          red: {
            bg: 'cc-aem-u-bg-color--error',
            fg: 'cc-aem-u-color--white',
            icon: 'cc-aem-u-color--white'
          }
        };
        config.color = colors[config.alertDesign.color] || colors.gray;

        // select icon
        var icons = {
          info: 'utility_information',
          warning: 'status_warning'
        };
        config.icon = icons[config.alertDesign.iconType] || icons.info;

        // apply responsive classes
        config.responsiveClasses = $services.utils.responsiveClasses(config.alertDesign);

        // parse dates
        config.parsedAlertText = parseDates(config.alertText);
        config.parsedAlertDetail = parseDates(config.alertDetail);
        var rendered = _.template(alert_inlineraw_namespaceObject)(config);
        return promise.resolve(rendered);
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();

        // can we show this alert?
        if (!canShow()) {
          promise.reject();
        }

        // create DOM element
        render().then(function (html) {
          $root = $(html);
          var $details = $('.fxg-alerts__details', $root);
          var $detailsOpen = $('.fxg-alerts__details-open', $root);
          var $detailsClose = $('.fxg-alerts__details-close', $root);

          // bind events
          $('.fxg-alerts__close', $root).on('click', function () {
            hide();
          });
          $('.fxg-alerts__details-toggle', $root).on('click', function () {
            $details.toggleClass('cc-aem-u-display--none');
            $detailsOpen.toggleClass('cc-aem-u-display--none');
            $detailsClose.toggleClass('cc-aem-u-display--none');
            if ($('fedex-alert-header').length > 0) {
              $(FDX.CORE.mainContentWrapper).css('cssText', 'margin-top:' + $("." + FDX.components.header.stickyClass).height() + 'px !important');
            }
          });

          // initialized
          $root.data('initialized', true);
          promise.resolve();
        });
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      /**
       * Can alert be shown?
       *
       * @public
       * @return {boolean}
       */
      function canShow() {
        var cookieValue = $services.session.getCookie(config.alertDesign.persistence.cookieId);
        return !cookieValue;
      }

      /**
       * Shows the alert
       *
       * @param {Object} $container - jQuery DOM container element
       * @public
       */
      function show($container) {
        // append to DOM
        $container.append($root);

        // re-calculate header height
        if (config.location === 'header') {
          $services.headerHeight.calc();
        }

        //checks the schedule and hides the alert panel if it is not scheduled to appear
        hideWhenNotInSchedule();
      }

      /**
       * Hides the alert
       *
       * @public
       */
      function hide() {
        // remember the user's decision in a cookie so that we don't show the same alert any more
        var cookieValue = Math.floor(Date.now() / 1000);
        var cookieExpireDays = parseInt(config.alertDesign.persistence.expiresAt) / (60 * 60 * 24);
        $services.session.setCookie(config.alertDesign.persistence.cookieId, cookieValue, cookieExpireDays);

        // remove from DOM
        $root.remove();

        // re-calculate header height
        if (config.location === 'header') {
          $services.headerHeight.calc();
        }
      }

      /**
       * Hides the alert when its out of schedule
       *
       * @private
       */
      //The function is to hide alert panel when the alert is not scheduled to appear
      function hideWhenNotInSchedule() {
        if (!config.showDateTime.enabled || !config.schedule.offTime || !config.schedule.onTime) return;
        var onTime = config.schedule.onTime;
        var offTime = config.schedule.offTime;

        //Below code will convert local time to the schedule's timzeone's time
        var options = {
          timeZone: config.schedule.timeZone,
          year: 'numeric',
          month: 'numeric',
          day: 'numeric',
          hour: 'numeric',
          minute: 'numeric',
          second: 'numeric'
        };
        var formatter = new Intl.DateTimeFormat([], options);
        var date = new Date();
        // Format date using the specified options
        formatter.format(date);
        // Get ISO string format, to compare with schedule
        var isoStringDate = date.toISOString();

        //Now compairing to hide panel if the schedule is not reached, or over
        if (isoStringDate < onTime) {
          hide();
        } else if (isoStringDate > offTime) {
          hide();
        } else {
          return;
        }
      }

      /**
       * Parse dates in given content
       *
       * @private
       * @param {string} content - string with placeholders $[from] and $[to]
       * @return {string} string with parsed dates
       */
      //getting user's timezone in default format
      var userTimeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;
      //converting userTimeZone to GMT format
      var browserTimeZone = new Date().toLocaleTimeString(Intl.DateTimeFormat().resolvedOptions().locale, {
        timeZone: userTimeZone,
        timeZoneName: 'short'
      });
      function parseDates(content) {
        // if not showDateTime not enabled, or no values given simply return without any alteration
        if (!config.showDateTime.enabled || !config.showDateTime.fromTime || !config.showDateTime.toTime) return content;

        // To render from and to dates
        var options = {
          timeZone: userTimeZone
        };

        // getting from and to dates
        var serverDate_From = new Date(config.showDateTime.fromTime);
        var serverDate_To = new Date(config.showDateTime.toTime);

        //To display the from and to dates in html
        content = content.replace('$[from]', $services.utils.formatDateTime(serverDate_From, options) + " " + $services.utils.getTimeZoneAbbreviated(browserTimeZone));
        content = content.replace('$[to]', $services.utils.formatDateTime(serverDate_To, options) + " " + $services.utils.getTimeZoneAbbreviated(browserTimeZone));
        return content;
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement,
        canShow: canShow,
        show: show,
        hide: hide
      };
      instances.push(instance);
      return instance;
    }

    /**
     * Get API url
     *
     * @private
     * @return {string} API url
     */
    function getApiUrl() {
      // assemble url
      var locale = FDX.DATALAYER.page.pageInfo.locale;
      var apiUrl = "/etc/services/alerts/aem/".concat(locale, ".json");
      return apiUrl;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();
      var initPromises = [];

      // get containers
      var $containers = {
        header: {
          $element: $('fedex-alert-header'),
          filled: false
        },
        footer: {
          $element: $('fedex-alert-footer'),
          filled: false
        }
      };

      // if both containers don't exist, we won't do anything
      if (!$containers.header.$element.length && !$containers.footer.$element.length) {
        promise.resolve();
        return;
      }

      // get instances config from api
      var apiUrl = getApiUrl();
      $services.fetch.ajax(apiUrl).then(function (data) {
        var _loop = function _loop() {
          var $container = $containers[location];

          // create alert instances for this location (header/footer)
          var alerts = data.alerts["".concat(location, "Alerts")];
          var _iterator = _createForOfIteratorHelper(alerts),
            _step;
          try {
            var _loop2 = function _loop2() {
                var config = _step.value;
                // skip location if already filled
                // we only allow one alert per location
                if ($container.filled) return 0; // continue

                // create instance
                var instance = FDX.components.alert.create();

                // can we fill this location? if not we will skip

                config = processAlert(alerts);
                if (config) {
                  config.location = location;
                  instance.setConfig(config);
                  var canFill = instance.canShow();
                  if (!canFill) return 0; // continue

                  // initialize and show alert in this location (header/footer)
                  var initPromise = instance.init();
                  initPromise.then(function () {
                    instance.show($container.$element);
                  });
                  initPromises.push(initPromise);
                  $container.filled = true;
                }
              },
              _ret;
            for (_iterator.s(); !(_step = _iterator.n()).done;) {
              _ret = _loop2();
              if (_ret === 0) continue;
            }
          } catch (err) {
            _iterator.e(err);
          } finally {
            _iterator.f();
          }
        };
        // header + footer
        for (var location in $containers) {
          _loop();
        }
      });

      // resolve after all inits
      $.when.apply($, initPromises).then(function () {
        promise.resolve();
      });
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _, FDX, FDX.services);
function processAlert(alerts) {
  if (!alerts) {
    return;
  }
  var myurl = window.location.href;
  var endIndex = myurl.indexOf(".html");
  var extractedData = endIndex !== -1 ? myurl.substring(0, endIndex) : myurl;
  var lastword = extractedData.split('/');
  var exactpagename = lastword[lastword.length - 1];
  var doubleSlash = extractedData.indexOf("//");
  var startIndex = extractedData.indexOf("/", doubleSlash + 2);
  var extractedPages = extractedData.substring(startIndex);
  var _iterator2 = _createForOfIteratorHelper(alerts),
    _step2;
  try {
    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
      var alert = _step2.value;
      if (document.cookie.indexOf("fxg-alerts__" + alert.alertDesign.persistence.cookieId) == -1) {
        var showAlert = checkforInclusion(alert);
        if (showAlert == true) {
          var valid = checkforExclusion(alert);
          if (valid == true) {
            var displayByViewport = checkViewportSettings(alert);
            if (displayByViewport == true) {
              return alert;
            }
          }
        }
      }
    }

    // for Inclusion .
  } catch (err) {
    _iterator2.e(err);
  } finally {
    _iterator2.f();
  }
  function checkforInclusion(alert) {
    var showOnlyOn = alert.showOnlyOn;
    var pageNames = showOnlyOn.pageNames;
    var pages = showOnlyOn.pages;
    if (pageNames == "" && pages == "") {
      return true;
    }
    var _iterator3 = _createForOfIteratorHelper(pageNames),
      _step3;
    try {
      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {
        var pageName = _step3.value;
        if (exactpagename == pageName) {
          return true;
        }
      }
    } catch (err) {
      _iterator3.e(err);
    } finally {
      _iterator3.f();
    }
    var _iterator4 = _createForOfIteratorHelper(pages),
      _step4;
    try {
      for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {
        var page = _step4.value;
        if (extractedPages == page) {
          return true;
        }
      }
    } catch (err) {
      _iterator4.e(err);
    } finally {
      _iterator4.f();
    }
    return false;
  }

  // for Exclusion ..
  function checkforExclusion(alert) {
    var exclusions = alert.exclusions;
    var pageNames = exclusions.pageNames;
    var pages = exclusions.pages;
    if (pageNames == "" && pages == "") {
      return true;
    }
    var _iterator5 = _createForOfIteratorHelper(pageNames),
      _step5;
    try {
      for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {
        var pageName = _step5.value;
        if (exactpagename == pageName) {
          return false;
        }
      }
    } catch (err) {
      _iterator5.e(err);
    } finally {
      _iterator5.f();
    }
    var _iterator6 = _createForOfIteratorHelper(pages),
      _step6;
    try {
      for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {
        var page = _step6.value;
        if (extractedPages == page) {
          return false;
        }
      }
    } catch (err) {
      _iterator6.e(err);
    } finally {
      _iterator6.f();
    }
    return true;
  }

  // display based on individual alert viewport settings
  function checkViewportSettings(alert) {
    var hideOnDesktop = alert.alertDesign.hideOnDesktop;
    var hideOnMobile = alert.alertDesign.hideOnMobile;
    var hideOnTablet = alert.alertDesign.hideOnTablet;
    if (FDX.BREAKPOINTS.getViewPort() == "largeViewPort" && hideOnDesktop == true) {
      return false;
    } else if (FDX.BREAKPOINTS.getViewPort() == "mediumViewPort" && hideOnTablet == true) {
      return false;
    } else if (FDX.BREAKPOINTS.getViewPort() == "smallViewPort" && hideOnMobile == true) {
      return false;
    }
    return true;
  }
}
// temporary toggle for new Alert
window.useNewAlert = function () {
  // remove old alert and add new placeholders
  var $old = $('fedex-alert');
  $('fedex-alert-header').remove();
  var $alertHeader = $('<fedex-alert-header></fedex-alert-header>');
  $old.after($alertHeader);
  $('fedex-alert-footer').remove();
  var $alertFooter = $('<fedex-alert-footer></fedex-alert-footer>');
  $alertHeader.after($alertFooter);
  $old.remove();
  FDX.services.headerHeight.calc();

  // create alert instances
  FDX.components.alert.createInstances();
};

/***/ }),

/***/ 2159:
/***/ (function() {

"use strict";

;// ./src/components/aaf-fileupload/templates/file-item.html?raw
var file_itemraw_namespaceObject = "<div class=\"fxg-adaptiveform__fileupload__item cc-aem-o-grid__row cc-aem-u-border--bottom cc-aem-o-grid__row--guttered-small cc-aem-u-flex--align-items-center\" data-key=\"${key}\">\n\n  <!-- trash icon -->\n  <div class=\"cc-aem-o-grid__item--auto\">\n    <button class=\"fxg-adaptiveform__fileupload__item__remove cc-aem-c-button cc-aem-c-button--square cc-aem-c-button--text\" aria-label=\"remove\" data-key=\"${key}\">\n      <fdx-icon class=\"cc-aem-c-button__icon\" aria-hidden=\"true\">\n        <svg class=\"cc-aem-c-icon \" aria-hidden=\"true\" focusable=\"false\" role=\"presentation\">\n          <use xlink:href=\"#trashcan\"></use>\n        </svg>\n      </fdx-icon>\n    </button>\n  </div>\n\n  <!-- file name -->\n  <div class=\"cc-aem-u-text-truncate cc-aem-o-grid__item--5\">\n    ${file.name}\n  </div>\n\n  <!-- scan status icon (loading) -->\n  <% if (status === 'loading') { %>\n  <div\n    class=\"cc-aem-u-flex cc-aem-o-grid__item--5 cc-aem-o-grid__item--4@x-small-only\">\n    <div class=\"cc-aem-c-loader cc-aem-c-loader--medium\"></div>\n  </div>\n  <% } %>\n\n  <!-- scan status icon (rejected) -->\n  <% if (status === 'rejected') { %>\n  <div\n    class=\"cc-aem-u-flex cc-aem-o-grid__item--5 cc-aem-o-grid__item--4@x-small-only cc-aem-u-flex--align-items-center\" data-key=\"${key}\">\n    <fdx-icon class=\"cc-aem-c-icon cc-aem-u-color--error cc-aem-u-font-size--h3\"\n      aria-hidden=\"true\">\n      <svg class=\"cc-aem-c-icon \" aria-hidden=\"true\" focusable=\"false\" role=\"presentation\">\n        <use xlink:href=\"#exclamation-triangle\"></use>\n      </svg>\n    </fdx-icon>\n    <span class=\"cc-aem-u-color--info cc-aem-u-text-transform--uppercase cc-aem-u-font-size--small cc-aem-u-ml--6 cc-aem-u-fontweight--bold\" aria-label=\"reject\">\n      ${rejectText}\n    </span>\n  </div>\n  <% } %>\n\n  <!-- scan status icon (success) -->\n  <% if (status === 'success') { %>\n  <div\n    class=\"cc-aem-u-flex cc-aem-o-grid__item--5 cc-aem-o-grid__item--4@x-small-only\">\n    <fdx-icon class=\"cc-aem-c-icon cc-aem-u-color--success cc-aem-u-font-size--h3\"\n      aria-hidden=\"true\">\n      <svg class=\"cc-aem-c-icon \" aria-hidden=\"true\" focusable=\"false\" role=\"presentation\">\n        <use xlink:href=\"#check-mark-circle\"></use>\n      </svg>\n    </fdx-icon>\n  </div>\n  <% } %>\n\n</div>";
;// ./src/components/aaf-fileupload/templates/error.html?raw
var errorraw_namespaceObject = "<div class=\"cc-aem-o-grid__row cc-aem-u-border--bottom\">\n  <div class=\"cc-aem-c-form-message cc-aem-c-form-message--error\">\n    <fdx-icon class=\"cc-aem-c-form__message__item__icon\" aria-hidden=\"true\">\n      <svg class=\"cc-aem-c-icon \" aria-hidden=\"true\" focusable=\"false\" role=\"presentation\">\n        <use xlink:href=\"#utility_cross-fat\"></use>\n      </svg>\n    </fdx-icon>\n    ${error}\n  </div>\n\n</div>";
;// ./src/components/aaf-fileupload/aaf-fileupload.js
function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }
function _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
/**
 * AAF - File Upload
 *
 * File upload field in adaptiveform component
 */


(function ($, _, $fetch, $analytics) {
  window.FDX.components.aaf_fileupload = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '.fxg-adaptiveform__fileupload';

    /**
     * CONSTANTS
     */
    var STATUS_LOADING = 'loading';
    var STATUS_SUCCESS = 'success';
    var STATUS_REJECTED = 'rejected';
    var ATTR_DISABLED = 'disabled';
    var CSS_DISABLED = 'cc-aem-c-form--is-disabled';

    /**
     * Create component instance
     *
     * @public
     * @param {Object} _parent - parent form
     * @return {Object} instance
     */
    function create(_parent) {
      /**
       * @type {Object} parent form
       */
      var parent = _parent;

      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} root jQuery DOM element
       */
      var $root = null;

      /**
       * @type {Object} file items wrapper jQuery DOM element
       */
      var $fileItems = null;

      /**
       * @type {Object} file error jQuery DOM element
       */
      var $errors = null;

      /**
       * @type {Object} submit jQuery DOM element
       */
      var $submitButton = null;

      /**
       * @type {Object} file items array
       */
      var fileItems = [];

      /**
       * @type {Object} jQuery DOM input element
       */
      var $input = null;

      /**
       * @type {Object} jQuery DOM input element
       */
      var instanceIndex;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {
          id: '',
          type: '',
          index: 0,
          name: '',
          title: '',
          analytics: '',
          rejectText: 'Rejected',
          fileSizeLimit: 0,
          fileSizeErrorMessage: 'Each file must be smaller than (size) MB. The file (file) is too large; please select a smaller file.',
          totalFileSizeLimit: 0,
          totalFileSizeErrorMessage: 'The total size of all files must be under (size) MB. Please remove some files or select smaller files.',
          fileCountLimit: 0,
          fileCountLimitMessage: 'You can upload a maximum of (count) files. Please remove some files before adding more.',
          scanErrorMessage: 'Document scanning failed. Please retry again.',
          scanRejectErrorMessage: 'One or more files have been rejected. Please remove rejected files in order to submit.',
          mimetype: '',
          mimetypeErrorMessage: 'The file (file) is not a supported format.'
        };
        config = {};
        for (var key in defaultConfig) {
          if (typeof defaultConfig[key] === 'number') {
            _config[key] = parseInt(_config[key] || 0);
          }
          config[key] = _config[key] || defaultConfig[key];
        }
      }

      /**
       * Get configuration
       *
       * @public
       * @return {Object} configuration key/value pair
       */
      function getConfig() {
        return config;
      }

      /**
       * Toggles the state of the submit button.
       *
       * @private
       * @param {boolean} enabled - Indicates whether the submit button should be enabled or disabled.
       * @returns {void}
       */
      function toggleSubmitButton(enabled) {
        $submitButton.prop(ATTR_DISABLED, !enabled);
      }

      /**
       * Checks the status of file items and toggles the submit button accordingly.
       *
       * This function iterates over the `fileItems` array and determines if the submit button
       * should be enabled based on the status of each file item. The submit button is enabled
       * only if all file items have a status of `STATUS_SUCCESS`.
       *
       * @private
       * @returns {void}
       */
      function maybeToggleSubmitButton() {
        var enabled = true;
        fileItems.forEach(function (fileItem) {
          enabled = enabled && fileItem.status === STATUS_SUCCESS;
        });
        // if (!enabled) {
        //   addError(config.scanRejectErrorMessage);
        // }
        toggleSubmitButton(enabled);
      }

      /**
       * Applies or removes disabled styling to an element.
       *
       * @private
       * @param {Object} $element - jQuery element to apply styles to
       * @param {boolean} disabled - Whether to apply disabled styles
       * @returns {void}
       */
      function applyDisabledStyles($element, disabled) {
        var styles = disabled ? {
          'opacity': '0.6',
          'pointer-events': 'none'
        } : {
          'opacity': '',
          'pointer-events': ''
        };
        $element.css(styles);
      }

      /**
       * Toggles the state of the attach button and its associated input element.
       *
       * This function adds or removes a CSS class to the root element and enables or disables
       * the input element based on the provided `enabled` parameter.
       *
       * @private
       * @param {boolean} enabled - Indicates whether the attach button should be enabled or disabled.
       * @returns {void}
       */
      function toggleAttachButton(enabled) {
        var disabled = !enabled;
        $root.toggleClass(CSS_DISABLED, disabled);
        $input.prop(ATTR_DISABLED, disabled);

        // Apply inline styles for disabled state
        applyDisabledStyles($root, disabled);
        applyDisabledStyles($root.find('label, input[type="file"]'), disabled);
      }

      /**
       * Delete the file
       *
       * @private
       * @param {Sting} fileKey - key of the file to delete
       */
      function removeFileItem(fileKey) {
        var fileItem = fileItems.find(function (fileItem) {
          return fileItem.key === fileKey;
        });
        if (!fileItem || fileItem.status === STATUS_LOADING) return;
        var fileIndex = fileItems.indexOf(fileItem);
        fileItems.splice(fileIndex, 1);
        $fileItems.find("[data-key='".concat(fileKey, "']")).remove();

        // if no rejected files remain, clear the error message
        var hasRejected = fileItems.some(function (item) {
          return item.status === STATUS_REJECTED;
        });
        if (!hasRejected) {
          clearErrors();
        }

        // re-evaluate submit button state
        maybeToggleSubmitButton();
      }

      /**
       * Render HTML
       *
       * @private
       * @return {Promise<string>} A promise that resolves with rendered HTML
       */
      function render() {}

      /**
       * render the file HTML on to the DOM
       *
       * @private
       * @param {Object} fileItem - file config object
       */
      function renderFileItem(fileItem) {
        fileItem.rejectText = config.rejectText;
        var $rendered = $(_.template(file_itemraw_namespaceObject)(fileItem));

        // either update or add file item element in DOM
        var $fileItem = $fileItems.find(".fxg-adaptiveform__fileupload__item[data-key='".concat(fileItem.key, "']"));
        bindFileItemInteractions($rendered);
        if ($fileItem.length) {
          $fileItem.replaceWith($rendered);
        } else {
          $fileItems.append($rendered);
        }
      }

      /**
       * Gets file items
       *
       * @private
       * @returns {void}
       */
      function getFileItems() {
        return fileItems;
      }

      /**
       * Clears all file items from the internal list and the UI.
       *
       * This function resets the `fileItems` array to an empty state and removes all
       * file item elements from the associated UI component.
       *
       * @private
       * @returns {void}
       */
      function clearFileItems() {
        fileItems = [];
        $fileItems.empty();
      }

      /**
       * Clears all error messages from the UI.
       *
       * This function removes all error messages displayed in the associated UI component.
       *
       * @private
       * @returns {void}
       */
      function clearErrors() {
        $errors.empty();
      }

      /**
       * Adds an error message to the UI.
       *
       * This function creates a new error message element using a template and appends
       * it to the errors container in the UI.
       *
       * @private
       * @param {string} error - The error message to be displayed.
       * @returns {void}
       */
      function addError(error) {
        var $rendered = $(_.template(errorraw_namespaceObject)({
          error: error
        }));
        $errors.append($rendered);
      }

      /**
      * Trigger the API with all the files to scan
      *
      * @private
      * @param {Object[]} files - new files
      * @return {Promise} isValid
      */
      function scanFiles(files) {
        var promise = $.Deferred();

        // prepare files
        var filesData = new FormData();
        files.forEach(function (file) {
          filesData.append(file.name, file);
        });

        // submit files for scan
        $fetch.ajax('/etc/services/aaf/documentscan', filesData, {
          method: 'post',
          processData: false,
          contentType: false
        }, true).then(function (res) {
          // handle missing/invalid/empty responses
          if (!res || !Array.isArray(res) || res.length === 0) {
            files.forEach(function (file) {
              var fileItem = fileItems.find(function (fileItem) {
                return fileItem.key === file.name;
              });
              if (!fileItem) return;
              fileItem.status = STATUS_REJECTED;
              renderFileItem(fileItem);
            });
            clearErrors();
            addError(config.scanRejectErrorMessage);
            promise.reject(config.scanRejectErrorMessage);
            return;
          }

          // update file items
          res.forEach(function (fileRes) {
            var fileItem = fileItems.find(function (fileItem) {
              return fileItem.key === fileRes.fileKey;
            });
            if (!fileItem) return;
            fileItem.status = fileRes.success ? STATUS_SUCCESS : STATUS_REJECTED;
            renderFileItem(fileItem);
          });

          // if any file failed or missing response, treat as reject
          var anyRejected = res.some(function (r) {
            return !r.success;
          });
          if (anyRejected) {
            clearErrors();
            addError(config.scanRejectErrorMessage);
            promise.reject(config.scanRejectErrorMessage);
          } else {
            promise.resolve();
          }
        }, function () {
          files.forEach(function (file) {
            var fileItem = fileItems.find(function (fileItem) {
              return fileItem.key === file.name;
            });
            if (!fileItem) return;
            fileItem.status = STATUS_REJECTED;
            renderFileItem(fileItem);
          });
          clearErrors();
          addError(config.scanRejectErrorMessage);
          promise.reject(config.scanRejectErrorMessage);
        });
        return promise;
      }

      /**
       * Creates a DOM input element of type file and populates it with the specified file.
       *
       * This function generates an input element that allows users to select files. It also
       * programmatically adds the provided file to the input's file list using the DataTransfer
       * API, making it ready for file upload or processing.
       *
       * @private
       * @param {File} file - The file to be added to the input element.
       * @returns {jQuery} A jQuery object wrapping the created input element.
       */
      function createDOMInputFile(file) {
        var input = document.createElement('input');
        input.type = 'file';
        var dataContainer = new DataTransfer();
        dataContainer.items.add(file);
        input.files = dataContainer.files;
        return $(input);
      }

      /**
       * Validates the files offered in the file input event.
       *
       * This function checks the files provided by the user for duplicates, file count limits,
       * and file size limits. It clears any existing errors, disables the attach and submit buttons,
       * and processes the valid files by adding them to the list and rendering them. If any validation
       * fails, it adds an error message to the UI.
       *
       * @private
       * @param {Event} event - The event object from the file input change event, containing the selected files.
       * @return {Promise} A promise that resolves when files have been validated
       */
      function validateFiles(event) {
        var promise = $.Deferred();

        // don't do anything if no files are offered
        var offeredFiles = Array.from(event.target.files);
        if (!offeredFiles.length) return;

        // we have already stored the files in memory, let's clear the file input
        $input[0].value = '';

        // empty errors and disable attach and submit buttons
        var hasRejected = fileItems.some(function (fileItem) {
          return fileItem.status === STATUS_REJECTED;
        });
        if (!hasRejected) {
          clearErrors();
        }
        toggleAttachButton(false);
        toggleSubmitButton(false);
        try {
          // remove duplicates from existing file items, so we can re-add them later
          var newFileItems = fileItems.filter(function (fileItem) {
            var isDuplicate = offeredFiles.some(function (offeredFile) {
              return offeredFile.name === fileItem.key;
            });
            return !isDuplicate;
          });

          // check max file count
          if (config.fileCountLimit) {
            var newCount = newFileItems.length + offeredFiles.length;
            if (newCount > config.fileCountLimit) {
              var error = config.fileCountLimitMessage.replace('(count)', config.fileCountLimit);
              if ($errors.text().indexOf(error) === -1) {
                addError(error);
              }
              ;
              throw new Error(error);
            }
          }

          // check total file size
          if (config.totalFileSizeLimit) {
            var existingFilesSize = newFileItems.reduce(function (total, fileItem) {
              return total + fileItem.file.size;
            }, 0);
            var offeredFilesSize = offeredFiles.reduce(function (total, offeredFile) {
              return total + offeredFile.size;
            }, 0);
            var totalFileSize = existingFilesSize + offeredFilesSize;
            if (totalFileSize > config.totalFileSizeLimit * 1024 * 1024) {
              var _error = config.totalFileSizeErrorMessage.replace('(size)', config.totalFileSizeLimit);
              if ($errors.text().indexOf(_error) === -1) {
                addError(_error);
              }
              ;
              throw new Error(_error);
            }
          }

          // remove files with incorrect mime type
          if (config.mimetype) {
            offeredFiles = offeredFiles.filter(function (file) {
              var allowedMimeTypes = config.mimetype.split(',').map(function (type) {
                return type.trim();
              });
              var incorrectMimeType = !allowedMimeTypes.some(function (type) {
                if (type.endsWith('/*')) {
                  return file.type.startsWith(type.substring(0, type.length - 2));
                }
                return file.type === type;
              });
              if (incorrectMimeType) {
                var _error2 = config.mimetypeErrorMessage.replace('(file)', file.name);
                if ($errors.text().indexOf(_error2) === -1) {
                  addError(_error2);
                }
              }
              return !incorrectMimeType;
            });
          }

          // remove files that are too big
          if (config.fileSizeLimit) {
            offeredFiles = offeredFiles.filter(function (file) {
              var tooBig = file.size > config.fileSizeLimit * 1024 * 1024;
              if (tooBig) {
                var _error3 = config.fileSizeErrorMessage.replace('(size)', config.fileSizeLimit).replace('(file)', file.name);
                if ($errors.text().indexOf(_error3) === -1) {
                  addError(_error3);
                }
              }
              return !tooBig;
            });
          }

          // add file to list
          offeredFiles.forEach(function (file) {
            var fileItem = {
              key: file.name,
              file: file,
              status: STATUS_LOADING,
              dom: createDOMInputFile(file)
            };
            newFileItems.push(fileItem);
          });

          // render file items
          clearFileItems();
          fileItems = newFileItems;
          fileItems.forEach(function (fileItem) {
            renderFileItem(fileItem);
          });
          if (offeredFiles.length === 0) {
            toggleAttachButton(true);
            maybeToggleSubmitButton();
            return promise.reject();
          }

          // trigger the scan process with valid files only
          scanFiles(offeredFiles).then(function () {
            toggleAttachButton(true);
            maybeToggleSubmitButton();
            promise.resolve();
          }, function (error) {
            toggleAttachButton(true);
            maybeToggleSubmitButton();
            promise.reject(error);
          });
        } catch (error) {
          if ($errors.text().indexOf(error.message) === -1) {
            addError(error.message);
          }
          toggleAttachButton(true);
          maybeToggleSubmitButton();
          promise.reject(error.message);
        }
        return promise;
      }

      /**
       * Bind interactions events
       *
       * @private
       */
      function bindInteractions() {
        // use this to examine the post call
        // guideBridge._getGuidePathUrl = () => ('https://eo92vlhk714c2hm.m.pipedream.net');
        // you can create your own post url using https://pipedream.com/

        // bind to file selected
        $('input', $root).on('change', validateFiles);
      }

      /**
       * Bind interactions events for a file item
       *
       * @private
       * @param {Object} $file - new file jQuery DOM
       */
      function bindFileItemInteractions($file) {
        $file.find('.fxg-adaptiveform__fileupload__item__remove').on('click', function (event) {
          event.preventDefault();
          var fileKey = $(this).data('key');
          removeFileItem(fileKey);
        });
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;
        $input = $root.find('input');
        $fileItems = $root.find('.fxg-adaptiveform__fileupload__items');
        $errors = $root.find('.fxg-adaptiveform__fileupload__error');
        $submitButton = parent.getElement().find('button[type=submit]');
        instanceIndex = FDX.components.aaf_fileupload.instances.length - 1;

        // bind interactions
        bindInteractions();

        // Apply initial disabled styles if mimetype is empty or missing
        var mimetype = $root.attr('data-mimetype');
        if (!mimetype || mimetype === '') {
          applyDisabledStyles($root, true);
          applyDisabledStyles($root.find('label, input[type="file"]'), true);
        }

        // initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      /**
       * Recursively finds and returns all file upload fields from the given children elements.
       *
       * This function searches through the provided array of children elements to locate
       * elements with the class name 'guideFileUpload'. It also checks within any nested
       * panels (elements with the class name 'guidePanel') for additional file upload fields.
       *
       * @private
       * @param {HTMLElement[]} children - An array of child elements to search for file upload fields.
       * @returns {HTMLElement[]} An array of elements that match the class name 'guideFileUpload'.
       */
      function findFileUploads(children) {
        // find guideFileUploads in fields
        var uploadFields = children.filter(function (item) {
          return item.className === 'guideFileUpload';
        });

        // find guideFileUploads in panels
        var panels = children.filter(function (item) {
          return item.className === 'guidePanel';
        });
        for (var p in panels) {
          var uploadFields2 = findFileUploads(panels[p].children, true);
          uploadFields.push.apply(uploadFields, _toConsumableArray(uploadFields2));
        }
        return uploadFields;
      }

      /**
       * Attach the files to the FileGuideNode instances
       *
       * @public
       * @return {Object} collection of jQuery DOM element
       */
      function attachFiles() {
        // let's find guideFileUpload field related to this field
        var uploadFields = findFileUploads(guideBridge._guide.rootPanel.children);
        var uploadField = uploadFields[instanceIndex];
        if (!uploadField) throw new Error('Could not find guideFileUpload field!');

        // attach our files to it
        uploadField.jsonModel.files = fileItems.map(function (fileItem) {
          return fileItem.key;
        }).join('\n');
        uploadField.jsonModel.items.fileattachment._value = uploadField.jsonModel.files;
        uploadField._fileList = fileItems.map(function (fileItem) {
          return fileItem.dom;
        });

        // Retrieve the file types and ensure duplicate types are not included
        var uniqueFileTypes = Array.from(new Set(fileItems.map(function (_ref) {
          var key = _ref.key;
          return key.split('.').pop() || undefined;
        }))).filter(Boolean);

        // GDL event to update data with attachments
        $analytics.push({
          gdl: {
            category: 'form',
            eventName: 'update-data',
            params: {
              name: config.analytics,
              data: {
                count: fileItems.length,
                fileTypes: uniqueFileTypes
              }
            }
          }
        });
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        getConfig: getConfig,
        init: init,
        attachFiles: attachFiles,
        getElement: getElement
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        getFileItems = jest.fn(getFileItems);
        clearFileItems = jest.fn(clearFileItems);
        bindInteractions = jest.fn(bindInteractions);
        validateFiles = jest.fn(validateFiles);
        findFileUploads = jest.fn(findFileUploads);
        attachFiles = jest.fn(attachFiles);
        instance.$private = function () {
          return {
            $fileItems: $fileItems,
            $errors: $errors,
            getFileItems: getFileItems,
            clearFileItems: clearFileItems,
            bindInteractions: bindInteractions,
            validateFiles: validateFiles,
            findFileUploads: findFileUploads,
            attachFiles: attachFiles
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();

      // We always create and initialize this component through aaf component.
      // Therefore this component does not need to be initialized through bootstrap.
      promise.resolve();
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _, FDX.services.fetch, FDX.services.analytics);

/***/ }),

/***/ 2187:
/***/ (function() {

"use strict";

;// ./src/components/geolocator/geolocator.inline.html?raw
var geolocator_inlineraw_namespaceObject = "<div class=\"fxg-geo-locator\">\n  <div class=\"fxg-geo-locator__body cc-aem-u-align--center\">\n    <p class=\"fxg-geo-locator__focus\" tabindex=\"0\">focus</p>\n    <h3 class=\"fxg-geo-locator__title cc-aem-u-my--5 cc-aem-u-fontsize--h4 cc-aem-u-fontweight--light\"><%= title %></h3>\n    <p class=\"fxg-geo-locator__description cc-aem-u-fontweight--light cc-aem-u-mb--10\"><%= description %></p>\n    <div class=\"fxg-geo-locator__countries\">\n      <% // Loop through locales %>\n      <% _.each(locales, function(locale) { %>\n      <div class=\"fxg-geo-locator__country\">\n        <h4 class=\"fxg-geo-locator__country-title cc-aem-u-mt--2 cc-aem-u-mb--2 cc-aem-u-fontsize--h5 cc-aem-u-fontweight--regular\"><%= locale.countryName %></h4>\n        <ul class=\"fxg-geo-locator__country-list\">\n          <% // Loop through languages %>\n          <% _.each(locale.languages, function(language) { %>\n          <li class=\"<%= language.classes.item %> fxg-geo-locator__country-list-item\">\n            <a class=\"<%= language.classes.link %> fxg-geo-locator__country-url\" href=\"<%= language.url %>\" data-analytics=\"link|<%= language.analyticsText %>\" onclick=\"FDX.DTM.pushLinkInfo(this)\" data-country-code=\"<%= locale.countryCode %>\"  aria-label=\"<%= language.ariaLabel %>\">\n              <span class=\"<%= language.classes.label %>\"><%= language.text %><span>\n            </a>\n          </li>\n          <% }); %>\n        </ul>\n      </div>\n      <% }); %>\n    </div>\n    <p>\n      <% // The link to the overview of countries %>\n      <a class=\"fxg-geo-locator__global-link cc-aem-u-color--text cc-aem-u-fontsize--default\" href=\"<%= globallocationurl %>\" data-analytics=\"link|<%= globalAnalyticsText %>\" onclick=\"FDX.DTM.pushLinkInfo(this); FDX.SESSION.removeRedirectCookie();\" aria-label=\"<%= globalLocationAriaLabel %>\"><%= globalLocation %></a>\n    </p>\n  </div>\n</div>";
;// ./src/components/geolocator/geolocator.js


/**
 * Hello World
 *
 * This component is created for demonstration purpose
 */

(function ($, _, $fetch, $session) {
  window.FDX.components.geolocator = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = 'fedex-geo-locator';

    /**
     * @type {string} service path
     */
    var servicePath = '/etc/services/geolocator';

    /**
     * Cookies
     */
    var GEO_COOKIE_XACC = 'xacc';
    var GEO_COOKIE_SELECT = 'fdx_geo_select';
    var GEO_COOKIE_HIDE = 'fdx_geo_hide';

    /**
     * CSS classnames
     */
    var GEO_CLASS_BUTTON_LABEL = 'fxg-geo-locator__button-label';
    var GEO_CLASS_COUNTRY_URL = 'fxg-geo-locator__country-url';
    var GEO_CLASS_FOCUS = 'fxg-geo-locator__focus';
    var GEO_CLASS_ITEM = 'fxg-geo-locator__link';
    var GEO_CLASS_LINK = 'fxg-geo-locator__link-anchor';
    var GEO_CLASS_LINK_LABEL = 'fxg-geo-locator__link-label';
    var GEO_CLASS_MODAL_CLOSE = 'js-modal-close';

    /**
     * Collections of classnames
     */
    var GEO_CLASSES_BUTTON_LINK_PHYSICAL = 'fxg-geo-locator__button cc-aem-c-button cc-aem-c-button--primary';
    var GEO_CLASSES_BUTTON_LINK_LOGICAL = 'fxg-geo-locator__button cc-aem-c-button cc-aem-c-button--primary-outline';

    /**
     * Data attributes
     */
    var GEO_DATA_COUNTRY_CODE = 'data-country-code';

    /**
     * Get current page locale
     *
     * @private
     * @return {string} current locale, e.g. 'en_us'
     */
    function pageLocale() {
      return FDX.DATALAYER.page.pageInfo.locale;
    }

    /**
     * Get current page country
     *
     * @private
     * @return {string} current country, e.g. 'us'
     */
    function pageCountry() {
      return FDX.DATALAYER.page.pageInfo.country;
    }

    /**
     * Get current user country based on cookie set by Akamai
     *
     * @private
     * @return {string} current country, e.g. 'US'
     */
    function userCountry() {
      var _$session$getCookie;
      var country = (_$session$getCookie = $session.getCookie(GEO_COOKIE_XACC)) === null || _$session$getCookie === void 0 ? void 0 : _$session$getCookie.toLowerCase();
      return country;
    }

    /**
     * Check if we can show the geolocator
     *
     * @private
     * @return {boolean} can be shown or not
     */
    function canBeShown() {
      // if already closed by user in this session for current page country, we wont bother the user again
      var closedInCountry = $session.getCookie(GEO_COOKIE_HIDE);
      if (closedInCountry === pageCountry()) return false;

      // if user has already opted for the current page country we wont show
      var optedCountry = $session.getCookie(GEO_COOKIE_SELECT);
      if (optedCountry === pageCountry()) return false;

      // if user country differs from page country we will show
      var canBeShown = userCountry() !== pageCountry();
      return canBeShown;
    }

    /**
     * Get API path
     *
     * @private
     * @return {string} api path, e.g. '/etc/services/geolocator.us.en_us./en-us/home.html.jsonp'
     */
    function getApiPath() {
      // get current user country code based on cookie set by Akamai, if not set don't proceed with api call
      var country = userCountry();
      if (!country) return null;

      // get page locale, if in choose-location page don't proceed with api call
      var locale = pageLocale();
      if (locale === 'choose-location') return null;

      // compose path
      var path = servicePath + '.' + country + '.' + locale + '.' + window.location.pathname + '.jsonp';
      return path;
    }

    /**
     * Fetch the GEO config from the API
     *
     * @private
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function fetchConfig() {
      // get path
      var promise = $.Deferred();
      var path = getApiPath();
      if (!path) {
        promise.reject();
        return promise;
      }

      // fetch
      $fetch.ajax(path).then(function (config) {
        promise.resolve(config);
      });
      return promise;
    }

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * @type {Object} Modal component instance
       */
      var modal;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {
          globalAnalyticsText: '',
          enableGeoModal: '',
          globallocationurl: '',
          globalLocationAriaLabel: '',
          description: '',
          globalLocation: '',
          title: '',
          physical: {},
          logical: {},
          locales: []
        };
        config = $.extend({}, defaultConfig, _config);
        processLocales();
      }

      /**
       * Populate locale links in config
       */
      function processLocales() {
        config.locales.push(processLocale(config.physical, 'physical'));
        config.locales.push(processLocale(config.logical, 'logical'));
      }

      /**
       * Populate locale data
       *
       * @param {Object} locale - the locale object from the API response
       * @param {string} type - the type of locale (physical or logical location)
       * @return {Object} processed locale data object
       */
      function processLocale(locale, type) {
        var defaultLanguage = locale.defaultLanguage ? locale.defaultLanguage : '';
        var processedLanguages = [];

        // Process languages
        locale.language.map(function (language) {
          var languageData = {
            defaultLanguage: defaultLanguage,
            language: language,
            type: type
          };
          var processedLanguage = processLanguage(languageData);
          if (processedLanguage.code === defaultLanguage) {
            // Move language to first position in array to render it as tge first language
            processedLanguages.unshift(processedLanguage);
          } else {
            processedLanguages.push(processedLanguage);
          }
        });

        // Set up data object to use in template
        var localeData = {
          countryCode: locale.countryCode,
          countryName: locale.countryName,
          defaultLanguage: defaultLanguage,
          languages: processedLanguages,
          type: type
        };
        return localeData;
      }

      /**
       * Populate process language
       *
       * @param {object} languageData - unprocessed language data
       * @return {object} processed lanugage data object
       */
      function processLanguage(languageData) {
        var language = languageData.language;
        var type = languageData.type;
        var processedLanguage = {
          ariaLabel: language.name,
          analyticsText: language.analyticsText,
          text: language.name,
          code: language.languageCode,
          linkType: 'link',
          // link by default
          classes: {
            item: GEO_CLASS_ITEM,
            link: GEO_CLASS_LINK,
            label: GEO_CLASS_LINK_LABEL
          },
          url: language.url
        };

        // Set button link data
        if (language.languageCode === languageData.defaultLanguage) {
          processedLanguage.classes = {}; // reset defaults
          processedLanguage.classes.label = GEO_CLASS_BUTTON_LABEL;
          processedLanguage.linkLabel = '';
          processedLanguage.linkType = 'button';

          // Add button variation based on locale type
          if (type === 'physical') {
            processedLanguage.classes.link = GEO_CLASSES_BUTTON_LINK_PHYSICAL;
          } else if (type === 'logical') {
            processedLanguage.classes.link = GEO_CLASSES_BUTTON_LINK_LOGICAL;
          }
        }
        return processedLanguage;
      }

      /**
       * Render HTML
       *
       * @private
       * @return {Promise<string>} A promise that resolves with rendered HTML
       */
      function render() {
        var promise = $.Deferred();
        var rendered = _.template(geolocator_inlineraw_namespaceObject)(config);
        return promise.resolve(rendered);
      }

      /**
       * Bind interactions events
       *
       * @private
       */
      function bindInteractions() {
        var _modal;
        // Handle click on country links
        $root.find('.' + GEO_CLASS_COUNTRY_URL + '[' + GEO_DATA_COUNTRY_CODE + ']').on('click', function () {
          var country = $(this).attr(GEO_DATA_COUNTRY_CODE);
          selectCountry(country);
        });
        var $modalEl = typeof ((_modal = modal) === null || _modal === void 0 ? void 0 : _modal.getElement) === 'function' ? $(modal.getElement()) : $root;
        $modalEl.off('click.fxg-geo-close').on('click.fxg-geo-close', '.' + GEO_CLASS_MODAL_CLOSE, function (e) {
          if (e !== null && e !== void 0 && e.preventDefault) e.preventDefault();
          if (e !== null && e !== void 0 && e.stopPropagation) e.stopPropagation();
          hide();
        });
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] - component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        if (!config.enableGeoModal) {
          promise.reject();
          return promise;
        }

        // create DOM element
        render().then(function (html) {
          $root = $(html);
          modal = FDX.components.modal.create();
          modal.set($root);
          show();
          bindInteractions();
          setFocus();

          // initialized
          $root.data('initialized', true);
          promise.resolve();
        });
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      /**
       * Shows the geolocator
       *
       * @param {Object} $container - jQuery DOM container element
       * @public
       */
      function show($container) {
        // open modal
        modal.open();
      }

      /**
       * Hides the geolocator
       *
       * @public
       */
      function hide() {
        // close modal
        modal.close();

        // sets a cookie to remember in which page country geolocator was closed
        // by the user so we wont bother the user for this page country any more
        $session.setCookie(GEO_COOKIE_HIDE, pageCountry());
      }

      /**
       * Set focus
       */
      function setFocus() {
        var $focusElement = $root.find('.' + GEO_CLASS_FOCUS);
        setTimeout(function () {
          $focusElement.trigger('focus');
        }, 500);
      }

      /**
       * Remember the selected country by setting a cookie
       *
       * @public
       * @param {string} country - country code
       */
      function selectCountry(country) {
        // sets a cookie to remember the selected country (expires in 30 days)
        $session.setCookie(GEO_COOKIE_SELECT, country, 30);
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement,
        show: show,
        hide: hide,
        selectCountry: selectCountry
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        pageLocale = jest.fn(pageLocale);
        pageCountry = jest.fn(pageCountry);
        userCountry = jest.fn(userCountry);
        canBeShown = jest.fn(canBeShown);
        getApiPath = jest.fn(getApiPath);
        fetchConfig = jest.fn(fetchConfig);
        bindInteractions = jest.fn(bindInteractions);
        show = jest.fn(show);
        hide = jest.fn(hide);
        setFocus = jest.fn(setFocus);
        selectCountry = jest.fn(selectCountry);
        instance.$private = function () {
          return {
            pageLocale: pageLocale,
            pageCountry: pageCountry,
            userCountry: userCountry,
            canBeShown: canBeShown,
            getApiPath: getApiPath,
            fetchConfig: fetchConfig,
            bindInteractions: bindInteractions,
            show: show,
            hide: hide,
            setFocus: setFocus,
            selectCountry: selectCountry
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();

      // does container exist, and can geolocator be shown?
      var $container = $(selector);
      if (!$container.length || !canBeShown()) {
        promise.reject();
        return promise;
      }

      // fetch config
      fetchConfig().then(function (config) {
        // create instance
        var instance = FDX.components.geolocator.create();
        instance.setConfig(config);

        // initialize
        instance.init().then(function () {
          promise.resolve();
        });
      });
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _, FDX.services.fetch, FDX.services.session);

/***/ }),

/***/ 2478:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 2515:
/***/ (function() {

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
/**
 * CONDITIONAL CONTAINER
 * 
 * A container that shows or hides based on meeting certain criteria
 */

(function ($, _) {
  window.FDX.components.conditionalcontainer = function () {
    /**
      * @type {Object[]} list of instances
      */
    var instances = [];

    /**
      * @type {Object[]} list of conditions
      */
    var condition = [];

    /**
      * @type {string} root selector
      */
    var selector = '.fxg-conditionalcontainer';
    var SETTINGS = {
      component: 'conditionalcontainer'
    };
    var SELECTORS = {
      handler: "js-".concat(SETTINGS.component, "-handler")
    };
    var TAGS = {
      reference: 'conditional-container-shown'
    };

    /**
      * Create component instance
      *
      * @public
      * @return {Object} instance
      */
    function create() {
      /**
        * @type {Object} configuration
        */
      var config = {};

      /**
        * @type {Object} jQuery DOM root element
        */
      var $root = null;

      /**
        * Set configuration
        *
        * @public
        * @param {Object} _config - key/value pair
        * @return {Object} instance
        */
      function setConfig(_config) {
        var defaultConfig = {};
        config = $.extend({}, defaultConfig, _config);
      }
      ;

      /**
        * Render HTML
        *
        * @private
        * @return {Promise<string>} - A promise that resolves with rendered HTML
        */
      function render() {}

      /**
        * Initialize component instance
        *
        * @public
        * @param {Object} [_$root] - component root element (optional)
        * @return {Promise} - A promise that resolves when instance is initiated
        */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;

        ///////////////////////////////////////////////
        ////// START CONDITIONAL CONTAINER LOGIC //////
        ///////////////////////////////////////////////

        var element = $root[0];
        var conditionalContainer = element.querySelector(".".concat(SELECTORS.handler));
        condition = {
          isEntryVisitor: function isEntryVisitor() {
            var currentDomain = window.location.hostname;
            var referrer = document.referrer;
            if (!referrer || new URL(referrer).hostname !== currentDomain) {
              return true;
            } else {
              return false;
            }
          }
        };
        if (config.isEntryVisitor === "true" && condition.isEntryVisitor()) {
          conditionalContainer.style.display = "block";
          fireGenericInteraction();
        }

        /**
         * Fire Generic Interaction
         * Fires the GDL Generic Interaction event
         *
         * Docs: https://gdl-master.devapp.paas.fedex.com/testbed.generic-interaction.html
         *
         * @param {String} payload - The string to be sent with this GDL event
         */
        function fireGenericInteraction(payload) {
          if (_typeof(window.FDX.GDL) !== 'object') return;
          window.FDX.GDL.push(['event:publish', ['interaction', 'click', {
            name: TAGS.reference,
            value: config.analyticsAttribute
          }]]);
        }

        ///////////////////////////////////////////////
        ////// END CONDITIONAL CONTAINER LOGIC ////////
        ///////////////////////////////////////////////

        // Initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        // Called directly on init
        condition = jest.fn(condition);

        // Called later
        instance.$private = function () {
          return {
            condition: condition
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();
      var initPromises = [];

      // find all related elements
      $(selector).each(function () {
        // skip already initialized elements
        var $element = $(this);
        if ($element.data('initialized')) return;

        // create instance
        var instance = window.FDX.components.conditionalcontainer.create();

        // Set configuration
        var $config = $('[data-config="js-conditionalcontainer-config"]', $element);
        if ($config.length) {
          instance.setConfig(JSON.parse($config.html().trim()));
        }

        // initialize instance
        var initPromise = instance.init($element);
        initPromises.push(initPromise);
      });

      // resolve after all inits
      $.when.apply($, initPromises).then(function () {
        promise.resolve();
      });
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(window.jQuery, window._);

/***/ }),

/***/ 2613:
/***/ (function() {

/**
 * Notification Service
 *
 * Get notification data to be used for Alert and Gdpr
 */

(function ($, _, window, fdx, $services) {
  window.FDX.services.notification = function () {
    /**
     * Init service
     *
     * @public
     */
    function init() {}

    /**
     * Get API url
     *
     * @private
     * @return {string} API url
     */
    function getApiUrl() {
      var apiUrl;
      var brand = fdx && fdx.isBrand ? 'true' : 'false';
      var region = FDX.DATALAYER.page.pageInfo.region;
      var country = FDX.DATALAYER.page.pageInfo.country;
      var locale = FDX.DATALAYER.page.pageInfo.locale;
      var trimPath = window.location.pathname.replace(/\/aem._l./i, '');

      // assign prefix
      var prefix;
      if (_.includes(window.location.host, 'www') || FDX.DATALAYER.page.category.pageType === 'sharednav') {
        // always 'https' protocol in PROD/L6 envi
        prefix = 'https://' + window.location.host;
      } else {
        prefix = FDX.contextPath;
      }

      // assemble url
      apiUrl = prefix + '/etc/services/getalerts.' + brand + '.' + region + '.' + country + '.' + locale + '.' + trimPath + '.jsonp';
      return apiUrl;
    }

    /**
     * Get notifications data from the server for a specific type
     *
     * @public
     * @param {string} type ("alert"|"gdpr")
     * @return {Object} promise
     */
    function get(type) {
      var promise = $.Deferred();

      // get notification info from api
      var apiUrl = getApiUrl();
      $services.fetch.ajax(apiUrl).then(function (data) {
        var filtered;
        switch (type) {
          case 'gdpr':
            // filter out GDPR notification
            filtered = data.finalAlertData.filter(function (item) {
              // only gdpr notifications
              var isGdpr = item.gdprmodal === 'on';

              // skip already closed notifications
              var cookieId = 'fxg-gdpr__' + item.cookieUniqueID;
              var hasCookie = $services.session.getCookie(cookieId);
              return isGdpr && !hasCookie;
            });
            break;
          case 'alert':
            // filter out alert notifications
            var alertLocations = [];
            filtered = data.finalAlertData.filter(function (item) {
              // only alert notifications
              var isGdpr = item.gdprmodal === 'on';

              // only once per location
              var locationIsUsed = alertLocations.indexOf(item.location) > -1;

              // skip already closed notifications
              var cookieId = 'fxg-alert__' + item.cookieUniqueID;
              var hasCookie = $services.session.getCookie(cookieId);
              if (!isGdpr && !locationIsUsed && !hasCookie) {
                alertLocations.push(item.location);
                return true;
              }
            });
            break;
        }
        promise.resolve(filtered);
      }, function () {
        promise.fail();
      });
      return promise;
    }

    // return service
    return {
      init: init,
      get: get
    };
  }();
})(window.jQuery, window._, window, window.fdx, window.FDX.services);

/***/ }),

/***/ 2620:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 2668:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 2796:
/***/ (function() {

/**
 * Device service
 *
 * Identify if mobile and platform of mobile
 */

(function ($, _, window) {
  window.FDX.services.device = function () {
    // Define Fedex standard tablet Width
    var WIDTH = 767;
    var isMobile;
    var isLandscape;
    var isPortrait;
    var platform;

    // OLD viewport dimensions
    var desktopMediaQuery = "993";
    var tabletMediaQuery = "767";
    var mobileMediaQuery = "664";

    // Updated 1DX viewport dimensions
    var ccdesktopMediaQuery = "1024";
    var cctabletMediaQuery = "768";
    var cctabletlandscapeMediaQuery = "1023";
    var ccmobileMediaQuery = "767";
    var viewPortType = '';

    /**
     * Init service
     *
     * @public
     */
    function init() {
      isMobile = $('html').prop('clientWidth') <= WIDTH;
      isLandscape = window.matchMedia('(orientation: landscape)').matches;
      isPortrait = window.matchMedia('(orientation: portrait)').matches;
      var userAgent = navigator.userAgent || navigator.vendor || window.opera;

      // Windows Phone must come first because its UA also contains "Android"
      if (/windows phone/i.test(userAgent)) {
        platform = 'Windows Phone';
      }
      if (/android/i.test(userAgent)) {
        platform = 'Android';
      }

      // iOS detection from: http://stackoverflow.com/a/9039885/177710
      if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
        platform = 'iOS';
      }
      return {
        isMobile: isMobile,
        isLandscape: isLandscape,
        isPortrait: isPortrait,
        platform: platform
      };
    }
    ;

    /**
      * Return a media query for desktop devices
      *
      * @return {MediaQueryList} The media query list for desktop devices
      */
    var getCCDesktopMediaQuery = function getCCDesktopMediaQuery() {
      return window.matchMedia("(min-width: ".concat(ccdesktopMediaQuery, "px)"));
    };

    // Desktop viewport: Fallback support, please remove when all the references are replaced with getCCDesktopMediaQuery.
    var getDesktopMediaQuery = function getDesktopMediaQuery() {
      return window.matchMedia("(min-width: ".concat(desktopMediaQuery, "px)"));
    };

    /**
     * Return a media query for tablet devices
     *
     * @return {MediaQueryList} The media query list
     */
    var getCCTabletMediaQuery = function getCCTabletMediaQuery() {
      return window.matchMedia("(min-width: ".concat(cctabletMediaQuery, "px) and (max-width: ").concat(cctabletlandscapeMediaQuery, "px)"));
    };

    // Tablet viewport: Fallback support, please remove when all the references are replaced with getCCTabletMediaQuery.
    var getTabletMediaQuery = function getTabletMediaQuery() {
      return window.matchMedia("(max-width: ".concat(tabletMediaQuery, "px)"));
    };

    /**
     * Return a media query for mobile devices
     *
     * @return {MediaQueryList} The media query list
     */
    var getCCMobileMediaQuery = function getCCMobileMediaQuery() {
      return window.matchMedia("(max-width: ".concat(ccmobileMediaQuery, "px)"));
    };

    // Mobile viewport: Fallback support, please remove when all the references are replaced with getCCMobileMediaQuery.
    var getMobileMediaQuery = function getMobileMediaQuery() {
      return window.matchMedia("(max-width: ".concat(mobileMediaQuery, "px)"));
    };

    /**
     * Return a viewport query for devices
     *
     * @return {ViewPortList} The view port list
     */
    var getViewPort = function getViewPort() {
      var width = $(window).innerWidth();
      if (width <= mobileMediaQuery) {
        viewPortType = "smallViewPort";
      } else if (width <= tabletlandscapeMediaQuery && width >= tabletMediaQuery) {
        viewPortType = "mediumViewPort";
      } else if (width >= desktopMediaQuery) {
        viewPortType = "largeViewPort";
      }
      return viewPortType;
    };

    // return service
    return {
      init: init,
      ccdesktopMediaQuery: ccdesktopMediaQuery,
      cctabletMediaQuery: cctabletMediaQuery,
      cctabletlandscapeMediaQuery: cctabletlandscapeMediaQuery,
      ccmobileMediaQuery: ccmobileMediaQuery,
      desktopMediaQuery: desktopMediaQuery,
      tabletMediaQuery: tabletMediaQuery,
      mobileMediaQuery: mobileMediaQuery,
      viewPortType: viewPortType,
      getDesktopMediaQuery: getDesktopMediaQuery,
      getTabletMediaQuery: getTabletMediaQuery,
      getMobileMediaQuery: getMobileMediaQuery,
      getCCDesktopMediaQuery: getCCDesktopMediaQuery,
      getCCTabletMediaQuery: getCCTabletMediaQuery,
      getCCMobileMediaQuery: getCCMobileMediaQuery,
      getViewPort: getViewPort
    };
  }();
})(window.jQuery, window._, window);

/***/ }),

/***/ 3031:
/***/ (function() {

/**
 * Featured Offer Component
 * Handles responsive image/video switching and authentication-based content display
 */

(function (device) {
  window.FDX.components.featuredoffer = function () {
    var instances = [];

    // All selectors organized in a single object
    var selectors = {
      wrapper: ".fxg-featured-offer-wrapper",
      offerImageImage: ".fxg-featured-offer__detail-image .fxg-image",
      offerMainVideo: ".fxg-featured-offer__detail-image.fxg-main-video",
      offerMobileVideo: ".fxg-featured-offer__detail-image.fxg-mobile-video",
      configElement: '[data-config="js-featured-offer-config"]',
      featuredButton: ".fxg-featured-button",
      externalIconLeft: ".fxg-offerExteranlIcon-left #icon_external_link_blue_16x16",
      externalIconDefault: ".fxg-offerExteranlIcon-default #icon_external_link_blue_16x16",
      atElementMarker: ".at-element-marker",
      rootResponsiveGrid: ".root.responsivegrid"
    };

    // Keep legacy selector for backward compatibility
    var selector = selectors.wrapper;

    // Utility function to safely escape HTML content
    var escapeHtml = function escapeHtml(text) {
      var div = document.createElement("div");
      div.innerText = text;
      return div.innerHTML;
    };

    // Utility function to update button text content
    var updateButtonText = function updateButtonText(button, oldText, newText) {
      var escapedOldText = escapeHtml(oldText || "");
      var escapedNewText = escapeHtml(newText || "");
      button.innerHTML = button.innerHTML.replace(escapedOldText, escapedNewText);
    };
    var create = function create() {
      var config = {};
      var root = null;
      var setConfig = function setConfig(_config) {};

      // Display desktop/main assets (images or videos)
      function setMainAsset() {
        document.querySelectorAll(selectors.wrapper).forEach(function (wrapper) {
          var image = wrapper.querySelector(selectors.offerImageImage);
          if (image) {
            // Switch to desktop image with main attributes
            var imageWrapper = image.parentElement;
            setImage(image, imageWrapper.getAttribute("data-main-image"), imageWrapper.getAttribute("data-main-alt"), imageWrapper.getAttribute("data-main-aspectRatio"));
          } else {
            // Handle video switching for desktop view
            var mainVideo = wrapper.querySelector(selectors.offerMainVideo);
            var mobileVideo = wrapper.querySelector(selectors.offerMobileVideo);
            if (mainVideo) {
              mainVideo.classList.add("cc-aem-u-display--block");
              mainVideo.classList.remove("cc-aem-u-display--none");
            }
            if (mobileVideo) {
              mobileVideo.classList.add("cc-aem-u-display--none");
              mobileVideo.classList.remove("cc-aem-u-display--block");
            }
          }
        });
      }

      // Display mobile assets (images or videos)
      function setMobileAsset() {
        document.querySelectorAll(selectors.wrapper).forEach(function (wrapper) {
          var image = wrapper.querySelector(selectors.offerImageImage);
          if (image) {
            // Switch to mobile image with mobile attributes
            var imageWrapper = image.parentElement;
            setImage(image, imageWrapper.getAttribute("data-mobile-image"), imageWrapper.getAttribute("data-mobile-alt"), imageWrapper.getAttribute("data-mobile-aspectRatio"));
          } else {
            // Handle video switching for mobile view
            var mainVideo = wrapper.querySelector(selectors.offerMainVideo);
            if (mainVideo) {
              mainVideo.classList.add(selectors.offerMobileVideo.replace(".", ""));
              mainVideo.classList.add("cc-aem-u-display--block");
              mainVideo.classList.remove("cc-aem-u-display--none");
            }
          }
        });
      }

      // Update image element with new source, alt text, and aspect ratio
      function setImage(img, src, alt, aspectRatio) {
        // Sanitize source URL to prevent XSS
        var sanitizedSrc = src && src.replace(/</g, "&lt;").replace(/>/g, "&gt;");
        img.setAttribute("src", sanitizedSrc);
        img.setAttribute("alt", alt);

        // Show the image
        img.classList.add("cc-aem-u-display--block");
        img.classList.remove("cc-aem-u-display--none");

        // Clean existing aspect-ratio from style and set new one
        var style = img.getAttribute("style") || "";
        if (style.includes("aspect-ratio")) {
          style = style.replace(/aspect-ratio:[^;]+;/, "");
        }
        img.setAttribute("style", style.trim());
        img.setAttribute("aspect-ratio", aspectRatio);
      }

      // Handle viewport changes for mobile breakpoint
      function mobileBreakpointChange() {
        if (document.documentElement.clientWidth <= device.ccmobileMediaQuery) {
          setMobileAsset();
        } else {
          setMainAsset();
        }
      }

      // Handle viewport changes for desktop breakpoint
      function desktopBreakpointChange() {
        if (document.documentElement.clientWidth > device.ccmobileMediaQuery) {
          setMainAsset();
        } else {
          setMobileAsset();
        }
      }

      // Initialize component instance
      var init = function init(_root) {
        var promise = new Promise(function (resolve) {
          root = _root;

          // Initially hide all video elements
          document.querySelectorAll(selectors.offerMainVideo).forEach(function (el) {
            el.classList.add("cc-aem-u-display--none");
            el.classList.remove("cc-aem-u-display--block");
          });
          document.querySelectorAll(selectors.offerMobileVideo).forEach(function (el) {
            el.classList.add("cc-aem-u-display--none");
            el.classList.remove("cc-aem-u-display--block");
          });

          // Remove hidden class to make videos available for switching
          document.querySelectorAll(selectors.offerMainVideo).forEach(function (el) {
            el.classList.remove("fxg-hidden");
          });
          document.querySelectorAll(selectors.offerMobileVideo).forEach(function (el) {
            el.classList.remove("fxg-hidden");
          });

          // Set up responsive breakpoint listeners
          device.getMobileMediaQuery().addListener(mobileBreakpointChange);
          mobileBreakpointChange();
          device.getMobileMediaQuery().addListener(desktopBreakpointChange);
          desktopBreakpointChange();

          // Handle Adobe Target integration after page loads
          document.addEventListener("readystatechange", function (ev) {
            if (document.readyState === "complete") {
              setTimeout(function () {
                var isTargetEnabled = typeof adobe !== "undefined" && typeof adobe.target !== "undefined" && typeof adobe.target.VERSION !== "undefined";

                // Re-initialize if Adobe Target has modified the DOM
                if (document.readyState === "complete" && isTargetEnabled && document.querySelector(selectors.atElementMarker) !== null && Array.from(document.querySelector(selectors.atElementMarker).parentElement.querySelectorAll("".concat(selectors.rootResponsiveGrid, " ").concat(FDX.components.featuredoffer.selector))).length > 0) {
                  // Apply appropriate breakpoint based on current viewport
                  if (device.viewPortType !== "smallViewPort") {
                    desktopBreakpointChange();
                  } else {
                    mobileBreakpointChange();
                  }
                }
              }, 300);
            }
          });

          // Handle color override for external link icons
          var configElement = root.querySelector(selectors.configElement);
          var featuredColorConfig = JSON.parse(configElement.textContent.trim());
          if (featuredColorConfig.featuredColorOverride === "white") {
            // Override external link icon color to white
            root.querySelectorAll(selectors.externalIconLeft).forEach(function (icon) {
              icon.parentElement.setAttribute("stroke", "white");
            });
            root.querySelectorAll(selectors.externalIconDefault).forEach(function (icon) {
              icon.parentElement.setAttribute("stroke", "white");
            });
          }
          root.dataset.initialized = "true";
          resolve();
        });
        return promise;
      };
      var getElement = function getElement() {
        return root;
      };
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement
      };

      // Expose private methods for testing when Jest is available
      if (typeof jest !== "undefined") {
        setMainAsset = jest.fn(setMainAsset);
        setMobileAsset = jest.fn(setMobileAsset);
        setImage = jest.fn(setImage);
        mobileBreakpointChange = jest.fn(mobileBreakpointChange);
        desktopBreakpointChange = jest.fn(desktopBreakpointChange);
        instance.$private = function () {
          return {
            selectors: selectors,
            setMainAsset: setMainAsset,
            setMobileAsset: setMobileAsset,
            setImage: setImage,
            mobileBreakpointChange: mobileBreakpointChange,
            desktopBreakpointChange: desktopBreakpointChange
          };
        };
      }
      instances.push(instance); // Track this instance
      return instance;
    };

    // Handle authentication-based content switching
    var showHideAuthenticatedFeaturedOffer = function showHideAuthenticatedFeaturedOffer() {
      var wrappers = document.querySelectorAll(selectors.wrapper);

      // Show authenticated content
      if (FDX.SESSION.userAuthenticated) {
        wrappers.forEach(function (wrapper) {
          var authConfig = JSON.parse(wrapper.querySelector(selectors.configElement).textContent.trim());
          var button = wrapper.querySelector(selectors.featuredButton);

          // Update button content for authenticated users
          updateButtonText(button, authConfig.featuredButtonText, authConfig.authButtonText);

          // Set authenticated link and analytics
          var sanitizedAuthButtonLink = new URL(authConfig.authButtonLink, window.location.origin).href;
          button.setAttribute("href", sanitizedAuthButtonLink);
          button.setAttribute("data-analytics", authConfig.authAnalytics || "");
          button.setAttribute("title", escapeHtml(authConfig.authLinkTitle || ""));
        });
      } else {
        // Show default/unauthenticated content
        wrappers.forEach(function (wrapper) {
          var authConfig = JSON.parse(wrapper.querySelector(selectors.configElement).textContent.trim());
          var button = wrapper.querySelector(selectors.featuredButton);

          // Update button content for unauthenticated users
          updateButtonText(button, authConfig.authButtonText, authConfig.featuredButtonText);

          // Set default link and analytics
          var sanitizedFeaturedButtonLink = new URL(authConfig.featuredButtonLink, window.location.origin).href;
          button.setAttribute("href", sanitizedFeaturedButtonLink);
          button.setAttribute("data-analytics", authConfig.featuredButtonAnalytics || "");
          button.removeAttribute("title");
        });
      }
    };
    var createInstances = function createInstances() {
      return new Promise(function (resolve) {
        var initPromises = [];
        document.querySelectorAll(selector).forEach(function (element) {
          var instance = window.FDX.components.featuredoffer.create();
          var initPromise = instance.init(element).then(function () {});
          initPromises.push(initPromise);
        });
        Promise.all(initPromises).then(function () {
          resolve();
        });
      });
    };
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector,
      selectors: selectors,
      showHideAuthenticatedFeaturedOffer: showHideAuthenticatedFeaturedOffer
    };
  }();
})(FDX.services.device);

/***/ }),

/***/ 3371:
/***/ (function() {

/**
 * Table component 
 *
 */

(function ($, _) {
  window.FDX.components.table = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '.fxg-table-wrapper';

    /**
     * @type {string} Table Class selector
     */
    var tableClass = 'table.fxg-table';

    /**
     * @type {string} Advanced Table Class selector
     */
    var advTableClass = 'fxg-table--stackable';

    /**
     * @type {string} Sticky Table Class selector
     */
    var stickyTable = '.stickyHeader .fxg-table';

    /**
     * @type {string} Sticky Header Div Class selector
     */
    var stickyHeaderDiv = '.stickyHeaderDiv';

    /**
     * @type {string} Sticky Table Header Class selector
     */
    var stickyTableHeader = '.stickyTableHeader';

    /**
     * @type {string} Sticky Header Class selector
     */
    var stickyHeader = '.stickyHeader';

    /**
     * @function tableFixer
     * @description Enhances the styling and structure of specific tables on the page to ensure they are correctly formatted for desktop and mobile views.
     *
     * This function performs the following steps:
     * 1. Adds the `tableFixerJS` class to advanced tables that are only visible on large screens.
     * 2. Moves the `tableFixerJS` class from the wrapper to the actual table for basic tables, making it easier to target and fix both basic and advanced tables.
     * 3. Selects all tables that need fixing and applies the necessary fixes.
     *
     * @returns {void}
     */
    function tableFixer() {
      // Advanced tables have a separate script that copies the table and creates mobile cards
      // add table fixer to only the desktop advanced table tables.
      var promise = $.Deferred();
      $(".fxg-table.large-only").addClass("tableFixerJS");
      // move tableFixerJS class from the wrapper to the table on basic tables
      // makes it easier to select basic and advanced tables to be fixed without touching advanced mobile tables
      $(".fxg-table-wrapper.tableFixerJS").removeClass("tableFixerJS").find(".fxg-table").addClass("tableFixerJS");
      var tables_to_fix = $(".fxg-table.tableFixerJS");
      $.each(tables_to_fix, function () {
        applyTableFixes($(this));
      });
      promise.resolve();
      return promise;
    }

    /**
     * @function applyTableFixes
     * @description Applies various fixes to the specified table element to ensure proper formatting and behavior.
     *
     * This function performs the following operations on the table:
     * 1. Removes width and height attributes.
     * 2. Removes headers.
     * 3. Adjusts cell padding.
     * 4. Adjusts cell spacing.
     * 5. Sets border properties.
     * 6. Applies right-to-left (RTL) indentations if specified in the configuration.
     *
     * @param {jQuery} table - The jQuery object representing the table to which fixes will be applied.
     *
     * @returns {void}
     */
    function applyTableFixes(table) {
      removeWidthHeight(table);
      removeHeaders(table);
      cellPadding(table);
      cellSpacing(table);
      border(table);
      var rightToLeftValue = $('[data-config="js-table-config"]').html() != undefined ? JSON.parse($('[data-config="js-table-config"]').html().trim()).rightToLeftValue : 'false';
      if (rightToLeftValue === "true") {
        indentRtl(table);
      }
    }

    /**
     * @function removeHeaders
     * @description Removes the invalid `headers` attribute from the specified table element.
     *
     * This function addresses an issue where the RTE (Rich Text Editor) incorrectly sets the `headers` attribute to `"top"` on the `<table>` element, which is not valid. The `headers` attribute is only valid on header cells.
     *
     * @param {jQuery} table - The jQuery object representing the table from which the `headers` attribute will be removed.
     *
     * @returns {void}
     */
    function removeHeaders(table) {
      // headers attribute is valid on header cells.
      // RTE sets headers="top" to the <table>.
      // Not valid - removed
      table.removeAttr("headers");
    }
    /**
     * @function indentRtl
     * @description Adjusts the text alignment of table cells for right-to-left (RTL) layout.
     *
     * This function iterates through all table cells (both `<td>` and `<th>`) within the specified table.
     * It swaps the text alignment from "right" to "left" and from "left" to "right" to accommodate RTL layout requirements.
     *
     * @param {jQuery} table - The jQuery object representing the table whose cells' text alignment will be adjusted.
     *
     * @returns {void}
     */
    function indentRtl(table) {
      var eachTd = table.find("td,th");
      $.each(eachTd, function () {
        var alignedValue = $(this).css("text-align");
        if (alignedValue === "right") {
          $(this).css("text-align", "left");
        }
        if (alignedValue === "left") {
          $(this).css("text-align", "right");
        }
      });
    }

    /**
     * @function removeWidthHeight
     * @description Removes the `width` and `height` attributes from the specified table element.
     *
     * This function addresses the following issues:
     * 1. The `height` attribute is invalid in HTML5 and does not work, so it is removed.
     * 2. The `width` attribute, while valid, is overridden by global CSS and does not function as intended. It is also removed to prevent conflicts.
     *
     * @param {jQuery} table - The jQuery object representing the table from which the `width` and `height` attributes will be removed.
     *
     * @returns {void}
     */
    function removeWidthHeight(table) {
      // these attributes are invalid for HTML5
      // Height doesn't work at all so it's removed
      // Width works but is overridden by global css so it doesn't even work and is removed. 
      // Width could be applied with css but there is no use case to override this global css property
      table.removeAttr("width");
      table.removeAttr("height");
    }

    /**
    * @function border
    * @description Adjusts the border properties of the specified table element to ensure consistent styling.
    *
    * This function sets the table's outside border to a specified pixel value and ensures that inside borders are always set to 1px.
    * It replicates the table border attribute values in CSS, allowing the author to choose the units. The function retains default border colors and
    * changes the border style to solid to avoid the buggy appearance of the grooved border style when no cell spacing is set.
    *
    * @param {jQuery} table - The jQuery object representing the table whose border properties will be adjusted.
    *
    * @returns {void}
    */
    function border(table) {
      // table border property sets outside border to a px value of set value
      // table inside borders are always set to 1 px.
      // tables assume 1 value, the 1st value. 10 20 = 10, 20 10 30 20 = 20.
      // we will replicate this in css with the exception of units will be author choice.
      // border colors are unchanged from default border colors. Tables before this did not use default FX colors and this changes nothing.
      // table borders use grooved border style. this is buggy looking if no cellspacing is set so we are using solid instead.
      var border = table.attr("border");
      if (border != 0 && border != "" && border != undefined) {
        border = border.split(/\ +/);
        table.css("border", applyUnits(border, 1) + " solid #8e8e8e");
        table.find("td, th").css("border", "1px solid #8e8e8e");
      }
      table.removeAttr("border");
    }

    /**
     * @function cellPadding
     * @description Adjusts the cell padding of the specified table element by translating the `cellpadding` attribute to CSS padding properties.
     *
     * This function removes the invalid `cellpadding` attribute from the table and sets the padding using CSS on each `<td>` and `<th>` element.
     * The function assumes a default unit of pixels if no unit is specified and ignores `cellpadding` values of 0 or 1, as the RTE defaults to 1.
     * It allows the author to specify padding values in various formats such as "n", "n n", "n n n", or "n n n n".
     *
     * @param {jQuery} table - The jQuery object representing the table whose cell padding will be adjusted.
     *
     * @returns {void}
     */
    function cellPadding(table) {
      // cellpadding is not valid in HTML
      // global css overrides this anyway so setting cellpadding won't work
      // remove this attribute and set the value to css on each <td>
      // author can write anything in this area. there are no instructions on what this area expects.
      // we will assume css style of "n" or "n n" or "n n n" or "n n n n" 
      // px will be assumed value if a unit is not specified or we will use the unit specified
      // RTE defaults cellpadding to 1 so ignore 1. If author sets 1 it will ignored. 2+ is only valid options. "1 1" would also work
      var padding = table.attr("cellpadding");
      if (padding != 0 && padding != 1 && padding != "" && padding != undefined) {
        padding = padding.split(/\ +/);
        table.find("td, th").css("padding", applyUnits(padding, 4));
      }
      table.removeAttr("cellpadding");
    }

    /**
     * @function cellSpacing
     * @description Adjusts the cell spacing of the specified table element by translating the `cellspacing` attribute to CSS border-spacing property.
     *
     * This function removes the invalid `cellspacing` attribute from the table and sets the spacing using CSS on the `<table>` element.
     * It allows the author to specify spacing values in formats such as "n" or "n n".
     * The function assumes a default unit of pixels if no unit is specified.
     *
     * @param {jQuery} table - The jQuery object representing the table whose cell spacing will be adjusted.
     *
     * @returns {void}
     */
    function cellSpacing(table) {
      // cellspacing is not valid in HTML
      // global css overrides this anyway so setting cellspacing won't work
      // remove this attribute and set the value to css on <table>
      // author can write anything in this area. there are no instructions on what this area expects.
      // we will assume css style of "n" or "n n"
      // px will be assumed value if a unit is not specified or we will use the unit specified
      // this can make ugly tables but it's a default option to authors.
      var margin = table.attr("cellspacing");
      if (margin != 0 && margin != "" && margin != undefined) {
        margin = margin.split(/\ +/);
        table.css("border-collapse", "separate");
        table.css("border-spacing", applyUnits(margin, 2));
      }
      table.removeAttr("cellspacing");
    }

    /**
     * @function applyUnits
     * @description Converts an array of values into a string with specified units appended, defaulting to pixels (px) if no unit is specified.
     *
     * This function takes an array of values and converts them into a space-separated string with units appended. It slices the array to a maximum of `n` items
     * based on the context (e.g., padding or border-spacing). If an element in the array is numeric, it assumes pixels (px) as the default unit.
     *
     * @param {Array} array - The array of values to be converted into a string with units.
     * @param {number} n - The maximum number of items to process from the array.
     * @returns {string} A space-separated string of values with units appended.
     */
    function applyUnits(array, n) {
      var string = "";
      // slice array to n items
      // Max number of items for padding is 4 values.
      // Max number of items for boreder-spacing is 2 values
      // if there is more than n, the author has errored. 
      $.each(array.slice(0, n), function (i, element) {
        // check if element is numeric. This means no unit has been specified.
        // assumption here is if author specified a unit that they specified a correct unit and not a random string.
        if (FDX.services.utils.isNumeric(element)) {
          // apply px as the default unit
          element = element + "px";
        }
        string += element + " ";
      });
      return string;
    }

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * @type {Object} jQuery DOM root element
       */
      var $stickyTable = $(FDX.components.table.stickyTable),
        $stickyHeaderDiv = $(FDX.components.table.stickyHeaderDiv),
        $stickyTableHeader = $(FDX.components.table.stickyTableHeader),
        $stickyHeader = $(FDX.components.table.stickyHeader);

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {
          option1: '',
          option2: ''
        };
        config = $.extend({}, defaultConfig, _config);
      }
      ;

      /**
       * @function stickyHeaderInit
       * @description Initializes the sticky header functionality for tables.
       *
       * This function initializes sticky headers for tables by copying the contents of each original table header (`thead`) to its corresponding
       * fixed header (`thead`). It then sets column widths, attaches event listeners, enables scrolling behavior, and applies necessary styles
       * to make the header sticky.
       *
       */
      function stickyHeaderInit() {
        $stickyTable.each(function (index) {
          var $header = $(".stickyHeader .fxg-table > thead")[index];
          var $fixedHeader = $(".stickyTableHeader > thead")[index];
          $fixedHeader.innerHTML = $header.innerHTML;
        });
        setColWidth();
        setListeners();
        scrollEnablement();
        setStyles();
      }
      ;

      /**
       * @function scrollEnablement
       * @description Enables scroll handling for sticky table headers based on window scroll events.
       *
       * This function attaches a scroll event listener to the window. On scroll, it calculates offsets and heights for each sticky table,
       * adjusts column widths, updates the display of sticky headers based on scroll position, and manages horizontal scrolling synchronization
       * between the original table header and its fixed counterpart.
       */
      function scrollEnablement() {
        $(window).on("scroll", function () {
          var offset = $(window).scrollTop();
          var len = [];
          var offsetTop = [];
          var offsetBottom = 0;
          $stickyTable.each(function (index) {
            offsetTop.push($stickyTable[index].offsetTop + ($stickyTable.eq(index).find("caption").height() || 0));
            var $headerDisplay = $stickyTableHeader[index];
            len.push($stickyTable[index].offsetHeight + $stickyTable[index].offsetTop);
            offset = offset + (($(".fxg-secondary-header--shrunk").height() || 0) + $(".jumplinks").height() || 0);
            if (offset > offsetTop[index] && offset <= len[index]) {
              setColWidth();
              updateTop($stickyHeaderDiv, index);
              $stickyHeaderDiv[index].scrollLeft = $stickyHeader[index].scrollLeft;
              $headerDisplay.style.display = "";
            } else if (offset <= offsetTop[index] || offset >= len[index]) {
              removeTop($stickyHeaderDiv, index);
              $headerDisplay.style.display = "none";
            }
          });
        });
      }
      ;

      /**
       * @function updateTop
       * @description Updates the top position of a specified jQuery element based on calculated values.
       *
       * This function calculates the top position for the specified `thisDiv` element at the given `index` using heights of various
       * elements such as alert headers, secondary headers, and jump links. It then applies this calculated top position to the element's CSS style.
       *
       * @param {jQuery} thisDiv - The jQuery object representing the element whose top position will be updated.
       * @param {number} index - The index indicating the position of the element within the jQuery collection (`thisDiv`).
       *
       */
      function updateTop(thisDiv, index) {
        var alertHt = $("fedex-alert-header").height() || 0;
        var secNavTop = $(".fxg-secondary-header--shrunk").height() || 0;
        var jumpLinkTop = $(".jumplinks").height() || 0;
        var calcTop = 50 + parseInt(alertHt) + parseInt(secNavTop) + parseInt(jumpLinkTop);
        thisDiv.eq(index).css("top", calcTop);
      }
      ;

      /**
       * @function removeTop
       * @description Removes a CSS class from a specified jQuery element at a given index.
       *
       * This function checks if the specified `thisDiv` element at the provided `index` has a CSS class `addSecNavHt`. If the class exists,
       * it removes the class from the element.
       *
       * @param {jQuery} thisDiv - The jQuery object representing the element from which the class will be removed.
       * @param {number} index - The index indicating the position of the element within the jQuery collection (`thisDiv`).
       */
      function removeTop(thisDiv, index) {
        if (thisDiv.eq(index).hasClass("addSecNavHt")) {
          thisDiv.eq(index).removeClass("addSecNavHt");
        }
      }
      ;

      /**
       * @function setColWidth
       * @description Sets the column widths for sticky table headers based on the widths of corresponding table cells.
       *
       * This function calculates and applies the width of each table header (`th`) in the sticky header (`$stickyHeaderDiv`) to match
       * the width of its respective table cell (`th`) in the original table (`$stickyTable`). It also sets the overall width of the
       * sticky header and the fixed table header to match the width of the original table.
       */
      function setColWidth() {
        var stickyHeaderRows = $stickyTable.find("thead th");
        stickyHeaderRows.each(function (index) {
          $stickyHeaderDiv.find("th")[index].style.width = stickyHeaderRows[index].getBoundingClientRect().width + "px";
        });
        $stickyTable.each(function (index) {
          $stickyHeaderDiv[index].style.width = $stickyHeader[index].getBoundingClientRect().width + "px";
          $stickyTableHeader[index].style.width = $stickyTable[index].getBoundingClientRect().width + "px";
        });
      }
      ;

      /**
       * @function setListeners
       * @description Sets event listeners for scroll, resize, and orientation change events on sticky table headers.
       *
       * This function attaches event listeners to handle scrolling synchronization between `$stickyHeader` and `$stickyHeaderDiv`,
       * updates dimensions and positions on window resize and orientation change events, and initializes sticky headers if applicable.
       */
      function setListeners() {
        $stickyHeader.on("scroll", function () {
          $stickyHeader.each(function (index) {
            $stickyHeaderDiv[index].scrollLeft = $stickyHeader[index].scrollLeft;
          });
        });
        $stickyHeaderDiv.on("scroll", function () {
          $stickyHeaderDiv.each(function (index) {
            $stickyHeader[index].scrollLeft = $stickyHeaderDiv[index].scrollLeft;
          });
        });
        $(window).on("resize", function () {
          $stickyHeader.each(function (index) {
            $stickyHeaderDiv[index].style.width = $stickyHeader[index].getBoundingClientRect().width + "px";
          });
          $stickyHeaderDiv.each(function (index) {
            updateTop($stickyHeaderDiv, index);
          });
          setColWidth();
          setStyles();
        });
        $(window).on("orientationchange", function () {
          if ($stickyTableHeader.length > 0) {
            stickyHeaderInit();
          }
        });
      }
      ;

      /**
       * @function setStyles
       * @description Sets styles for sticky table headers based on the original table's classes and styles.
       *
       * This function applies classes and styles from each `$stickyTable` to corresponding elements in `$stickyHeaderDiv` for styling consistency.
       * It also retrieves and applies styles from the original table's header (`thead`) to the sticky header (`$stickyHeaderDiv`) to maintain visual consistency.
       */
      function setStyles() {
        $stickyTable.each(function (index) {
          var $tableClass = $stickyTable.eq(index).attr("class");
          $(".stickyHeaderDiv .fxg-table").eq(index).addClass($tableClass);
          var $tableStyle = $stickyTable.eq(index).attr("style");
          if ($tableStyle != undefined) {
            var $updatedStyle = $tableStyle + " border-bottom: none; display:none;";
            $(".stickyHeaderDiv .fxg-table").eq(index).attr("style", $updatedStyle);
          }
        });
        var stickyHeaderRows = $stickyTable.find("thead th");
        stickyHeaderRows.each(function (index) {
          var thStyle = $(".stickyHeader .fxg-table thead").find("th").eq(index).attr("style");
          $stickyHeaderDiv.find("th").eq(index).attr("style", thStyle);
        });
      }
      ;

      /**
       * Bind interactions events
       *
       * @private
       */
      function bindInteractions() {
        if ($root.hasClass(FDX.components.table.advTableClass)) {
          $root.find(FDX.components.table.tableClass).each(function (i, e) {
            $(e).stacktable();
          });
        }
        if ($stickyTableHeader.length > 0) {
          stickyHeaderInit();
        }
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;

        // bind interactions
        bindInteractions();

        // initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        bindInteractions = jest.fn(bindInteractions);
        setStyles = jest.fn(setStyles);
        stickyHeaderInit = jest.fn(stickyHeaderInit);
        setColWidth = jest.fn(setColWidth);
        setListeners = jest.fn(setListeners);
        scrollEnablement = jest.fn(scrollEnablement);
        updateTop = jest.fn(updateTop);
        removeTop = jest.fn(removeTop);
        instance.$private = function () {
          return {
            bindInteractions: bindInteractions,
            setStyles: setStyles,
            stickyHeaderInit: stickyHeaderInit,
            setColWidth: setColWidth,
            setListeners: setListeners,
            scrollEnablement: scrollEnablement,
            updateTop: updateTop,
            removeTop: removeTop
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();
      var initPromises = [];

      // find all related elements
      $(selector).each(function () {
        // skip already initialized elements
        var $element = $(this);
        if ($element.data('initialized')) return;

        // create instance
        var instance = window.FDX.components.table.create();

        // set configuration
        var $config = $('[data-config="js-table-config"]', $element);
        if ($config.length) {
          instance.setConfig(JSON.parse($config.html().trim()));
        }

        // initialize instance
        var initPromise = instance.init($element);
        initPromises.push(initPromise);
      });

      // set default image for unloaded images
      var setTableFixerPromise = tableFixer();
      initPromises.push(setTableFixerPromise);

      // resolve after all inits
      $.when.apply($, initPromises).then(function () {
        promise.resolve();
      });
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector,
      tableClass: tableClass,
      advTableClass: advTableClass,
      stickyTable: stickyTable,
      stickyHeaderDiv: stickyHeaderDiv,
      stickyTableHeader: stickyTableHeader,
      stickyHeader: stickyHeader,
      tableFixer: tableFixer
    };
  }();
})(jQuery, _);

/***/ }),

/***/ 3397:
/***/ (function() {

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
/**
 * Button
 *
 * This component is created for demonstration purpose
 */

(function () {
  window.FDX.components.button = function () {
    /**
     * @type {Object[]} List of instances
     */
    var instances = [];
    var CLASSES = {
      linkClass: "fxg-link",
      secureLinkClass: "fxg-secure--link",
      secureAdvLinkClass: "fxg-secure-adv--link",
      targetRedirect: "fxg-target-redirect--link",
      selector: ".link"
    };
    var STATE = {
      isShippingCall: false,
      fclPage: ""
    };
    var SELECTORS = {
      signInOption: document.querySelector(".fxg-user-options__option.fxg-user-options__sign-in"),
      loginInput: document.querySelector("input#NavLoginUserId"),
      authButtons: document.querySelectorAll(".fxg-auth-button-link"),
      lockHideElements: document.querySelectorAll(".lock-hide"),
      signInElements: document.querySelectorAll(".fxg-user-options__sign-in-text, .fxg-user-options__icon"),
      links: document.querySelectorAll(".fxg-link"),
      openNewWindowLinks: document.querySelectorAll(".fxg-link.open-new-window"),
      svgElements: document.querySelectorAll(".fxg-link__lock svg"),
      tooltips: document.querySelectorAll(".fxg-tooltipIcon")
    };

    /**
     * Handle Secure External Link Click
     *
     * @param {Event} event - The event object representing the click event.
     * @param {HTMLElement} elem - The HTML element triggering the function call.
     *
     * @private
     */
    var checkSecureExternalLink = function checkSecureExternalLink(event, elem) {
      event.preventDefault();
      var href = elem.getAttribute("href");
      var target = elem.getAttribute("target");
      var isSecure = elem.classList.contains(FDX.components.button.secureAdvLinkClass);
      if (isSecure) {
        FDX.components.button.checkSecureLink(elem);
      } else {
        navigateToLink(href, target);
        if (isMobile()) triggerSignInDropdown();
      }
    };

    /**
     * Navigate to the specified link
     *
     * @param {string} href - The link to navigate to.
     * @param {string} target - The target window for the link.
     */
    var navigateToLink = function navigateToLink(href, target) {
      var currentUrl = window.location.href;
      window.history.pushState({
        url: currentUrl
      }, "", currentUrl);
      window.open(href, target, "", true);
    };

    /**
     * Check if the viewport width is mobile-sized
     *
     * @returns {boolean} - True if mobile viewport.
     */
    var isMobile = function isMobile() {
      return document.documentElement.clientWidth <= FDX.services.device.cctabletlandscapeMediaQuery;
    };

    /**
     * Trigger the sign-in dropdown if on mobile
     *
     * @private
     */
    var triggerSignInDropdown = function triggerSignInDropdown() {
      var signInOption = SELECTORS.signInOption,
        loginInput = SELECTORS.loginInput;
      if (signInOption) signInOption.classList.add("fxg-dropdown__item--open");
      if (loginInput) loginInput.focus();
    };

    /**
     * Add Check Accordian Link
     *
     * @param {Event} e - The event object representing the click event.
     * @param {HTMLElement} elem - The HTML element triggering the function call.
     *
     * @private
     */
    var checkAccordionLink = function checkAccordionLink(event, elem) {
      event.preventDefault();
      var targetId = elem.getAttribute("targetid");
      if (targetId) {
        sessionStorage.setItem("target", targetId);
      }
    };

    /**
     * Handle Secure Link Form Submission
     *
     * @param {Event} event - The click or submit event object.
     * @param {HTMLElement} elem - The element that triggered the event.
     * @param {string} formId - The ID of the form to submit.
     *
     * @private
     */
    var checkSecureLinkSubmit = function checkSecureLinkSubmit(event, elem, formId) {
      event.preventDefault();
      var form = document.querySelector("form#".concat(formId));
      if (!form) return;
      var isSecure = isElementSecure(elem);
      var isAuthenticated = FDX.SESSION.userAuthenticated;
      if (isSecure && !isAuthenticated) {
        promptLoginForSubmit(form);
      } else {
        form.submit();
      }
    };

    /**
     * Determine if an element is a secure link.
     *
     * @param {HTMLElement} elem - The element to check.
     * @returns {boolean}
     */
    var isElementSecure = function isElementSecure(elem) {
      return elem.classList.contains(FDX.components.button.secureAdvLinkClass);
    };

    /**
     * Prompt login UI for secure link submission.
     *
     * @param {HTMLFormElement} form - The form element to associate with login.
     */
    var promptLoginForSubmit = function promptLoginForSubmit(form) {
      var dropdown = document.querySelector(".".concat(FDX.components.dropdown.dropdownClass));
      if (dropdown) dropdown.click();
      FDX.LOGIN.setLoginResource(form, "SUBMIT");
    };

    /**
     * Add Check Search Secure Link
     *
     * @param {Event} e - The event object representing the click event.
     * @param {HTMLElement} elem - The HTML element triggering the function call.
     * @param {string} keyword - The keyword for the search.
     * @param {string} sortOrder - The sorting order for the search results.
     * @param {string[]} tagIds - The IDs of the tags for filtering the search.
     * @param {string[]} businesUnitTagIds - The IDs of the business unit tags for filtering the search.
     *
     * @private
     */
    var checkSearchSecureLink = function checkSearchSecureLink(event, elem, keyword, sortOrder, tagIds, businessUnitTagIds) {
      event.preventDefault();
      var secureClass = FDX.components.button.secureAdvLinkClass;
      var isSecure = elem.classList.contains(secureClass);
      var isAuthenticated = FDX.SESSION.userAuthenticated;
      var href = elem.getAttribute("href");
      var target = elem.getAttribute("target");
      var currentUrl = window.location.href;
      // Apply search parameters and tags
      enhancedLinkSearchparam(keyword, sortOrder);
      enhancedLinkTags(tagIds, "Photos", businessUnitTagIds);
      var openLink = function openLink() {
        window.history.pushState({
          url: currentUrl
        }, "", currentUrl);
        window.open(href, target, "", true);
      };
      if (isSecure && !isAuthenticated) {
        triggerDropdownAndLogin(elem);
      } else {
        openLink();
      }
    };

    // Function to simulate dropdown click and handle login
    var triggerDropdownAndLogin = function triggerDropdownAndLogin(elem) {
      var dropdown = document.querySelector(".".concat(FDX.components.dropdown.dropdownClass));
      if (dropdown) {
        dropdown.click(); // Simulate `.trigger("click")`
      }
      FDX.LOGIN.setLoginResource(elem, "OPEN");
    };

    /**
     * Handle secure link behavior on click
     *
     * @param {HTMLElement} elem - The anchor element to process.
     *
     * @private
     */
    var checkSecureLink = function checkSecureLink(elem) {
      var href = elem.getAttribute("href");
      var target = elem.getAttribute("target");
      var currentUrl = window.location.href;
      if (isUserAuthenticated()) {
        openLinkPreserveHistory(href, target, currentUrl);
      } else if (shouldRedirectToWLGN()) {
        redirectToWLGN(href);
      } else {
        promptUserLogin(elem);
      }
    };

    /**
     * Check if user is authenticated.
     *
     * @returns {boolean}
     */
    var isUserAuthenticated = function isUserAuthenticated() {
      return FDX.SESSION.userAuthenticated || FDX.SESSION.targetRedirectAuth;
    };

    /**
     * Open a link while preserving history state.
     *
     * @param {string} href
     * @param {string} target
     * @param {string} currentUrl
     */
    var openLinkPreserveHistory = function openLinkPreserveHistory(href, target, currentUrl) {
      window.history.pushState({
        url: currentUrl
      }, "", currentUrl);
      window.open(href, target, "", true);
    };

    /**
     * Check if WLGN redirect is enabled.
     *
     * @returns {boolean}
     */
    var shouldRedirectToWLGN = function shouldRedirectToWLGN() {
      return FDX.DATALAYER.page.pageInfo.useWLGN === "true";
    };

    /**
     * Redirect to WLGN login page.
     *
     * @param {string} href - The secured link to store for redirect after login.
     */
    var redirectToWLGN = function redirectToWLGN(href) {
      sessionStorage.setItem("secureLink", href);
      window.open(FDX.DATALAYER.page.pageInfo.wlgnURL, "_self", "", true);
    };

    /**
     * Prompt login UI and handle responsive behaviors.
     *
     * @param {HTMLElement} elem - The element associated with the secure action.
     */
    var promptUserLogin = function promptUserLogin(elem) {
      triggerDropdownAndLogin(elem);
      var signInOption = SELECTORS.signInOption,
        loginInput = SELECTORS.loginInput;
      loginInput === null || loginInput === void 0 || loginInput.focus();
      if (isTabletOrSmaller() && signInOption) {
        signInOption.classList.add("fxg-dropdown__item--open");
        loginInput === null || loginInput === void 0 || loginInput.focus(); // Optional chaining ensures no error if null
      }
    };

    /**
     * Check if current device is tablet or smaller.
     *
     * @returns {boolean}
     */
    var isTabletOrSmaller = function isTabletOrSmaller() {
      return document.documentElement.clientWidth <= FDX.services.device.cctabletlandscapeMediaQuery;
    };

    /**
     * Add Show Hide Authenticated Button
     *
     * @private
     */
    function showHideAuthenticatedButton() {
      var authButtons = SELECTORS.authButtons;
      authButtons.forEach(function (button) {
        var loggedInButton = button.classList.contains('loggedInButton');
        var buttonParent = button.parentElement;
        var buttonElement = buttonParent.querySelector('.fxg-button-link');
        var isAuthenticated = FDX.SESSION.userAuthenticated;
        if (loggedInButton) {
          button.classList.toggle('cc-aem-u-display--none', !isAuthenticated);
          button.previousElementSibling.classList.toggle('cc-aem-u-display--none', isAuthenticated);
        } else {
          button.classList.toggle('cc-aem-u-display--none', !isAuthenticated);
          buttonElement.classList.toggle('cc-aem-u-display--none', isAuthenticated);
        }
      });
    }

    /**
     * Add Show Hide Lock Icon
     *
     * @private
     */
    var showHideLockIcon = function showHideLockIcon() {
      var lockHideElements = SELECTORS.lockHideElements;
      if (typeof FDX.CLIENTLOGIN.userDetails === "undefined") {
        lockHideElements.forEach(function (element) {
          element.classList.add("cc-aem-u-display--block");
          element.classList.remove("cc-aem-u-display--none");
        });
      } else {
        lockHideElements.forEach(function (element) {
          element.classList.remove("cc-aem-u-display--block");
          element.classList.add("cc-aem-u-display--none");
        });
      }
    };

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    var create = function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var root = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      var setConfig = function setConfig(_config) {
        var defaults = {
          option1: "",
          option2: ""
        };
        config = _objectSpread(_objectSpread({}, defaults), _config);
      };

      /**
       * Add Telelphone Link Funtion
       *
       * @type {object} elem
       * @type {string} tel
       * @private
       */
      var addTelephoneLink = function addTelephoneLink(elem, tel) {
        var telPattern = /^tel:\+?[0-9\-]+$/; // Validate tel: URI format
        if (telPattern.test(tel)) {
          elem.setAttribute("href", tel);
        }
      };

      /**
       * Add Check Target Redirect Link
       *
       * @type {HTMLElement} The HTML element triggering the function call.
       *
       * @private
       */
      var checkTargetRedirect = function checkTargetRedirect(elem) {
        var _FDX$DATALAYER$page$p = FDX.DATALAYER.page.pageInfo,
          useWLGN = _FDX$DATALAYER$page$p.useWLGN,
          wlgnURL = _FDX$DATALAYER$page$p.wlgnURL;
        var _FDX$SESSION = FDX.SESSION,
          targetRedirectAuth = _FDX$SESSION.targetRedirectAuth,
          userAuthenticated = _FDX$SESSION.userAuthenticated;
        if (targetRedirectAuth || userAuthenticated) return;
        if (useWLGN === "true") {
          window.open(wlgnURL, "_self", "", true);
          return;
        }
        triggerDropdownAndLogin(elem);
        var loginInput = SELECTORS.loginInput,
          signInOption = SELECTORS.signInOption;
        loginInput === null || loginInput === void 0 || loginInput.focus();
        if (isTabletOrSmaller()) {
          signInOption === null || signInOption === void 0 || signInOption.classList.add("fxg-dropdown__item--open");
          loginInput === null || loginInput === void 0 || loginInput.focus();
        }
      };

      /**
       * Add Get Target Attributes Link
       *
       * @type {event} - The event object representing the event triggered by the target element.
       *
       * @private
       */
      var getTargetAttributes = function getTargetAttributes(e) {
        var targetinfo = e.target.dataset.target.split(",");
        targetinfo.forEach(function (info) {
          var kv1 = info.split("|");
          if (kv1.length === 2) {
            var b = kv1[1];
            switch (kv1[0]) {
              case "fclaRegPage":
                FDX.components.button.fclpage = b;
                break;
            }
          }
        });
      };

      /**
       * Bind interactions events
       *
       * @private
       */
      var bindInteractions = function bindInteractions() {
        addOpenNewWindowLinks();
        FDX.components.button.showHideAuthenticatedButton();
        addTelephoneLinks();
        bindSecureLinks();
        handleSignIn();
        storeTargetId();
        focusLoginInput();
        setAriaHiddenForSvg();
        handleTooltipInteractions();
        adjustTooltipIconPosition();
      };

      // Open external links in a new window
      var addOpenNewWindowLinks = function addOpenNewWindowLinks() {
        var openNewWindowLinks = SELECTORS.openNewWindowLinks;
        openNewWindowLinks.forEach(function (link) {
          link.addEventListener("click", function (e) {
            e.preventDefault();
            var targetURL = link.getAttribute("href");
            if (targetURL && targetURL !== "#" && targetURL !== "") {
              window.open(targetURL, "PopupWindow", "width=600,height=400,scrollbars=yes");
            }
          });
        });
      };

      // Add telephone link if 'data-tel' attribute exists
      var addTelephoneLinks = function addTelephoneLinks() {
        var anchors = document.querySelectorAll("a");
        anchors.forEach(function (anchor) {
          var tel = anchor.getAttribute("data-tel");
          if (tel) addTelephoneLink(anchor, tel);
          var parent = anchor.parentElement;
          if (parent.classList.contains("link-lock") && parent.closest(".fxg-dropdown__sub-menu")) {
            parent.setAttribute("tabindex", 0);
            anchor.setAttribute("tabindex", -1);
          }
        });
      };

      // Bind secure link interactions
      var bindSecureLinks = function bindSecureLinks() {
        var secureLinks = document.querySelectorAll(".".concat(FDX.components.button.secureLinkClass, ", .").concat(FDX.components.button.targetRedirect));
        secureLinks.forEach(function (link) {
          link.addEventListener("click", function (e) {
            e.preventDefault();
            var targetData = e.target.dataset.target;
            if (targetData) getTargetAttributes(e);
            FDX.components.button.checkSecureLink(link);
          });
        });
      };

      // Handle sign-in interaction
      var handleSignIn = function handleSignIn() {
        var signInElements = SELECTORS.signInElements;
        signInElements.forEach(function (element) {
          element.addEventListener("click", function () {
            FDX.components.button.isShippingCall = false;
          });
        });
      };

      // Store the targetId for accordion links
      var storeTargetId = function storeTargetId() {
        var links = SELECTORS.links;
        links.forEach(function (link) {
          link.addEventListener('click', function () {
            var targetId = link.getAttribute("targetid");
            if (targetId) {
              sessionStorage.setItem('target', targetId);
            }
          });
        });
      };

      // Focus on login input field
      var focusLoginInput = function focusLoginInput() {
        var loginInput = SELECTORS.loginInput;
        if (loginInput) loginInput.focus();
      };

      // Set aria-hidden attribute for svg elements
      var setAriaHiddenForSvg = function setAriaHiddenForSvg() {
        var svgElements = SELECTORS.svgElements;
        svgElements.forEach(function (svg) {
          svg.setAttribute("aria-hidden", "true");
        });
      };

      // Handle tooltip interactions
      var handleTooltipInteractions = function handleTooltipInteractions() {
        var tooltips = root[0].querySelectorAll(".fxg-tooltipIcon");
        if (tooltips && tooltips.length > 0) {
          tooltips.forEach(function (tooltip) {
            tooltip.addEventListener("click", function (e) {
              var modal = tooltip.querySelector(".fxg-tooltip-modal-Class");
              if (modal) {
                modal.style.display = modal.style.display === "flex" ? "none" : "flex";
              }
              e.stopPropagation();
            });
          });
        }
      };

      // Adjust position of tooltip icon for buttons
      var adjustTooltipIconPosition = function adjustTooltipIconPosition() {
        var anchors = document.querySelectorAll("a");
        anchors.forEach(function (anchor) {
          var tooltipIcon = anchor.querySelector(".fxg-tooltipIcon");
          if (tooltipIcon && (anchor.classList.contains("fxg-button") || anchor.classList.contains("fxg-button--round"))) {
            if (anchor.offsetHeight < 70) {
              tooltipIcon.style.bottom = "18px";
            }
          }
        });
      };

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      var init = function init(_root) {
        return new Promise(function (resolve) {
          root = _root;
          bindInteractions();
          root.data("initialized", true);
          resolve();
        });
      };

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      var getElement = function getElement() {
        return root;
      };

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement,
        addTelephoneLink: addTelephoneLink,
        checkSecureLink: checkSecureLink,
        checkSecureExternalLink: checkSecureExternalLink,
        checkAccordionLink: checkAccordionLink,
        checkSecureLinkSubmit: checkSecureLinkSubmit,
        checkSearchSecureLink: checkSearchSecureLink,
        getTargetAttributes: getTargetAttributes,
        showHideLockIcon: showHideLockIcon,
        showHideAuthenticatedButton: showHideAuthenticatedButton
      };

      // pass private attributes and methods to jest
      if (typeof jest !== "undefined") {
        bindInteractions = jest.fn(bindInteractions);
        addTelephoneLink = jest.fn(addTelephoneLink);
        checkSecureLink = jest.fn(checkSecureLink);
        checkTargetRedirect = jest.fn(checkTargetRedirect);
        checkSecureExternalLink = jest.fn(checkSecureExternalLink);
        checkAccordionLink = jest.fn(checkAccordionLink);
        checkSecureLinkSubmit = jest.fn(checkSecureLinkSubmit);
        checkSearchSecureLink = jest.fn(checkSearchSecureLink);
        getTargetAttributes = jest.fn(getTargetAttributes);
        showHideLockIcon = jest.fn(showHideLockIcon);
        showHideAuthenticatedButton = jest.fn(showHideAuthenticatedButton);
        instance.$private = function () {
          return {
            bindInteractions: bindInteractions,
            addTelephoneLink: addTelephoneLink,
            checkSecureLink: checkSecureLink,
            checkTargetRedirect: checkTargetRedirect,
            checkSecureExternalLink: checkSecureExternalLink,
            checkAccordionLink: checkAccordionLink,
            checkSecureLinkSubmit: checkSecureLinkSubmit,
            checkSearchSecureLink: checkSearchSecureLink,
            getTargetAttributes: getTargetAttributes,
            showHideLockIcon: showHideLockIcon,
            showHideAuthenticatedButton: showHideAuthenticatedButton
          };
        };
      }
      instances.push(instance);
      return instance;
    };

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    var createInstances = function createInstances() {
      var initPromises = [];
      document.querySelectorAll(CLASSES.selector).forEach(function (element) {
        var elements = $(element);
        if (elements.data("initialized")) return;
        var instance = window.FDX.components.button.create();
        initPromises.push(instance.init(elements));
      });
      return Promise.all(initPromises).then(function () {
        applyRTLButtonStyles();
      });
    };

    // Add RTL style logic inside the component
    var applyRTLButtonStyles = function applyRTLButtonStyles() {
      // Refactored: Remove pseudo-class selectors and handle hover/focus via JS events
      var configs = [{
        selectors: ['.fxg-link--align-center.fxg-link--rounded_button', '.fxg-link--align-center.fxg-button--orange', '.fxg-link--align-center.fxg-button--transparent'],
        ltr: 'translateX(-50%) scale(1, 1)',
        rtl: 'translateX(50%) scale(1, 1)',
        ltrActive: 'translateX(-50%) scale(1.02, 1.06)',
        rtlActive: 'translateX(50%) scale(1.02, 1.06)'
      }, {
        selectors: ['.fxg-link--align-right.fxg-link--rounded_button', '.fxg-link--align-right.fxg-button--orange', '.fxg-link--align-right.fxg-button--transparent'],
        ltr: 'translateX(-100%) scale(1, 1)',
        rtl: 'translateX(100%) scale(1, 1)',
        ltrActive: 'translateX(-100%) scale(1.02, 1.06)',
        rtlActive: 'translateX(100%) scale(1.02, 1.06)'
      }, {
        selectors: ['.fxg-link--mobile-align-center.fxg-link--rounded_button', '.fxg-link--mobile-align-center.fxg-button--orange', '.fxg-link--mobile-align-center.fxg-button--transparent'],
        ltr: 'translateX(-50%) scale(1, 1)',
        rtl: 'translateX(50%) scale(1, 1)',
        ltrActive: 'translateX(-50%) scale(1.02, 1.06)',
        rtlActive: 'translateX(50%) scale(1.02, 1.06)',
        mobileOnly: true
      }, {
        selectors: ['.fxg-link--mobile-align-right.fxg-link--rounded_button', '.fxg-link--mobile-align-right.fxg-button--orange', '.fxg-link--mobile-align-right.fxg-button--transparent'],
        ltr: 'translateX(-100%) scale(1, 1)',
        rtl: 'translateX(100%) scale(1, 1)',
        ltrActive: 'translateX(-100%) scale(1.02, 1.06)',
        rtlActive: 'translateX(100%) scale(1.02, 1.06)',
        mobileOnly: true
      }];
      var isRTL = document.documentElement.dir === 'rtl';
      var isMobileView = document.documentElement.clientWidth <= FDX.services.device.ccmobileMediaQuery;
      configs.forEach(function (cfg) {
        if (cfg.mobileOnly && !isMobileView) return;
        var elements = document.querySelectorAll(cfg.selectors.join(','));
        elements.forEach(function (el) {
          // Set initial transform
          el.style.transform = isRTL ? cfg.rtl : cfg.ltr;

          // Remove previous listeners to avoid duplicates
          el.removeEventListener('mouseenter', el._rtlMouseEnter);
          el.removeEventListener('mouseleave', el._rtlMouseLeave);
          el.removeEventListener('focus', el._rtlFocus);
          el.removeEventListener('blur', el._rtlBlur);

          // Define listeners
          el._rtlMouseEnter = function () {
            el.style.transform = isRTL ? cfg.rtlActive : cfg.ltrActive;
          };
          el._rtlMouseLeave = function () {
            el.style.transform = isRTL ? cfg.rtl : cfg.ltr;
          };
          el._rtlFocus = function () {
            el.style.transform = isRTL ? cfg.rtlActive : cfg.ltrActive;
          };
          el._rtlBlur = function () {
            el.style.transform = isRTL ? cfg.rtl : cfg.ltr;
          };

          // Attach listeners
          el.addEventListener('mouseenter', el._rtlMouseEnter);
          el.addEventListener('mouseleave', el._rtlMouseLeave);
          el.addEventListener('focus', el._rtlFocus);
          el.addEventListener('blur', el._rtlBlur);
        });
      });
    };

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: CLASSES.selector,
      linkClass: CLASSES.linkClass,
      secureLinkClass: CLASSES.secureLinkClass,
      secureAdvLinkClass: CLASSES.secureAdvLinkClass,
      targetRedirect: CLASSES.targetRedirect,
      isShippingCall: STATE.isShippingCall,
      checkSecureExternalLink: checkSecureExternalLink,
      checkAccordionLink: checkAccordionLink,
      checkSecureLinkSubmit: checkSecureLinkSubmit,
      checkSearchSecureLink: checkSearchSecureLink,
      checkSecureLink: checkSecureLink,
      showHideAuthenticatedButton: showHideAuthenticatedButton,
      showHideLockIcon: showHideLockIcon,
      applyRTLButtonStyles: applyRTLButtonStyles
    };
  }();
})(FDX.services.device);

/***/ }),

/***/ 3495:
/***/ (function() {

"use strict";

;// ./src/components/fuelsurcharge/inline/dynamic.html?raw
var dynamicraw_namespaceObject = "<tbody class=\"cc-aem-c-table__tbody\">\n  <tr class=\"cc-aem-c-table__tbody__tr cc-aem-u-line-height--large@x-small-only\">\n    <td class=\"cc-aem-c-table__tbody__td\" data-label=\"week\">${firstRowData.week}</td>\n    <% if (hidePriceColumn == 'false') { %>\n    <td class=\"cc-aem-c-table__tbody__td cc-aem-u-fontweight--medium\" data-label=\"week Price\">${firstRowData.price}</td>\n    <% }%>\n    <td class=\"cc-aem-c-table__tbody__td cc-aem-u-fontweight--medium\" data-label=\"surcharge\">${firstRowData.surcharge}</td>\n    <% if (enablePriceUpdateColumn == 'true') { %>\n    <td class=\"cc-aem-c-table__tbody__td cc-aem-u-fontweight--medium\" data-label=\"surcharge\">${firstRowData.priceUpdatedDate}</td>\n    <% }%>\n  </tr>\n</tbody>\n<tbody class=\"cc-aem-c-table__tbody fxg-fsc__data\">\n  <% _.each(rows, function(row, index) { %>\n    <tr class=\"cc-aem-c-table__tbody__tr cc-aem-u-line-height--large@x-small-only\">\n      <td class=\"cc-aem-c-table__tbody__td\" data-label=\"week\">${row.week}</td>\n      <% if (hidePriceColumn == 'false') { %>\n      <td class=\"cc-aem-c-table__tbody__td cc-aem-u-fontweight--medium\" data-label=\"week Price\">${row.price}</td>\n      <% }%>\n      <td class=\"cc-aem-c-table__tbody__td cc-aem-u-fontweight--medium\" data-label=\"surcharge\">${row.surcharge}</td>\n      <% if (enablePriceUpdateColumn == 'true') { %>\n        <td class=\"cc-aem-c-table__tbody__td cc-aem-u-fontweight--medium\" data-label=\"surcharge\">${row.priceUpdatedDate}</td>\n      <% }%>\n    </tr>\n  <% }); %>\n</tbody>";
;// ./src/components/fuelsurcharge/inline/static.html?raw
var staticraw_namespaceObject = "<tbody class=\"cc-aem-c-table__tbody cc-aem-c-table__tbody--zebra\">\n  <% _.each(rows, function(row) { %>\n    <% var activeClass = (row.active) ? 'fxg-fsc__row--active' : '' %>\n    <% var hiddenClass = (!row.visible) ? 'fxg-fsc__row--hidden' : '' %>\n    <tr class=\"cc-aem-c-table__tbody__tr cc-aem-u-line-height--large@x-small-only ${activeClass} ${hiddenClass}\">\n      <td class=\"cc-aem-c-table__tbody__td\" data-label=\"price range\">${row.price}</td>\n      <td class=\"cc-aem-c-table__tbody__td cc-aem-u-fontweight--medium\" data-label=\"surcharge\">${row.surcharge}</td>\n    </tr>\n  <% }); %>\n</tbody>";
;// ./src/components/fuelsurcharge/fuelsurcharge.js



/**
 * Fuel Surcharge Component
 */
(function ($, _, $services) {
  window.FDX.components.fuelsurcharge = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '.fxg-fsc';

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * @type {Object[]} list of rows
       */
      var rows = [];

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {
          'apiType': '',
          'currentLocale': '',
          'serviceName': '',
          'region': '',
          'importExportPercentageOption': '',
          'numOfRecords': '',
          'dateFormat': '',
          'hidePriceColumn': 'false',
          'enablePriceUpdateColumn': '',
          'numOfVisibleRows': 2 // number of visible rows above and below active item
        };
        config = $.extend({}, defaultConfig, _config);
      }

      /**
       * Render HTML
       *
       * @private
       * @return {Promise<string>} A promise that resolves with rendered HTML
       */
      function render() {
        var promise = $.Deferred();
        var html = config.apiType === 'Dynamic' ? dynamicraw_namespaceObject : staticraw_namespaceObject;
        config.rows = rows;
        var rendered = _.template(html)(config);
        return promise.resolve(rendered);
      }

      /**
       * Get API path
       *
       * @private
       * @return {string} FSC api path based on configuration
       */
      function getAPIPath() {
        var path = '';
        if (config.apiType === 'Dynamic') {
          // /etc/services/dynamic.<serviceName>.<region>.<dateFormat>.<currentLocale>.<enablePriceUpdateColumn>.<hidePriceColumn>.<numOfRecords>.jsonp
          path = '/etc/services/dynamic.' + config.serviceName + '.' + config.region + '.' + config.dateFormat + '.' + config.currentLocale + '.' + config.enablePriceUpdateColumn + '.' + config.hidePriceColumn + '.' + config.numOfRecords + '.jsonp';
        } else {
          // example: /etc/services/static.<serviceName>.<region>.jsonp
          path = '/etc/services/static.' + config.serviceName + '.' + config.region + '.jsonp';
        }
        return path;
      }

      /**
       * Bind interactions events
       *
       * @private
       */
      function bindInteractions() {
        $('.fxg-fsc__show-more', $root).on('click', function () {
          showMoreLess();
        });
      }

      /**
       * Show more / less rows
       *
       * @private
       */
      function showMoreLess() {
        $root.toggleClass('fxg-fsc--show-all');
        $('.fxg-fsc__show-more__link', $root).toggleClass('cc-aem-u-display--none');
        var toggle = $root.hasClass('fxg-fsc--show-all');
        if (toggle) {
          // scroll active row to center of screen (only for static table)
          var activeRow = $('.fxg-fsc__row--active', $root)[0];
          if (activeRow) {
            activeRow.scrollIntoView({
              behavior: 'smooth',
              block: 'center'
            });
          }
        } else {
          // scroll back to top of table
          var top = $root[0].offsetTop - FDX.components.header.height;
          window.scrollTo({
            top: top,
            behavior: 'smooth',
            block: 'start'
          });
        }
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] - component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;

        // abort if no service name or region is given
        if (!config.serviceName || !config.region) {
          promise.reject();
          return promise;
        }

        // fetch the FSC data and render the data table
        var apiURL = getAPIPath();
        $services.fetch.ajax(apiURL).then(function (data) {
          if (!data) {
            // hide FSC component if we do not have valid data
            $root.addClass('cc-aem-u-display--none');
            promise.reject();
            return false;
          }

          // show the FSC if we have valid data
          $root.removeClass('cc-aem-u-display--none');

          // lets make a deep copy of rows so that our changes does not affect other instances
          rows = $.extend(true, [], data.data);
          if (config.apiType === 'Dynamic') {
            config.firstRowData = rows[0];
            rows = rows.slice(1);
          } else {
            setRowsVisibility();
          }
          return render();
        }).then(function (html) {
          // add rendered rows to table
          var $tableData = $(html);
          $('.fxg-fsc__table', $root).append($tableData);

          // bind interactions
          bindInteractions();

          // initialized
          $root.data('initialized', true);
          promise.resolve();
        });
        return promise;
      }

      /**
       * Iterate through rows and set each row's visiblity based on [numOfVisibleRows]
       *
       * @private
       * @return {Object} jQuery DOM element
       */
      function setRowsVisibility() {
        var countVisible = 0;
        rows.forEach(function (row, index) {
          if (row.active) {
            var firstVisibleRow = config.numOfVisibleRows ? Math.max(0, index - config.numOfVisibleRows) : 0;
            var lastVisibleRow = config.numOfVisibleRows ? Math.min(rows.length - 1, index + config.numOfVisibleRows) : rows.length - 1;
            for (var i = firstVisibleRow; i <= lastVisibleRow; i++) {
              rows[i].visible = true;
              countVisible++;
            }
          }
        });

        // if no items are visible due to no active item, we show full table any way
        if (!countVisible) {
          showMoreLess();
          $('.fxg-fsc__show-more', $root).remove();
        }

        // if full table is visible, we don't need the show more link any more
        if (countVisible === rows.length) {
          $('.fxg-fsc__show-more', $root).remove();
        }
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getAPIPath: getAPIPath,
        getElement: getElement
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        setRowsVisibility = jest.fn(setRowsVisibility);
        bindInteractions = jest.fn(bindInteractions);
        showMoreLess = jest.fn(showMoreLess);
        getAPIPath = jest.fn(getAPIPath);
        instance.$private = function () {
          return {
            setRowsVisibility: setRowsVisibility,
            bindInteractions: bindInteractions,
            showMoreLess: showMoreLess,
            getAPIPath: getAPIPath
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();
      var initPromises = [];

      // find all related elements
      $(selector).each(function () {
        // skip already initialized elements
        var $element = $(this);
        if ($element.data('initialized')) return;

        // create instance
        var instance = window.FDX.components.fuelsurcharge.create();

        // Set configuration
        var $config = $('[data-config="js-fuelsurcharge-config"]', $element);
        if ($config.length) {
          instance.setConfig(JSON.parse($config.html().trim()));
        }

        // initialize instance
        var initPromise = instance.init($element);
        initPromises.push(initPromise);
      });
      $.when.apply($, initPromises).then(promise.resolve);
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _, FDX.services);

/***/ }),

/***/ 3584:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 3747:
/***/ (function() {

(function ($, _) {
  window.FDX.components.serviceFee = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '.fxg-servicefee';

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {};
        config = $.extend({}, defaultConfig, _config);
      }

      /**
       * Render HTML
       *
       * @private
       * @return {Promise<string>} A promise that resolves with rendered HTML
       */
      function render() {}

      /**
       * Bind interactions events
       *
       * @private
       */
      function bindInteractions() {
        var showChar = 100;
        var ellipsestext = "...";
        var moretext = "read more";
        var lesstext = "view less";
        $('.more').each(function () {
          var content = $(this).html();
          if (content.length > showChar) {
            var c = content.substr(0, showChar);
            var h = content.substr(showChar, content.length - showChar);
            var html = c + '<span class="moreellipses">' + ellipsestext + '&nbsp;</span><span class="fxg_morecontent"><span>' + h + '</span>&nbsp;&nbsp;<a href="" tabindex = "-1" class="fxg_morelink">' + moretext + '</a></span>';
            $(this).html(html);
          }
        });
        $(".fxg_morelink").on('click', function () {
          if ($(this).hasClass("less")) {
            $(this).removeClass("less");
            $(this).html(moretext);
          } else {
            $(this).addClass("less");
            $(this).html(lesstext);
          }
          $(this).parent().prev().toggle();
          $(this).prev().toggle();
          return false;
        });
        $(".fxg__service-fees-unique-td").each(function () {
          $(this).attr("aria-label", $(this).text());
        });
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;

        // bind interactions
        bindInteractions();

        // initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      // add and return instance

      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        bindInteractions = jest.fn(bindInteractions);
        instance.$private = function () {
          return {
            bindInteractions: bindInteractions
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */

    function createInstances() {
      var promise = $.Deferred();
      var initPromises = [];

      // find all related elements
      $(selector).each(function () {
        // skip already initialized elements
        var $element = $(this);
        if ($element.data("initialized")) return;

        // create instance
        var instance = window.FDX.components.serviceFee.create();

        // initialize instance
        var initPromise = instance.init($element);
        initPromises.push(initPromise);
      });

      // resolve after all inits
      $.when.apply($, initPromises).then(function () {
        promise.resolve();
      });
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _);

/***/ }),

/***/ 3799:
/***/ (function() {

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
/**
 * Dropdown Component
 *
 */

(function (device) {
  window.FDX.components.dropdown = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = ".fxg-dropdown__item,.fxg-user-options__option";
    /**
     * Dropdown related class selectors
     * @type {Object<string, string>}
     */
    var dropdownClasses = {
      dropdownClass: "fxg-dropdown-js",
      openClass: "fxg-dropdown__item--open",
      subMenuClass: "fxg-dropdown__sub-menu",
      overlayClass: "fxg-overlay",
      navClass: "fxg-nav",
      headerClass: "fxg-header",
      signInButtonClass: "fxg-user-options__sign-in",
      bootstrapDropdownClass: "fxg-bootstrap-dropdown"
    };

    /**
       * showing overlay for the dropdown
       *  
       * @public
       */
    var showOverlay = function showOverlay() {
      var _FDX$components$dropd = FDX.components.dropdown,
        overlayClass = _FDX$components$dropd.overlayClass,
        navClass = _FDX$components$dropd.navClass;
      if (!document.querySelector(".".concat(overlayClass))) {
        var overlay = document.createElement("div");
        overlay.className = overlayClass;
        var navElement = document.querySelector(".".concat(navClass));
        if (navElement && navElement.parentNode) {
          navElement.parentNode.insertBefore(overlay, navElement.nextSibling);
        }
      }
    };

    /**
     * hide overlay for the dropdown
     *  
     * @public
     */
    var hideOverlay = function hideOverlay() {
      var overlayClass = FDX.components.dropdown.overlayClass;
      document.querySelectorAll(".".concat(overlayClass)).forEach(function (el) {
        return el.remove();
      });
    };

    /**
    * closing all the dropdown which is open
    *  
    * @public
    */
    var closeAllDropdowns = function closeAllDropdowns() {
      var _FDX$components$dropd2 = FDX.components.dropdown,
        openClass = _FDX$components$dropd2.openClass,
        dropdownClass = _FDX$components$dropd2.dropdownClass,
        hideOverlay = _FDX$components$dropd2.hideOverlay;
      // Remove the open class from all dropdowns
      document.querySelectorAll(".".concat(openClass)).forEach(function (el) {
        el.classList.remove(openClass);
      });
      // Set aria-expanded to false on all dropdown elements
      document.querySelectorAll(".".concat(dropdownClass)).forEach(function (el) {
        el.setAttribute("aria-expanded", "false");
      });
      // Hide overlay
      hideOverlay();
      // Clear login resource if user not authenticated
      if (!FDX.SESSION.userAuthenticated) {
        FDX.LOGIN.loginResourceFun = "";
      }
      // Hide search results
      FDX.components.utilitynav.hideResults();
      // Reset position on html and body (iOS fix)
      document.documentElement.style.position = "";
      document.body.style.position = "";
    };

    /**
      * positioning dropdown 
      *  
      * @public
      */
    var adjustDropdownTab = function adjustDropdownTab() {
      var screenWidth = window.innerWidth;
      var subMenuClass = FDX.components.dropdown.subMenuClass;
      var dropdownSubMenus = document.querySelectorAll(".".concat(subMenuClass));
      var dropdown = document.querySelector(".fxg-dropdown.fxg-global-nav");
      var handleTabKey = function handleTabKey(e) {
        if (e.key === "Tab") {
          var globalNav = document.querySelector(".global_navigation");
          var hasMobileMenuOpen = globalNav && globalNav.querySelector(".fxg-nav--mobile-menu-open");
          if (!hasMobileMenuOpen) {
            var focused = document.activeElement;
            var focusInsideSubMenu = Array.from(dropdownSubMenus).some(function (sub) {
              return sub.contains(focused);
            });
            if (!focusInsideSubMenu) {
              FDX.components.nav.closeMobileNav();
              FDX.components.dropdown.closeAllDropdowns();
            }
          }
        }
      };
      if (screenWidth > device.cctabletlandscapeMediaQuery) {
        window.addEventListener("keyup", handleTabKey);
        var skipToMain = document.querySelector(".fxg-skip-to-main-content");
        if (dropdown) {
          if (skipToMain) {
            skipToMain.parentNode.insertBefore(dropdown, skipToMain.nextSibling);
          } else {
            var logoWrapper = document.querySelector(".fxg-header__logo_wrapper");
            if (logoWrapper) {
              logoWrapper.parentNode.insertBefore(dropdown, logoWrapper.nextSibling);
            }
          }
        }
        // Set dropdown submenu height to auto
        dropdownSubMenus.forEach(function (menu) {
          menu.style.height = "auto";
          menu.style.overflowY = "";
        });
      } else {
        var searchElement = document.querySelector(".fxg-user-options .fxg-search");
        if (dropdown && searchElement) {
          searchElement.parentNode.insertBefore(dropdown, searchElement.nextSibling);
        }
        window.addEventListener("keyup", function (e) {
          if (e.key === "Tab") {
            var _document$querySelect, _document$querySelect2, _document$querySelect3;
            var isMobileMenuOpen = document.querySelectorAll(".global_navigation .fxg-nav--mobile-menu-open").length > 1;
            var widthTooSmall = window.innerWidth < 993;
            var focused = document.activeElement;
            var isOutsideRelevantAreas = !((_document$querySelect = document.querySelector(".fxg-dropdown__sub-menu")) !== null && _document$querySelect !== void 0 && _document$querySelect.contains(focused)) && !((_document$querySelect2 = document.querySelector(".fxg-global-nav")) !== null && _document$querySelect2 !== void 0 && _document$querySelect2.contains(focused)) && !((_document$querySelect3 = document.querySelector(".fxg-search")) !== null && _document$querySelect3 !== void 0 && _document$querySelect3.contains(focused));
            if ((isMobileMenuOpen || widthTooSmall) && isOutsideRelevantAreas) {
              FDX.components.nav.closeMobileNav();
              FDX.components.dropdown.closeAllDropdowns();
            }
          }
        });
        // Set dropdown submenu to be scrollable
        dropdownSubMenus.forEach(function (menu) {
          // menu.style.height = `${dropdownHeight}px`;
          menu.style.overflowY = "scroll";
        });
      }
    };

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    var create = function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var root = null;

      /**
       * Toggling the dropdown 
       * 
       * @param {HTMLElement} elem - The HTML element triggering the function call.
       * @param {Event} e - The event object representing the click event.       * 
       * 
       * @private
       */
      var toggleDropdown = function toggleDropdown(elem, e) {
        e.preventDefault();
        var _FDX$components$dropd3 = FDX.components.dropdown,
          navClass = _FDX$components$dropd3.navClass,
          openClass = _FDX$components$dropd3.openClass;
        var wrapperOpenClass = FDX.components.nav.wrapperOpenClass;
        var navElement = document.querySelector(".".concat(navClass));
        var isNavMobileMenuActive = navElement === null || navElement === void 0 ? void 0 : navElement.classList.contains(wrapperOpenClass);
        var parent = elem.parentElement;
        var isSignInButton = elem.id === "fxg-dropdown-signIn";
        if (parent.classList.contains(openClass)) {
          parent.classList.remove(openClass);
          elem.setAttribute("aria-expanded", "false");
          if (!isNavMobileMenuActive) {
            FDX.components.dropdown.hideOverlay();
          }
        } else {
          FDX.components.dropdown.closeAllDropdowns();
          if (isSignInButton) {
            FDX.components.nav.closeMobileNav();
          }
          parent.classList.add(openClass);
          elem.setAttribute("aria-expanded", "true");
          var loginInput = parent.querySelector("#NavLoginUserId");
          if (loginInput) loginInput.focus();
          FDX.components.dropdown.showOverlay();
        }
      };

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      var setConfig = function setConfig(_config) {
        var defaultConfig = {
          option1: "",
          option2: ""
        };
        config = _objectSpread(_objectSpread({}, defaultConfig), _config);
      };

      /**
       * Bind interactions events
       *
       * @private
       */
      var bindInteractions = function bindInteractions() {
        var domRoot = root && root[0] ? root[0] : root;
        var _FDX$components$dropd4 = FDX.components.dropdown,
          dropdownClass = _FDX$components$dropd4.dropdownClass,
          overlayClass = _FDX$components$dropd4.overlayClass,
          signInButtonClass = _FDX$components$dropd4.signInButtonClass,
          bootstrapDropdownClass = _FDX$components$dropd4.bootstrapDropdownClass;
        // Dropdown toggle clicks
        domRoot.querySelectorAll(".".concat(dropdownClass)).forEach(function (elem) {
          elem.addEventListener("click", function (e) {
            return toggleDropdown(elem, e);
          });
        });
        // Document click & touchend for overlay
        ["click", "touchend"].forEach(function (eventType) {
          document.addEventListener(eventType, function (e) {
            if (e.target.classList.contains(overlayClass)) {
              FDX.components.nav.closeMobileNav();
              FDX.components.dropdown.closeAllDropdowns();
              if (typeof FDX.SECUREPAGECHECK !== "undefined") {
                FDX.SECUREPAGECHECK.clearSessionStorage();
              }
            }
          });
        });

        // Sign-in button clicks (responsive)
        domRoot.querySelectorAll(".".concat(signInButtonClass)).forEach(function (btn) {
          btn.addEventListener("click", function () {
            if (document.documentElement.clientWidth <= device.cctabletlandscapeMediaQuery) {
              FDX.components.nav.closeMobileNav();
            }
          });
        });
        // Bootstrap dropdown link clicks
        document.querySelectorAll(".".concat(bootstrapDropdownClass, " a")).forEach(function (link) {
          link.addEventListener("click", function (e) {
            e.preventDefault();
            var parent = link.parentElement;
            // Add active to clicked parent, remove active from siblings
            parent.classList.add("active");
            Array.from(parent.parentElement.children).filter(function (sibling) {
              return sibling !== parent;
            }).forEach(function (sibling) {
              return sibling.classList.remove("active");
            });
            // Update dropdown toggle text + icon
            var parentSelector = parent.parentElement.parentElement;
            var dropdownToggle = parentSelector.querySelector(".dropdown-toggle");
            if (dropdownToggle) {
              dropdownToggle.innerHTML = "".concat(link.innerHTML, "<span class=\"fxg-icon\"></span>");
            }
            // Populate select option if exists
            var select = parentSelector.querySelector("select");
            if (select) {
              var value = link.getAttribute("data-value");
              Array.from(select.options).forEach(function (option) {
                option.selected = option.value === value;
              });
            } else {
              window.location = link.getAttribute("href");
            }
          });
        });
      };

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      var init = function init(_root) {
        return new Promise(function (resolve) {
          root = _root;
          bindInteractions();
          if (root && root.dataset) {
            root.dataset.initialized = "true";
          }
          resolve();
        });
      };

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      var getElement = function getElement() {
        return root;
      };

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement,
        adjustDropdownTab: adjustDropdownTab
      };

      // pass private attributes and methods to jest
      if (typeof jest !== "undefined") {
        bindInteractions = jest.fn(bindInteractions);
        adjustDropdownTab = jest.fn(adjustDropdownTab);
        toggleDropdown = jest.fn(toggleDropdown);
        closeAllDropdowns = jest.fn(closeAllDropdowns);
        hideOverlay = jest.fn(hideOverlay);
        showOverlay = jest.fn(showOverlay);
        instance.$private = function () {
          return {
            bindInteractions: bindInteractions,
            adjustDropdownTab: adjustDropdownTab,
            toggleDropdown: toggleDropdown,
            closeAllDropdowns: closeAllDropdowns,
            hideOverlay: hideOverlay,
            showOverlay: showOverlay
          };
        };
      }
      instances.push(instance);
      return instance;
    };

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    var createInstances = function createInstances() {
      var initPromises = [];
      document.querySelectorAll(selector).forEach(function (element) {
        if (element.dataset.initialized) return;
        var instance = window.FDX.components.dropdown.create();
        var initPromise = instance.init(element);
        initPromises.push(initPromise);
      });
      //Close dropdown when user tabs away
      FDX.components.dropdown.adjustDropdownTab();
      device.getDesktopMediaQuery().addListener(FDX.components.dropdown.adjustDropdownTab);
      device.getMobileMediaQuery().addListener(FDX.components.dropdown.adjustDropdownTab);
      // Return a Promise that resolves when all initializations are done
      return Promise.all(initPromises);
    };

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector,
      dropdownClass: dropdownClasses.dropdownClass,
      openClass: dropdownClasses.openClass,
      subMenuClass: dropdownClasses.subMenuClass,
      overlayClass: dropdownClasses.overlayClass,
      navClass: dropdownClasses.navClass,
      headerClass: dropdownClasses.headerClass,
      signInButtonClass: dropdownClasses.signInButtonClass,
      bootstrapDropdownClass: dropdownClasses.bootstrapDropdownClass,
      showOverlay: showOverlay,
      hideOverlay: hideOverlay,
      closeAllDropdowns: closeAllDropdowns,
      adjustDropdownTab: adjustDropdownTab
    };
  }();
})(FDX.services.device);

/***/ }),

/***/ 3929:
/***/ (function() {

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _regenerator() { /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */ var e, t, r = "function" == typeof Symbol ? Symbol : {}, n = r.iterator || "@@iterator", o = r.toStringTag || "@@toStringTag"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, "_invoke", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError("Generator is already running"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = "next"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError("iterator result is not an object"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i["return"]) && t.call(i), c < 2 && (u = TypeError("The iterator does not provide a '" + o + "' method"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, "GeneratorFunction")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, "constructor", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = "GeneratorFunction", _regeneratorDefine2(GeneratorFunctionPrototype, o, "GeneratorFunction"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, "Generator"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, "toString", function () { return "[object Generator]"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }
function _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, "", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o("next", 0), o("throw", 1), o("return", 2)); }, _regeneratorDefine2(e, r, n, t); }
function asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }
function _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }
function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }
function _arrayWithHoles(r) { if (Array.isArray(r)) return r; }
function _createForOfIteratorHelper(r, e) { var t = "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && "number" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t["return"] || t["return"](); } finally { if (u) throw o; } } }; }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
/**
 * Survey
 *
 * A dynamic survey form, configured through AEM
 */

try {
  (function ($, _, $utils, $analytics) {
    window.FDX.components.survey = function () {
      /**
       * @type {Object[]} list of instances
       */
      var instances = [];

      /**
       * @type {Object[]} global config
       */

      /**
       * @type {string} root selector
       */
      var selector = '.fxg-survey';

      /**
       * Create instance
       *
       * @public
       * @return {Object} instance
       */
      function create() {
        /**
         * @type {Object} component configuration
         */
        var config;

        /**
         * @type {Object} jQuery DOM element
         */
        var $root = null;

        /**
         * Update component config
         *
         * @private
         */
        function updateConfig() {
          // Create an url to the API gateway based on the AEM configuration
          config.requestUrl = config.apiURL;

          // Check if the APIKey is filled and add that to the config.apiURL
          if (config.apiKey) {
            config.requestUrl += '?key=' + config.apiKey;
          }

          // Loop through config.urlParams array with objects and add key and value as an url parameter to the config.apiURL
          if (config.urlParams.length > 0) {
            config.urlParams.forEach(function (param, index) {
              config.requestUrl += "".concat(!config.apiKey && index === 0 ? '?' : '&').concat(param.key, "=").concat(param.value);
            });
          }
          config.formSuccess = false;
          config.$form = document.getElementById("fxg-form--" + config.uuid);
          config.$success = document.getElementById("fxg-message-".concat(config.uuid, "--success"));
          config.$failure = document.getElementById("fxg-message-".concat(config.uuid, "--failure"));
          config.prefix = 'fxg-' + config.uuid + '--';
          config.interaction = false;
        }

        // ANALYTICS
        /**
         * Sends out the GDL 'view' analytic
         *
         * @private
         */
        function setViewAnalytic() {
          // Check if GDL is already available and if so send out the analytics event.
          // Check every 100ms is GDL is ready, if not abandon the event.

          var delay = 100;
          var maxCheck = 100;
          var intervalCheck = 0;
          var gdlInterval = setInterval(function () {
            if (intervalCheck > maxCheck) {
              clearInterval(gdlInterval);
              console.warn(new Error('[comp: SURVEY] GDL is not ready, abandon Form view event.'));
            } else {
              intervalCheck += 1;
              if (FDX.GDL && FDX.GDL.params && FDX.GDL.params.gdl && FDX.GDL.params.gdl.ready) {
                clearInterval(gdlInterval);
                var payload = {
                  gdl: {
                    category: 'form',
                    eventName: 'view',
                    params: {
                      name: 'survey-form--' + config.uuid
                    }
                  }
                };
                console.log('[comp: SURVEY] - Set form view analytic with payload:', payload);
                $analytics.push(payload);
              }
            }
          }, delay);
        }

        /**
         * Sends out the GDL 'interactive' analytic
         *
         * @private
         */
        function setInteractionAnalytic() {
          config.interaction = true;
          var payload = {
            gdl: {
              category: 'form',
              eventName: 'start-interaction',
              params: {
                name: 'survey-form--' + config.uuid
              }
            }
          };
          $analytics.push(payload);
        }

        /**
         * Sends out the GDL 'update-date' analytic
         *
         * @private
         * @param {Object} field - field config object
         * @param {String} value - form field value
         */
        function setChangeEventAnalytic(field, value) {
          var payloadVal = value;
          if (field.type === 'submit') {
            return;
          }
          if (field.type && (field.type === 'textarea' || field.type === 'text')) {
            payloadVal = value.length > 0 ? 'yes' : 'no';
          }
          var payload = {
            gdl: {
              category: 'form',
              eventName: 'update-data',
              params: {
                name: 'survey-form--' + config.uuid,
                data: _defineProperty({}, field.name, payloadVal)
              }
            }
          };
          $analytics.push(payload);
        }

        /**
         * Sends out the GDL 'submit' analytic
         *
         * @private
         */
        function setSubmitAnalytic() {
          var payload = {
            gdl: {
              category: 'form',
              eventName: 'submit',
              params: {
                name: 'survey-form--' + config.uuid
              }
            }
          };
          $analytics.push(payload);
        }

        // DOMNODES
        /**
         * Gathers the domnodes by looping through the survey fields object.
         *
         * @private
         */
        function setDomNodes() {
          config.fields.forEach(function (field) {
            if (!field.domNodes) {
              field.domNodes = {
                fields: new Array()
              };
            }

            // radio group are separate fields with one output.
            if (field.type === 'radio' && Object.keys(field.options).length > 0) {
              Object.keys(field.options).forEach(function (optionKey) {
                setFieldNodes(field, field.options[optionKey]);
              });
            }
            setFieldNodes(field);
          });
        }

        /**
         * Adds the domnode fields to the appropriate survey fields object.
         *
         * @private
         * @param {Object} - survey field object
         * @param {String} - option value from a radio group or select dropdown
         */
        function setFieldNodes(field, option) {
          var id = config.prefix + field.uuid;
          if (option) {
            id += '-' + String(option);
          } else {
            field.domNodes = Object.assign({
              group: config.$form.querySelector('#fxg-group-' + config.uuid + '--' + field.uuid),
              label: config.$form.querySelector('label[for="' + field.name + '"]'),
              errorLabel: config.$form.querySelector('#' + config.prefix + field.uuid + '-error')
            }, field.domNodes);
          }
          var domNode = config.$form.querySelector('#' + id);
          if (domNode) {
            if (field.hidden && field.domNodes.group) {
              field.domNodes.group.setAttribute('hidden', 'hidden');
            }
            if (field.required === 'true') {
              domNode.setAttribute('required', 'required');
            }
            if (field.error === 'true') {
              domNode.setAttribute('data-error', true);
            }
            if (field.pattern) {
              domNode.setAttribute('pattern', field.pattern);
            }
            if (field.minlength) {
              domNode.setAttribute('minlength', field.minlength);
            }
            if (field.maxlength) {
              domNode.setAttribute('maxlength', field.maxlength);
            }
            if (field.checked === 'true') {
              domNode.setAttribute('checked', 'checked');
            }
            if (field.type === 'text' && field.value && field.value !== '') {
              domNode.setAttribute('value', field.value);
            }
            if (field.selected && domNode.getAttribute('value') == field.selected) {
              domNode.setAttribute('checked', 'checked');
              if (field.type === 'select') {
                var selected = config.$form.querySelector('#fxg-' + config.uuid + '--' + field.uuid + '-' + field.selected);
                if (selected) {
                  selected.setAttribute('selected', 'selected');
                }
              }
            }
            field.domNodes.fields.push(domNode);
          }
        }

        /**
         * Loops through the survey fields and connect listeners to the gathered domnodes
         *
         * @private
         */
        function setListeners() {
          if (config.$form) {
            config.$form.addEventListener("submit", function (evt) {
              evt.preventDefault();
            });
          }

          // Set validation & dependency logic on formfield change
          config.fields.forEach(function (field, index) {
            // select the event type per formfield type
            var userEvent = field.type === 'checkbox' || field.type === 'select' || field.type === 'radio' ? 'change' : 'blur';
            // When field event triggered, validate field visually & form non visually + recalculate dependencies
            field.domNodes.fields.forEach(function (domNode) {
              domNode.addEventListener(userEvent, function () {
                // Set first interaction GDL event
                if (config.interaction === false) {
                  setInteractionAnalytic();
                }

                // Validate, GDL form event and update form dependencies
                validateField(field, true);
                setChangeEventAnalytic(field, domNode.value);
                setDependencies();
              });
            });
          });

          // Set submit button event
          if (config.$submitBtn) {
            config.$submitBtn.addEventListener('click', function (event) {
              setSubmit(event);
            });
          }
        }

        // VALIDATION
        /**
         * Validates the survey visually or 'underwater'
         *
         * @private
         * @param {Boolean} - visualFeedback
         * @return {Array} - errors (collection of formfield uuid's)
         */
        function validateFields(visualFeedback) {
          var errors = [];
          var fieldError;

          // fallback to all fields
          config.fields.forEach(function (field) {
            fieldError = validateField(field, visualFeedback);
            if (fieldError) {
              errors.push(fieldError);
            }
          });
          return errors;
        }

        /**
         * Validates a survey field visually or 'underwater'
         *
         * @private
         * @param {Boolean} - visualFeedback
         * @return {String} - error (formfield uuid)
         */
        function validateField(field, visualFeedback) {
          var formfield = field.domNodes.fields[0];
          var error = null;

          // Initially errors can come from server side.
          // here we pick them up once and visualize that error.
          // we remove this attribute to make sure it is only triggered once.
          if (formfield && formfield.dataset.error === 'true') {
            formfield.removeAttribute('data-error');
            setFieldErrorState(field, true);
            return field.uuid;
          }

          // In there is a formfield and it is required, validate that field
          if (formfield && !formfield.dataset.submit && !formfield.hasAttribute('disabled') && formfield.hasAttribute('required')) {
            error = formfield.validity.valid ? null : field.uuid;
            if (visualFeedback) {
              setFieldErrorState(field, error);
            }
          }
          return error;
        }

        /**
         * Sets the survey field error state visually
         *
         * @private
         * @param {Object} - field (survey field object)
         * @return {String} - error (field uuid)
         */
        function setFieldErrorState(field, error) {
          var label = field.domNodes.label;
          var errorLabel = field.domNodes.errorLabel;
          if (error) {
            field.domNodes.group.classList.add("fdx-c-form--is-invalid"); // fxg-field__input--error

            if (errorLabel) {
              errorLabel.removeAttribute("hidden");
            } else if (label) {
              label.style.color = "red";
            }
          } else {
            field.domNodes.group.classList.remove("fdx-c-form--is-invalid");
            if (errorLabel) {
              errorLabel.setAttribute("hidden", true);
            } else if (label) {
              label.style.color = null;
            }
          }
        }

        // UTILS
        /**
         * Returns locale and path based on current url
         *
         * @private
         */
        function getCurrentPageLocation() {
          var currentTargetUrl = window.location.href || '';
          var fullPath = currentTargetUrl.split('fedex.com/');
          if (fullPath[1]) {
            var locale = fullPath[1].slice(0, 5);
            var path = fullPath[1].slice(5);
            return {
              locale: locale,
              path: path
            };
          } else {
            return {
              locale: 'en_xx',
              path: '/testing-path/'
            };
          }
        }

        // SUBMIT
        /**
         * Lookup and set the submit button
         * @private
         */
        function setSubmitButton() {
          // As the submit button is not actually part of the form fields it needs to be looked up separately
          var submitObj = config.fields.filter(function (field) {
            return field.type === 'submit';
          })[0];
          if (submitObj) {
            config.$submitBtn = submitObj.domNodes.fields[0] || null;
          }
        }

        /**
         * Enables status of the submit button
         *
         * @private
         */
        function enableSubmitButtonAndLoader() {
          if (config.$submitBtn) {
            config.$submitBtn.disabled = false;
            config.$submitBtn.removeAttribute('disabled');
          }
        }
        ;

        /**
         * Disables status of the submit button
         *
         * @private
         */
        function disableSubmitButtonAndLoader() {
          if (config.$submitBtn) {
            config.$submitBtn.disabled = true;
            config.$submitBtn.setAttribute('disabled', 'disabled');
          }
        }
        ;

        /**
         * Creates a form object to be compatible with the API gateway
         * @private
         * @return {Object} - Object with data and headers
         */
        function getSurveyFormObject() {
          var pageLocation = getCurrentPageLocation();
          var dataObj = {
            "To": {
              "Address": config.emailSubmit,
              "SubscriberKey": config.emailSubmit,
              "ContactAttributes": {
                "SubscriberAttributes": {
                  "locale": pageLocation.locale,
                  "page_name": pageLocation.path
                }
              }
            },
            "OPTIONS": {
              "RequestType": "ASYNC"
            }
          };
          var modifications = {
            returnFeedbackWithValue: function returnFeedbackWithValue(key, value) {
              var normalizedValue = value;
              // If the value is empty for an open textfield like feedback, set it to 'no' for analytics purposes.
              if (key === 'feedback' && value === '') {
                var field = config.fields.filter(function (field) {
                  return field.name === 'feedback';
                })[0];
                if (field) {
                  setChangeEventAnalytic(field, value);
                }
                normalizedValue = 'no';
              }
              return normalizedValue;
            }
          };
          var formObj = new FormData(config.$form);
          var transformedValue;
          var _iterator = _createForOfIteratorHelper(formObj.entries()),
            _step;
          try {
            for (_iterator.s(); !(_step = _iterator.n()).done;) {
              var _step$value = _slicedToArray(_step.value, 2),
                key = _step$value[0],
                value = _step$value[1];
              transformedValue = modifications.returnFeedbackWithValue(key, value);
              dataObj.To.ContactAttributes.SubscriberAttributes[key] = transformedValue;
            }

            // fetch the token on every submit, as it is a dynamic/random token
          } catch (err) {
            _iterator.e(err);
          } finally {
            _iterator.f();
          }
          var loginData = sessionStorage.getItem('loginDataStorage');
          var authorizationToken = '';
          if (loginData && config.isAuthToken) {
            var parsedObject = JSON.parse(loginData);
            var parsedObjectToken = parsedObject.token != undefined ? parsedObject.token : parsedObject.access_token;
            authorizationToken = parsedObjectToken;
          }

          // Set Header Object.
          var headers = {
            "Content-type": "application/json",
            Authorization: 'Bearer ' + authorizationToken
          };
          var data = JSON.stringify(dataObj);
          return {
            data: data,
            headers: headers
          };
        }

        /**
         * Validate and submit the form
         *
         * @private
         */
        function setSubmit(e) {
          e.preventDefault();
          // logic is based of 'interim-forms'

          // If no survey errors, create post object and submit the form.
          if (validateFields(true).length > 0) {
            // errors found - nothing happens (validation does the rest)
            // prevent form from submitting.
          } else {
            // No errors, continue to subit the form:
            // Disable the send button
            disableSubmitButtonAndLoader();

            // Form data:
            var formObj = getSurveyFormObject();

            // Form feedback
            config.formSuccess = false;
            config.serverError = false;

            // Send the form data to GDL Adobe Analytics
            setSubmitAnalytic();

            // Post the form data to the API Gateway (salesforce)
            fetch(config.requestUrl, {
              method: "POST",
              body: formObj.data,
              headers: formObj.headers
            }).then(/*#__PURE__*/function () {
              var _ref = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee(res) {
                var data, rgx;
                return _regenerator().w(function (_context) {
                  while (1) switch (_context.n) {
                    case 0:
                      _context.n = 1;
                      return res.json();
                    case 1:
                      data = _context.v;
                      config.serverError = data.responses[0].hasErrors;
                      rgx = /^2\d{2}$/;
                      if (rgx.test(res.status)) {
                        config.formSuccess = true;
                      }
                      return _context.a(2, data);
                  }
                }, _callee);
              }));
              return function (_x) {
                return _ref.apply(this, arguments);
              };
            }())["finally"](function (res) {
              if (config.formSuccess) {
                if (config.serverError) {
                  config.$failure.removeAttribute('hidden');
                } else {
                  config.$form.setAttribute('hidden', 'hidden');
                  config.$success.removeAttribute('hidden');
                }
              } else {
                config.$success.setAttribute('hidden', 'hidden');
                config.$failure.removeAttribute('hidden');
              }
              // timeout to discourage multiple submits without change
              setTimeout(function () {
                enableSubmitButtonAndLoader();
              }, 2000);
            });
          }
          return false;
        }

        // DEPENDENCIES

        /**
         * Loop through survey fields and get the dependency on each field
         *
         * @private
         */
        function setDependencies() {
          config.fields.forEach(function (field) {
            getDependency(field);
          });
        }

        /**
         * Get the dependency on a field and set state accordingly
         *
         * @private
         * @param {Object} - survey field object
         */
        function getDependency(field) {
          var dependencyErrors = [];
          if (field.dependencies) {
            Object.keys(field.dependencies).forEach(function (depKey) {
              var dependency = [depKey, field.dependencies[depKey]];

              // Try and fetch a normal form field
              var depNode = config.$form.querySelector('#' + config.prefix + dependency[0]);
              if (!depNode) {
                // Try to fetch a form 'group' field (like one of the fields of a radio group)
                depNode = config.$form.querySelector('input[id*="' + dependency[0] + '"]:checked');
              }

              // 1. Check if there is a formfield to check
              // 2. check there is a value and if ANY value is acceptable (wildcard)
              // 3. check if there is a value and if it matches the dependency value
              if (depNode && (depNode.value && dependency[1] === "ANY" || String(depNode.value) === String(dependency[1]))) {
                // logic if there is a match
              } else {
                dependencyErrors.push(dependency[0]);
              }
            });

            // If any of the dependencies fail, hide the form field, else show it.
            if (dependencyErrors.length > 0) {
              field.domNodes.group.setAttribute('hidden', true);
              // Disable the field so it is not send to the server on submit (even when hidden)
              if (field.domNodes.fields[0].getAttribute('type') !== 'submit') {
                field.domNodes.fields[0].setAttribute('disabled', 'disabled');
              }
            } else {
              field.domNodes.group.removeAttribute('hidden');
              field.domNodes.fields[0].removeAttribute('disabled');
            }
          }
        }
        function setConfig(_config) {
          var defaultConfig = {
            apiURL: "https://api.emea.fedex.com/aemform/v1/mcte/",
            emailSubmit: "forms_submit@fedex.com"
          };
          config = $.extend({}, defaultConfig, _config);
        }

        /**
         * Bind interactions events
         *
         * @private
         */
        function bindInteractions() {}

        /**
         * Render HTML
         *
         * @public
         * @return {Promise<string>} A promise that resolves with rendered HTML
         */
        function render() {}

        /**
         * Initialize component instance
         *
         * @public
         * @param {Object} _$root - component root element (optional)
         * @return {Promise} A promise that resolves when instance is initiated
         */
        function init(_$root) {
          var promise = $.Deferred();
          $root = _$root;
          updateConfig();
          setDomNodes();
          setSubmitButton();
          setListeners();
          validateFields();
          setDependencies();
          setViewAnalytic();

          // bind interactions
          bindInteractions();

          // Initialized
          $root.data('initialized', true);
          promise.resolve();
          return promise;
        }

        /**
         * Get element
         *
         * @public
         * @return {Object} jQuery DOM element
         */
        function getElement() {
          return $root;
        }

        // add and return instance
        var instance = {
          setConfig: setConfig,
          render: render,
          init: init,
          getElement: getElement
        };

        // pass private attributes and methods to jest
        if (typeof jest !== 'undefined') {
          // Called directly on init
          bindInteractions = jest.fn(bindInteractions);
          updateConfig = jest.fn(updateConfig);
          setDomNodes = jest.fn(setDomNodes);
          setSubmitButton = jest.fn(setSubmitButton);
          setListeners = jest.fn(setListeners);
          validateFields = jest.fn(validateFields);
          setDependencies = jest.fn(setDependencies);
          setViewAnalytic = jest.fn(setViewAnalytic);
          // Call later
          setInteractionAnalytic = jest.fn(setInteractionAnalytic);
          setChangeEventAnalytic = jest.fn(setChangeEventAnalytic);
          setSubmitAnalytic = jest.fn(setSubmitAnalytic);
          setFieldNodes = jest.fn(setFieldNodes);
          validateField = jest.fn(validateField);
          setFieldErrorState = jest.fn(setFieldErrorState);
          getCurrentPageLocation = jest.fn(getCurrentPageLocation);
          enableSubmitButtonAndLoader = jest.fn(enableSubmitButtonAndLoader);
          disableSubmitButtonAndLoader = jest.fn(disableSubmitButtonAndLoader);
          getSurveyFormObject = jest.fn(getSurveyFormObject);
          setSubmit = jest.fn(setSubmit);
          getDependency = jest.fn(getDependency);

          // Called later
          instance.$private = function () {
            return {
              config: config,
              bindInteractions: bindInteractions,
              updateConfig: updateConfig,
              setDomNodes: setDomNodes,
              setSubmitButton: setSubmitButton,
              setListeners: setListeners,
              validateFields: validateFields,
              setDependencies: setDependencies,
              setViewAnalytic: setViewAnalytic,
              setInteractionAnalytic: setInteractionAnalytic,
              setChangeEventAnalytic: setChangeEventAnalytic,
              setSubmitAnalytic: setSubmitAnalytic,
              setFieldNodes: setFieldNodes,
              validateField: validateField,
              setFieldErrorState: setFieldErrorState,
              getCurrentPageLocation: getCurrentPageLocation,
              enableSubmitButtonAndLoader: enableSubmitButtonAndLoader,
              disableSubmitButtonAndLoader: disableSubmitButtonAndLoader,
              getSurveyFormObject: getSurveyFormObject,
              setSubmit: setSubmit,
              getDependency: getDependency
            };
          };
        }
        instances.push(instance);
        return instance;
      }

      /**
       * Create instances
       *
       * @public
       * @return {Promise} A promise that resolves when all instances are initiated
       */
      function createInstances() {
        var promise = $.Deferred();
        var initPromises = [];

        // find all related elements
        $(selector).each(function () {
          // skip already initialized elements
          var $element = $(this);
          if ($element.data('initialized')) return;

          // create instance
          var instance = window.FDX.components.survey.create();

          // set configuration
          var $config = $('[data-config="js-survey-config"]', $element);
          if ($config.length) {
            instance.setConfig(JSON.parse($config.html().trim()));
          }

          // initialize instance
          var initPromise = instance.init($element);
          initPromises.push(initPromise);
        });

        // resolve after all inits
        $.when.apply($, initPromises).then(function () {
          promise.resolve();
        });
        return promise;
      }

      // return component
      return {
        create: create,
        instances: instances,
        createInstances: createInstances,
        selector: selector
      };
    }();
  })(jQuery, _, FDX.services.utils, FDX.services.analytics);
} catch (e) {
  console.error(e);
}

/***/ }),

/***/ 4015:
/***/ (function() {

/**
 * offer component
 *
 */

(function ($, _) {
  window.FDX.components.offer = function () {
    /**
    * @type {Object[]} list of instances
    */
    var instances = [];

    /**
    * @type {string} root selector
    */
    var selector = '.fxg-offer';

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {
          option1: '',
          option2: ''
        };
        config = $.extend({}, defaultConfig, _config);
      }
      ;

      /**
       * Render HTML
       *
       * @private
       * @return {Promise<string>} A promise that resolves with rendered HTML
       */
      function render() {}

      /**
       * alignRTLStyle
       *
       * @private
       */
      function alignRTLStyle() {
        if (config.rightToLeftValue === "true") {
          var eachlistValue = $root.find('.fxg-swipe__item');
          $.each(eachlistValue, function () {
            var alignedValue = $(this).attr("style");
            if (alignedValue !== undefined && alignedValue.indexOf("left") !== -1) {
              alignedValue = alignedValue.replace("left", "right");
              $(this).attr("style", alignedValue);
            }
          });
        }
      }

      /*
       * Bind interactions events
       *
       * @private
       */
      function bindInteractions() {
        alignRTLStyle();
        FDX.BREAKPOINTS.getMobileMediaQuery().addListener(alignRTLStyle());
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;
        // bind interactions
        bindInteractions();

        // initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement,
        alignRTLStyle: alignRTLStyle
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        bindInteractions = jest.fn(bindInteractions);
        alignRTLStyle = jest.fn(alignRTLStyle);
        createInstances = jest.fn(createInstances);
        instance.$private = function () {
          return {
            bindInteractions: bindInteractions,
            alignRTLStyle: alignRTLStyle,
            createInstances: createInstances
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();
      var initPromises = [];

      // find all related elements
      $(selector).each(function () {
        // skip already initialized elements
        var $element = $(this);
        if ($element.data('initialized')) return;

        // create instance
        var instance = window.FDX.components.offer.create();

        // set configuration
        var $config = $element.find('[data-config="js-offer-container-config"]');
        if ($config.length) {
          instance.setConfig(JSON.parse($config.html().trim()));
        }

        // initialize instance
        var initPromise = instance.init($element);
        initPromises.push(initPromise);
      });

      // resolve after all inits
      $.when.apply($, initPromises).then(function () {
        promise.resolve();
      });
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _);

/***/ }),

/***/ 4022:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 4084:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 4135:
/***/ (function() {

/**
 * Contact Channels
 *
 * A component that lists Contact Options in separate blocks.
 */
(function ($, _) {
  window.FDX.components.contactchannels = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '.fxg-contactchannels';

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {};
        config = $.extend({}, defaultConfig, _config);
      }
      ;

      /**
       * set Triggers for component to VA interaction
       *
       * @private
       * @return {Void}
       */
      function setTriggers() {
        // We need to wait for the VA to be injected into the page.
        // As we don't know when that exactly happens, we need to do a polling.
        var counter = 0;
        var vaInterval = setInterval(function () {
          counter += 1;
          var $va = document.querySelector('#nuance-fab-container > button.nuance-fab-main');
          if ($va) {
            setVaTrigger($va);
            clearInterval(vaInterval);
            return false;
          }

          // wait max 40 sec.
          if (counter >= 200 || $va) {
            clearInterval(vaInterval);
          }
        }, 200);
      }

      /**
       * This function detects if an chat link has been given through sightly.
       * @private
       * @param {Object} [$va] reference to the vaHeader (VA) domNode
       * @return {Void}
       */
      function setVaTrigger($va) {
        // If the vaHeader (VA) is present and the user clicks on the chat-link, it automatically will open the VA and cancels the href.
        if (!$va) return;
        var $VaChatLinks = document.querySelectorAll('a[data-action-openvachat]');
        Array.from($VaChatLinks).forEach(function ($VaChatLink) {
          $VaChatLink.addEventListener('click', function (e) {
            e.preventDefault();
            if ($va) {
              $va.click();

              /* Focus is impossible for now as its embedded in an iframe at the moment.
              // Keeping the code for future reference.
              // Wait for open animation of VA and focus on input field.
              // setTimeout(() => {
              //   document.querySelector('#nina-fedex .nw_UserInputContainer .nw_UserInputField')?.focus();
              // }, 1500);
              */
            }
          });
        });
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;

        // Set triggers for the component to interact with the VA
        setTriggers();

        // initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        setTriggers = jest.fn(setTriggers);
        setVaTrigger = jest.fn(setVaTrigger);
        instance.$private = function () {
          return {
            setTriggers: setTriggers,
            setVaTrigger: setVaTrigger
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();
      var initPromises = [];

      // find all related elements
      $(selector).each(function () {
        // skip already initialized elements
        var $element = $(this);
        if ($element.data('initialized')) return;

        // create instance
        var instance = window.FDX.components.contactchannels.create();

        // set configuration
        var $config = $('[data-config="js-contactchannels-config"]', $element);
        if ($config.length) {
          instance.setConfig(JSON.parse($config.html().trim()));
        }

        // initialize instance
        var initPromise = instance.init($element);
        initPromises.push(initPromise);
      });

      // resolve after all inits
      $.when.apply($, initPromises).then(function () {
        promise.resolve();
      });
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _);

/***/ }),

/***/ 4265:
/***/ (function() {

/**
 * downloadContainer
 */

(function ($, _, $file) {
  window.FDX.components.downloadContainer = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '.downloadContainer';

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {}

      /**
       * Render HTML
       *
       * @private
       * @return {Promise<string>} A promise that resolves with rendered HTML
       */
      function render() {}

      /**
       * Bind interactions events
       *
       * @private
       */
      function docReady() {
        var downloadTagsall = $(".fxg__download-container-check-tags").attr("id");
        var pdf_checkbox_all = false;
        var downloadTagstoJsonall = {};
        if (downloadTagsall != null && downloadTagsall != undefined) {
          downloadTagstoJsonall = JSON.parse(downloadTagsall);
        }
        var downloadallfilepath;
        for (var i = 0; i < downloadTagstoJsonall.length; i++) {
          var downloadtagall = downloadTagstoJsonall[i].languageTitle;
          $('.fxg-download-container-listItems').append($("<li tabindex = '0'></li>").attr("value", downloadtagall).attr("aria-label", downloadtagall).text(downloadtagall));
        }
        if ($('.fxg__download-container-standard-tab').attr('id') && $('.fxg__download-container-advanced-tab').attr('id')) {
          $('.fxg_download-container-tab-one').addClass('active');
        } else if ($('.fxg__download-container-standard-tab').attr('id') && !$('.fxg__download-container-advanced-tab').attr('id')) {
          $('.fxg_download-container-tab-one').addClass('active');
          $('.fxg__download_all-tabs-to-dropdown').css('display', 'none');
          $('.fxg__download_all-tabs-to-hide').css('display', 'block');
        } else if (!$('.fxg__download-container-standard-tab').attr('id') && $('.fxg__download-container-advanced-tab').attr('id')) {
          $('.fxg_download-container-tab-two').addClass('active');
          $('.fxg__download_all-tabs-to-dropdown').css('display', 'none');
          $('.fxg__download_all-tabs-to-hide').css('display', 'block');
        }
        if ($('.fxg__download-all-check-mobile-port').attr('id') == "on") {
          $('.downloadContainer').addClass("download-all-mobile-display-none");
        }
        if ($('.fxg__download-all-check-desktop-port').attr('id') == "on") {
          $('.downloadContainer').addClass("download-all-desktop-display-none");
        }
        if ($('.fxg__download-all-check-tablet-port').attr('id') == "on") {
          $('.downloadContainer').addClass("download-all-tablet-display-none");
        }
        $('.fxg-download-container__button-submit-lead').on('click', function (e) {
          if ($(this).parents('.fxg-download-all-submit-button-col').siblings('.fxg-download-container-dropdown').find('p.fxg-download-container__selected-item').text().length <= 1 && !pdf_checkbox_all) {
            $(this).parents('.fxg-download-all-submit-button-col').siblings('.fxg__download-container-validation-row').find('.fxg__download-container-validation').html("<p>Please select the type of file or checkbox</p>");
            $('.fxg-download-container__button-select').trigger('focus');
          } else {
            if ($(this).parents('.fxg-download-all-submit-button-col').siblings('.fxg-download-container-dropdown').find('p.fxg-download-container__selected-item').text().length > 1) {
              for (i = 0; i < downloadTagstoJsonall.length; i++) {
                downloadTagstoJsonall[i].languageTitle;
                var selectedlanguage_titleall = $(this).parents('.fxg-download-all-submit-button-col').siblings('.fxg-download-container-dropdown').find('p.fxg-download-container__selected-item').text();
                if (downloadTagstoJsonall[i].languageTitle == selectedlanguage_titleall) {
                  var append_name = downloadTagstoJsonall[i].languageName;
                }
              }
              $(this).parents('#atag').removeAttr('href');
              if ($('.fxg_download-container-tab-one').hasClass('active')) {
                downloadallfilepath = $(this).parents('.fxg__download-container-containerin-row').siblings('.fxg__download-downloadallpath').attr("id");
              }
              if ($('.fxg_download-container-tab-two').hasClass('active')) {
                downloadallfilepath = $(this).parents('.fxg__download-container-containerin-row').siblings('.fxg__download-downloadallpathadv').attr("id");
              }
              var urlStr = downloadallfilepath.substr(0, downloadallfilepath.lastIndexOf('.'));
              var urlExtn = downloadallfilepath.substr(downloadallfilepath.lastIndexOf('.'), downloadallfilepath.length);
              var append_filepath = urlStr + "_" + append_name + urlExtn;
              $(this).parents('#downloadAll_atag').attr('href', append_filepath);
              $(this).parents('.fxg-download-all-submit-button-col').siblings('.fxg__download-container-validation-row').find('.fxg__download-container-validation').html(" ");
            }
            if (pdf_checkbox_all) {
              var pdf_path_all = $('.fxg__download-container_pdfpath').attr('id');
              window.open(pdf_path_all, "_blank");
            }
          }
        });
        $('.fxg-download-container__button-submit-lead').on('keydown', function (e) {
          if (e.which == 13) {
            $('.fxg-download-container__button-submit-lead').trigger('click');
            $(this).parents('#downloadAll_atag').removeAttr('href');
          }
        });
        var inputval = [];
        var inputTimeStamp = [];
        $('.fxg-download-tabs ul li').on('click', function () {
          if (!$(this).hasClass('active')) {
            $(this).siblings('.active').removeClass('active');
            $(this).addClass('active');
          }
        });
        $('.fxg__download-all-input-checkbox').on('click', function () {
          pdf_checkbox_all = !pdf_checkbox_all;
          if (pdf_checkbox_all) {
            $('.fxg__download-container-validation').html("");
          }
        });
        $('.fxg__download-all-input-checkbox').siblings('span').on('keydown', function (e) {
          if (e.keyCode == 13) {
            pdf_checkbox_all = !pdf_checkbox_all;
            if (pdf_checkbox_all) {
              $('.fxg__download-container-validation').html("");
            }
          }
        });
        if ($('.fxg_download-container-tab-one').hasClass('active')) {
          $('div.fxg_download-container-diplay-one').addClass('fxg_download-container-diplay').removeClass('fxg_download-container-no-diplay');
          $('div.fxg_download-container-diplay-two').removeClass('fxg_download-container-diplay').addClass('fxg_download-container-no-diplay');
        }
        if ($('.fxg_download-container-tab-two').hasClass('active')) {
          $('div.fxg_download-container-diplay-two').addClass('fxg_download-container-diplay').removeClass('fxg_download-container-no-diplay');
          $('div.fxg_download-container-diplay-one').removeClass('fxg_download-container-diplay').addClass('fxg_download-container-no-diplay');
        }
        $('.fxg_download-container-tab-click li').on('click', function () {
          if ($(this).hasClass('fxg_download-container-tab-one')) {
            $('.fxg_download-container-services').addClass('active');
            $('.fxg_download-container-advanced').removeClass('active');
            $('.fxg-download-container__default-tab').text($(this).text());
            $('.fxg_download-container-tab-one-mobile').css('display', 'none');
            $('.fxg_download-container-tab-two-mobile').css('display', 'block');
            $('div.fxg_download-container-diplay-one').addClass('fxg_download-container-diplay').removeClass('fxg_download-container-no-diplay');
            $('div.fxg_download-container-diplay-two').removeClass('fxg_download-container-diplay').addClass('fxg_download-container-no-diplay');
          }
          if ($(this).hasClass('fxg_download-container-tab-two')) {
            $('.fxg_download-container-services').removeClass('active');
            $('.fxg_download-container-advanced').addClass('active');
            $('.fxg-download-container__default-tab').text($(this).text());
            $('.fxg_download-container-tab-two-mobile').css('display', 'none');
            $('.fxg_download-container-tab-one-mobile').css('display', 'block');
            $('div.fxg_download-container-diplay-two').addClass('fxg_download-container-diplay').removeClass('fxg_download-container-no-diplay');
            $('div.fxg_download-container-diplay-one').removeClass('fxg_download-container-diplay').addClass('fxg_download-container-no-diplay');
          }
        });
        $('.fxg-download-container__button-select').on('click', function (event) {
          event.stopPropagation();
          $('.fxg-download-container-listItems li').removeClass('fxg-download-container-lists-focus');
          $('span.fxg-download-container__carot-icon').removeClass('fxg-download-container_carot-icon-open');
          $('button.fxg-download-container__button-select').removeClass('fxg-download-container__violet-border');
          $(this).addClass('fxg-download-container__violet-border');
          if ($(this).siblings('.display-dropdown-webTolead').length == 0) {
            $('.fxg-download-container-dropdown ul').removeClass('display-dropdown-webTolead');
            $(this).find('span.fxg-download-container__carot-icon').removeClass('fxg-download-container_carot-icon-close');
            $(this).siblings().addClass('display-dropdown-webTolead');
            $(this).find('span.fxg-download-container__carot-icon').addClass('fxg-download-container_carot-icon-open');
            $(this).siblings('ul').trigger('focus');
          } else {
            $('button.fxg-download-container__button-select').removeClass('fxg-download-container__violet-border');
            $('.fxg-download-container-dropdown ul').removeClass('display-dropdown-webTolead');
            $(this).find('span.fxg-download-container__carot-icon').removeClass('fxg-download-container_carot-icon-open');
            $(this).find('span.fxg-download-container__carot-icon').addClass('fxg-download-container_carot-icon-close');
          }
        });
        $('.fxg-download-container__button-select').on('keydown', function (e) {
          if (e.which == 13) {
            e.preventDefault();
            e.stopPropagation();
            $('.fxg-download-container-listItems li').removeClass('fxg-download-container-lists-focus');
            $('span.fxg-download-container__carot-icon').removeClass('fxg-download-container_carot-icon-open');
            $('button.fxg-download-container__button-select').removeClass('fxg-download-container__violet-border');
            $(this).addClass('fxg-download-container__violet-border');
            if ($(this).siblings('.display-dropdown-webTolead').length == 0) {
              $('.fxg-download-container-dropdown ul').removeClass('display-dropdown-webTolead');
              $(this).find('span.fxg-download-container__carot-icon').removeClass('fxg-download-container_carot-icon-close');
              $(this).siblings().addClass('display-dropdown-webTolead');
              $(this).find('span.fxg-download-container__carot-icon').addClass('fxg-download-container_carot-icon-open');
              $(this).siblings('ul').trigger('focus');
            } else {
              $('button.fxg-download-container__button-select').removeClass('fxg-download-container__violet-border');
              $('.fxg-download-container-dropdown ul').removeClass('display-dropdown-webTolead');
              $(this).find('span.fxg-download-container__carot-icon').removeClass('fxg-download-container_carot-icon-open');
              $(this).find('span.fxg-download-container__carot-icon').addClass('fxg-download-container_carot-icon-close');
            }
          } else if (e.keyCode == 9) {
            $('button.fxg-download-container__button-select').removeClass('fxg-download-container__violet-border');
            $('.fxg-download-container-dropdown ul').removeClass('display-dropdown-webTolead');
            $(this).find('span.fxg-download-container__carot-icon').removeClass('fxg-download-container_carot-icon-open');
            $(this).find('span.fxg-download-container__carot-icon').addClass('fxg-download-container_carot-icon-close');
          }
        });
        $('.fxg-download-container-listItems li').on('click', function () {
          $(this).parents('.fxg-download-container-dropdown').siblings('.fxg__download-container-validation-row').find('.fxg__download-container-validation').html('');
          $(this).parents('ul').siblings().find('.fxg-download-container__selected-item').text($(this).text());
          $(this).parents('ul').siblings().find('.fxg-download-container__default-item').removeClass('fxg-download-container__default-item').addClass('fxg-download-container__squeezed-item');
          $('.fxg-download-container-dropdown ul').removeClass('display-dropdown-webTolead');
          $(this).parent('ul').siblings().find('span.fxg-download-container__carot-icon').removeClass('fxg-download-container_carot-icon-open');
          $(this).parent('ul').siblings().find('span.fxg-download-container__carot-icon').addClass('fxg-download-container_carot-icon-close');
        });
        $('.fxg-download-container-listItems li').on('keydown', function (e) {
          if (e.which == 13) {
            $(this).parents('.fxg-download-container-dropdown').siblings('.fxg__download-container-validation-row').find('.fxg__download-container-validation').html('');
            $(this).parents('ul').siblings().find('.fxg-download-container__selected-item').text($(this).text());
            $(this).parents('ul').siblings().find('.fxg-download-container__default-item').removeClass('fxg-download-container__default-item').addClass('fxg-download-container__squeezed-item');
            $('.fxg-download-container-dropdown ul').removeClass('display-dropdown-webTolead');
            $(this).parent('ul').siblings().find('span.fxg-download-container__carot-icon').removeClass('fxg-download-container_carot-icon-open');
            $(this).parent('ul').siblings().find('span.fxg-download-container__carot-icon').addClass('fxg-download-container_carot-icon-close');
            $('button.fxg-download-container__button-select').removeClass('fxg-download-container__violet-border');
          }
        });
        $('.fxg-download-container__tab-lisitems li').on('click', function () {
          $(this).parents('ul').siblings().find('.fxg-download-container__default-item').text($(this).text());
          $('.fxg-download-container-dropdown ul').removeClass('display-dropdown-webTolead');
          $(this).css('display', 'none');
          $(this).siblings().css('display', 'block');
          $(this).parent('ul').siblings().find('span.fxg-download-container__carot-icon').removeClass('fxg-download-container_carot-icon-open');
          $(this).parent('ul').siblings().find('span.fxg-download-container__carot-icon').addClass('fxg-download-container_carot-icon-close');
        });
        $('.fxg-download-container__tab-lisitems li').on('keydown', function (e) {
          if (e.which == 13) {
            $(this).parents('ul').siblings().find('.fxg-download-container__default-item').text($(this).text());
            $('.fxg-download-container-dropdown ul').removeClass('display-dropdown-webTolead');
            $(this).parent('ul').siblings().find('span.fxg-download-container__carot-icon').removeClass('fxg-download-container_carot-icon-open');
            $(this).parent('ul').siblings().find('span.fxg-download-container__carot-icon').addClass('fxg-download-container_carot-icon-close');
          }
        });
        $('ul.fxg-download-container-listItems, ul.fxg-download-container__tab-lisitems').on('keydown', function (e) {
          e.preventDefault();
          inputTimeStamp.push(e.timeStamp);
          if (e.timeStamp - inputTimeStamp[0] <= 650) {
            inputval.push(e.key);
            $(this).find('li').each(function () {
              var CountryName = $(this).text().match(/[A-Za-z0-9]/g).join('');
              var inputWithInTime = inputval.join('');
              if (inputWithInTime.toUpperCase() == CountryName.slice(0, inputval.length).toUpperCase() && e.keyCode != 32) {
                $(this).trigger('focus');
                return false;
              }
            });
          }
          if (e.timeStamp - inputTimeStamp[0] >= 650) {
            var firstLetter = e.key;
            inputTimeStamp = [];
            inputval = [];
            inputTimeStamp.push(e.timeStamp);
            inputval.push(e.key);
            $(this).find('li').each(function () {
              var CountryName = $(this).text().match(/[A-Za-z0-9]/g).join('');
              if (firstLetter.toUpperCase() == CountryName[0].toUpperCase()) {
                $(this).trigger('focus');
                return false;
              }
            });
          }
          if (e.keyCode == 40) {
            e.preventDefault();
            $(this).children().first().trigger('focus');
          } else if (e.keyCode == 9) {
            e.preventDefault();
            $('button.fxg-download-container__button-select').removeClass('fxg-download-container__violet-border');
            $('.fxg-download-container-dropdown ul').removeClass('display-dropdown-webTolead');
            $(this).siblings().find('span.fxg-download-container__carot-icon').removeClass('fxg-download-container_carot-icon-open');
            $(this).siblings().find('span.fxg-download-container__carot-icon').addClass('fxg-download-container_carot-icon-close');
            if ($(this).hasClass('fxg-download-container__r-lisitems')) {
              $('.fxg-download-container__label-meter input').trigger('focus');
            } else if ($(this).hasClass('fxg-download-container__nes-lisitems')) {
              $('.fxg-download-container__button-submit-lead').trigger('focus');
            }
          } else if (e.keyCode == 13) {
            $('button.fxg-download-container__button-select').removeClass('fxg-download-container__violet-border');
            $('.fxg-download-container-dropdown ul').removeClass('display-dropdown-webTolead');
            $(this).siblings().find('span.fxg-download-container__carot-icon').removeClass('fxg-download-container_carot-icon-open');
            $(this).siblings().find('span.fxg-download-container__carot-icon').addClass('fxg-download-container_carot-icon-close');
            if ($(this).hasClass('fxg-download-container__r-lisitems')) {
              $('.fxg-download-container__label-meter input').trigger('focus');
            } else if ($(this).hasClass('fxg-download-container__nes-lisitems')) {
              $('.fxg-download-container__button-submit-lead').trigger('focus');
            }
          }
        });
        $('ul.fxg-download-container-listItems li,ul.fxg-download-container__tab-lisitems li').on('focus', function () {
          $(this).addClass('fxg-download-container-lists-focus').siblings().removeClass('fxg-download-container-lists-focus');
        }).on('keydown', function (e) {
          if (e.keyCode == 40) {
            $(this).next().trigger('focus');
            return false;
          } else if (e.keyCode == 38) {
            $(this).prev().trigger('focus');
            return false;
          }
        });
        $('ul.fxg-download-container-listItems li,ul.fxg-download-container__tab-lisitems li').on('keydown', function (e) {
          if (e.keyCode == 9) {
            $('.fxg-download-container-dropdown ul').removeClass('display-dropdown-webTolead');
            $(this).parent('ul').siblings().find('span.fxg-download-container__carot-icon').removeClass('fxg-download-container_carot-icon-open');
            $(this).parent('ul').siblings().find('span.fxg-download-container__carot-icon').addClass('fxg-download-container_carot-icon-close');
          }
        });
        $('*[id=dowloadAll_checkbox], *[id=download_checkbox]').each(function (i) {
          var val = $(this).attr('id') + '-' + i;
          $(this).attr('id', val);
          var myParent = $(this).parent();
          if (myParent[0].nodeName == 'LABEL') {
            myParent.attr('for', val);
          }
        });
        $(".checkmark").on('keypress', function (e) {
          if (e.keyCode == 13 || e.keyCode == 32) {
            if (e.keyCode == 32) {
              e.preventDefault();
            }
            $(this).trigger('click');
          }
        });
        $(document).on('click', function () {
          $('.fxg-download-container-dropdown ul').removeClass('display-dropdown-webTolead');
          $(this).find('button.fxg-download-container__button-select span.fxg-download-container__carot-icon').removeClass('fxg-download-container_carot-icon-open');
          $(this).find('button.fxg-download-container__button-select span.fxg-download-container__carot-icon').addClass('fxg-download-container_carot-icon-close');
        });
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] compnent root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;

        // run filesaver
        $file.saveAsFile();

        // doc ready functions
        docReady();

        // initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        docReady = jest.fn(docReady);
        instance.$private = function () {
          return {
            docReady: docReady
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();
      var initPromises = [];

      // find all related elements
      $(selector).each(function () {
        // skip already initialized elements
        var $element = $(this);
        if ($element.data('initialized')) return;

        // create instance
        var instance = window.FDX.components.downloadContainer.create();

        // initialize instance
        var initPromise = instance.init($element);
        initPromises.push(initPromise);
      });

      // resolve after all inits
      $.when.apply($, initPromises).then(function () {
        //$file.saveAsFile();
        promise.resolve();
      });
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _, FDX.services.file);

/***/ }),

/***/ 4274:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 4301:
/***/ (function() {

/**
 * Utility Service
 *
 * Diverse utilities
 */

(function ($, _, $services) {
  window.FDX.services.utils = function () {
    var renderDateTimeOptions = {
      year: 'numeric',
      month: 'short',
      day: 'numeric',
      hour: 'numeric',
      minute: 'numeric',
      hour12: true
    };
    var textarea;

    /**
     * Init service
     *
     * @public
     */
    function init() {}

    /**
     * Get effective configuration key/value pair based on passed + default configuration
     *
     * @public
     * @param {Object} config - key/value pair
     * @param {Object} defaultConfig - default key/value pair
     * @return {Object} effective configuration
     */
    function defaultConfig(config, defaultConfig) {
      if (!defaultConfig) defaultConfig = {};

      // remove empty string values, so that default values could replace them
      var configFiltered = {};
      for (var key in config) {
        if (typeof config[key] === 'string' && !config[key]) continue;
        configFiltered[key] = config[key];
      }

      // extend config based on default config
      config = $.extend({}, defaultConfig, configFiltered);
      return config;
    }

    /**
     * Get notifications data from the server for a specific type
     *
     * @public
     * @param {Object} config - key/value pair
     * @return {string} classes string
     */
    function responsiveClasses(config) {
      var classes = [];

      // hide on mobile?
      if (config.hideOnMobile) {
        classes.push('cc-aem-u-display--none@x-small-only');
      }

      // show/hide on tablet?
      if (config.hideOnTablet) {
        if (config.hideOnDesktop) {
          // hide on tablet
          // hide on desktop
          classes.push('cc-aem-u-display--none@small');
        } else {
          // hide on tablet
          // show on desktop
          classes.push('cc-aem-u-display--none@small-only');
          classes.push('cc-aem-u-display--none@medium-only');
          classes.push('cc-aem-u-display--none@medium-wide-only');
          classes.push('cc-aem-u-display--block@large');
        }
      } else {
        if (!config.hideOnDesktop) {
          // show on tablet
          // show on desktop
          classes.push('cc-aem-u-display--block@small');
        } else {
          // show on tablet
          // hide on desktop
          classes.push('cc-aem-u-display--block@small-only');
          classes.push('cc-aem-u-display--block@medium-only');
          classes.push('cc-aem-u-display--block@medium-wide-only');
          classes.push('cc-aem-u-display--none@large');
        }
      }
      return classes.join(' ').trim();
    }

    /**
     * Get device type
     *
     * @public
     * @return {string} device type ( "IOS" | "ANDROID" | "DESKTOP" )
     */
    function deviceType() {
      if (/iPhone|iPad|iPod/i.test(window.navigator.userAgent)) {
        return 'IOS';
      }
      if (/Android/i.test(window.navigator.userAgent)) {
        return 'ANDROID';
      }
      return 'DESKTOP';
    }

    /**
     * Render date time for current locale
     *
     * @public
     * @param {Object|number} date - Date object/milliseconds
     * @param {Object} options - key/value pair
     * @return {string} formatted date time
     */
    function formatDateTime(date, options) {
      // convert date if needed
      if (typeof date === 'number') date = new Date(date);

      // get locale and options
      var locale = $services.session.getCookie('fdx_locale') || 'en_US';
      var locale = locale.replace('_', '-');
      options = $.extend({}, renderDateTimeOptions, options);

      // format
      var output = new Intl.DateTimeFormat(locale, options).format(date);
      return output;
    }

    /**
     * Convert GMT timezone names in abbrevated format
     *
     * @public
     * @param {string} userzoneGMT - time with timezone string in possible shorten GMT format
     */
    function getTimeZoneAbbreviated(userzoneGMT) {
      var timeZoneAbbreviated;

      //Some params contain some extra prefixes like "AM". Also some rare cases covered here
      if (userzoneGMT.length <= 12) {
        timeZoneAbbreviated = userzoneGMT.split(' ')[1];
      } else if (userzoneGMT.length > 12) {
        timeZoneAbbreviated = userzoneGMT.split(' ')[2];
      }
      if (timeZoneAbbreviated === undefined || timeZoneAbbreviated.includes("GMT")) {
        timeZoneAbbreviated = new Date().toString().replace(/^.*GMT.*\(/, "").replace(/\)$/, "");
      }
      return timeZoneAbbreviated;
    }

    /**
     * Decode HTML entities back to plain string
     *
     * @public
     * @param {string} html - html containing encoded entities
     * @return {string} decoded string
     */
    function decodeHTMLEntities(html) {
      if (!textarea) textarea = document.createElement('textarea');
      textarea.innerHTML = html;
      return textarea.value;
    }

    /**
    * Sanitize input to prevent XSS
    *
    * @param {string} str - input string
    * @return {string} sanitized string
    */
    function sanitize(str) {
      var div = document.createElement('div');
      div.innerText = str;
      return div.innerHTML;
    }

    /**
     * Wait certain amount of time for a condition to become true
     *
     * @public
     * @param {function} callback - contains a condition that returns either true or false
     * @param {number} [timeout=5000] - after timeout in milliseconds promise is rejected
     * @param {number} [interval=100] - interval in milliseconds before checking the condition again
     * @param {number} [start] - start time [for internal use]
     * @param {string} [promise] - initial promise [for internal use]
     * @return {Promise} A promise that resolves when condition has been met
     */
    function waitFor(callback, timeout, interval, start, promise) {
      if (!timeout) timeout = 5000;
      if (!interval) interval = 100;

      // define start and promise on first run
      if (!start) {
        start = Date.now();
        promise = $.Deferred();
      }

      // check time
      var time = Date.now() - start;
      if (time < timeout) {
        // check callback value
        var success = callback();
        if (!success) {
          // let's wait longer
          window.setTimeout(function () {
            waitFor(callback, timeout, interval, start, promise);
          }, interval);
        } else {
          // got it, resolved
          promise.resolve();
        }
      } else {
        // timeout occured, failed
        promise.reject();
      }
      return promise;
    }

    /**
     * Checks whether input represents a numeric value
     *
     * @public
     * @param {any} input
     * @return {boolean}
     */
    function isNumeric(input) {
      return !isNaN(parseFloat(input)) && isFinite(input);
    }

    /**
     * Get list of url paramters
     * URL (urlString) Format. The '?' separates the query string from the URL. The query strings are name value pairs.
     * Each name value pair is separated by an ampersand (&) while the name (key) and value is separated by an equals sign (=).
     * default format eg. https://www.fedex.com?key1=value1&key2=value2
     *
     * Below are the unreserved characters that are allowed in a URI but do not have a purpose
     * A-Za-z / 0-9 / "-" / "." / "_" / "~"
     *
     * @param {string} urlString query or url in string format
     * @param {string} fdxDelimiter that separates key-value pairs. Default is &
     * @param {string} fdxSubDelimiter that separates key and value. Default is =
     *
     * @return {Object} list of paramters
     */
    function getUrlParams(urlString, fdxDelimiter, fdxSubDelimiter) {
      var urlParams = {};
      var delimiter = fdxDelimiter || '&';
      var subDelimiter = fdxSubDelimiter || '=';
      var queryList = urlString.split('?')[1] ? urlString.split('?')[1].split(delimiter) : '';
      if (queryList) {
        queryList.forEach(function (item) {
          var params = item.split(subDelimiter);
          var key = decodeURIComponent(params[0]);
          var value = decodeURIComponent(params.slice(1).join(subDelimiter));
          urlParams[key] = value;
        });
      }
      return urlParams;
    }

    // return service
    return {
      init: init,
      defaultConfig: defaultConfig,
      responsiveClasses: responsiveClasses,
      deviceType: deviceType,
      formatDateTime: formatDateTime,
      getTimeZoneAbbreviated: getTimeZoneAbbreviated,
      decodeHTMLEntities: decodeHTMLEntities,
      sanitize: sanitize,
      waitFor: waitFor,
      isNumeric: isNumeric,
      getUrlParams: getUrlParams
    };
  }();
})(window.jQuery, window._, FDX.services);

/***/ }),

/***/ 4391:
/***/ (function() {

/**
 * CONTENT NAVIGATION
 * 
 * A (side) navigation to help users easily navigate through pages
 */

(function ($, _) {
  window.FDX.components.contentnavigation = function () {
    /**
      * @type {Object[]} list of instances
      */
    var instances = [];

    /**
      * @type {string} root selector
      */
    var selector = '.fxg-contentnavigation';
    var SETTINGS = {
      component: 'contentnavigation'
    };
    var SELECTORS = {
      menuButton: "js-".concat(SETTINGS.component, "-menu-button"),
      menuIcon: "js-".concat(SETTINGS.component, "-menu-icon"),
      menuContent: "js-".concat(SETTINGS.component, "-content")
    };
    var CLASSES = {
      mobileHide: 'fxg-mobile--hide',
      rotate180: 'cc-aem-u-rotate--180'
    };

    /**
      * Create component instance
      *
      * @public
      * @return {Object} instance
      */
    function create() {
      /**
        * @type {Object} configuration
        */
      var config = {};

      /**
        * @type {Object} jQuery DOM root element
        */
      var $root = null;

      /**
        * Set configuration
        *
        * @public
        * @param {Object} _config - key/value pair
        * @return {Object} instance
        */
      function setConfig(_config) {
        var defaultConfig = {};
        config = $.extend({}, defaultConfig, _config);
      }
      ;

      /**
        * Render HTML
        *
        * @private
        * @return {Promise<string>} - A promise that resolves with rendered HTML
        */
      function render() {}

      /**
        * Initialize component instance
        *
        * @public
        * @param {Object} [_$root] - component root element (optional)
        * @return {Promise} - A promise that resolves when instance is initiated
        */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;

        //////////////////////////////
        ////// START CNAV LOGIC //////
        //////////////////////////////

        var element = $root[0];
        var menuButton = element.querySelector(".".concat(SELECTORS.menuButton));
        var menuContent = element.querySelector(".".concat(SELECTORS.menuContent));
        var menuIcon = menuButton.querySelector(".".concat(SELECTORS.menuIcon));
        menuButton.addEventListener('click', function () {
          menuContent.classList.toggle(CLASSES.mobileHide);
          menuIcon.classList.toggle(CLASSES.rotate180);
        });

        //////////////////////////////
        /////// END CNAV LOGIC ///////
        //////////////////////////////

        // Initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement
      };
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();
      var initPromises = [];

      // find all related elements
      $(selector).each(function () {
        // skip already initialized elements
        var $element = $(this);
        if ($element.data('initialized')) return;

        // create instance
        var instance = window.FDX.components.contentnavigation.create();

        // Set configuration
        var $config = $('[data-config="js-contentnavigation-config"]', $element);
        if ($config.length) {
          instance.setConfig(JSON.parse($config.html().trim()));
        }

        // initialize instance
        var initPromise = instance.init($element);
        initPromises.push(initPromise);
      });

      // resolve after all inits
      $.when.apply($, initPromises).then(function () {
        promise.resolve();
      });
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(window.jQuery, window._);

/***/ }),

/***/ 4633:
/***/ (function() {

/**
 * Hello World
 *
 * This component is created for demonstration purpose
 */

(function ($, _) {
  window.FDX.components.helloworld = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '.fxg-helloworld';

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * @type {boolean} flag for button click
       */
      var buttonClicked = false;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {
          option1: '',
          option2: ''
        };
        config = $.extend({}, defaultConfig, _config);
      }
      ;

      /**
       * Render HTML
       *
       * @private
       * @return {Promise<string>} A promise that resolves with rendered HTML
       */
      function render() {}

      /**
       * Bind interactions events
       *
       * @private
       */
      function bindInteractions() {
        $('.fxg-helloworld__btn', $root).on('click', function () {
          if (buttonClicked) return;
          $('.fxg-helloworld__btn', $root).text(config.option2);
          buttonClicked = true;
        });
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;

        // update intro
        $('.fxg-helloworld__intro', $root).text(config.option1);

        // bind interactions
        bindInteractions();

        // initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        bindInteractions = jest.fn(bindInteractions);
        instance.$private = function () {
          return {
            buttonClicked: buttonClicked,
            bindInteractions: bindInteractions
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();
      var initPromises = [];

      // find all related elements
      $(selector).each(function () {
        // skip already initialized elements
        var $element = $(this);
        if ($element.data('initialized')) return;

        // create instance
        var instance = window.FDX.components.helloworld.create();

        // set configuration
        var $config = $('[data-config="js-helloworld-config"]', $element);
        if ($config.length) {
          instance.setConfig(JSON.parse($config.html().trim()));
        }

        // initialize instance
        var initPromise = instance.init($element);
        initPromises.push(initPromise);
      });

      // resolve after all inits
      $.when.apply($, initPromises).then(function () {
        promise.resolve();
      });
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _);

/***/ }),

/***/ 4810:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 4812:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 4848:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 4872:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 4987:
/***/ (function() {

/**
 * Conditional form
 */
try {
  (function ($, _, $analytics, $fetch, $loader) {
    window.FDX.components.conditionalform = function () {
      /**
       * @type {Object[]} list of instances
       */
      var instances = [];

      /**
       * @type {string} root selector
       */
      var selector = '.js-conditional-form';

      /**
       * @type {string} Interim form selector
       */
      var FORM = '.js-c-form';

      /**
       * Create component instance
       *
       * @public
       * @return {Object} instance
       */
      function create() {
        /**
         * @type {Object} configuration
         */
        var $config = {};

        /**
         * @type {Object} jQuery DOM root element
         */
        var $root = null;

        /**
         * @type {Object} component properties or data-attributes
         */
        var properties = {
          dropDownChoose: '',
          dropDownLabel: '',
          errorMessage: 'Not Applicable'
        };

        /**
         * @type {Object} jQuery DOM conditional dropdown wrapper
         */
        var $conditionalDropdown;

        /**
         * @type {Object} jQuery DOM conditional content container
         */
        var $contentContainer;

        /**
         * @type {Object} jQuery DOM Spinner element
         */
        var $spinner;

        /**
         * @type {string} CSS class name for hidden elements
         */
        var IS_HIDDEN = 'fxg-hidden';

        /**
         * @type {string} CSS class name for conditional-dropdown <select> element
         */
        var SELECT = '.js-conditional-dropdown';

        /**
         * @type {Object[]} list of visible dropdown items configuration
         */
        var $visibleItems = [];

        /**
         * @type {Object} conled configuration
         */
        var clonedConfig = {};

        /**
         * @type {number} positon of the opted item in the list of visible dropdown items
         */
        var position = 1;

        /**
         * Set configuration
         *
         * @public
         * @param {Object} _config - key/value pair
         * @return {Object} instance
         */
        function setConfig(_config) {
          var defaultConfig = {};
          $config = $.extend({}, defaultConfig, _config);
        }

        /**
         * Render HTML
         *
         * @private
         * @param {Object} data - configurations
         * @return {Promise<string>} A promise that resolves with rendered HTML
         */
        function render(data) {
          var promise = $.Deferred();
          var html = "\n        <div class=\"js-form-selection fxg-conditional-form__dropdown cc-aem-c-form-group cc-aem-c-form-group--select cc-aem-c-form-group--float-label cc-aem-c-form-group--has-value \">\n          <span class=\"cc-aem-c-form-group__item\">\n            <select class=\"js-conditional-dropdown cc-aem-c-form-group__select\" aria-labelledby=\"conditionalform\" id=\"INPUT\" name=\"conditional-forms\" data-index=\"<%= index %>\">\n              <option disabled=\"\" selected=\"\"><%= defaultOption %></option>\n              <% _.each(selection, function (item) { %>\n                <option <% if(item.isSelected) { %>  selected aria-selected=\"true\" <% } %> value=\"<%= item.label %>\"><%= item.label %></option>\n              <% }); %>\n              </select>\n\n              <fdx-icon class=\"cc-aem-c-form-group__icon\" aria-hidden=\"true\">\n                <svg class=\"cc-aem-c-icon \" aria-hidden=\"true\" focusable=\"false\" role=\"presentation\">\n                    <use xlink:href=\"#chevron\"></use>\n                </svg>\n              </fdx-icon>\n\n              <label id=\"\" class=\"cc-aem-c-form-group__label\" for=\"INPUT\" id=\"conditionalform\"><%= labelText %></label>\n          </span>\n        </div>\n        ";
          var currentItem = data;
          var optedData = currentItem ? currentItem.data : $visibleItems[0];
          var itemDropDownLabel = currentItem ? currentItem.title : properties.dropDownLabel;
          var rendered = _.template(html)({
            defaultOption: properties.dropDownChoose,
            labelText: itemDropDownLabel,
            index: position,
            selection: optedData
          });
          return promise.resolve(rendered);
        }

        /**
         * Hack to fix SVG images on holiday-schedule page (D-41606)
         *
         * @private
         */
        function holidaySVGFix() {
          if (FDX.DATALAYER.page.pageInfo.pageName === 'holiday-schedule') {
            $contentContainer.find("table img[src*='.svg']").each(function () {
              $(this).attr("width", "20px");
              $(this).attr("height", "20px");
            });
          }
        }

        /**
         * Fetch the content and add to DOM
         *
         * @private
         */
        function fetchContent() {
          var data = $visibleItems[position - 1];
          var isLink = _.get(data, 'isLink');
          $spinner.removeClass(IS_HIDDEN);
          if (isLink === 'true') {
            var path = FDX.contextPath ? FDX.contextPath + data.content : data.content;
            $fetch.ajax(path, '', {
              'dataType': 'html'
            }).then(function (response) {
              var content = $('<div/>').append(response).find('.js-cms-conditional-form-template');
              $spinner.addClass(IS_HIDDEN);
              $contentContainer.empty().append(content);

              // init components - already initialized components will be skipped
              // Here the geo instance is created based on promise queue,
              // so "geolocator" needs to be excluded explicitly to avoid multiple instances of geolocator.
              var compsToExclude = ['geolocator'];
              $loader.initComponents(compsToExclude);
              holidaySVGFix();
            }, function (resp) {
              $spinner.addClass(IS_HIDDEN);
              $contentContainer.empty().append('<span class="fxg-field__validation">' + properties.errorMessage + '</span>');
            });
          } else {
            $spinner.addClass(IS_HIDDEN);
            $contentContainer.empty().append(data.content);
          }
        }

        /**
         * create selection dropdown
         *
         * @private
         * @param {Object} selectedItem opted dropdown configurations
         */
        function createSelection(selectedItem) {
          render(selectedItem).then(function (html) {
            if (html) {
              $conditionalDropdown.append(html);
            }
          });
        }

        /**
         * update or remove all the child selections which are after the opted selection
         *
         * @param {number} [optedPosition] positon of the opted selection in the list of visible dropdown items
         * @private
         */
        function updateSelections(optedPosition) {
          if (!optedPosition) return false;
          var $selections = $conditionalDropdown.find('.js-form-selection');
          _.each($selections, function (item) {
            var $item = $(item);
            var currentPosition = $item.find(SELECT).data('index');

            // remove the child dropdowns after opted item Position
            if (currentPosition > optedPosition) {
              $item.remove();
            }
          });
        }

        /**
         * update the position based on opted selection
         *
         * @private
         * @return {number} positon of the opted selection in the list of visible selections
         */
        function updatePosition(optedPosition) {
          if (!optedPosition) return position;
          var currentPosition = optedPosition;
          var newPosition = position;
          if (currentPosition === newPosition) {
            newPosition = newPosition + 1;
          } else if (currentPosition < newPosition) {
            newPosition = currentPosition + 1;
          }
          return newPosition;
        }

        /**
         * selection or dropdown onchange handler
         *
         * @private
         * @param {string} label or value of the selection
         */
        function selectionHandler(label) {
          var labelValue = _.isObject(label) ? $(this).val() : label;
          var optedPosition = _.isObject(label) ? $(this).data('index') : position;
          if (FDX.DTM) {
            FDX.DTM.pushButtonInfo('dropdown:' + labelValue, 'samePage');
          }

          // empty the previously selected content
          $contentContainer.empty();
          position = updatePosition(optedPosition);
          updateSelections(optedPosition);

          // update visible selctions/items array
          // by removing child selections after the opted position
          $visibleItems = _.take($visibleItems, optedPosition);

          // fetch the current selection
          var selection = _.find($visibleItems[optedPosition - 1], {
            'label': labelValue
          });
          if (selection && selection.data) {
            var _selection$data;
            $visibleItems.push(selection.data);

            // to check if we still have child selections. If yes, create next/child dropdown
            if (_.isArray(selection.data)) {
              createSelection(selection);
            } else {
              fetchContent();
            }
            var selectedItem = _.find(selection.data, {
              'isSelected': true
            });
            if (selectedItem) {
              selectionHandler(selectedItem.label);
            }

            // Check if we have a unique vkey available for that item to send out as an analytics key
            if ((_selection$data = selection.data) !== null && _selection$data !== void 0 && _selection$data.vkey) {
              sendGDLClickEvent('conditionaldropdown|select--' + selection.data.vkey);
            }
          }
        }

        /**
         * Send analytics click event through GDL
         *
         * @private
         * @param {string} name of clickevent to send to GDL
         */
        function sendGDLClickEvent(eventName) {
          var payload = {
            gdl: {
              category: 'interaction',
              eventName: 'click',
              params: {
                name: eventName
              }
            }
          };
          $analytics.push(payload);
        }

        /**
         * Sets the clonedConfig with 'isSelected' parameter for each item based on hashValue
         *
         * @private
         * @param {Object} data clonedConfig
         * @param {string} hashValue hash value from the url
         * @return {Boolean} selectable true if matches with hash value else false
         */
        function preSelectFromHash(data, hashValue) {
          var selectable = false;
          _.each(data, function (item) {
            item.isSelected = false;
            if (_.isArray(item.data)) {
              // iterate the child items(if array)
              selectable = preSelectFromHash(item.data, hashValue);

              // valid hash item then set its parent item.isSelected to true.
              if (selectable) {
                item.isSelected = true;

                // return/exit loop on 1st instance of selectable item
                return false;
              }
            } else {
              // url format = /express/.../.../{form_name}.html#{form_name}
              // where {form_name} will be used as #hash value and will be unique to form.
              var formName = item.data.content.split('.html')[0].split('/').pop();
              if (formName === hashValue) {
                selectable = true;
                item.isSelected = true;

                // return/exit loop on 1st instance of selectable item
                return false;
              }
            }
          });
          return selectable;
        }

        /**
         * Initialize component instance
         *
         * @public
         * @param {Object} [_$root] component root element (optional)
         * @return {Promise} A promise that resolves when instance is initiated
         */
        function init(_$root) {
          var promise = $.Deferred();
          $root = _$root;
          properties.dropDownChoose = $root.data('choose') || properties.dropDownChoose;
          properties.dropDownLabel = $root.data('label') || properties.dropDownLabel;
          properties.errorMessage = $root.data('error-message') || properties.errorMessage;
          $conditionalDropdown = $root.find('.fxg-conditional-form-dropdown');
          $contentContainer = $root.find('.fxg-content-container');
          $spinner = $root.find('.fxg-spinner');

          // set FDX contextPath
          if (FDX.contextPath === undefined) {
            FDX.contextPath = typeof fdx !== 'undefined' ? fdx.context.envtVar : '';
          }

          // rest the component state
          $conditionalDropdown.empty();
          $contentContainer.empty();

          // clone the data to retain the original configurations
          clonedConfig = _.clone($config.formJson, true);

          // store the data of each choosen item. This will be used when options are changed.
          $visibleItems = [];
          $visibleItems.push(clonedConfig);

          // position start from 1, as we already have initial data at 0th index
          position = 1;
          var hashValue = window.location.hash.substring(1);
          if (hashValue) {
            preSelectFromHash(clonedConfig, hashValue);
          }

          // create default dropdown
          createSelection();
          var selectedItem = _.find(clonedConfig, {
            'isSelected': true
          });

          // preselection scenario
          if (selectedItem && selectedItem.label) {
            selectionHandler(selectedItem.label);
          }

          // ON 'change' event listener
          $root.on('change', SELECT, function () {
            var $option = $(this);
            position = $option.data('index');
            selectionHandler($option.val());
          });

          // ON 'hashchange' event listener
          $(window).on('hashchange', init);

          // initialized
          $root.data('initialized', true);
          promise.resolve();
          return promise;
        }

        /**
         * Get component element
         *
         * @public
         * @return {Object} jQuery DOM element
         */
        function getElement() {
          return $root;
        }

        // add and return instance
        var instance = {
          setConfig: setConfig,
          init: init,
          getElement: getElement
        };

        // pass private attributes and methods to jest
        if (typeof jest !== 'undefined') {
          preSelectFromHash = jest.fn(preSelectFromHash);
          selectionHandler = jest.fn(selectionHandler);
          createSelection = jest.fn(createSelection);
          updateSelections = jest.fn(updateSelections);
          updatePosition = jest.fn(updatePosition);
          fetchContent = jest.fn(fetchContent);
          sendGDLClickEvent = jest.fn(sendGDLClickEvent);
          instance.$private = function () {
            return {
              $root: $root,
              $conditionalDropdown: $conditionalDropdown,
              $contentContainer: $contentContainer,
              $spinner: $spinner,
              $visibleItems: $visibleItems,
              clonedConfig: clonedConfig,
              position: position,
              preSelectFromHash: preSelectFromHash,
              selectionHandler: selectionHandler,
              createSelection: createSelection,
              updateSelections: updateSelections,
              updatePosition: updatePosition,
              fetchContent: fetchContent,
              sendGDLClickEvent: sendGDLClickEvent
            };
          };
        }
        instances.push(instance);
        return instance;
      }

      /**
       * Create instances
       *
       * @public
       * @return {Promise} A promise that resolves when all instances are initiated
       */
      function createInstances() {
        var promise = $.Deferred();
        var initPromises = [];

        // find all related elements
        $(selector).each(function () {
          // skip already initialized elements
          var $element = $(this);
          if ($element.data('initialized')) return;

          // create instance
          var instance = window.FDX.components.conditionalform.create();

          // Set configuration
          var conditionalConfig = $('[data-config="js-conditional-form-config"]', $element).html();
          var $config = conditionalConfig ? conditionalConfig.trim() : "";
          if (!$config) return;
          var config = JSON.parse($config);

          // fix for " double quote and &amp; decode character decoding issue
          encodeFix(config.formJson);
          instance.setConfig(config);

          // initialize instance
          var initPromise = instance.init($element);
          initPromises.push(initPromise);
        });

        // resolve after all inits
        $.when.apply($, initPromises).then(function () {
          promise.resolve();
        });
        return promise;
      }

      /**
       * Replace the encoded special characters
       *
       * @private
       * @param {Object} json configurations json object
       */
      function encodeFix(json) {
        if (!json) return;
        _.forEach(json, function (item) {
          item.label = item.label ? item.label.replace(/"/g, "'").replace(/&amp;/g, "&") : '';

          // check if current item has deeper levels
          if (_.isArray(item.data)) {
            encodeFix(item.data);
          }
        });
      }

      // return component
      return {
        create: create,
        instances: instances,
        createInstances: createInstances,
        selector: selector
      };
    }();
  })(jQuery, _, FDX.services.analytics, FDX.services.fetch, FDX.services.loader);
} catch (e) {
  console.error(e);
}

/***/ }),

/***/ 5152:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 5172:
/***/ (function() {

"use strict";

;// ./src/components/gdpr/gdpr.inline.html?raw
var gdpr_inlineraw_namespaceObject = "<div class=\"fxg-gdpr cc-aem-u-line-height--medium cc-aem-u-bg-color--grey-20 cc-aem-u-color--gray\n            cc-aem-u-position--fixed cc-aem-u-right--0 cc-aem-u-left--0 cc-aem-u-bottom--0\n            cc-aem-u-elevation--z6 cc-aem-u-border--top\">\n  <div class=\"fxg-gdpr__scrollable cc-aem-u-pt--4 cc-aem-u-overflow--auto fxg-wrapper\">\n    <h5 class=\"cc-aem-c-heading--h5\">\n      <%= title %>\n    </h5>\n\n    <div class=\"cc-aem-u-my--4\">\n      <%= description %>\n    </div>\n\n    <div class=\"cc-aem-u-my--4 cc-aem-o-grid__row cc-aem-u-flex-align-items--start cc-aem-u-flex-gap--4\">\n      <% for (var i=0; i < options.length; i++) { var option=options[i]; if (option.label) { %>\n        <div class=\"cc-aem-c-form cc-aem-c-form--checkbox <% if (option.disabled) { %>cc-aem-c-form--is-disabled<% } %>\n                    cc-aem-u-width--100 cc-aem-u-width--auto@small\">\n          <label class=\"cc-aem-c-form__label\" for=\"fxg-gdpr__level${i}\" id=\"fxg-gdpr__level${i}-label\">\n            <%= option.label %>\n          </label>\n          <input type=\"checkbox\" name=\"format\" id=\"fxg-gdpr__level${i}\" class=\"cc-aem-c-form__checkbox\"\n            aria-labelledby=\"fxg-gdpr__level${i}-label\" <% if (option.selected) { %> checked <% } %>\n            <% if (option.disabled) { %> disabled <% } %> />\n                <div class=\"cc-aem-c-form__indicator\"></div>\n        </div>\n        <% } %>\n          <% } %>\n    </div>\n\n    <% if (disclaimer) { %>\n      <div class=\"cc-aem-u-mt--4\">\n        <%= disclaimer %>\n      </div>\n      <% } %>\n  </div>\n  <div class=\"fxg-gdpr__buttons cc-aem-u-flex cc-aem-u-flex--wrap cc-aem-u-flex-gap--4 cc-aem-u-py--4 fxg-wrapper\">\n\n    <button class=\"fxg-gdpr__apply-settings-btn cc-aem-c-button cc-aem-c-button--responsive cc-aem-c-button--primary\">\n      <%= applySettingsButtonText %>\n    </button>\n\n    <button class=\"fxg-gdpr__reject-all-btn cc-aem-c-button cc-aem-c-button--responsive cc-aem-c-button--primary\">\n      <%= rejectAllButtonText %>\n    </button>\n\n    <button class=\"fxg-gdpr__accept-all-btn cc-aem-c-button cc-aem-c-button--responsive cc-aem-c-button--primary\">\n      <%= acceptAllButtonText %>\n    </button>\n  </div>\n</div>";
;// ./src/components/gdpr/gdpr.js


// UNCOMMENT TO MOCK window._st IN LOCAL
// (function (window) {
//   window._st = {};
//   window._st.cookiepermission = {
//       getCookiePreferences: function (){ return {};},
//       setCookiePreferences: function (){ return {};},
//   };
//   window._st.core = {
//     executeTags: function (){ return {};},
//   }

//   })(window);
/**
 * Gdpr
 *
 * Displays GDPR notification
 */

(function ($, _, FDX, $services) {
  FDX.components.gdpr = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '';

    /**
     * Create instance
     *
     * @public
     * @return {Object} instance
     */
    function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM element
       */
      var $root = null;

      /**
       * @type {Object} jQuery DOM element
       */
      var $container = null;

      /**
       * @type {number} height of the DOM element
       */
      var componentHeight = 0;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       */
      function setConfig(_config) {
        config = {
          title: _config.title || '',
          description: _config.description || '',
          disclaimer: _config.disclaimer || '',
          acceptAllButtonText: _config.primarybuttontext || '',
          applySettingsButtonText: _config.secondarybuttontext || '',
          rejectAllButtonText: _config.rejectallbuttontext || '',
          options: [{
            disabled: _config.isOption1Disabled || false,
            selected: _config.isOption1Selected || false,
            label: _config.option1Label || ''
          }, {
            disabled: _config.isOption2Disabled || false,
            selected: _config.isOption2Selected || false,
            label: _config.option2Label || ''
          }, {
            disabled: _config.isOption3Disabled || false,
            selected: _config.isOption3Selected || false,
            label: _config.option3Label || ''
          }, {
            disabled: _config.isOption4Disabled || false,
            selected: _config.isOption4Selected || false,
            label: _config.option4Label || ''
          }]
        };
      }
      ;

      /**
      * Get config
      *
      * @public
      * @return {Object} config - key/value pairs
      */
      function getConfig() {
        return config;
      }

      /**
       * Render HTML
       *
       * @private
       * @return {Promise<string>} A promise that resolves with rendered HTML
       */
      function render() {
        var promise = $.Deferred();
        var rendered = _.template(gdpr_inlineraw_namespaceObject)(config);
        return promise.resolve(rendered);
      }

      /**
       * Wait for cookie consent manager (Relay42) to be loaded
       *
       * @private
       * @return {Promise} A promise that resolves when it has been loaded
       */
      function waitForCookieConsentManager() {
        return $services.utils.waitFor(function () {
          var _window;
          return !!((_window = window) !== null && _window !== void 0 && (_window = _window._st) !== null && _window !== void 0 && _window.cookiepermission);
        }, 5000);
      }
      /**
       * Edit cookie preferences
       *
       * @public
       * @return {Promise} A promise that resolves when GDPR is triggered with current user preferences
       */
      function edit() {
        var promise = $.Deferred();

        // get current user preferences
        var preferences = getUserPreferences();

        // manipulate the config.options based on current preferences
        for (var key in preferences) {
          config.options[key - 1].selected = preferences[key];
        }

        // To initialize the GDPR we need to preset the cookie preference
        window._st.cookiepermission.setCookiePreferences({});

        // initiate the GDPR with updated config
        init().then(function () {
          promise.resolve();
          show();
        });
        return promise;
      }

      /**
       * Initialize component instance
       *
       * @public
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init() {
        var promise = $.Deferred();

        // bind the "edit cookie preference" button
        $('.fxg-link.fxg-gdpr-edit').off('click').on('click', function () {
          edit();
        });

        // lets wait for cookie consent manager (Relay42)
        waitForCookieConsentManager().then(function () {
          // get user preferences
          var preferences = getUserPreferences();

          // don't proceed if user preferences already known
          if (Object.keys(preferences).length) {
            return promise.reject();
          }

          // create DOM element
          return render();
        }, function () {
          // cookie consent manager not available
          console.warn('Cookie consent manager (Relay42) not available!');
          promise.reject();
        }).then(function (html) {
          $root = $(html);

          // bind interactions
          bindInteractions();

          // initialized
          $root.data('initialized', true);
          promise.resolve();
        });
        return promise;
      }

      /**
       * Bind interactions events
       *
       * @private
       */
      function bindInteractions() {
        $('.fxg-gdpr__apply-settings-btn', $root).on('click', function () {
          setUserPreferences('apply-settings');
          hide();
        });
        $('.fxg-gdpr__reject-all-btn', $root).on('click', function () {
          setUserPreferences('reject-all');
          hide();
        });
        $('.fxg-gdpr__accept-all-btn', $root).on('click', function () {
          setUserPreferences('accept-all');
          hide();
        });
      }

      /**
       * Observe window resize
       *
       * @private
       */
      function observeWindowResize() {
        $(window).on('resize', _.debounce(function () {
          FDX.services.headerHeight.calc();
          calcHeight();
        }, 200));
      }

      /**
       * Observe header height
       *
       * @private
       */
      function observeHeaderHeight() {
        FDX.services.headerHeight.eventTarget.addEventListener(FDX.services.headerHeight.events.heightChanged, function () {
          calcHeight();
        });
      }

      /**
       * Calculate component height
       *
       * @private
       */
      function calcHeight() {
        var headerHeight = FDX.services.headerHeight.height;
        var viewportHeight = window.innerHeight;
        var maxComponentHeight = viewportHeight - headerHeight;
        if (componentHeight < maxComponentHeight) {
          $root.find('.fxg-gdpr__scrollable').css('height', '');
        } else {
          var buttonsHeight = $root.find('.fxg-gdpr__buttons').outerHeight();
          var maxScrollableHeight = maxComponentHeight - buttonsHeight;
          $root.find('.fxg-gdpr__scrollable').css('height', maxScrollableHeight + 'px');
        }
      }

      /**
       * Get element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      /**
       * Get element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function setContainer(_$container) {
        $container = _$container;
      }

      /**
       * Shows the gdpr
       *
       * @public
       */
      function show() {
        // append to DOM
        $container.append($root);
        componentHeight = $root.outerHeight();

        // add body class
        $(document.body).addClass('has-cookie-consent');

        // observe window resize and header height in order to
        // resize dialog so that it does not overlap with the header
        observeWindowResize();
        observeHeaderHeight();

        // calculate height
        calcHeight();

        // impression analytics
        $services.analytics.push({
          gdl: {
            category: 'cookie-consent',
            eventName: 'impression'
          }
        });
      }

      /**
       * Hides the gdpr
       *
       * @public
       */
      function hide() {
        // remove from DOM
        $root.remove();

        // remove body class
        $(document.body).removeClass('has-cookie-consent');
      }

      /**
       * Get user preferences from cookie consent manager
       *
       * @private
       * @return {Object} user preferences object e.g. {} OR {"1":true,"2":false,"3":false}
       */
      function getUserPreferences() {
        return window._st.cookiepermission.getCookiePreferences();
      }

      /**
       * Set user preferences in cookie consent manager
       *
       * @private
       * @param {string} mode - ['apply-settings', 'reject-all', 'accept-all']
       */
      function setUserPreferences(mode) {
        // get user preferences
        var preferences = {};
        $root.find('input[type="checkbox"]').each(function (index, item) {
          switch (mode) {
            case 'apply-settings':
              preferences[index + 1] = item.checked;
              break;
            case 'reject-all':
              preferences[index + 1] = config.options[index].disabled && config.options[index].selected;
              break;
            case 'accept-all':
              preferences[index + 1] = true;
              break;
          }
        });

        // call cookie consent manager to save the preferences
        _st.cookiepermission.setCookiePreferences(preferences);
        _st.core.executeTags();

        // trigger analytics
        $services.analytics.push({
          gdl: {
            category: 'cookie-consent',
            eventName: mode
          }
        });
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        setContainer: setContainer,
        init: init,
        getElement: getElement,
        show: show,
        hide: hide,
        edit: edit,
        getConfig: getConfig
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        setUserPreferences = jest.fn(setUserPreferences);
        show = jest.fn(show);
        instance.$private = function () {
          return {
            setUserPreferences: setUserPreferences,
            show: show
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Get API url
     *
     * @private
     * @return {string} API url
     */
    function getApiUrl() {
      // assemble url
      var locale = FDX.DATALAYER.page.pageInfo.locale;
      var apiUrl = "/content/experience-fragments/fedex-com/sites/".concat(locale, "/gdpr/gdpr-content/master.model.json");
      return apiUrl;
    }

    /**
     * Create instances
     *
     * @public
     */
    function createInstances() {
      var promise = $.Deferred();

      // get container
      var $container = $('fedex-gdpr');
      var isAuthor = window.Granite && window.Granite.author;
      if (!$container.length || isAuthor) {
        promise.resolve();
        return;
      }

      // get instance config from api
      var apiUrl = getApiUrl();
      $services.fetch.ajax(apiUrl).then(function (data) {
        // create GDPR instance
        var instance = FDX.components.gdpr.create();

        // initialize
        var config = data[':items']['root'][':items']['gdpr_consent_component'];
        instance.setConfig(config);
        instance.setContainer($container);
        instance.init().then(function () {
          // show
          instance.show();
          promise.resolve();
        });
      });
      return promise;
    }

    // return component
    return {
      create: create,
      createInstances: createInstances,
      instances: instances,
      selector: selector
    };
  }();
})(jQuery, _, FDX, FDX.services);

// temporary toggle for new GDPR
window.useNewGDPR = function () {
  // remove old cookie consent and add new placeholder
  var $old = $('fedex-cookie-consent');
  var $gdpr = $('<fedex-gdpr></fedex-gdpr>');
  $old.after($gdpr);
  $old.remove();

  // create gdpr instance
  FDX.components.gdpr.createInstances();
};

/***/ }),

/***/ 5176:
/***/ (function() {

/**
 * Session Service
 *
 * Retrieving and setting values of user session and cookies
 */

(function ($, _, window) {
  window.FDX.services.session = function () {
    /**
     * Init service
     *
     * @public
     */
    function init() {}

    /**
     * Get cookie
     *
     * @public
     * @param {string} name - cookie name
     * @return {string} cookie value
     */
    function getCookie(name) {
      var nameEQ = name + "=";
      var ca = document.cookie.split(';');
      for (var i = 0; i < ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0) == ' ') c = c.substring(1, c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
      }
      return null;
    }

    /**
     * Set cookie
     *
     * @public
     * @param {string} name - cookie name
     * @param {string} value - cookie value
     * @param {number} days - number of days whereafter cookie expires
     */
    function setCookie(name, value, days) {
      if (days) {
        var date = new Date();
        date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);
        var expires = "; expires=" + date.toGMTString();
      } else var expires = "";
      if (typeof value != "undefined" && value != "") {
        document.cookie = name + "=" + value + expires + "; path=/";
      }
    }

    /**
     * Clear cookie
     *
     * @public
     * @param {string} name - cookie name
     */
    function clearCookie(name) {
      setCookie(name, null, -1);
    }

    // return service
    return {
      init: init,
      getCookie: getCookie,
      setCookie: setCookie,
      clearCookie: clearCookie
    };
  }();
})(window.jQuery, window._, window);

/***/ }),

/***/ 5262:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 5398:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 5407:
/***/ (function() {

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }
function _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }
function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }
function _arrayWithHoles(r) { if (Array.isArray(r)) return r; }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
/**
 * landinghero
 */

(function (service) {
  var FDX = window.FDX || {};
  FDX.components = FDX.components || {};
  FDX.components.landinghero = function () {
    var getMediaQueries = {
      getCCTabletMediaQuery: service.device.getCCTabletMediaQuery,
      getCCDesktopMediaQuery: service.device.getCCDesktopMediaQuery,
      getCCMobileMediaQuery: service.device.getCCMobileMediaQuery
    };

    /**
     * @type {Object[]} list of instances
     */
    var instances = [];
    var landingHeroSelectors = {
      /**
       * @type {string} root selector
       */
      selector: ".fxg-landing-hero",
      /**
       * @type {string} root selector
       */
      heroClass: "fxg-landing-hero",
      /**
       * @type {string} root selector
       */
      backgroundImgClass: "fxg-landing-hero__background-image",
      /**
       * @type {string} root selector
       */
      videoBtn: ".fxg-landing-hero__video-btn, .fxg-landing-hero__video-btn--dark",
      /**
       * @type {string} root selector
       */
      openVideoClass: "fxg-landing-hero--open",
      /**
       * @type {string} root selector
       */
      closeBtn: ".fxg-landing-hero__close-btn",
      /**
       * @type {string} root selector
       */
      kalturaVideoPlayControlClass: ".mwPlayerContainer .controlBarContainer .controlsContainer button.playPauseBtn"
    };

    // Helper functions to replace jQuery methods
    // TODO: place in external service

    var addClass = function addClass(element, className) {
      if (!element || !className) return;

      // Split by spaces and add each class individually
      var classNames = className.trim().split(/\s+/);
      classNames.forEach(function (cls) {
        if (cls) element.classList.add(cls);
      });
    };
    var addEventListener = function addEventListener(element, event, callback) {
      if (element) element.addEventListener(event, callback);
    };

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    var create = function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} DOM root element
       */
      var root = {};

      /**
             Variable declaration for H1 classes
             */
      var landingHeroH1Selectors = {
        h1LandingTitle: null,
        h1LandingHeroClass: null,
        h1LandingBelowHeroClass: null,
        h1BelowHeroClass: null,
        landingBelowHeroH1Container: null,
        landingHeroTitleWrapper: null,
        landingHeroRichTextWrapper: null
      };
      var mediaQueries = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      var setConfig = function setConfig(_config) {
        config = _objectSpread(_objectSpread({}, config), _config);
      };

      /**
       * setMobileBackgroundImage
       *
       * @private
       */
      var setMobileBackgroundImage = function setMobileBackgroundImage() {
        var targetElem = document.querySelector(".".concat(landingHeroSelectors.heroClass, " .").concat(landingHeroSelectors.backgroundImgClass));
        if (targetElem) {
          targetElem.style.backgroundImage = "none";
        }
      };

      /**
       * setMainBackgroundImage
       *
       * @private
       */
      var setMainBackgroundImage = function setMainBackgroundImage(type) {
        var targetElem = document.querySelector(".".concat(landingHeroSelectors.heroClass, " .").concat(landingHeroSelectors.backgroundImgClass));
        if (!targetElem) return;
        var mainImg = targetElem.getAttribute("data-main-image");
        var maskType = targetElem.getAttribute("data-mask-type") || "none";
        var maskIntensity = targetElem.getAttribute("data-mask-intensity") || "0.75";
        if (type === "tablet") {
          mainImg = targetElem.getAttribute("data-tablet-image");
        }
        if (maskType === "radial") {
          var maskInverse = targetElem.getAttribute("data-mask-inverse") === "true";
          var maskIntensityOne = maskInverse ? maskIntensity : "0";
          var maskIntensityTwo = maskInverse ? "0" : maskIntensity;
          var radialPosition = targetElem.getAttribute("data-radial-position") || "50";
          var radialSize = targetElem.getAttribute("data-radial-size") || "25";
          targetElem.style.backgroundImage = "radial-gradient(circle farthest-side at ".concat(radialPosition, "% 50%, rgba(0,0,0,").concat(maskIntensityOne, ") ").concat(radialSize, "%, rgba(0,0,0,").concat(maskIntensityTwo, ") 100%), url(").concat(mainImg, ")");
        } else if (maskType === "linear") {
          var linearPosition = targetElem.getAttribute("data-linear-position") || "left";
          targetElem.style.backgroundImage = "linear-gradient(to ".concat(linearPosition, ", rgba(0,0,0,0) 40%, rgba(0,0,0,").concat(maskIntensity, ") 100%), url(").concat(mainImg, ")");
        } else {
          targetElem.style.backgroundImage = "url(".concat(mainImg, ")");
        }

        // Fallback image
        if (mainImg) {
          var failOverImg = new Image();
          failOverImg.src = mainImg;
          failOverImg.onerror = function () {
            targetElem.style.backgroundImage = "url(/content/dam/fedex-com/images/default-image/image-placeholder.jpg)";
          };
        }
      };

      /**
       * function to handle the variations of H1 styles
       * @param {string} device - The type of device.
       * @param {string} media - classes for different viewports.
       * @private
       */

      /**
       * function to apply H1 styles on the basis of device
       * @private
       */

      var getH1StyleMediaQuery = function getH1StyleMediaQuery() {
        landingHeroH1Selectors.h1LandingTitle = document.querySelector(".fxg-hero-landing-title");
        landingHeroH1Selectors.h1LandingHeroClass = document.querySelector(".fxg-landing-hero-page");
        landingHeroH1Selectors.h1LandingBelowHeroClass = document.querySelector(".fxg-landing-belowhero-page");
        landingHeroH1Selectors.landingBelowHeroH1Container = document.querySelector("#landingBelowHeroH1Container");
        landingHeroH1Selectors.h1BelowHeroClass = document.querySelector("h1.fxg-below-hero");
        landingHeroH1Selectors.landingHeroTitleWrapper = document.querySelector(".fxg-landing-hero-title-wrapper");
        landingHeroH1Selectors.landingHeroRichTextWrapper = document.querySelector(".fxg-landing-hero-rich-text-wrapper");

        // Define media queries
        mediaQueries = {
          mobile: getMediaQueries.getCCMobileMediaQuery(),
          tablet: getMediaQueries.getCCTabletMediaQuery(),
          desktop: getMediaQueries.getCCDesktopMediaQuery()
        };

        // Find the first matching media query and apply styles
        for (var _i = 0, _Object$entries = Object.entries(mediaQueries); _i < _Object$entries.length; _i++) {
          var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),
            deviceType = _Object$entries$_i[0],
            query = _Object$entries$_i[1];
          if (query.matches) {
            applyH1Style(deviceType);
            break;
          }
        }
      };
      var setH1Style = function setH1Style(device, media) {
        var _config$desktopTitleW3, _config$desktopSubtex3;
        var small = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "";
        var alignment = config["".concat(device, "H1Alignment")];
        var textAlignment = config["".concat(device, "TextAlignment")];
        var textColor = {
          color: config["".concat(device, "TextColor")] || config.textColor
        };
        var alignmentclass = "cc-aem-u-align--".concat(alignment + media).concat(small !== "" ? " cc-aem-u-align--".concat(alignment + small) : "");
        var richTextAlignmentclass = "cc-aem-u-align--".concat(textAlignment + media).concat(small !== "" ? " cc-aem-u-align--".concat(textAlignment + small) : "");
        var _config$desktopTitleW = (_config$desktopTitleW3 = config.desktopTitleWidthStyleString) === null || _config$desktopTitleW3 === void 0 ? void 0 : _config$desktopTitleW3.split(":"),
          _config$desktopTitleW2 = _slicedToArray(_config$desktopTitleW, 2),
          width = _config$desktopTitleW2[0],
          value = _config$desktopTitleW2[1];
        var _config$desktopSubtex = (_config$desktopSubtex3 = config.desktopSubtextWidthStyleString) === null || _config$desktopSubtex3 === void 0 ? void 0 : _config$desktopSubtex3.split(":"),
          _config$desktopSubtex2 = _slicedToArray(_config$desktopSubtex, 2),
          richTextWidth = _config$desktopSubtex2[0],
          richTextValue = _config$desktopSubtex2[1];
        var display = {
          display: "inline-block"
        };
        // For H1 inline style attr
        var styleObj = _objectSpread(_objectSpread(_objectSpread({}, display), width && value ? _defineProperty({}, width, value.replace(/;/g, "")) : {}), textColor);
        // For Richbox inline style attr
        var richTextStyle = _objectSpread(_objectSpread(_objectSpread({}, richTextWidth && richTextValue ? _defineProperty({}, richTextWidth, richTextValue.replace(/;/g, "")) : {}), display), textColor);
        addClass(landingHeroH1Selectors === null || landingHeroH1Selectors === void 0 ? void 0 : landingHeroH1Selectors.landingHeroTitleWrapper, alignmentclass);
        addClass(landingHeroH1Selectors === null || landingHeroH1Selectors === void 0 ? void 0 : landingHeroH1Selectors.h1LandingTitle, alignmentclass);
        if (landingHeroH1Selectors !== null && landingHeroH1Selectors !== void 0 && landingHeroH1Selectors.h1LandingHeroClass) {
          var _landingHeroH1Selecto;
          addClass(landingHeroH1Selectors === null || landingHeroH1Selectors === void 0 ? void 0 : landingHeroH1Selectors.h1LandingHeroClass, alignmentclass);
          Object.assign(landingHeroH1Selectors === null || landingHeroH1Selectors === void 0 || (_landingHeroH1Selecto = landingHeroH1Selectors.h1LandingHeroClass) === null || _landingHeroH1Selecto === void 0 ? void 0 : _landingHeroH1Selecto.style, styleObj);
        }
        if (landingHeroH1Selectors !== null && landingHeroH1Selectors !== void 0 && landingHeroH1Selectors.landingBelowHeroH1Container) {
          var _landingHeroH1Selecto2;
          Object.assign(landingHeroH1Selectors === null || landingHeroH1Selectors === void 0 || (_landingHeroH1Selecto2 = landingHeroH1Selectors.h1BelowHeroClass) === null || _landingHeroH1Selecto2 === void 0 ? void 0 : _landingHeroH1Selecto2.style, _objectSpread(_objectSpread({}, display), textColor));
          addClass(landingHeroH1Selectors === null || landingHeroH1Selectors === void 0 ? void 0 : landingHeroH1Selectors.landingBelowHeroH1Container, alignmentclass);
        }

        //For Richtext added class
        if (landingHeroH1Selectors !== null && landingHeroH1Selectors !== void 0 && landingHeroH1Selectors.landingHeroRichTextWrapper) {
          var _landingHeroH1Selecto3;
          addClass(landingHeroH1Selectors === null || landingHeroH1Selectors === void 0 ? void 0 : landingHeroH1Selectors.landingHeroRichTextWrapper, richTextAlignmentclass);
          var subtextElement = landingHeroH1Selectors === null || landingHeroH1Selectors === void 0 || (_landingHeroH1Selecto3 = landingHeroH1Selectors.landingHeroRichTextWrapper) === null || _landingHeroH1Selecto3 === void 0 ? void 0 : _landingHeroH1Selecto3.querySelector(".fxg-subtext");
          if (subtextElement) {
            addClass(subtextElement, richTextAlignmentclass);
            Object.assign(subtextElement.style, richTextStyle);
          }
        }
        if (device === "desktop" && landingHeroH1Selectors !== null && landingHeroH1Selectors !== void 0 && landingHeroH1Selectors.h1BelowHeroClass) {
          var _landingHeroH1Selecto4;
          Object.assign(landingHeroH1Selectors === null || landingHeroH1Selectors === void 0 || (_landingHeroH1Selecto4 = landingHeroH1Selectors.h1BelowHeroClass) === null || _landingHeroH1Selecto4 === void 0 ? void 0 : _landingHeroH1Selecto4.style, textColor);
        }

        // Reset CSS properties using standard values instead of empty strings for better browser compatibility
        var resetDisplay = {
          display: "inline-block"
        };
        var resetColor = {
          color: "inherit"
        };
        if (device === "mobile") {
          var _landingHeroH1Selecto5;
          addClass(landingHeroH1Selectors === null || landingHeroH1Selectors === void 0 ? void 0 : landingHeroH1Selectors.h1BelowHeroClass, alignmentclass);
          var _subtextElement = landingHeroH1Selectors === null || landingHeroH1Selectors === void 0 || (_landingHeroH1Selecto5 = landingHeroH1Selectors.landingHeroRichTextWrapper) === null || _landingHeroH1Selecto5 === void 0 ? void 0 : _landingHeroH1Selecto5.querySelector(".fxg-subtext");
          if (_subtextElement) {
            addClass(_subtextElement, richTextAlignmentclass);
            Object.assign(_subtextElement.style, _objectSpread({}, resetDisplay));
          }
        }

        // as per AEM dialog configurations,
        // the max-width property is applicable only for desktop & tablet viewport
        if (device === "mobile" || device === "tablet") {
          if (landingHeroH1Selectors !== null && landingHeroH1Selectors !== void 0 && landingHeroH1Selectors.h1LandingHeroClass) {
            var _landingHeroH1Selecto6;
            Object.assign(landingHeroH1Selectors === null || landingHeroH1Selectors === void 0 || (_landingHeroH1Selecto6 = landingHeroH1Selectors.h1LandingHeroClass) === null || _landingHeroH1Selecto6 === void 0 ? void 0 : _landingHeroH1Selecto6.style, _objectSpread({}, resetDisplay));
          }
          if (landingHeroH1Selectors !== null && landingHeroH1Selectors !== void 0 && landingHeroH1Selectors.h1LandingBelowHeroClass) {
            var _landingHeroH1Selecto7;
            Object.assign(landingHeroH1Selectors === null || landingHeroH1Selectors === void 0 || (_landingHeroH1Selecto7 = landingHeroH1Selectors.h1LandingBelowHeroClass) === null || _landingHeroH1Selecto7 === void 0 ? void 0 : _landingHeroH1Selecto7.style, _objectSpread({}, resetDisplay));
          }
          if (landingHeroH1Selectors !== null && landingHeroH1Selectors !== void 0 && landingHeroH1Selectors.h1BelowHeroClass) {
            var _landingHeroH1Selecto8;
            Object.assign(landingHeroH1Selectors === null || landingHeroH1Selectors === void 0 || (_landingHeroH1Selecto8 = landingHeroH1Selectors.h1BelowHeroClass) === null || _landingHeroH1Selecto8 === void 0 ? void 0 : _landingHeroH1Selecto8.style, resetColor);
          }
        }
      };

      /**
       * function to check the device type and apply the classes on the basis of device
       * @param {string} deviceType - The type of device.
       * @private
       */

      var applyH1Style = function applyH1Style(deviceType) {
        var deviceConfig = {
          mobile: ["@x-small-only", "@small-only"],
          tablet: ["@medium-only", ""],
          desktop: ["@medium-wide", ""]
        };
        if (deviceConfig[deviceType]) {
          setH1Style.apply(void 0, [deviceType].concat(_toConsumableArray(deviceConfig[deviceType])));
        }
      };

      /**
       * mobileBreakpointChanged
       *
       * @private
       */
      var mobileBreakpointChanged = function mobileBreakpointChanged(mq) {
        if (!mq) return;
        mq.matches ? setMobileBackgroundImage() : setMainBackgroundImage();
      };

      /**
       * tabletBreakpointChanged
       *
       * @private
       */
      var tabletBreakpointChanged = function tabletBreakpointChanged(tq) {
        if (tq !== undefined) {
          if (tq.matches) {
            setMainBackgroundImage("tablet");
          } else {
            setMainBackgroundImage();
          }
        }
      };

      /**
       * mobileandtabletBreakpointChanged
       *
       * @private
       */
      var mobileandtabletBreakpointChanged = function mobileandtabletBreakpointChanged(mq, tq) {
        if (mq !== undefined && tq !== undefined) {
          if (mq.matches) {
            setMobileBackgroundImage();
          } else if (tq.matches) {
            setMainBackgroundImage("tablet");
          } else {
            setMainBackgroundImage();
          }
        }
      };

      /**
       * closeVideo
       *
       * @private
       */
      var closeVideo = function closeVideo() {
        var _document$querySelect, _document$querySelect2;
        var videoControl = document.querySelector("".concat(landingHeroSelectors.closeBtn, " + button.vjs-play-control"));
        if (videoControl !== null && videoControl !== void 0 && videoControl.classList.contains("vjs-playing")) {
          videoControl.click();
        }
        var iframeContent = (_document$querySelect = document.querySelector("".concat(landingHeroSelectors.closeBtn, " + .kWidgetIframeContainer iframe"))) === null || _document$querySelect === void 0 ? void 0 : _document$querySelect.contentDocument;
        var playPauseBtn = iframeContent === null || iframeContent === void 0 ? void 0 : iframeContent.querySelector(landingHeroSelectors.kalturaVideoPlayControlClass);
        if (playPauseBtn !== null && playPauseBtn !== void 0 && playPauseBtn.classList.contains("icon-pause")) {
          playPauseBtn.click();
        }
        (_document$querySelect2 = document.querySelector(".".concat(landingHeroSelectors.heroClass))) === null || _document$querySelect2 === void 0 || _document$querySelect2.classList.remove(landingHeroSelectors.openVideoClass);
      };

      /**
       * Bindinteractions events
       *
       * @private
       */
      var bindInteractions = function bindInteractions() {
        // Add event listeners for media query changes
        addEventListener(getMediaQueries.getCCMobileMediaQuery(), "change", getH1StyleMediaQuery);
        addEventListener(getMediaQueries.getCCTabletMediaQuery(), "change", getH1StyleMediaQuery);
        addEventListener(getMediaQueries.getCCDesktopMediaQuery(), "change", getH1StyleMediaQuery);

        // Add event listeners for mobile/desktop hero text changes
        addEventListener(getMediaQueries.getCCMobileMediaQuery(), "change", mobileBreakpointChanged);
        addEventListener(getMediaQueries.getCCTabletMediaQuery(), "change", tabletBreakpointChanged);

        // Initialize mobile and tablet breakpoints
        mobileandtabletBreakpointChanged(getMediaQueries.getCCMobileMediaQuery(), getMediaQueries.getCCTabletMediaQuery());

        // Add click event listener for video buttons
        var videoButtons = document.querySelectorAll(landingHeroSelectors.videoBtn);
        videoButtons.forEach(function (button) {
          addEventListener(button, "click", function () {
            var heroElement = document.querySelector(".".concat(landingHeroSelectors.heroClass));
            addClass(heroElement, landingHeroSelectors.openVideoClass);
          });
        });

        // Add click event listener for close buttons
        var closeButtons = document.querySelectorAll(landingHeroSelectors.closeBtn);
        closeButtons.forEach(function (button) {
          addEventListener(button, "click", closeVideo);
        });

        // Handle Adobe Target integration for showing images
        addEventListener(document, "readystatechange", function () {
          if (document.readyState === "complete") {
            setTimeout(function () {
              if (typeof adobe !== "undefined" && typeof adobe.target !== "undefined" && typeof adobe.target.VERSION !== "undefined") {
                mobileandtabletBreakpointChanged(getMediaQueries.getCCMobileMediaQuery(), getMediaQueries.getCCTabletMediaQuery());
              }
            }, 300);
          }
        });
      };

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_root] compnent root element (optional)
       */
      var init = function init(_root) {
        root = _root;
        getH1StyleMediaQuery();
        bindInteractions();
      };

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      var getElement = function getElement() {
        return root;
      };

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        setMobileBackgroundImage: setMobileBackgroundImage,
        setMainBackgroundImage: setMainBackgroundImage,
        mobileBreakpointChanged: mobileBreakpointChanged,
        tabletBreakpointChanged: tabletBreakpointChanged,
        mobileandtabletBreakpointChanged: mobileandtabletBreakpointChanged,
        closeVideo: closeVideo,
        getElement: getElement,
        setH1Style: setH1Style,
        applyH1Style: applyH1Style,
        getH1StyleMediaQuery: getH1StyleMediaQuery,
        getCCMobileMediaQuery: getMediaQueries.getCCMobileMediaQuery,
        getCCTabletMediaQuery: getMediaQueries.getCCTabletMediaQuery,
        getCCDesktopMediaQuery: getMediaQueries.getCCDesktopMediaQuery
      };

      // pass private attributes and methods to jest
      if (typeof jest !== "undefined") {
        setMobileBackgroundImage = jest.fn(setMobileBackgroundImage);
        setMainBackgroundImage = jest.fn(setMainBackgroundImage);
        mobileBreakpointChanged = jest.fn(mobileBreakpointChanged);
        tabletBreakpointChanged = jest.fn(tabletBreakpointChanged);
        mobileandtabletBreakpointChanged = jest.fn(mobileandtabletBreakpointChanged);
        closeVideo = jest.fn(closeVideo);
        bindInteractions = jest.fn(bindInteractions);
        setH1Style = jest.fn(setH1Style), applyH1Style = jest.fn(applyH1Style), getH1StyleMediaQuery = jest.fn(getH1StyleMediaQuery), instance.$private = function () {
          return {
            root: root,
            setMobileBackgroundImage: setMobileBackgroundImage,
            setMainBackgroundImage: setMainBackgroundImage,
            mobileBreakpointChanged: mobileBreakpointChanged,
            tabletBreakpointChanged: tabletBreakpointChanged,
            mobileandtabletBreakpointChanged: mobileandtabletBreakpointChanged,
            closeVideo: closeVideo,
            bindInteractions: bindInteractions,
            setH1Style: setH1Style,
            applyH1Style: applyH1Style,
            getH1StyleMediaQuery: getH1StyleMediaQuery,
            getCCMobileMediaQuery: getMediaQueries.getCCMobileMediaQuery,
            getCCTabletMediaQuery: getMediaQueries.getCCTabletMediaQuery,
            getCCDesktopMediaQuery: getMediaQueries.getCCDesktopMediaQuery
          };
        };
      }
      instances.push(instance);
      return instance;
    };

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    var createInstances = function createInstances() {
      var promise = new Promise(function (resolve) {
        var initPromises = [];
        var elements = document.querySelectorAll(landingHeroSelectors.selector);
        elements.forEach(function (element) {
          // Create instance
          var instance = FDX.components.landinghero.create();
          // Set configuration
          var configElement = element.querySelector('[data-config="js-landinghero-container-config"]');
          if (configElement) {
            instance.setConfig(JSON.parse(configElement.innerHTML.trim()));
          }
          // Initialize instance
          var initPromise = instance.init(element);
          initPromises.push(initPromise);
        });
        // Resolve after all inits
        Promise.all(initPromises).then(function () {
          return resolve();
        });
      });
      return promise;
    };

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: landingHeroSelectors.selector,
      heroClass: landingHeroSelectors.heroClass,
      backgroundImgClass: landingHeroSelectors.backgroundImgClass,
      videoBtn: landingHeroSelectors.videoBtn,
      openVideoClass: landingHeroSelectors.openVideoClass,
      closeBtn: landingHeroSelectors.closeBtn,
      kalturaVideoPlayControlClass: landingHeroSelectors.kalturaVideoPlayControlClass,
      getCCMobileMediaQuery: getMediaQueries.getCCMobileMediaQuery,
      getCCTabletMediaQuery: getMediaQueries.getCCTabletMediaQuery,
      getCCDesktopMediaQuery: getMediaQueries.getCCDesktopMediaQuery
    };
  }();
})(FDX.services);

/***/ }),

/***/ 5474:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 5486:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 5508:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 5543:
/***/ (function() {

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }
function _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
/**
 * Header Component - Handles header behaviors such as shrinking, sticky behavior, and "back to top" functionality.
 */

(function () {
  window.FDX.components.header = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];
    var HEADER_CLASSES = {
      selector: '.fxg-header',
      headerWikiClass: 'fxg-wiki-header',
      shrunkClass: 'fxg-header--shrunk',
      stickyClass: 'fxg-header--sticky',
      regEx: /[a-z]/i
    };
    var height = 0;
    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    var create = function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} root element
       */
      var root = null;
      var headerEle = null;
      var backToTopStartPosition = null;
      var backToTopEnabled = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      var setConfig = function setConfig(_config) {
        var defaultConfig = {};
        config = _objectSpread(_objectSpread({}, defaultConfig), _config);
      };

      /**
       * Toggles the class `shrunkClass` on the header element based on the action.
       *
       * @param {string} action - The action to perform, either 'shrink' or 'grow'.
       */
      var toggleShrinkGrowHeader = function toggleShrinkGrowHeader(action) {
        var shrinkGrowTimeout = null;

        // If header is not found, just return early
        if (!headerEle) return;
        var hasClass = headerEle.classList.contains(HEADER_CLASSES.shrunkClass);

        // If the action is "shrink" and header is already shrunk, or if the action is "grow" and header is not shrunk, do nothing
        if (action === 'shrink' && hasClass || action === 'grow' && !hasClass) return;
        headerEle.classList[action === 'shrink' ? 'add' : 'remove'](HEADER_CLASSES.shrunkClass);

        // Clear any previous timeout to avoid memory leaks and unnecessary recalculations
        if (shrinkGrowTimeout) {
          clearTimeout(shrinkGrowTimeout);
        }
        shrinkGrowTimeout = setTimeout(function () {
          FDX.services.headerHeight.calc();
        }, 250);
      };

      /**
       * Checks the window scroll position and toggles the header based on it.
       */
      var scrollCheck = function scrollCheck() {
        window.scrollY > 1 ? toggleShrinkGrowHeader('shrink') : toggleShrinkGrowHeader('grow');
      };

      /**
       * Handles the scroll behavior for showing or hiding the "back to top" button.
       * It checks the scroll position and toggles the visibility of the button.
       * Additionally, it adjusts the bottom position of the button if certain conditions are met.
       */
      var scrollFunction = function scrollFunction() {
        var scrollHeight = document.documentElement.scrollHeight * 0.05; // 5% of the page height
        var shouldShowBackToTop = document.body.scrollTop > scrollHeight || document.documentElement.scrollTop > scrollHeight;

        // Ensure the backToTop button exists before proceeding
        if (!backToTopEnabled && !backToTopStartPosition) {
          return;
        }

        // Toggle the visibility of the "Back to Top" button based on scroll position
        backToTopEnabled.classList.toggle("cc-aem-u-display--block", shouldShowBackToTop);
        backToTopEnabled.classList.toggle("cc-aem-u-display--none", !shouldShowBackToTop);
        var oldVaEnabled = document.getElementById("vaHeaderId");
        var newVaEnabled = document.getElementById("nuanMessagingFrame");

        // Adjust the bottom position of the "Back to Top" button if necessary
        if (shouldShowBackToTop && (newVaEnabled || oldVaEnabled)) {
          backToTopEnabled.style.bottom = "104px";
        } else {
          // Reset the bottom position if conditions are not met
          backToTopEnabled.style.bottom = "";
        }
      };

      /**
      * Scrolls the page to the appropriate "Back to Top" element.
      * Tries to scroll to one of three elements:
      * - Element with the ID specified in the `fedex-backtotop` attribute.
      * - Element with a class corresponding to the `value` of the `fedex-backtotop` element (if valid).
      * - A default `.headerv2` element.
      */
      var backToTopHandler = function backToTopHandler() {
        var _FDX, _getBackToTopElement;
        var backToTopStartPosition = document.querySelector('#some-element-id'); // define it
        var backtotopValue = (backToTopStartPosition === null || backToTopStartPosition === void 0 ? void 0 : backToTopStartPosition.getAttribute('value')) || null;
        var scrollMargin = "".concat(((_FDX = FDX) === null || _FDX === void 0 || (_FDX = _FDX.components) === null || _FDX === void 0 || (_FDX = _FDX.header) === null || _FDX === void 0 ? void 0 : _FDX.height) || 0, "px");
        var targetElement = ((_getBackToTopElement = getBackToTopElement) === null || _getBackToTopElement === void 0 ? void 0 : _getBackToTopElement(backtotopValue)) || document.querySelector('.headerv2');
        if (targetElement) {
          var _scrollIntoView;
          (_scrollIntoView = scrollIntoView) === null || _scrollIntoView === void 0 || _scrollIntoView(targetElement, scrollMargin); // assuming custom function
        }
      };

      /**
       * Returns the element to scroll to based on the provided value.
       * If the value matches a valid regex, it attempts to get an element by class name.
       *
       * @param {string|null} value The value to use for finding the target element.
       */
      var getBackToTopElement = function getBackToTopElement(value) {
        if (!value) return null;
        var backtotopId = document.getElementById(value);
        var backtotopClass = HEADER_CLASSES.regEx.test(value) ? document.querySelector(".".concat(value)) : null;
        return backtotopId || backtotopClass;
      };

      /**
       * Smoothly scrolls the page to the specified element.
       *
       * @param {HTMLElement} element The element to scroll to.
       * @param {string} scrollMargin The scroll margin to apply at the top of the page.
       */
      var scrollIntoView = function scrollIntoView(element, scrollMargin) {
        if (element) {
          element.style.scrollMarginTop = scrollMargin;
          element.scrollIntoView({
            behavior: 'smooth'
          });
        }
      };

      /**
      * resizeMobileMenu
      * @private
      */
      var resizeMobileMenu = function resizeMobileMenu() {
        var html = document.documentElement;
        var header = document.querySelector("header");
        var search = document.querySelector(".fxg-search");
        var globalNav = document.querySelector(".fxg-user-options .fxg-global-nav");
        if (html && header && search && globalNav) {
          var _height = html.clientHeight - header.offsetHeight - search.offsetHeight;
          globalNav.style.height = "".concat(_height, "px");
        }
      };

      /**
      * Adjust height when alert is open for dropdowns
      */
      var adjustHeightOnAlertClick = function adjustHeightOnAlertClick() {
        var elements = document.querySelectorAll(".hamburger, .fxg-alert__details-btn, .fxg-alert__close-btn");
        elements.forEach(function (element) {
          element.addEventListener("click", function () {
            setTimeout(function () {
              resizeMobileMenu();
            }, 300);
          });
        });
      };

      /**
      * desktopBreakpointChange
      * @private
      */
      var desktopBreakpointChange = function desktopBreakpointChange(mq) {
        if (mq !== null && mq !== void 0 && mq.matches) {
          // Using optional chaining to simplify the check
          var dropdowns = document.querySelectorAll(".fxg-dropdown.fxg-global-nav");
          dropdowns.forEach(function (dropdown) {
            dropdown.style.height = 'inherit';
          });
        }
      };

      /**
       * Remove dropdown height for desktop viewport coming from mobile view
       */
      var removeDropdownHeightOnDesktop = function removeDropdownHeightOnDesktop() {
        if (FDX.services.device && typeof FDX.services.device.getDesktopMediaQuery === 'function') {
          var desktopQuery = FDX.services.device.getDesktopMediaQuery();
          if (desktopQuery && typeof desktopQuery.addEventListener === 'function') {
            desktopQuery.addEventListener('change', desktopBreakpointChange);
          }
        }
      };

      /**
       * Binds necessary interactions for the application.
       * Handles back-to-top functionality, general scroll/resize listeners,
       * and additional event handlers for specific elements.
       */
      var bindInteractions = function bindInteractions() {
        if (backToTopEnabled && backToTopStartPosition) {
          bindBackToTop();
        }
        bindGeneralScrollAndResize();
        updateHeaderStructure();
        setupSignUpModule();
        handleLogoAndCloseButtonEvents();
        handleIEPositioning();
        setTabIndexForSignIn();
        handleFocusForSignInLink();
        adjustHeightOnAlertClick();
        removeDropdownHeightOnDesktop();
      };

      /**
       * Binds the back-to-top functionality and related event listeners.
       */
      var isBackToTopBound = false;
      var bindBackToTop = function bindBackToTop() {
        if (isBackToTopBound) return;
        isBackToTopBound = true;
        scrollFunction();

        // Add event listener for scrolling
        window.addEventListener('scroll', _.debounce(scrollFunction, 200));
        if (backToTopEnabled) {
          backToTopEnabled.addEventListener("click", backToTopHandler);
        }
      };

      /**
       * Binds general scroll and resize listeners for the page.
       */
      var bindGeneralScrollAndResize = function bindGeneralScrollAndResize() {
        window.addEventListener('scroll', _.debounce(scrollCheck, 200));
        window.addEventListener('resize', _.debounce(FDX.services.headerHeight.calc, 200));
        FDX.services.headerHeight.calc();
      };

      /**
       * Updates the header structure based on the `header-new-structure` value.
       */
      var updateHeaderStructure = function updateHeaderStructure() {
        var headerNewStructureElement = document.getElementById("header-new-structure");
        if (headerNewStructureElement) {
          var headerNewStructure = headerNewStructureElement.value;
          var linkSelector = headerNewStructure === "true" ? 'a.fxg-header__logo_wrapper, .fxg-dropdown button.fxg-dropdown-js, .fxg-user-options__search-btn a, a.fxg-search-close-btn' : 'a.fxg-header__logo_wrapper, .fxg-dropdown a.fxg-dropdown-js, .fxg-user-options__search-btn a, a.fxg-search-close-btn';
          document.querySelectorAll(linkSelector).forEach(function (link) {
            link.classList.add('fxg-keyboard');
            link.innerHTML = "<span class=\"fxg-mouse\" tabindex=\"-1\">".concat(link.innerHTML, "</span>");
          });
        }
      };

      /**
       * Sets up event listeners for the sign-up module.
       */
      var setupSignUpModule = function setupSignUpModule() {
        var signUpModule = document.querySelector('#global-login-wrapper > a.fxg-dropdown-js');
        if (signUpModule) {
          signUpModule.addEventListener('mousedown', function () {
            this.style.outlineColor = 'transparent';
            removeFocus(this);
          });
        }
      };

      /**
       * Adds 'mousedown' event listeners for logo and close button elements.
       */
      var handleLogoAndCloseButtonEvents = function handleLogoAndCloseButtonEvents() {
        var allElements = [].concat(_toConsumableArray(document.querySelectorAll('.fxg-header__logo_wrapper')), _toConsumableArray(document.querySelectorAll('.fxg-search-close-btn')));
        addEventListenerToElements(allElements, 'mousedown', function () {
          var fdxLogoImg = document.querySelector('.fxg-header__logo');
          if (fdxLogoImg) fdxLogoImg.style.outline = 'none';
          var fxgNav = document.querySelector('.fxg-nav');
          if (fxgNav) fxgNav.focus();
          removeFocus(this);
        });
      };

      /**
       * Handles specific positioning for Internet Explorer and adds event listeners.
       */
      var handleIEPositioning = function handleIEPositioning() {
        if (navigator.userAgent.includes('MSIE ') || navigator.userAgent.includes('Trident/')) {
          var logoWrapperMouse = document.querySelector('.fxg-header__logo_wrapper .fxg-mouse');
          if (logoWrapperMouse) {
            logoWrapperMouse.style.position = 'static';
          }
          var mobileMenuBtn = document.querySelector('button#fxg-mobile-menu-btn');
          if (mobileMenuBtn) {
            mobileMenuBtn.addEventListener('mousedown', function () {
              var hmbgBox = document.querySelector('.hamburger-box');
              if (hmbgBox) hmbgBox.style.outline = 'none';
              removeFocus(this);
            });
          }
        }
      };

      /**
       * Sets the `tabindex` for the sign-in span.
       */
      var setTabIndexForSignIn = function setTabIndexForSignIn() {
        var signInSpan = document.querySelector('.fxg-user-options__sign-in span');
        if (signInSpan) {
          signInSpan.setAttribute('tabindex', '-1');
        }
        var dropdownLinks = document.querySelectorAll('.fxg-user-options a.fxg-dropdown-js');
        dropdownLinks.forEach(function (link) {
          return link.classList.add('fxg-keyboard');
        });
      };

      /**
       * Handles focus behavior for the sign-in link, adding an outline on tab key press.
       */
      var handleFocusForSignInLink = function handleFocusForSignInLink() {
        var signInLink = document.getElementById("fxg-dropdown-signIn");
        window.addEventListener('keyup', function (e) {
          if (e.keyCode === 9 && e.target.id === 'fxg-dropdown-signIn') {
            signInLink.style.outline = 'dashed 1px #ffffff';
            signInLink.style.outlineOffset = '-10px';
            signInLink.addEventListener('focusout', function () {
              return signInLink.style.outline = 'none';
            });
          }
        });
      };

      /**
       * Utility function to add event listeners to a list of elements.
       * @param {NodeList} elements - The list of elements to add event listeners to.
       * @param {string} event - The event type to listen for.
       * @param {function} handler - The handler function to execute when the event is triggered.
       * @param {Object} [options={}] - The options to pass to the `addEventListener` method.
       */
      var addEventListenerToElements = function addEventListenerToElements(elements, event, handler) {
        var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
        elements.forEach(function (element) {
          return element.addEventListener(event, handler, options);
        });
      };

      /**
       * Removes inline styles when an element loses focus.
       * @param {HTMLElement} item - The DOM element to attach the focusout event to.
       */
      var removeFocus = function removeFocus(item) {
        item.addEventListener('focusout', function () {
          item.removeAttribute('style');
        });
      };
      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} _root - component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      var init = function init(_root) {
        return new Promise(function (resolve) {
          root = _root;
          headerEle = root[0];
          backToTopStartPosition = document.querySelector('fedex-backtotop');
          backToTopEnabled = document.getElementById("btn-back-to-top");

          // header functions
          scrollCheck();
          // bind interaction events
          bindInteractions();

          // initialized (ES6 replacement for root.data('initialized', true))
          if (headerEle) {
            headerEle.dataset.initialized = "true";
          }
          resolve();
        });
      };

      /**
       * Get component element
       *
       * @public
       * @return {Object} DOM element
       */
      var getElement = function getElement() {
        return root;
      };

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        scrollCheck: scrollCheck,
        scrollFunction: scrollFunction,
        getElement: getElement
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        scrollCheck = jest.fn(scrollCheck);
        bindInteractions = jest.fn(bindInteractions);
        toggleShrinkGrowHeader = jest.fn(toggleShrinkGrowHeader);
        backToTopHandler = jest.fn(backToTopHandler);
        scrollFunction = jest.fn(scrollFunction);
        getBackToTopElement = jest.fn(getBackToTopElement);
        addEventListenerToElements = jest.fn(addEventListenerToElements);
        removeFocus = jest.fn(removeFocus);
        resizeMobileMenu = jest.fn(resizeMobileMenu);
        adjustHeightOnAlertClick = jest.fn(adjustHeightOnAlertClick);
        desktopBreakpointChange = jest.fn(desktopBreakpointChange);
        removeDropdownHeightOnDesktop = jest.fn(removeDropdownHeightOnDesktop);
        handleLogoAndCloseButtonEvents = jest.fn(handleLogoAndCloseButtonEvents);
        handleIEPositioning = jest.fn(handleIEPositioning);
        setTabIndexForSignIn = jest.fn(setTabIndexForSignIn);
        handleFocusForSignInLink = jest.fn(handleFocusForSignInLink);
        scrollIntoView = jest.fn(scrollIntoView);
        setupSignUpModule = jest.fn(setupSignUpModule);
        updateHeaderStructure = jest.fn(updateHeaderStructure);
        bindGeneralScrollAndResize = jest.fn(bindGeneralScrollAndResize);
        bindBackToTop = jest.fn(bindBackToTop);
        height = FDX.services.headerHeight.calc();
        config = {};
        backToTopStartPosition = null;
        backToTopEnabled = null;
        headerEle = null;
        getElement = jest.fn(getElement);
        instance.$private = function () {
          return {
            root: root,
            HEADER_CLASSES: HEADER_CLASSES,
            scrollCheck: scrollCheck,
            bindInteractions: bindInteractions,
            toggleShrinkGrowHeader: toggleShrinkGrowHeader,
            backToTopHandler: backToTopHandler,
            scrollFunction: scrollFunction,
            getBackToTopElement: getBackToTopElement,
            addEventListenerToElements: addEventListenerToElements,
            removeFocus: removeFocus,
            resizeMobileMenu: resizeMobileMenu,
            adjustHeightOnAlertClick: adjustHeightOnAlertClick,
            desktopBreakpointChange: desktopBreakpointChange,
            removeDropdownHeightOnDesktop: removeDropdownHeightOnDesktop,
            handleLogoAndCloseButtonEvents: handleLogoAndCloseButtonEvents,
            handleIEPositioning: handleIEPositioning,
            setTabIndexForSignIn: setTabIndexForSignIn,
            handleFocusForSignInLink: handleFocusForSignInLink,
            scrollIntoView: scrollIntoView,
            setupSignUpModule: setupSignUpModule,
            updateHeaderStructure: updateHeaderStructure,
            bindGeneralScrollAndResize: bindGeneralScrollAndResize,
            bindBackToTop: bindBackToTop,
            height: height,
            config: config,
            backToTopStartPosition: backToTopStartPosition,
            backToTopEnabled: backToTopEnabled,
            headerEle: headerEle,
            getElement: getElement
          };
        };
      }
      instances.push(instance);
      return instance;
    };

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    var createInstances = function createInstances() {
      return new Promise(function (resolve) {
        var initPromises = [];

        // find all related elements
        document.querySelectorAll(HEADER_CLASSES.selector).forEach(function (element) {
          // skip already initialized elements
          if (element.dataset.initialized) return;

          // create instance
          var instance = window.FDX.components.header.create();

          // initialize instance (pass as array to match root[0] usage)
          var initPromise = instance.init([element]);
          initPromises.push(initPromise);
        });

        // resolve after all inits
        Promise.all(initPromises).then(function () {
          return resolve();
        });
      });
    };

    // return component
    return _objectSpread(_objectSpread({
      create: create,
      instances: instances,
      createInstances: createInstances
    }, HEADER_CLASSES), {}, {
      height: height
    });
  }();
})();

/***/ }),

/***/ 5644:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 5656:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 5682:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 5741:
/***/ (function() {

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }
function _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
/**
 * GUIDED NAVIGATION
 *
 * A horizontally oriented navigation to help users find topics more easily
 */

(function ($, _) {
  window.FDX.components.guidednavigation = function () {
    /**
      * @type {Object[]} list of instances
      */
    var instances = [];

    /**
      * @type {string} root selector
      */
    var selector = '.fxg-guidednavigation';
    var SETTINGS = {
      component: 'guidednavigation',
      namespace: 'fxg'
    };
    var SELECTORS = {
      buttonBack: "js-".concat(SETTINGS.component, "-back"),
      buttonExpand: "js-".concat(SETTINGS.component, "-expand"),
      component: "js-".concat(SETTINGS.component),
      link: "js-".concat(SETTINGS.component, "-link"),
      list: "js-".concat(SETTINGS.component, "-list"),
      listItem: "js-".concat(SETTINGS.component, "-list-item"),
      item: "js-".concat(SETTINGS.component, "-item"),
      panel: "js-".concat(SETTINGS.component, "-panel"),
      panelContent: "js-".concat(SETTINGS.component, "-panel-content")
    };
    var CLASSES = {
      isActive: 'is-active',
      isCollapsed: 'is-collapsed',
      isHidden: 'is-hidden',
      itemIsActive: 'fxg-guidednavigation__item-is-active'
    };
    var TAGS = {
      prefix: 'gnav'
    };

    /**
      * Create component instance
      *
      * @public
      * @return {Object} instance
      */
    function create() {
      /**
        * @type {Object} configuration
        */
      var config = {};

      /**
        * @type {Object} jQuery DOM root element
        */
      var $root = null;

      /**
        * Set configuration
        *
        * @public
        * @param {Object} _config - key/value pair
        * @return {Object} instance
        */
      function setConfig(_config) {
        var defaultConfig = {};
        config = $.extend({}, defaultConfig, _config);
      }
      ;

      /**
        * Render HTML
        *
        * @private
        * @return {Promise<string>} - A promise that resolves with rendered HTML
        */
      function render() {}

      /**
        * Initialize component instance
        *
        * @public
        * @param {Object} [_$root] - component root element (optional)
        * @return {Promise} - A promise that resolves when instance is initiated
        */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;

        //////////////////////////////
        ////// START GNAV LOGIC //////
        //////////////////////////////

        var element = $root[0];
        var activeLevel = 0;
        var panel1Activated = false;
        var panel2Activated = false;
        var panels = element.querySelectorAll(".".concat(SELECTORS.panel));
        var siblingButtonsPanel1 = panels[0].querySelectorAll(".".concat(SELECTORS.item));
        var siblingButtonsPanel2 = panels[1].querySelectorAll(".".concat(SELECTORS.item));
        var firstPanel = getPanel(activeLevel);
        addPanelListeners(firstPanel);
        addGeneralListeners();

        /**
         * Get Panel
         *
         * @param {Integer} level - Panel level
         */
        function getPanel(level) {
          var levelString = level.toString();
          return panels[levelString];
        }

        /**
         * Get Panel Content
         *
         * @param {String} id - Content id
         * @param {HTMLElement} panel - DOM element (panel)
         */
        function getPanelContent(id, panel) {
          return panel.querySelector("[data-parent=\"".concat(id, "\"]"));
        }

        /**
         * Reset Panel Content
         *
         * @param {HTMLElement} panel - DOM element (panel)
         */
        function resetPanelContent(panel) {
          var contentPanels = panel.querySelectorAll('[data-parent]');
          contentPanels.forEach(function (item) {
            item.classList.add(CLASSES.isHidden);
          });
        }

        /**
         * Add General Listeners
         *
         */
        function addGeneralListeners() {
          element.addEventListener('keydown', function (event) {
            return handleKeyEscape(event);
          });
        }

        /**
         * Handle Escape Key
         * Collapse the active panel on Escape key if it's not the main panel
         *
         * @param {Object} event - Key down event (on component level)
         */
        function handleKeyEscape(event) {
          if (event.keyCode === 27 && activeLevel > 0) {
            collapsePanel(activeLevel);
          }
        }

        /**
         * Add Panel Listeners
         *
         * @param {HTMLElement} panel - DOM element (panel)
         */
        function addPanelListeners(panel) {
          var backButton = _toConsumableArray(panel.querySelectorAll(".".concat(SELECTORS.buttonBack)));
          var buttonsExpand = _toConsumableArray(panel.querySelectorAll(".".concat(SELECTORS.buttonExpand)));
          var links = _toConsumableArray(panel.querySelectorAll(".".concat(SELECTORS.link)));
          backButton.map(function (button) {
            return button.addEventListener('click', function () {
              return handleBackClick(button);
            });
          });
          buttonsExpand.map(function (button) {
            return button.addEventListener('click', function () {
              return handleButtonClick(button);
            });
          });
          buttonsExpand.map(function (button) {
            return button.addEventListener('keyup', function (event) {
              return handleKeys(event, button);
            });
          });
          links.map(function (link) {
            return link.addEventListener('click', function (event) {
              return handleLinkClick(event, link);
            });
          });
        }

        /**
         * Handle Keys
         * Handling the navigation with buttons
         *
         * @param {Object} event - Key down event (on button level)
         * @param {HTMLElement} button - Clicked button element
         */
        function handleKeys(event, button) {
          if (event.keyCode === 13) {
            var dataId = button.dataset.id;
            var focusItem = panels[activeLevel].querySelector("[data-parent=\"".concat(dataId, "\"] > .fxg-guidednavigation__list > .fxg-guidednavigation__list-item > :first-child"));
            if (focusItem != null) focusItem.focus();
          }
        }

        /**
         * Handle Button Click
         *
         * @param {HTMLElement} button - Clicked button element
         */
        function handleButtonClick(button) {
          var activePanel = button.closest(".".concat(SELECTORS.panel));

          // Wipe highlighted active states in panel 1 (in case of a click in panel 1)
          if (activePanel === panels[0]) {
            siblingButtonsPanel1.forEach(function (item) {
              item.classList.remove(CLASSES.itemIsActive);
            });
          }
          // Wipe highlighted active state in panel 2 (in case of a click in panel 1 + panel 2)
          siblingButtonsPanel2.forEach(function (item) {
            item.classList.remove(CLASSES.itemIsActive);
          });
          button.classList.add(CLASSES.itemIsActive);
          var targetPanel = parseInt(button.dataset.targetPanel);
          var id = button.dataset.id;
          activeLevel = targetPanel ? parseInt(targetPanel) : 0;
          renderPanelContent(id);

          // Analytics
          var payloadId = id ? "".concat(id) : 'no-id';
          var payloadLabel = button.dataset.analyticsJs ? ":".concat(button.dataset.analyticsJs) : ':no-label';
          var payload = payloadId + payloadLabel;
          fireGenericInteraction(payload);
        }

        /**
         * Handle Link Click
         *
         * @param {Object} event - event from link click
         * @param {HTMLElement} link - clicked link element
         */
        function handleLinkClick(event, link) {
          // Analytics
          var id = link.dataset.id ? ":".concat(link.dataset.id) : ':no-id';
          var viewAll = link.dataset.viewAll === 'true' ? ':all' : '';
          var label = link.dataset.analyticsJs ? ":".concat(link.dataset.analyticsJs) : ':no-label';
          var identifier = TAGS.prefix + id + viewAll + label;
          var url = link.href ? link.href : 'none';
          var payload = {
            identifier: identifier,
            url: url
          };
          fireLinkInteraction(payload);
        }

        /**
         * Handle Back Click
         *
         * @param {HTMLElement} backButton - clicked back button element
         */
        function handleBackClick(backButton) {
          collapsePanel(activeLevel);

          // Analytics
          var label = backButton.dataset.analyticsJs ? ":".concat(backButton.dataset.analyticsJs) : ':no-label';
          var payload = 'no-id' + label;
          fireGenericInteraction(payload);
        }

        /**
         * Render Panel Content
         *
         * @param {String} id - Content id
         */
        function renderPanelContent(id) {
          var panel = getPanel(activeLevel);
          var panelContent = getPanelContent(id, panel);

          // Collapse if the last panel is opened when the main panel is clicked
          if (activeLevel === 1 && panels[2].classList.contains(CLASSES.isActive)) {
            panels[2].classList.remove(CLASSES.isActive);
            panels[2].classList.add(CLASSES.isCollapsed);
          }
          panels[activeLevel - 1].classList.remove(CLASSES.isActive);
          resetPanelContent(panel);
          panel.classList.remove(CLASSES.isCollapsed);
          panel.classList.add(CLASSES.isActive);
          panelContent.classList.remove(CLASSES.isHidden);

          // Add eventlisteners (only once)
          if (activeLevel === 1 && !panel1Activated) {
            panel1Activated = true;
            addPanelListeners(panel);
          }
          if (activeLevel === 2 && !panel2Activated) {
            panel2Activated = true;
            addPanelListeners(panel);
          }
        }

        /**
         * Collapse Panel
         *
         * @param {string} level - Panel level
         */
        function collapsePanel(level) {
          var activePanel = getPanel(level);
          var previousLevel = activeLevel - 1;
          var previousPanel = getPanel(previousLevel);
          activePanel.classList.add(CLASSES.isCollapsed);
          activePanel.classList.remove(CLASSES.isActive);
          previousPanel.classList.add(CLASSES.isActive);
          activeLevel = previousLevel;

          // Set all content items of the panels to 'is-hidden' and focus on the last active item of the previous panel
          var panelContentItems = activePanel.querySelectorAll(".".concat(SELECTORS.panelContent));
          panelContentItems.forEach(function (item) {
            return item.classList.add("".concat(CLASSES.isHidden));
          });
          previousPanel.querySelector(".".concat(CLASSES.itemIsActive)).focus();
        }

        /**
         * Fire Generic Interaction
         * Fires the GDL Generic Interaction event
         *
         * Docs: https://gdl-master.devapp.paas.fedex.com/testbed.generic-interaction.html
         *
         * @param {String} payload - The string to be sent with this GDL event
         */
        function fireGenericInteraction(payload) {
          if (_typeof(window.FDX.GDL) !== 'object') return;
          window.FDX.GDL.push(['event:publish', ['interaction', 'click', {
            name: TAGS.prefix,
            value: payload
          }]]);
        }

        /**
         * Fire Link Interaction
         * Fires the following GDL link tracking event.
         *
         * Docs: https://gdl-master.devapp.paas.fedex.com/testbed.link.html
         *
         * @param {Object} payload - The data to be sent to GDL
         */
        function fireLinkInteraction(payload) {
          if (_typeof(window.FDX.GDL) !== 'object') return;
          window.FDX.GDL.push(['event:publish', ['link', 'click/auto', {
            url: payload.url,
            linkIdentifier: "link|".concat(payload.identifier)
          }]]);
        }

        ////////////////////////////
        ////// END GNAV LOGIC //////
        ////////////////////////////

        // Initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement
      };
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();
      var initPromises = [];

      // find all related elements
      $(selector).each(function () {
        // skip already initialized elements
        var $element = $(this);
        if ($element.data('initialized')) return;

        // create instance
        var instance = window.FDX.components.guidednavigation.create();

        // Set configuration
        var $config = $('[data-config="js-guidednavigation-config"]', $element);
        if ($config.length) {
          instance.setConfig(JSON.parse($config.html().trim()));
        }

        // initialize instance
        var initPromise = instance.init($element);
        initPromises.push(initPromise);
      });

      // resolve after all inits
      $.when.apply($, initPromises).then(function () {
        promise.resolve();
      });
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _);

/***/ }),

/***/ 5748:
/***/ (function() {

/**
 * Analytics Service
 *
 * This service supports new GDL analytics API and in case of no GDL API available
 * then it fallbacks to Adobe analytics service.
 */

(function ($, window, $fdx, $services) {
  window.FDX.services.analytics = function () {
    /**
     * @type {Object} queue to store GDL and DTM events
     */
    var queue = {
      gdl: [],
      dtm: []
    };

    /**
     * @type {Object} promises to wait for GDL and DTM to be available
     */
    var waitPromises = {
      gdl: null,
      dtm: null
    };

    /**
     * Init service
     *
     * @public
     */
    function init() {}

    /**
     * Adobe analytics (FDX.DTM)
     *
     * @param {object} payload - analytics data required for adobe analytics.
     * @private
     */
    function pushDTM(payload) {
      // Adobe analytics payload format
      var dtmPayload = {
        type: '',
        // button or link
        event: '',
        // Optional, which is defined by Data analyst with a specific eventname 'event73'.
        analyticsText: '',
        // analytics data
        href: '',
        // if type is 'link' then provide the link path
        target: 'samepage' // For button, default to 'samepage' and For link, get from target attr
      };
      dtmPayload = $.extend(dtmPayload, payload);
      if (!dtmPayload.analyticsText) {
        return false;
      }
      if (dtmPayload.type === 'button') {
        $fdx.DTM.pushButtonInfo(dtmPayload.analyticsText, dtmPayload.target);
      } else if (dtmPayload.type === 'link' && typeof fdx_setLinkView === 'function') {
        // for link 'internal' - within fedex.com pages
        fdx_setLinkView(dtmPayload.analyticsText);
      } else if (dtmPayload.type === 'link-external' && typeof fdx_logLinkView === 'function') {
        // for link 'external'- going away from fedex.com
        fdx_logLinkView(dtmPayload.analyticsText, dtmPayload.event);
      } else if (dtmPayload.type === 'simulate-click') {
        // 'simulateClick' is for for non existing dom element events
        // It simulates 'button' click for events like onLoad or impressions etc
        $('<button style="display:none"></button>').on('click', function () {
          $fdx.DTM.pushButtonInfo(dtmPayload.analyticsText, dtmPayload.target);
        }).appendTo(document.body).trigger('click').remove();
      }
      return true;
    }

    /**
     * GDL analytics
     *
     * @param {object} payload - analytics data required for GDL analytics.
     * @private
     */
    function pushGDL(payload) {
      // GDL analytics payload format
      var gdlPayload = {
        type: 'event:publish',
        // GDL event type default value
        category: '',
        // Component name
        eventName: '',
        // Event name
        params: payload.params || {} // Use the params from payload if they exist or {}
      };
      gdlPayload = $.extend(gdlPayload, payload);

      // GDL API expects category/component name with valid event and payload
      if (!gdlPayload.category || !gdlPayload.eventName) {
        return false;
      }

      // GDL analytics Service format
      // window.FDX.GDL.push([ 'event:publish', [ Category, EventName, payload ] ]);
      // Trigger GDL analytics
      $fdx.GDL.push([gdlPayload.type, [gdlPayload.category, gdlPayload.eventName, gdlPayload.params]]);
      return true;
    }

    /**
     * Process the analytics queue.
     *
     * @param {string} type - 'gdl' or 'dtm', specifies which analytics queue to process.
     * @private
     */
    function processQueue(type) {
      var pushFunc = type === 'gdl' ? pushGDL : pushDTM;
      while (queue[type].length) {
        var payload = queue[type].shift();
        pushFunc(payload);
      }
    }

    /**
     * Push GDL analytics, if GDL not available push data to Adobe analytics
     *
     * @param {Object} payload - data required to fire GDL or DTM events.
     * @public
     */
    function push(payload) {
      if (!payload) {
        return false;
      }

      // GDL analytics
      if (payload.gdl) {
        // push payload to queue
        queue.gdl.push(payload.gdl);

        // if GDL is available, process the queue
        if ($fdx.GDL) {
          processQueue('gdl');
        } else if (!waitPromises.gdl) {
          // if not available, wait for GDL to be available
          waitPromises.gdl = $services.utils.waitFor(function () {
            return !!$fdx.GDL;
          }, 5000);
          waitPromises.gdl.then(function () {
            processQueue('gdl');
          });
        }
      }

      // DTM analytics
      if (payload.dtm) {
        // push payload to queue
        queue.dtm.push(payload.dtm);

        // if DTM is available, process the queue
        if ($fdx.DTM) {
          processQueue('dtm');
        } else if (!waitPromises.dtm) {
          // if not available, wait for DTM to be available
          waitPromises.dtm = $services.utils.waitFor(function () {
            return !!$fdx.DTM;
          }, 5000);
          waitPromises.dtm.then(function () {
            processQueue('dtm');
          });
        }
      }
    }

    // return service
    return {
      init: init,
      push: push
    };
  }();
})(window.jQuery, window, FDX, FDX.services);

/***/ }),

/***/ 5885:
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
/**
 * CHAT
 *
 * This component enables customers to start a live chat with our customper support agents if they
 * are available. If they are not available a message will be shown. This enables us to track demand
 * in both cases of live agents being available or not.
 */

(function ($) {
  window.FDX.components.chat = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
      * @type {string} root selector
      */
    var selector = '.fxg-chat';

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * @type {Object} DATALAYER page, to extract locale information
       */
      var pageInfo = FDX.DATALAYER.page.pageInfo;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {};
        config = $.extend({}, defaultConfig, _config);
      }

      /**
       * Render HTML
       *
       * @private
       * @return {Promise<string>} - A promise that resolves with rendered HTML
       */
      function render() {}

      /**
       * Promises Polyfill
       * For IE11, Remove when polyfills are part of the build setup
       */
      !function (e, t) {
        "object" == ( false ? 0 : _typeof(exports)) && "undefined" != "object" ? t() :  true ? !(__WEBPACK_AMD_DEFINE_FACTORY__ = (t),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :
		__WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : 0;
      }(0, function () {
        "use strict";

        function e(e) {
          var t = this.constructor;
          return this.then(function (n) {
            return t.resolve(e()).then(function () {
              return n;
            });
          }, function (n) {
            return t.resolve(e()).then(function () {
              return t.reject(n);
            });
          });
        }
        function t(e) {
          return new this(function (t, n) {
            function o(e, n) {
              if (n && ("object" == _typeof(n) || "function" == typeof n)) {
                var f = n.then;
                if ("function" == typeof f) return void f.call(n, function (t) {
                  o(e, t);
                }, function (n) {
                  r[e] = {
                    status: "rejected",
                    reason: n
                  }, 0 == --i && t(r);
                });
              }
              r[e] = {
                status: "fulfilled",
                value: n
              }, 0 == --i && t(r);
            }
            if (!e || "undefined" == typeof e.length) return n(new TypeError(_typeof(e) + " " + e + " is not iterable(cannot read property Symbol(Symbol.iterator))"));
            var r = Array.prototype.slice.call(e);
            if (0 === r.length) return t([]);
            for (var i = r.length, f = 0; r.length > f; f++) o(f, r[f]);
          });
        }
        function n(e) {
          return !(!e || "undefined" == typeof e.length);
        }
        function o() {}
        function r(e) {
          if (!(this instanceof r)) throw new TypeError("Promises must be constructed via new");
          if ("function" != typeof e) throw new TypeError("not a function");
          this._state = 0, this._handled = !1, this._value = undefined, this._deferreds = [], l(e, this);
        }
        function i(e, t) {
          for (; 3 === e._state;) e = e._value;
          0 !== e._state ? (e._handled = !0, r._immediateFn(function () {
            var n = 1 === e._state ? t.onFulfilled : t.onRejected;
            if (null !== n) {
              var o;
              try {
                o = n(e._value);
              } catch (r) {
                return void u(t.promise, r);
              }
              f(t.promise, o);
            } else (1 === e._state ? f : u)(t.promise, e._value);
          })) : e._deferreds.push(t);
        }
        function f(e, t) {
          try {
            if (t === e) throw new TypeError("A promise cannot be resolved with itself.");
            if (t && ("object" == _typeof(t) || "function" == typeof t)) {
              var n = t.then;
              if (t instanceof r) return e._state = 3, e._value = t, void c(e);
              if ("function" == typeof n) return void l(function (e, t) {
                return function () {
                  e.apply(t, arguments);
                };
              }(n, t), e);
            }
            e._state = 1, e._value = t, c(e);
          } catch (o) {
            u(e, o);
          }
        }
        function u(e, t) {
          e._state = 2, e._value = t, c(e);
        }
        function c(e) {
          2 === e._state && 0 === e._deferreds.length && r._immediateFn(function () {
            e._handled || r._unhandledRejectionFn(e._value);
          });
          for (var t = 0, n = e._deferreds.length; n > t; t++) i(e, e._deferreds[t]);
          e._deferreds = null;
        }
        function l(e, t) {
          var n = !1;
          try {
            e(function (e) {
              n || (n = !0, f(t, e));
            }, function (e) {
              n || (n = !0, u(t, e));
            });
          } catch (o) {
            if (n) return;
            n = !0, u(t, o);
          }
        }
        var a = setTimeout,
          s = "undefined" != typeof setImmediate ? setImmediate : null;
        r.prototype["catch"] = function (e) {
          return this.then(null, e);
        }, r.prototype.then = function (e, t) {
          var n = new this.constructor(o);
          return i(this, new function (e, t, n) {
            this.onFulfilled = "function" == typeof e ? e : null, this.onRejected = "function" == typeof t ? t : null, this.promise = n;
          }(e, t, n)), n;
        }, r.prototype["finally"] = e, r.all = function (e) {
          return new r(function (t, o) {
            function r(e, n) {
              try {
                if (n && ("object" == _typeof(n) || "function" == typeof n)) {
                  var u = n.then;
                  if ("function" == typeof u) return void u.call(n, function (t) {
                    r(e, t);
                  }, o);
                }
                i[e] = n, 0 == --f && t(i);
              } catch (c) {
                o(c);
              }
            }
            if (!n(e)) return o(new TypeError("Promise.all accepts an array"));
            var i = Array.prototype.slice.call(e);
            if (0 === i.length) return t([]);
            for (var f = i.length, u = 0; i.length > u; u++) r(u, i[u]);
          });
        }, r.allSettled = t, r.resolve = function (e) {
          return e && "object" == _typeof(e) && e.constructor === r ? e : new r(function (t) {
            t(e);
          });
        }, r.reject = function (e) {
          return new r(function (t, n) {
            n(e);
          });
        }, r.race = function (e) {
          return new r(function (t, o) {
            if (!n(e)) return o(new TypeError("Promise.race accepts an array"));
            for (var i = 0, f = e.length; f > i; i++) r.resolve(e[i]).then(t, o);
          });
        }, r._immediateFn = "function" == typeof s && function (e) {
          s(e);
        } || function (e) {
          a(e, 0);
        }, r._unhandledRejectionFn = function (e) {
          void 0 !== console && console && console.warn("Possible Unhandled Promise Rejection:", e);
        };
        var d = function () {
          if ("undefined" != typeof self) return self;
          if ("undefined" != typeof window) return window;
          if ("undefined" != typeof __webpack_require__.g) return __webpack_require__.g;
          throw Error("unable to locate global object");
        }();
        "function" != typeof d.Promise ? d.Promise = r : (d.Promise.prototype["finally"] || (d.Promise.prototype["finally"] = e), d.Promise.allSettled || (d.Promise.allSettled = t));
      });

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] - component root element (optional)
       * @return {Promise} - A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;
        var $component = $root[0];
        if (!$component.classList.contains('fxg-chat')) {
          $component = $root[0].querySelector('.fxg-chat');
        }
        var modalTriggered = false;
        var noAgentModalMessage = $component.dataset.noagentmodalmessage;
        // use id to also handle special chars
        var offlineButton = $component.querySelector("[id='liveagent_button_offline_".concat(config.buttonId, "']"));
        var offlineButtonLink = offlineButton.querySelector('.js-chat-link-offline');
        // use id to also handle special chars
        var onlineButton = $component.querySelector("[id='liveagent_button_online_".concat(config.buttonId, "']"));
        var onlineButtonLink = onlineButton.querySelector('.js-chat-link-online');

        // Only apply eventListener if the modal experience is enabled
        if (config.enableNoAgentModal) {
          var Modal = window.FDX.components.modal.create;

          // Listen to modal button clicks
          offlineButtonLink.addEventListener('click', function (event) {
            event.preventDefault();
            if (!modalTriggered) {
              modalTriggered = true;
              Modal[config.buttonId] = Modal();
              Modal[config.buttonId].set(noAgentModalMessage);
            }
            Modal[config.buttonId].open();
          });
        }

        // Listen to link clicks from the start
        // Prevents incidentally added urls  to be clicked/opened
        // TODO: Transform this component to use buttons instead of a link component
        onlineButtonLink.addEventListener('click', function (event) {
          event.preventDefault();
        });

        /**
         * Load LiveAgent Script
         *
         * @param  {string} url - script deployment url
         * @param  {boolean} async
         * @param  {string} type - script type
         */
        var loadScript = function loadScript(url) {
          var async = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
          var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'text/javascript';
          return new Promise(function (resolve, reject) {
            try {
              var scriptElement = document.createElement('script');
              scriptElement.src = url;
              scriptElement.async = async;
              scriptElement.type = type;
              scriptElement.addEventListener('load', function () {
                resolve({
                  status: true
                });
              });
              scriptElement.addEventListener('error', function () {
                reject({
                  status: false,
                  message: "Failed to load the script ".concat(url)
                });
              });
              $component.appendChild(scriptElement);
            } catch (error) {
              reject(error);
            }
          });
        };
        if (config.enableNewSalesforceIntegration) {
          //register custom event handlers first, to catch hours-events.
          handleSalesforceEvents();
          loadScript(config.javascriptURL).then(function () {
            initLiveAgentUpgrade();
          })["catch"](function (error) {
            console.error(error);
          });
        } else {
          loadScript(config.deploymentUrl).then(function () {
            initLiveAgent();
          })["catch"](function (error) {
            console.error(error);
          });
        }

        /**
         * Initiate Salesforce LiveAgent (Chat implementation)
         *
         * API Docs: https://developer.salesforce.com/docs/atlas.en-us.live_agent_dev.meta/live_agent_dev/live_agent_deployment_api_code_sample.htm
         */
        function initLiveAgent() {
          if (!window.liveagent) {
            return;
          }
          liveagent.init(config.instanceUrl, config.deploymentId, config.orgId);
          if (!window._laq) {
            window._laq = [];
          }

          // Handle showing online / offline button
          window._laq.push(function () {
            liveagent.showWhenOnline("".concat(config.buttonId), onlineButton);
            liveagent.showWhenOffline("".concat(config.buttonId), offlineButton);
          });
          onlineButtonLink.addEventListener('click', function (event) {
            event.preventDefault();
            liveagent.startChat("".concat(config.buttonId));
          });
        }

        /**
         * Initiate Upgraded Salesforce LiveAgent (Embedded Services)
         *
         * API Docs: https://developer.salesforce.com/docs/service/messaging-web/guide/introduction.html
         */
        var initLiveAgentUpgrade = function initLiveAgentUpgrade() {
          if (!embeddedservice_bootstrap) return;
          try {
            var _config$language;
            // add settings after script is loaded
            Object.assign(embeddedservice_bootstrap.settings, {
              displayHelpButton: config.displayHelpButton,
              language: ((_config$language = config.language) === null || _config$language === void 0 ? void 0 : _config$language.trim()) || "".concat(pageInfo.language, "_").concat(pageInfo.country.toUpperCase()),
              autoOpenPostChat: true
            });
            embeddedservice_bootstrap.init(config.orgId, config.buttonId, config.esdEndpoint, {
              scrt2URL: config.scrt2URL,
              javascriptURL: config.javascriptURL
            });
          } catch (error) {
            showOffline();
            console.error('Error during embeddedservice_bootstrap.init: ', error);
            return;
          }

          /**
           * set default state to online > as hoursstarted event in handleSalesforceEvents is currently not working
           * hoursEnded will set to offline if outside business hours
           * remove if hoursStarted is fixed by Salesforce
           * DOC's: https://developer.salesforce.com/docs/service/messaging-web/guide/event-listeners.html
           */

          showOnline();

          // Trigger chat window to open
          // API Docs: https://developer.salesforce.com/docs/service/messaging-web/guide/launch-chat.html
          onlineButtonLink.addEventListener('click', function (event) {
            event.preventDefault();
            embeddedservice_bootstrap.utilAPI.launchChat();
          });
        };

        /**
         * Handle Salesforce events for when an agent is online/offline (Embedded Services)
         * API Docs: https://developer.salesforce.com/docs/service/messaging-web/guide/event-listeners.html
         */
        function handleSalesforceEvents() {
          window.addEventListener("onEmbeddedMessagingBusinessHoursEnded", function () {
            showOffline();
          });

          //currently not working, not triggered by Salesforce
          window.addEventListener("onEmbeddedMessagingBusinessHoursStarted", function () {
            //keep console log to monitor potential fixes. Clean up console.log if this is fixed by Salesforce exp 11-10-25
            console.log("onEmbeddedMessagingBusinessHoursStarted");
            showOnline();
          });
        }
        ;

        /**
         * Show online chat button (Embedded Services)
         */
        function showOnline() {
          onlineButton.style.display = 'block';
          offlineButton.style.display = 'none';
        }

        /**
         * Show offline chat button (Embedded Services)
         */
        function showOffline() {
          onlineButton.style.display = 'none';
          offlineButton.style.display = 'block';
        }

        // Mock functions for Jest
        if (typeof jest !== 'undefined') {
          showOnline = jest.fn(showOnline);
          showOffline = jest.fn(showOffline);
          instance.$private = function () {
            return {
              showOnline: showOnline,
              showOffline: showOffline
            };
          };
        }

        // Initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement
      };
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();
      var initPromises = [];

      // find all related elements
      $(selector).each(function () {
        // skip already initialized elements
        var $element = $(this);
        if ($element.data('initialized')) return;

        // create instance
        var instance = window.FDX.components.chat.create();

        // Set configuration
        var $config = $('[data-config="js-chat-config"]', $element);
        if ($config.length) {
          instance.setConfig(JSON.parse($config.html().trim()));
        }

        // initialize instance
        var initPromise = instance.init($element);
        initPromises.push(initPromise);
      });

      // resolve after all inits
      $.when.apply($, initPromises).then(function () {
        promise.resolve();
      });
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery);

/***/ }),

/***/ 5887:
/***/ (function() {

/**
 * browserSupport
 */

(function ($, _) {
  window.FDX.components.browserSupport = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '.browser-support';

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * @type {boolean} page state
       */
      var pageMode = "";

      /**
       * @type {boolean} editing experience fragment
       */
      var editingXF = "";

      /**
       * @type {String} editing experience fragment
       */
      var modelContentJSON = "";

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {};
        config = $.extend({}, defaultConfig, _config);
      }
      ;

      /**
       * Render HTML
       *
       * @private
       * @return {Promise<string>} A promise that resolves with rendered HTML
       */
      function render() {}

      /**
       * open BrowserSupport Modal
       *
       * @private
       */
      function openBrowserSupportModal() {
        try {
          if (pageMode === "false") {
            $("#browserModal").modal();
            var $myDialog = $('#browserDialog');
            if ($myDialog[0]) {
              if (typeof $myDialog[0].showModal === "function") {
                $myDialog[0].showModal();
              }
            }
          } else {
            if (editingXF === "true") {
              $("#browserModalEdit").show();
            }
          }
        } catch (e) {
          openModal();
        }
      }

      /**
       * checkAndDisplayModal
       *
       * @private
       * @param {Object} fdx_browserType - Type of browser chrome/edge
       * @param {Object} fdx_browserVMajor - Browser version number
       * @param {Object} osTemp - Type of operating system windows/mac
       */
      function checkAndDisplayModal(fdx_browserType, fdx_browserVMajor, osTemp) {
        var osObj = '';
        var JsonData = modelContentJSON;
        if (osTemp.indexOf("Win") != -1) {
          osObj = JsonData.data.windows;
        } else if (osTemp.indexOf("Mac") != -1) {
          osObj = JsonData.data.ios;
        } else if (osTemp.indexOf("Android") != -1) {
          osObj = JsonData.data.android;
        }
        var key;
        for (key in osObj) {
          if (osObj[key].browserType.toLowerCase().indexOf(fdx_browserType) != -1) {
            if (fdx_browserVMajor < osObj[key].browserVersion) {
              openBrowserSupportModal();
            }
          }
        }
      }

      /**
       * open Modal
       *
       * @private
       */
      function openModal() {
        document.getElementById('browserModal').style.display = 'block';
        document.getElementById('browserModal').style.opacity = '1';
        $('#browserModal').css('background-color', 'rgba(0,0,0,0.5');
        var buttonElements = $('.modal-content button');
        var newEventListner = true;
        if (document.getElementById('browserModal').addEventListener === undefined) {
          newEventListner = false;
        } else {
          newEventListner = true;
        }
        if (newEventListner) {
          $.each(buttonElements, function (element, value) {
            value.addEventListener('click', function () {
              document.getElementById('browserModal').style.opacity = '0';
              document.getElementById('browserModal').style.display = 'none';
            });
          });
        } else {
          $.each(buttonElements, function (element, value) {
            value.attachEvent('onclick', function () {
              document.getElementById('browserModal').style.opacity = '0';
              document.getElementById('browserModal').style.display = 'none';
            });
          });
        }
      }

      /**
      * open Modal
      *
      * @private
      */
      function getCookie(cname) {
        var name = cname + "=";
        var decodedCookie = decodeURIComponent(document.cookie);
        var ca = decodedCookie.split(';');
        for (var i = 0; i < ca.length; i++) {
          var c = ca[i];
          while (c.charAt(0) == ' ') {
            c = c.substring(1);
          }
          if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
          }
        }
        return "";
      }

      /**
       * Bind interactions events
       *
       * @private
       */
      function bindInteractions() {
        modelContentJSON = config.browserVersions;
        pageMode = config.pageMode;
        editingXF = config.editingXF;
        var rememer_modal = getCookie("remember");
        if (rememer_modal != 'true') {
          var isNonSupportedBrowser = function isNonSupportedBrowser(fdx_browserType) {
            if (fdx_browserType.indexOf('trident') != -1 || fdx_browserType.indexOf('msie') != -1) {
              openBrowserSupportModal();
            }
          };
          $('.close-bs').on('click', function () {
            var $browserDialog = $('#browserDialog');
            if (typeof $browserDialog[0].close === "function") {
              $browserDialog[0].close();
            }
          });
          if (!modelContentJSON) return;
          var userAgent = navigator.userAgent;
          // var isIE = userAgent.indexOf('MSIE') !== -1 || userAgent.indexOf('Trident') !== -1;
          // var isEdge = userAgent.indexOf('Edg') !== -1;

          // DO not show modal for Facebook and Instagram in-app browsers
          var isFacebookIAB = userAgent.indexOf('FBAN') !== -1 || userAgent.indexOf('FBAV') !== -1;
          var isInstagramIAB = userAgent.indexOf('Instagram') !== -1;
          if (isFacebookIAB || isInstagramIAB) return;
          var uaMatch = userAgent.match(/(opera|chrome|safari|firefox|Edg|msie|trident)\s?\/*(\d+)/i) || [];
          var mobilePatt = /mobile/i;
          var isMobile = mobilePatt.test(userAgent);
          var returnType = false;
          uaMatch = uaMatch[2] ? [uaMatch[1], uaMatch[2]] : [navigator.appName, navigator.appVersion, '-?'];
          var tem;
          if ((tem = userAgent.match(/version\/(\d+)/i)) != null) {
            uaMatch.splice(1, 1, tem[1]);
          }
          var osTemp = navigator.appVersion;
          var browserType = uaMatch.join(' ');
          var fdx_browserType = browserType.toString().split(" ")[0].toLowerCase();
          var fdx_browserVMajor = parseInt(browserType.toString().split(" ")[1]) || 0;
          if (userAgent.match(/\bEdg\/(\d+)/) != null) {
            fdx_browserType = "edge";
          }
          isNonSupportedBrowser(fdx_browserType);
          checkAndDisplayModal(fdx_browserType, fdx_browserVMajor, osTemp);
        }
        if (editingXF === "true") {
          openBrowserSupportModal();
        }
        var _selector = document.querySelector('input[name=checkbox-maintenance]');
        if (_selector) {
          _selector.addEventListener('change', function (event) {
            if (_selector.checked) {
              document.cookie = 'remember=' + _selector.checked + '; path=/';
            } else {
              document.cookie = 'remember=' + _selector.checked + '; path=/';
            }
          });
        }
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] compnent root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;

        // bind interaction events
        bindInteractions();

        // initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement,
        openBrowserSupportModal: openBrowserSupportModal,
        checkAndDisplayModal: checkAndDisplayModal,
        openModal: openModal,
        getCookie: getCookie
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        bindInteractions = jest.fn(bindInteractions);
        instance.$private = function () {
          return {
            bindInteractions: bindInteractions
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();
      var initPromises = [];

      // find all related elements
      $(selector).each(function () {
        // skip already initialized elements
        var $element = $(this);
        if ($element.data('initialized')) return;

        // create instance
        var instance = window.FDX.components.browserSupport.create();

        // set configuration
        var $config = $('[data-config="js-browsersupport-config"]', $element);
        if ($config.length) {
          instance.setConfig(JSON.parse($config.html().trim()));
        }
        // initialize instance
        var initPromise = instance.init($element);
        initPromises.push(initPromise);
      });

      // resolve after all inits
      $.when.apply($, initPromises).then(function () {
        promise.resolve();
      });
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _);

/***/ }),

/***/ 6026:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 6043:
/***/ (function() {

/**
 * calculate Header Height
 *
 * This service is an migrated method from the header height component. It's main
 * purpose it to calculate the FDX.component.header.height value.
 */

(function (window, FDX) {
  window.FDX.services.headerHeight = function () {
    /**
     * @name height
     * @type {number} the current pixel height of header
     */

    var height = 0;

    /**
     * @name selector
     * @type {string} DOM header element
     */

    var headerEl = document.querySelector('.fxg-header');
    /**
     * @name mainContentselector
     * @type {string} DOM parent content-conainer element
     */

    var mainContentEl = document.querySelector('.fxg-main-content');

    /**
     * @name events
     * @type {Object} import to sync header events name lookup
     */

    var events = {
      heightChanged: 'heightChanged'
    };

    /**
     * @name eventTarget
     * @type {object} global object to store custom events
     */

    var eventTarget = new EventTarget();

    /**
     * Init service
     *
     * @public
     */

    function init() {}

    /**
     * @name get setContentWrapperTopMargin
     * @type {function} adding top margin to content container based on header height
     *
     * @private
     */

    function setContentWrapperTopMargin() {
      var _FDX$components;
      // no need to do anything if header is not sticky or no main content
      var isSticky = headerEl.classList.contains((_FDX$components = FDX.components) === null || _FDX$components === void 0 || (_FDX$components = _FDX$components.header) === null || _FDX$components === void 0 ? void 0 : _FDX$components.stickyClass);
      if (!isSticky && !mainContentEl) return;

      // add margin top to the main wrapper
      if (mainContentEl) {
        mainContentEl.style.cssText = 'margin-top:' + FDX.services.headerHeight.height + 'px !important';
      }
    }

    /**
     * @name get HeaderHeight
     * @type {function} calculating, setting new height value and triggering height change.
     *
     * @public
     */

    function calculateHeight() {
      if (!headerEl) return;
      var newHeight = headerEl.getBoundingClientRect().height;

      // if the height is not changed, do nothing
      if (newHeight === height) return;
      this.height = height = newHeight;

      // covering for legacy header.height calls 
      // aaf.js, accordion.js, form.js, fuelsurcharge.js, hash.js
      FDX.components.header.height = height;

      // on header height change reset the content wrapper top margin
      setContentWrapperTopMargin();

      // trigger height changed event
      eventTarget.dispatchEvent(new CustomEvent(events.heightChanged, {
        detail: newHeight
      }));
      return height;
    }
    return {
      init: init,
      calc: calculateHeight,
      height: height,
      events: events,
      eventTarget: eventTarget
    };
  }();
})(window, FDX);

/***/ }),

/***/ 6095:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 6131:
/***/ (function() {

/**
 * Timer
 */
(function ($, _) {
  window.FDX.components.timer = function () {
    /**
    * @type {Object[]} list of instances
    */
    var instances = [];
    /**
    * @type {string} root selector
    */
    var selector = '.fxg-timer';
    /**
    * Create component instance
    *
    * @public
    * @return {Object} instance
    */
    function create() {
      /**
      * @type {Object} configuration
      */
      var config = {};
      /**
      * @type {Object} jQuery DOM root element
      */
      var $root = null;

      /**
      * Set configuration
      *
      * @public
      * @param {Object} _config - key/value pair
      * @return {Object} instance
      */
      function setConfig(_config) {
        var defaultConfig = {};
        config = $.extend({}, defaultConfig, _config);
      }
      ;
      /**
      * Render HTML
      *
      * @private
      * @return {Promise<string>} A promise that resolves with rendered HTML
      */
      function render() {}
      /**
      * Bind interactions events
      *
      * @private
      */
      function initTimer(element, now, data) {
        var tdTimeZone = data.find(".td_timeZone").html();
        var tdStartDate = data.find(".td_startDate").html();
        var tdEndDate = data.find(".td_endDate").html();
        var timeZone = tdTimeZone ? tdTimeZone.trim() : "",
          start = (tdStartDate ? tdStartDate.trim() : "").slice(0, -6) + timeZone,
          // replace time zone with the one the author chooses
          end = (tdEndDate ? tdEndDate.trim() : "").slice(0, -6) + timeZone,
          // replace time zone with the one the author chooses
          timerContainer = element.find(".timer_js");
        var endDate = new Date(end),
          startDate = new Date(start);
        endDate.setDate(endDate.getDate());
        if (now.getTime() - startDate.getTime() > 0) {
          // start time is past or present
          setInterval(function () {
            countdown(endDate, timerContainer, element);
          }, 1000);
        } else {
          // start time is in the future
          // check every 30 seconds if the future has come to the present
          element.find(".editmode_message").html("This component is not currently scheduled to show on page. It is scheduled to show on " + startDate);
          var future_watcher = setInterval(function () {
            silentCountdown(startDate, element, data);
          }, 30000);
        }
      }
      function silentCountdown(startDate, element, data) {
        var now = new Date();
        if (now.getTime() >= startDate.getTime()) {
          // The future is now
          clearInterval(future_watcher);
          initTimer(element, now, data);
        }
      }
      function countdown(toDate, timerContainer, component) {
        var dateEntered = toDate;
        var now = new Date();
        var difference = dateEntered.getTime() - now.getTime();
        if (difference <= 0) {
          if (!component.hasClass("isExpired")) {
            // Timer is done hide the component
            var message1 = "This component is currently expired on page ",
              message2 = "and will not show to site users. ";
            if (component.hasClass("alwaysOn")) {
              message2 = 'and will be shown to site users because of it\'s "Keep expired component visible" setting.';
            }
            component.find(".editmode_message").html(message1 + message2 + " This component should be deleted. It expired on " + toDate);
            //clearInterval($(this));
            component.removeClass("isInit").addClass("isExpired");
          }
        } else {
          if (component.hasClass("toInit")) {
            component.find(".editmode_message").html("This component is scheduled to be shown to site users. It expires on " + toDate);
            component.removeClass("toInit").addClass("isInit");
          }
          var seconds = Math.floor(difference / 1000);
          var minutes = Math.floor(seconds / 60);
          var hours = Math.floor(minutes / 60);
          var days = Math.floor(hours / 24);
          hours %= 24;
          minutes %= 60;
          seconds %= 60;
          if (minutes.toString().length == 1) {
            minutes = "0" + minutes;
          }
          if (seconds.toString().length == 1) {
            seconds = "0" + seconds;
          }
          var dayCont = timerContainer.find(".timer_js__days"),
            hourCont = timerContainer.find(".timer_js__hours"),
            minCont = timerContainer.find(".timer_js__minutes"),
            secCont = timerContainer.find(".timer_js__seconds");

          //update the containers
          $(dayCont).text(days);
          $(dayCont).attr("aria-label", days + " days");
          $(hourCont).text(hours);
          $(hourCont).attr("aria-label", hours + " hours");
          $(minCont).text(minutes);
          $(minCont).attr("aria-label", minutes + " minutes");
          $(secCont).text(seconds);
          $(secCont).attr("aria-label", seconds + " seconds");
          if (seconds % 15 == 0) {
            // update screen readers every 15 seconds with a live reading of the timer.
            var thisTitle = timerContainer.siblings(".timer_ada").attr("data-title");
            timerContainer.siblings(".timer_ada").html(days + " days, " + hours + " hours, " + minutes + " minutes, " + seconds + " seconds." + thisTitle);
          }
        }
      }
      function bindInteractions() {
        $(document).ready(function () {
          var fxTimerComponents = $(".fxg-timer");
          if (fxTimerComponents.length > 0) {
            var currentDateTime = new Date();
            $.each(fxTimerComponents, function () {
              var thisData = $(this).find(".fxg-timer__data");
              initTimer($(this), currentDateTime, thisData);
            });
          }
        });
      }
      if (!FDX) {
        var FDX = {};
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;
        // update intro
        // bind interactions
        bindInteractions();

        // initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        render: render,
        getElement: getElement
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        bindInteractions = jest.fn(bindInteractions);
        countdown = jest.fn(countdown);
        silentCountdown = jest.fn(silentCountdown);
        initTimer = jest.fn(initTimer);
        instance.$private = function () {
          return {
            bindInteractions: bindInteractions,
            countdown: countdown,
            silentCountdown: silentCountdown,
            initTimer: initTimer
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();
      var initPromises = [];

      // find all related elements
      $(selector).each(function () {
        // skip already initialized elements
        var $element = $(this);
        if ($element.data('initialized')) return;

        // create instance
        var instance = window.FDX.components.timer.create();

        // set configuration
        var $config = $('[data-config="js-timer-config"]', $element);
        if ($config.length) {
          instance.setConfig(JSON.parse($config.html().trim()));
        }

        // initialize instance
        var initPromise = instance.init($element);
        initPromises.push(initPromise);
      });

      // resolve after all inits
      $.when.apply($, initPromises).then(function () {
        promise.resolve();
      });
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _);

/***/ }),

/***/ 6252:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 6486:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 6640:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 6652:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 6711:
/***/ (function() {

/**
 * Smartbanner
 *
 * Banner promoting a native app on iOS or Android
 */

try {
  (function ($, _, $fdx, $utils, $session, $analytics) {
    window.FDX.components.smartbanner = function () {
      /**
       * @type {Object[]} list of instances
       */
      var instances = [];

      /**
       * @type {string} root selector
       */
      var selector = '';

      /**
       * Create instance
       *
       * @public
       * @return {Object} instance
       */
      function create() {
        /**
         * @type {Object} configuration
         */
        var config = {};

        /**
         * @type {Object} jQuery DOM element
         */
        var $root = null;

        /**
         * @type {Object} gdl params
         */
        var gdl_os = {
          'android': 'Android',
          'ios': 'iOS',
          'desktop': 'desktop'
        };

        /**
         * @type {string} current device type
         */
        var deviceType = $utils.deviceType().toLowerCase();

        /**
         * Set configuration
         *
         * @public
         * @param {Object} _config - key/value pair
         * @return {Object} instance
         */
        function setConfig(_config) {
          var defaultConfig = {
            "title": "",
            "description": "",
            "buttonText": "",
            "android_enabled": false,
            "android_image": "",
            "android_url": "",
            "android_instore": "",
            "ios_enabled": false,
            "ios_image": "",
            "ios_url": "",
            "ios_instore": ""
          };
          config = $.extend({}, defaultConfig, _config);

          // use the config corresponding to the current device
          config.deviceType = deviceType;
          config.enabled = config[deviceType + '_enabled'] || false;
          config.image = config[deviceType + '_image'] || '';
          config.url = config[deviceType + '_url'] || '';
          config.instore = config[deviceType + '_instore'] || '';
        }
        ;

        /**
         * Render HTML
         *
         * @public
         * @return {Promise<string>} A promise that resolves with rendered HTML
         */
        function render() {
          // please be cautious that following classes are used within QA:
          // - fxg-smartbanner
          // - fxg-smartbanner__title
          // - fxg-smartbanner__description
          // - fxg-smartbanner__instore
          var promise = $.Deferred();
          var html = "\n            <div class=\"fxg-smartbanner cc-aem-u-bg-color--grey-10 cc-aem-u-color--text cc-aem-u-flex cc-aem-u-flex-align-items--center\n            cc-aem-u-py--2 cc-aem-u-px--4 cc-aem-u-font-size--default cc-aem-u-elevation--z2 cc-aem-u-z-index--low cc-aem-u-position--relative\">\n              <button class=\"fxg-smartbanner__close cc-aem-c-button cc-aem-c-button--icon cc-aem-u-color--grey--dark-1\"\n                  aria-label=\"close\">\n                <svg class=\"cc-aem-c-icon cc-aem-c-icon--super-small\" aria-hidden=\"true\">\n                  <use href=\"#cross\"></use>\n                </svg>\n              </button>\n              <img alt=\"<%= description %> <%= instore %>\" class=\"fxg-smartbanner__icon cc-aem-u-mx--2\" src=\"<%= image %>\" alt=\"banner icon\"/>\n              <div class=\"cc-aem-u-flex--1\">\n                <div class=\"fxg-smartbanner__title cc-aem-u-fontsize--h5 cc-aem-u-fontweight--bold cc-aem-u-fontsize--small cc-aem-u-line-height--large\">\n                    <%= title %>\n                </div>\n                <div class=\"cc-aem-u-color--text fxg-smartbanner__inner_title cc-aem-u-fontsize--extra-small\">\n                  <div class=\"fxg-smartbanner__description\"><%= description %></div>\n                  <div class=\"fxg-smartbanner__instore\"><%= instore %></div>\n                </div>\n              </div>\n              <a class=\"fxg-smartbanner__view cc-aem-c-button cc-aem-u-fontsize--extra-small cc-aem-c-button--condensed\" aria-label=\"view\"\n                 href=\"<%= url %>\" data-analytics=\"link|smartbanner:view in <%= deviceType %>\">\n                <%= buttonText %>\n              </a>\n            </div>\n          ";
          var rendered = _.template(html)(config);
          return promise.resolve(rendered);
        }

        /**
         * Initialize component instance
         *
         * @public
         * @param {Object} _$root - component root element (optional)
         * @return {Promise} A promise that resolves when instance is initiated
         */
        function init(_$root) {
          var promise = $.Deferred();

          // can it be shown ?
          var deviceMatch = deviceType === 'ios' || deviceType === 'android';
          var bannerClosed = $session.getCookie('fdx_smartbanner');
          if (!deviceMatch || !config.enabled || bannerClosed) {
            promise.reject();
            return promise;
          }

          // create DOM element
          render().then(function (html) {
            $root = $(html);

            // bind close
            $('.fxg-smartbanner__close', $root).on('click', function () {
              close();
            });

            // bind view
            $('.fxg-smartbanner__view', $root).on('click', function () {
              // let's close the banner and track the view
              close(true);

              // Analytics
              var payload = {
                gdl: {
                  category: 'smartbanner',
                  eventName: 'view',
                  params: {
                    'os': gdl_os[deviceType]
                  }
                } /*,
                  dtm: {
                  type: 'link-external',
                  event: '',
                  href: this.getAttribute('href') || '',
                  analyticsText: 'link|smartbanner:view in '+ deviceType,
                  target: this.getAttribute('target') || ''
                  }*/
              };
              $analytics.push(payload);
            });
            promise.resolve();
          });
          return promise;
        }

        /**
         * Get element
         *
         * @public
         * @return {Object} jQuery DOM element
         */
        function getElement() {
          return $root;
        }

        /**
         * Open the banner
         *
         * @param {Object} $container - jQuery DOM container element
         * @public
         */
        function open($container) {
          // add to DOM
          $container.append($root);
          $(document.body).addClass('has-smartbanner');
          $fdx.services.headerHeight.calc();

          // tracking - we need to bind below analytics to a button click
          // and trigger with 5 seconds delay or else analytics won't be triggered
          setTimeout(function () {
            var payload = {
              gdl: {
                category: 'smartbanner',
                eventName: 'impression',
                params: {
                  'os': gdl_os[deviceType]
                }
              },
              dtm: {
                type: 'simulate-click',
                // 'simulateClick' is for for non existing dom element events.
                event: '',
                analyticsText: 'smartbanner:impression ' + deviceType,
                target: 'samePage'
              }
            };
            $analytics.push(payload);
          }, 5000);
        }

        /**
         * Close the banner
         *
         * @param {boolean} noTracking - if true skips tracking
         * @public
         */
        function close(noTracking) {
          // remember the user's decision in a cookie
          $session.setCookie('fdx_smartbanner', 'force', 7);

          // remove from DOM
          $root.remove();
          $(document.body).removeClass('has-smartbanner');

          // re-calculate header height + cookie consent
          $fdx.services.headerHeight.calc();
          $fdx.CookieConsent().setPosition($('.fxg-cookie-consent__wrapper'));

          // tracking
          if (!noTracking) {
            var payload = {
              gdl: {
                category: 'smartbanner',
                eventName: 'close',
                params: {
                  'os': gdl_os[deviceType]
                }
              },
              dtm: {
                type: 'button',
                event: '',
                analyticsText: 'smartbanner:close ' + deviceType,
                target: 'samePage'
              }
            };
            $analytics.push(payload);
          }
        }

        // add and return instance
        var instance = {
          setConfig: setConfig,
          render: render,
          init: init,
          getElement: getElement,
          open: open,
          close: close
        };
        instances.push(instance);
        return instance;
      }

      /**
       * Create instances
       *
       * @public
       * @return {Promise} A promise that resolves when all instances are initiated
       */
      function createInstances() {
        var promise = $.Deferred();

        // get config
        var smartbannerConfig = $('html').find('[data-config="js-smartbanner-config"]').html();
        var $config = smartbannerConfig ? smartbannerConfig.trim() : "";
        var $container = $('fedex-smart-banner');
        if (!$config || !$container.length) {
          promise.resolve();
          return;
        }
        var config = JSON.parse($config);

        // create instance
        var instance = window.FDX.components.smartbanner.create();
        instance.setConfig(config);
        instance.init().then(function () {
          instance.open($container);
          promise.resolve();
        });
        return promise;
      }

      // return component
      return {
        create: create,
        instances: instances,
        createInstances: createInstances,
        selector: selector
      };
    }();
  })(jQuery, _, FDX, FDX.services.utils, FDX.services.session, FDX.services.analytics);
} catch (e) {
  console.error(e);
}

/***/ }),

/***/ 6748:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 6782:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 6841:
/***/ (function() {

/**
 * CONSTANTS
 *
 * GLOBAL OR GENERIC constants
 */

// Locale - fdx_locale, FDX 
// context paths - fdxContextPath
// generic constants - namespace

window.FDX.CONSTANTS = {
  FDX_LOCALE: 'fdx_locale'
};

/***/ }),

/***/ 6848:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 6889:
/***/ (function() {

if (!window.FDX) {
  window.FDX = {};
}
if (!window.FDX.services) {
  window.FDX.services = {};
}
if (!window.FDX.components) {
  window.FDX.components = {};
}
FDX.build = {
  version: '{build.version}',
  timestamp: '{build.timestamp}'
};

/***/ }),

/***/ 6945:
/***/ (function() {

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
/**
 * Image Service
 *
 * Loading the default image in place of failed images
 */

(function ($, _, window) {
  window.FDX.services.image = function () {
    /**
     * Init service
     *
     * @public
     */
    function init() {
      setDefaultImage();
    }
    /**
     * Replaces broken or missing images on the webpage with a default placeholder image.
     * 
     * This function waits until the entire page (including all external resources) is fully loaded, 
     * then checks all <img> elements on the page. If an image fails to load, it is replaced with 
     * a default image. The function handles both SVG and non-SVG images differently, and also 
     * ensures the `alt` attribute is set appropriately, removing the `title` attribute if present.
     * 
     * @function setDefaultImage
     * @global
     * 
     * @example
     * setDefaultImage();
     * 
     * @description
     * - The function is triggered after the `window`'s `load` event, ensuring it runs only after all page 
     * resources have been fully loaded.
     * - It iterates over all <img> elements on the page and checks if each image is broken by examining 
     * its `naturalWidth` and `naturalHeight` properties.
     * - For non-SVG images that are part of an image component and have a `data-rendition` attribute, 
     * the function attempts to correct the image path and reload it. If this fails, the image is replaced 
     * with the default image.
     * - For SVG images or image URLs without an extension, the function handles them by resetting the `src`
     * attribute and applying an error handler to replace them with the default image if needed.
     * - The function also processes images from a CDN by extracting and modifying parameters in the image URL
     * (such as `format`, `width`, and `height`) to construct a new path.
     * - The `alt` attribute is set to an empty string if missing, and the `title` attribute is removed if present.
     * 
     * @param {string} [FDX.contextPath=''] - The base path for resources on the website.
     * @param {string} [defaultImagePath='/content/dam/fedex-com/images/default-image/image-placeholder.jpg'] - The path to the default placeholder image.
     * 
     * @fires load - The function is triggered after the `window`'s `load` event, ensuring it runs only after all page resources have been fully loaded.
     */
    function setDefaultImage() {
      // 'load' waits for the entire page, including all external resources like images and stylesheets, to be fully loaded before executing the code. 

      $(window).on('load', function () {
        var defaultImagePath = '/content/dam/fedex-com/images/default-image/image-placeholder.jpg';
        var imgs = document.querySelectorAll('img');
        setTimeout(function () {
          Array.from(imgs).forEach(function (imgValue) {
            if (typeof imgValue.naturalWidth != "undefined" && imgValue.naturalWidth == 0 && imgValue.naturalHeight == 0) {
              var theImgUrl = imgValue.src.split("/"); //taking the image url for checking for any extension like .jpg, .svg etc
              var theImgHasExtension = theImgUrl[theImgUrl.length - 1].includes("."); //checking whether the image url has extension. Used to detect svg urls without svg extension.

              var handleNonSVGImagesInImgComp = function handleNonSVGImagesInImgComp(img) {
                var img_rendition = img.getAttribute('src');
                var data_rendition = img.getAttribute('data-rendition');
                var data_renmatch = data_rendition.match(/jcr:(.*)/) || data_rendition.match(/_jcr(.*)/); // Later check the extensions also 

                if (data_renmatch != null) {
                  if (data_renmatch[0].indexOf('_jcr_content') !== -1) {
                    data_renmatch[0] = data_renmatch[0].replace('_jcr_content', 'jcr:content');
                  }
                  img_rendition = '/' + data_renmatch[0];
                  img.setAttribute('src', FDX.contextPath + '' + defaultImagePath + img_rendition);
                  img.addEventListener('error', function (e) {
                    img.setAttribute('src', FDX.contextPath + '' + defaultImagePath);
                  });
                }
              };
              var handleSVGImagesInImgComp = function handleSVGImagesInImgComp(img) {
                img.setAttribute('src', img.getAttribute('src'));
                img.addEventListener('error', function (e) {
                  e.target.setAttribute('src', FDX.contextPath + '' + defaultImagePath);
                });
              };
              if (imgValue.getAttribute('src')) {
                var img_altValue = imgValue.getAttribute('alt');

                // to handle broken images in image component which are NOT svgs
                if (imgValue.getAttribute('data-rendition') && imgValue.src.indexOf('svg') < 0) {
                  handleNonSVGImagesInImgComp(imgValue);
                }
                //to handle broken images in image component which are svgs
                else if (imgValue.getAttribute('data-rendition') || typeof imgValue.getAttribute('data-rendition') === "undefined" || _typeof(imgValue.getAttribute('data-rendition')) == "object" && imgValue.src.indexOf('svg') >= 0) {
                  handleSVGImagesInImgComp(imgValue);
                }
                //to handle svg urls without 'svg' extension and attribute 'data-rendition' null
                else if (imgValue.getAttribute('data-rendition') || _typeof(imgValue.getAttribute('data-rendition')) == "object" && !theImgHasExtension) {
                  handleSVGImagesInImgComp(imgValue);
                } else {
                  // to handle broken images on page which are not within image component.                  
                  imgValue.setAttribute('src', FDX.contextPath + '' + defaultImagePath);
                }

                // always execute this condition and set alt value and remove the title
                if (typeof img_altValue == "undefined" || img_altValue == '') {
                  imgValue.setAttribute('alt', '');
                }
                // Images from a CDN by extracting and modifying parameters in the image URL (such as `format`, `width`, and `height`) to construct a new path and `alt` attribute is set to an empty string if missing.
                else {
                  var img_rendition = imgValue.getAttribute('src');

                  // Check if 'img_rendition' is not null and contains 'cdn'
                  if (img_rendition != null && img_rendition.indexOf('cdn') > 0) {
                    img_rendition = img_rendition.substr(img_rendition.indexOf('?') + 1).split('&');
                    var imageType, width, height, format;
                    for (var i = 0; i < img_rendition.length; i++) {
                      var key = img_rendition[i].split('=')[0];

                      // Check the 'format' parameter and set 'imageType' accordingly
                      if (key == 'format') {
                        format = img_rendition[i].split('=')[1];
                        if (format == 'jpeg') {
                          imageType = 'web.';
                        } else if (format == 'png') {
                          imageType = 'thumbnail.';
                        }
                      } else if (key == 'width') {
                        width = img_rendition[i].split('=')[1];
                      } else if (key == 'height') {
                        height = img_rendition[i].split('=')[1];
                      }
                    }

                    // If all parameters are defined, set the 'src' attribute with the new path
                    if (imageType != undefined && width != undefined && height != undefined && format != undefined) {
                      imgValue.setAttribute('src', FDX.contextPath + '' + defaultImagePath + '/jcr:content/renditions/cq5dam.' + imageType + width + '.' + height + '.' + format);
                    } else {
                      // To exclude SVG paths that don't include the '.svg' extension
                      if (!theImgHasExtension) return; // If there is no extension in the image path, break here

                      // Set the 'src' attribute to the default image path
                      imgValue.setAttribute('src', FDX.contextPath + '' + defaultImagePath);
                    }
                  }

                  // Set the 'alt' attribute of the image
                  imgValue.setAttribute('alt', 'FedEx owned and licensed image');
                }
                if (imgValue.getAttribute('title')) {
                  imgValue.removeAttribute('title');
                }
              }
            }
          });
        }, 600);
      });
    }

    // return service
    return {
      init: init
    };
  }();
})(window.jQuery, window._, window);

/***/ }),

/***/ 6976:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 7064:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 7144:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 7151:
/***/ (function() {

function _createForOfIteratorHelper(r, e) { var t = "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && "number" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t["return"] || t["return"](); } finally { if (u) throw o; } } }; }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
/**
 * Accordion
 *
 * Component with a title that can expand its body content using a toggle button
 */
(function (analytics) {
  window.FDX.components.accordion = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];
    /**
     * @type {string} selectors
     */
    var selector = ".fxg-accordion";
    var buttonSelector = ".cc-aem-c-accordion__button";
    var itemSelector = ".cc-aem-c-accordion__item";
    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    var create = function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};
      /**
       * @type {HTMLElement} DOM root element
       */
      var root = null;
      /**
       * Cached elements
       */
      var cachedElements = {};
      /**
       * Cache frequently accessed elements
       *
       * @private
       */
      var cacheElements = function cacheElements() {
        cachedElements.button = root.querySelector(buttonSelector);
        cachedElements.parentItem = root.closest(itemSelector);
        cachedElements.lastChild = root.lastElementChild;
        cachedElements.preIcon = root.querySelector("[data-preicon]");
        cachedElements.parentToggleIcon = root.querySelector("[data-parenttoggleicon]");
        cachedElements.childToggleIcons = root.querySelector("[data-childtoggleicons]");
      };
      /**
       * GDL analytics events
       *
       * @private
       * @param {Object} accordionItem - gdl event name
       */
      var gdlEvent = function gdlEvent(accordionItem) {
        var payload = {
          gdl: {
            category: "accordion",
            eventName: "open-item",
            params: {
              item: accordionItem,
              group: ""
            }
          }
        };
        analytics.push(payload);
      };
      /**
       * Bind interactions events
       *
       * @private
       */
      var bindInteractions = function bindInteractions() {
        var button = cachedElements.button;
        if (button) {
          button.addEventListener("click", function (event) {
            // Perform the toggle action
            toggle(root, undefined, root);
            // Trigger the analytics event
            var accordionItem = event.currentTarget.dataset.title;
            gdlEvent(accordionItem);
          });
        }
      };
      /**
       * Initialize component instance.
       *
       * @public
       * @param {HTMLElement} [_root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      var init = function init(_root) {
        return new Promise(function (resolve) {
          // Unwrap jQuery object if necessary
          root = _root instanceof jQuery ? _root[0] : _root;
          cacheElements();
          bindInteractions();
          root.dataset.initialized = true;
          resolve();
        });
      };
      /**
       * Get component element
       *
       * @public
       * @return {HTMLElement} DOM element
       */
      var getElement = function getElement() {
        return root;
      };
      var instance = {
        setConfig: function setConfig() {},
        init: init,
        getElement: function getElement() {
          return root;
        }
      };
      if (typeof jest !== "undefined") {
        instance.$private = function () {
          return {
            scrollAndExpandTarget: scrollAndExpandTarget,
            toggle: toggle,
            cacheElements: cacheElements,
            cachedElements: cachedElements,
            buttonSelector: buttonSelector,
            itemSelector: itemSelector
          };
        };
      }
      instances.push(instance);
      return instance;
    };
    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    var createInstances = function createInstances() {
      return new Promise(function (resolve) {
        var elements = document.querySelectorAll(selector);
        var initPromises = [];
        elements.forEach(function (element) {
          if (element.dataset.initialized) return;
          var instance = create();
          var initPromise = instance.init(element);
          initPromises.push(initPromise);
        });
        scrollAndExpandTarget();
        Promise.all(initPromises).then(function () {
          resolve();
        });
      });
    };
    /**
     * Toggle accordion
     *
     * @public
     * @param {HTMLElement} element
     * @param {boolean} [expand] expand or collapse? (optional)
     */
    var toggle = function toggle(element, expand, root) {
      var aria = element.getAttribute("aria-expanded");
      if (!aria) return;
      var expanded = aria === "true";
      expanded = typeof expand !== "undefined" ? expand : !expanded;
      element.setAttribute("aria-expanded", expanded);
      var button = root.querySelector(buttonSelector);
      if (button) button.setAttribute("aria-expanded", expanded);
      var item = root.querySelector(itemSelector);
      if (item) item.hidden = !expanded;
    };
    /**
     * Scroll to target accordion and expand it based on target ID stored in session or hash,
     *
     * @private
     */
    var scrollAndExpandTarget = function scrollAndExpandTarget() {
      var targetId = sessionStorage.getItem("target") || window.location.hash.slice(1);
      var target = targetId ? document.getElementById(targetId) : null;
      if (!target) return;
      // remove target from session
      sessionStorage.removeItem("target");
      // Find all parent accordions that contain the target
      var parentAccordions = [];
      var currentElement = target;
      while (currentElement && currentElement !== document.body) {
        currentElement = currentElement.parentElement;
        if (currentElement && currentElement.matches(selector)) {
          parentAccordions.push(currentElement);
        }
      }
      if (parentAccordions.length === 0) return;
      // Expand all parent accordions
      parentAccordions.forEach(function (parent) {
        toggle(parent, true, parent);
      });
      // Scroll to the closest parent accordion
      var firstParent = parentAccordions[parentAccordions.length - 1];
      if (firstParent) {
        window.scrollTo({
          top: firstParent.offsetTop - FDX.components.header.height,
          behavior: "smooth"
        });
      }
    };
    // Return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector,
      toggle: toggle
    };
  }();
})(FDX.services.analytics);

// Auto-initialize accordions when Target is enabled and an accordion is inside an AEM Target activity
document.addEventListener("DOMContentLoaded", function () {
  var maxInitializationAttempts = 10;
  var baseRetryIntervalMs = 500;
  var retryMultiplier = 1.5;
  var targetEventDelayMs = 100;
  var mutationDebounceDelayMs = 200;
  var initialAttemptDelayMs = 300;
  var fallbackCheckDelayMs = 1000;
  var initializationAttempts = 0;

  /**
   * Check if Adobe Target is available and enabled
   * @returns {boolean}
   */
  var isTargetEnabled = function isTargetEnabled() {
    return typeof adobe !== "undefined" && typeof adobe.target !== "undefined" && typeof adobe.target.VERSION !== "undefined";
  };
  /**
   * Check if there are Target-managed accordions that need initialization
   * @returns {boolean}
   */
  var hasTargetManagedAccordions = function hasTargetManagedAccordions() {
    var targetMarkers = document.querySelectorAll(".at-element-marker");
    if (targetMarkers.length === 0) return false;

    // Check if any Target marker is near an accordion
    var _iterator = _createForOfIteratorHelper(targetMarkers),
      _step;
    try {
      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        var marker = _step.value;
        // Look for accordions in the same container or nearby
        var container = marker.closest(".aem-Grid, .responsivegrid, .root") || marker.parentElement;
        if (container && container.querySelector(".fxg-accordion")) {
          return true;
        }

        // Also check if the marker itself contains accordions
        if (marker.querySelector(".fxg-accordion")) {
          return true;
        }
      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }
    return false;
  };

  /**
   * Check if there are any uninitialized accordions
   * @returns {boolean}
   */
  var hasUninitializedAccordions = function hasUninitializedAccordions() {
    var accordions = document.querySelectorAll(".fxg-accordion");
    return Array.from(accordions).some(function (accordion) {
      return !accordion.dataset.initialized;
    });
  };

  /**
   * Initialize accordions after Target has potentially modified the DOM
   */
  var initializeTargetAccordions = function initializeTargetAccordions() {
    try {
      initializationAttempts++;
      if (isTargetEnabled() && (hasTargetManagedAccordions() || hasUninitializedAccordions())) {
        FDX.components.accordion.createInstances();
        return true;
      }
      return false;
    } catch (error) {
      console.error("Failed to initialize Target-managed accordions:", error);
      return false;
    }
  };

  /**
   * Retry initialization with exponential backoff
   */
  var _retryInitialization = function retryInitialization() {
    if (initializationAttempts >= maxInitializationAttempts) {
      return;
    }
    var delay = baseRetryIntervalMs * Math.pow(retryMultiplier, initializationAttempts);
    setTimeout(function () {
      if (!initializeTargetAccordions() && hasUninitializedAccordions()) {
        _retryInitialization();
      }
    }, delay);
  };

  /**
   * Set up mutation observer to watch for DOM changes by Target
   */
  var setupMutationObserver = function setupMutationObserver() {
    if (typeof MutationObserver === "undefined") return;
    var observer = new MutationObserver(function (mutations) {
      var shouldReinitialize = false;
      mutations.forEach(function (mutation) {
        var _mutation$target$clas;
        // Check if new accordions were added
        if (mutation.type === "childList") {
          mutation.addedNodes.forEach(function (node) {
            var _node$classList, _node$querySelector;
            if (node.nodeType !== Node.ELEMENT_NODE) return;
            if ((_node$classList = node.classList) !== null && _node$classList !== void 0 && _node$classList.contains("fxg-accordion") || (_node$querySelector = node.querySelector) !== null && _node$querySelector !== void 0 && _node$querySelector.call(node, ".fxg-accordion")) {
              shouldReinitialize = true;
            }
          });
        }

        // Check if attributes changed on accordion elements
        if (mutation.type === "attributes" && (_mutation$target$clas = mutation.target.classList) !== null && _mutation$target$clas !== void 0 && _mutation$target$clas.contains("fxg-accordion")) {
          shouldReinitialize = true;
        }
      });
      if (shouldReinitialize && isTargetEnabled()) {
        // Debounce the reinitialization
        clearTimeout(window.accordionReinitTimeout);
        window.accordionReinitTimeout = setTimeout(function () {
          FDX.components.accordion.createInstances();
        }, mutationDebounceDelayMs);
      }
    });

    // Observe the entire document for changes
    observer.observe(document.body, {
      childList: true,
      subtree: true,
      attributes: true,
      attributeFilter: ["class", "data-initialized"]
    });
    return observer;
  };

  /**
   * Listen for Adobe Target events
   */
  var setupTargetEventListeners = function setupTargetEventListeners() {
    // Listen for Target's content rendering events
    if (typeof adobe !== "undefined" && adobe.target) {
      // Adobe Target at.js 2.x events
      document.addEventListener("at-content-rendering-succeeded", function () {
        setTimeout(initializeTargetAccordions, targetEventDelayMs);
      });
      document.addEventListener("at-content-rendering-failed", function () {
        setTimeout(initializeTargetAccordions, targetEventDelayMs);
      });

      // Additional Target events that might be useful
      document.addEventListener("at-content-rendering-start", function () {
        console.log("Adobe Target content rendering started");
      });
      document.addEventListener("at-content-rendering-no-offers", function () {
        setTimeout(initializeTargetAccordions, targetEventDelayMs);
      });
    }
  };

  // Initial setup
  var initialize = function initialize() {
    setupTargetEventListeners();
    setupMutationObserver();
    var attemptInitialization = function attemptInitialization() {
      setTimeout(function () {
        if (!initializeTargetAccordions()) {
          _retryInitialization();
        }
      }, initialAttemptDelayMs);
    };

    // Initial attempt
    if (document.readyState === "complete") {
      attemptInitialization();
    } else {
      document.addEventListener("readystatechange", function () {
        if (document.readyState === "complete") {
          attemptInitialization();
        }
      }, {
        once: true
      });
    }

    // Fallback check after page load
    window.addEventListener("load", function () {
      setTimeout(function () {
        if (hasUninitializedAccordions()) {
          console.log("Fallback initialization check after window load");
          _retryInitialization();
        }
      }, fallbackCheckDelayMs);
    });
  };
  initialize();
});

/***/ }),

/***/ 7196:
/***/ (function() {

function _createForOfIteratorHelper(r, e) { var t = "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && "number" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t["return"] || t["return"](); } finally { if (u) throw o; } } }; }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
/**
 * Replace Service
 *
 * Search for the element which have the text that needs to be replaced with the configured value
 */

(function ($, window, $services) {
  window.FDX.services.replace = function () {
    /**
     * Find the element which have the text to be replaced
     * 
     * @public
     * @param {string} key - The text to be replaced
     * @param {string} value - The text to be replaced with
     */
    function findAndReplace(key, value) {
      if (!key || !value) return;
      value = $services.utils.decodeHTMLEntities(value);
      $('.js-replace-text').each(function () {
        var html = $(this).html();
        var replaced = html.replaceAll(key, value);
        $(this).html(replaced);
      });
    }

    /**
     * Check the configured rules and invoke replace functionality
     * 
     * @public
     * @param {Object} config - configuration object with mappings details to replace
     */
    function checkRulesToReplace(config) {
      var _$services$session$ge;
      // Check the user IP location
      var country = (_$services$session$ge = $services.session.getCookie('xacc')) === null || _$services$session$ge === void 0 ? void 0 : _$services$session$ge.toLowerCase();
      var _iterator = _createForOfIteratorHelper(config),
        _step;
      try {
        for (_iterator.s(); !(_step = _iterator.n()).done;) {
          var obj = _step.value;
          // Apply only for 'Taiwan' users
          if (obj.rule === 'taiwan' && country === 'tw') {
            var key = Object.keys(obj.replace)[0];
            var value = Object.values(obj.replace)[0];
            findAndReplace(key, value);
          }
        }
      } catch (err) {
        _iterator.e(err);
      } finally {
        _iterator.f();
      }
    }

    /**
     * Init
     * 
     * @public
     */
    function init() {
      var config = $('[data-config="js-replace-text-config"]');
      if (!config.length) return;

      // Fetch and parse the replace configuration object
      var data = config.html().replace(/\n|\r|\t/g, "");
      data = decodeURIComponent(data.trim());
      var replaceConfig = JSON.parse(data);
      if (!Object.keys(replaceConfig).length) return;
      checkRulesToReplace(replaceConfig);
    }

    // pass private attributes and methods to jest
    if (typeof jest !== 'undefined') {
      checkRulesToReplace = jest.fn(checkRulesToReplace);
      findAndReplace = jest.fn(findAndReplace);
    }

    // return service
    var service = {
      init: init,
      checkRulesToReplace: checkRulesToReplace,
      findAndReplace: findAndReplace
    };
    return service;
  }();
})(window.jQuery, window, window.FDX.services);

/***/ }),

/***/ 7215:
/***/ (function() {

/**
 * Form - Dropdown
 *
 * Dropdown field in basic form component
 */

(function ($, _, $validation) {
  window.FDX.components.form_text = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '';

    /**
     * Create component instance
     *
     * @public
     * @param {Object} _parent - parent form
     * @return {Object} instance
     */
    function create(_parent) {
      /**
       * @type {Object} parent form
       */
      var parent = _parent;

      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * @type {Object} jQuery DOM input element
       */
      var $input = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {
          id: '',
          type: '',
          key: '',
          title: '',
          order: '',
          required: '',
          constraintType: '',
          constraintRegex: '',
          constraintMessage: ''
        };
        config = $.extend({}, defaultConfig, _config);
      }

      /**
       * Get configuration
       *
       * @public
       * @return {Object} configuration key/value pair
       */
      function getConfig() {
        return config;
      }

      /**
       * Bind interactions
       *
       * @private
       */
      function bindInteractions() {
        // validate on blur
        $input.on('blur', function (event) {
          isValid();
        });

        // start interaction
        $input.on('keyup', function (event) {
          _parent.startInteraction();
        });
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;
        $input = $root.find('input, textarea');

        // bind interactions
        bindInteractions();

        // initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      /**
       * Get field value
       *
       * @public
       * @param {string} format
       * @return {string} field value
       */
      function getValue(format) {
        return $input.val();
      }

      /**
       * Set field value
       *
       * @public
       * @param {string} field value
       */
      function setValue(value) {
        $input.val(value);
      }

      /**
       * Is the field valid
       *
       * @public
       * @return {boolean} returns true if valid
       */
      function isValid() {
        var value = getValue();
        var filled = $validation.check(value, 'required');
        var valid = filled || !config.required;
        toggleError(!valid, parent.getConfig().msg_required);
        if (valid && filled && config.constraintType) {
          valid = $validation.check(value, config.constraintType, config.constraintRegex);
          toggleError(!valid, config.constraintMessage);
        }
        return valid;
      }

      /**
       * Toggle field error status
       *
       * @private
       * @param {boolean} toggle show/hide
       * @param {string} error message
       */
      function toggleError(toggle, error) {
        $root.find('.fxg-form__error').text(error);
        $root.find('div.cc-aem-c-form').toggleClass('cc-aem-c-form--is-invalid', toggle);
        $root.find('.cc-aem-c-form__message').toggleClass('cc-aem-u-display--none', !toggle);
        if (toggle) parent.trackError('validation', config.id, error);
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        getConfig: getConfig,
        init: init,
        getElement: getElement,
        getValue: getValue,
        setValue: setValue,
        isValid: isValid
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        isValid = jest.fn(isValid);
        toggleError = jest.fn(toggleError);
        instance.$private = function () {
          return {
            isValid: isValid,
            toggleError: toggleError
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();

      // We always create and initialize this component through form component.
      // Therefore this component does not need to be initialized through bootstrap.
      promise.resolve();
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _, FDX.services.validation);

/***/ }),

/***/ 7222:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 7231:
/***/ (function() {

/**
 * FedEx Tracking Module Component
 * Handles tracking number input validation and form submission
 */

(function () {
  window.FDX.components.track = function () {
    // unwrap elements if needed (legacy jQuery support)
    var unwrapElement = function unwrapElement(element) {
      if (element && element.jquery) {
        return element[0];
      }
      return element;
    };

    /**
     * @type {Object} Selectors and CSS classes used throughout the component
     */
    var selectors = {
      /**
       * @type {string} CSS selector for tracking module components
       */
      trackingModule: ".fxg-tracking-module",
      /**
       * @type {string} CSS class applied to elements when tracking fails
       */
      trackFailedClass: "fxg-tracking-error",
      /**
       * @type {string} CSS selector for header tracking module forms
       */
      headerTrackingModuleCls: ".fxg-tracking-module .fxg-form",
      /**
       * @type {string} ID selector for the home page tracking app container
       */
      homeTrackingAppID: "#HomeTrackingApp",
      /**
       * @type {string} CSS class for tracking input error state
       */
      trackingInputError: "fxg-tracking-module__input--error",
      /**
       * @type {string} CSS class for field error text
       */
      fieldErrorText: ".fxg-field__error_text",
      /**
       * @type {string} CSS class for field hint text
       */
      fieldHintText: ".fxg-field__hint_text",
      /**
       * @type {string} HTML name attribute for tracking number input fields
       */
      trackingNumFieldName: "trackingNumber"
    };

    /**
     * @type {string} Default error message displayed when tracking validation fails
     */
    var trackFailedMessage = "An undefined error occurred.";
    var globalListenersAdded = false;
    var instances = [];

    /**
     * Add global event listeners - called once for all instances
     */
    var addGlobalEventListeners = function addGlobalEventListeners() {
      if (globalListenersAdded) return;
      globalListenersAdded = true;

      // Intercept submit button clicks in tracking forms before input.js handles them
      document.addEventListener("click", function (e) {
        // Check if clicked element is a submit button in a tracking form
        if ((e.target.type === "submit" || e.target.tagName === "BUTTON") && e.target.closest(selectors.headerTrackingModuleCls)) {
          var form = e.target.closest("form");
          var trackingInput = form.querySelector("input[name='" + selectors.trackingNumFieldName + "']");
          var trackingValue = trackingInput ? trackingInput.value : "";

          // Only intercept if there's content to validate, input js handles empty form validation
          if (!trackingValue || !trackingValue.trim()) {
            // Clear any existing track.js error messages before letting input.js handle empty validation
            if (instances.length > 0) {
              instances[0].removeErrorMessage(trackingInput);
            }
            return;
          }

          // Prevent input.js from handling this click
          e.preventDefault();
          e.stopImmediatePropagation();

          // Get any available instance to access methods
          if (instances.length > 0) {
            var instance = instances[0];

            // Clear any existing error messages first for this specific field
            instance.removeErrorMessage(trackingInput);

            // Validate the tracking number
            if (instance.validateField(trackingInput, trackingValue)) {
              instance.doTrackModule(form.closest(selectors.trackingModule));
            } else {
              instance.showErrorMessage(trackingInput);
            }
          }
        }
      }, true);

      // Handle form submission for the home tracking app
      // Prevents default form submission and triggers the tracking app logic instead
      document.addEventListener("submit", function (e) {
        if (e.target.id === selectors.homeTrackingAppID.substring(1)) {
          e.preventDefault();
          if (instances.length > 0) {
            instances[0].doTrackApp();
          }
        }
      }, true);

      // Handle input changes on tracking number fields
      document.addEventListener("input", function (e) {
        if (e.target.name === selectors.trackingNumFieldName) {
          var trackingField = e.target;
          var hintField = trackingField.parentNode.querySelector(selectors.fieldHintText);
          var errorField = trackingField.parentNode.querySelector(selectors.fieldErrorText);

          // Clear error state when user starts typing for this specific field
          if (trackingField.classList.contains(selectors.trackingInputError)) {
            if (instances.length > 0) {
              instances[0].removeErrorMessage(trackingField);
            }
          }
          if (hintField && hintField.classList.contains("hide")) {
            hintField.classList.remove("hide");
          }
          if (errorField && errorField.classList.contains("show")) {
            errorField.classList.remove("show");
          }
        }
      });
    };

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    var createInstances = function createInstances() {
      var promise = new Promise(function (resolve) {
        var initPromises = [];

        // find all related elements
        var elements = document.querySelectorAll(selectors.trackingModule);
        Array.from(elements).forEach(function (element, index) {
          // skip already initialized elements
          if (element.dataset.initialized) {
            return;
          }

          // create instance
          var instance = create();

          // initialize instance
          var initPromise = instance.init(element);
          initPromises.push(initPromise);
        });

        // resolve after all inits
        Promise.all(initPromises).then(function () {
          // Run duplicateIDUpdate once after all instances are created
          if (instances.length > 0) {
            instances[0].duplicateIDUpdate();
          }
          resolve();
        });
      });
      return promise;
    };

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    var create = function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} DOM root element
       */
      var root = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      var setConfig = function setConfig(_config) {
        var defaultConfig = {};
        config = Object.assign({}, defaultConfig, _config);
      };

      /**
       * Process tracking request and redirect to tracking results page
       *
       * @private
       * @param {HTMLElement} element - The tracking module element
       */
      var doTrackModule = function doTrackModule(element) {
        var _FDX$SESSION, _FDX$SESSION2, _FDX$DATALAYER, _FDX$DATALAYER2;
        // This is the stub method to perform the track for the header module
        // FedEx IT should pickup from here.
        // Should also return error message to populate error placeholder.

        if (!element) {
          return false;
        }

        // Remove any existing error message for this specific field
        element = unwrapElement(element);
        var trackingInput = element.querySelector("input[name='" + selectors.trackingNumFieldName + "']");
        if (trackingInput) {
          removeErrorMessage(trackingInput);
        }

        // Use direct element query instead of ID-based selector to avoid empty ID issues
        var k = element.querySelector("input[name='" + selectors.trackingNumFieldName + "']");
        if (!k) {
          return false;
        }
        var v = k.value;
        if (!v || !v.trim()) {
          return false;
        }
        var locale = (_FDX$SESSION = FDX.SESSION) === null || _FDX$SESSION === void 0 ? void 0 : _FDX$SESSION.getLocale();
        var cc = (_FDX$SESSION2 = FDX.SESSION) === null || _FDX$SESSION2 === void 0 ? void 0 : _FDX$SESSION2.getCountryPath();

        // Check if hidden inputs exist before trying to access them
        var dataAnalyticsElement = document.getElementById("dataAnalyticsTrackModule");
        var trackURLElement = document.getElementById("trackURL");
        var dataAnalytics = dataAnalyticsElement ? dataAnalyticsElement.value : "";
        var trackURL = trackURLElement ? trackURLElement.value : "";
        var trackArray = [];
        FDX.DATALAYER.track.trackInfo = [];
        FDX.DTM.pushButtonInfo(dataAnalytics, "newPage");

        // Validation is now handled in the submit handler, so proceed directly to tracking logic
        var trackMyData = (_FDX$DATALAYER = FDX.DATALAYER) === null || _FDX$DATALAYER === void 0 ? void 0 : _FDX$DATALAYER.trackData;
        var trackID = (_FDX$DATALAYER2 = FDX.DATALAYER) === null || _FDX$DATALAYER2 === void 0 ? void 0 : _FDX$DATALAYER2.track;

        //DTM update
        if (v.indexOf(",") > 0) {
          trackArray = v.split(",");
          for (var i = 0; i < trackArray.length; i++) {
            if (FDX.DATALAYER) {
              FDX.DATALAYER.trackData = {
                track: "",
                from: "",
                to: "",
                status: "",
                keyX: ""
              };
              if (trackMyData != undefined && trackID != undefined) {
                FDX.DATALAYER.trackData.track = trackArray[i];
                FDX.DATALAYER.track.trackInfo.push(FDX.DATALAYER.trackData);
                FDX.DATALAYER.track.isSingleTrack = false;
                FDX.DATALAYER.track.trackQuantity = trackArray.length;
              }
            }
          }
        } else {
          if (trackMyData != undefined && trackID != undefined) {
            FDX.DATALAYER.trackData.track = v;
            FDX.DATALAYER.track.isSingleTrack = true;
            FDX.DATALAYER.track.trackQuantity = 1;
            FDX.DATALAYER.track.trackInfo.push(FDX.DATALAYER.trackData);
          }
        }

        /*
         * For Cloud apps and other apps not running on the assumed host
         * If normal host is not used FDX_HOSTNAME will need to be set before including the header.
         * Usecase - Cloud apps development environments.
         */
        var FDX_HOSTNAME = FDX_HOSTNAME || "",
          host = window.location.host;
        if (FDX_HOSTNAME !== "") {
          host = FDX_HOSTNAME;
        }
        if (!host) {
          return false;
        }

        // Construct tracking URL with parameters
        var urlStr = encodeURI("https://" + host + trackURL + "?action=track&tracknumbers=" + v + "&locale=" + locale + "&cntry_code=" + cc);

        // Use fallback URL if trackURL is not configured
        if (trackURL == "" || trackURL == "#") {
          var fallbackUrl = encodeURI("https://" + host + "/apps/fedextrack/?action=track&tracknumbers=" + v + "&locale=" + locale + "&cntry_code=" + cc);
          window.location = fallbackUrl;
        } else {
          window.location = urlStr;
        }
      };
      var doTrackApp = function doTrackApp() {
        // This is the stub method to perform the track for the main tracking application in the body
        // FedEx IT should pick up from here and inject state 2 markup into the app container

        if (FDX.CUBE) {
          var _FDX$CUBE;
          (_FDX$CUBE = FDX.CUBE) === null || _FDX$CUBE === void 0 || _FDX$CUBE.openApp();
        }
      };
      var validateField = function validateField(k, v) {
        if (!v) {
          return true; // Let input.js handle empty validation
        }
        var trimmedValue = v.trim();

        // Only validate for 5-character minimum if field is not empty
        if (trimmedValue.length > 0 && trimmedValue.length < 5) {
          trackFailedMessage = "The tracking number you entered seems incorrect. Please check the number and try again.";
          return false;
        }
        return true;
      };
      var duplicateIDUpdate = function duplicateIDUpdate() {
        // First, collect all forms with their base IDs (remove any existing numbering)
        var formGroups = {};
        var forms = document.querySelectorAll(".fxg-tracking-module form[id]");
        Array.from(forms).forEach(function (form) {
          var currentId = form.id;
          var baseId = currentId.replace(/-\d+$/, "");
          if (!formGroups[baseId]) {
            formGroups[baseId] = [];
          }
          formGroups[baseId].push(form);
        });

        // Now process each group and number the duplicates
        Object.keys(formGroups).forEach(function (baseId) {
          var forms = formGroups[baseId];
          if (forms.length > 1 && baseId.indexOf("TrackingModule") > -1) {
            forms.forEach(function (form, index) {
              var newFormId = baseId + "-" + (index + 1);
              form.id = newFormId;

              // Also update the input ID and label 'for' attribute to match
              var input = form.querySelector('input[name="trackingNumber"]');
              var label = form.querySelector('label[for="trackingModuleTrackingNum"]');
              if (input) {
                var newInputId = "trackingModuleTrackingNum-" + (index + 1);
                input.id = newInputId;
                if (label) {
                  label.setAttribute("for", newInputId);
                }
              }
            });
          }
        });
      };
      var removeErrorMessage = function removeErrorMessage(specificField) {
        // Remove any old-style error messages
        var errorElements = document.querySelectorAll("." + selectors.trackFailedClass);
        Array.from(errorElements).forEach(function (el) {
          el.remove();
        });

        // Clean up tracking input field error state
        var trackingField = specificField || document.querySelector("input[name='" + selectors.trackingNumFieldName + "']");
        if (trackingField) {
          trackingField.classList.remove(selectors.trackingInputError);
          trackingField.setAttribute("aria-invalid", "false");

          // Find the error text field (span) and restore original text if we modified it
          var errorField = trackingField.parentNode.querySelector(selectors.fieldErrorText);
          var hintField = trackingField.parentNode.querySelector(selectors.fieldHintText);
          if (errorField) {
            var errorSpan = errorField.querySelector("span");
            if (errorSpan && errorSpan.dataset.originalText) {
              // Restore the original span text
              errorSpan.textContent = errorSpan.dataset.originalText;
              // Remove the stored data since it's restored
              delete errorSpan.dataset.originalText;
            }
            errorField.classList.remove("show");
          }
          if (hintField) {
            hintField.classList.remove("hide");
          }
        }
      };
      var showErrorMessage = function showErrorMessage(specificField) {
        // Find the tracking input field that failed validation
        var trackingField = specificField || document.querySelector("input[name='" + selectors.trackingNumFieldName + "']");
        if (!trackingField) {
          return;
        }

        // Add error class to the input field
        trackingField.classList.add(selectors.trackingInputError);
        trackingField.setAttribute("aria-invalid", "true");

        // Find the error text field (span)
        var errorField = trackingField.parentNode.querySelector(selectors.fieldErrorText);
        var hintField = trackingField.parentNode.querySelector(selectors.fieldHintText);
        if (errorField) {
          var errorSpan = errorField.querySelector("span");
          if (errorSpan) {
            // Store the original text before overwriting it
            if (!errorSpan.dataset.originalText) {
              errorSpan.dataset.originalText = errorSpan.textContent;
            }
            // Set our custom message
            errorSpan.textContent = trackFailedMessage;
          }

          // Show error field and hide hint field
          errorField.classList.add("show");
          if (hintField) {
            hintField.classList.add("hide");
          }

          // Set focus to the field
          trackingField.focus();
        }
      };
      var targetEventListener = function targetEventListener() {
        document.addEventListener("readystatechange", function (evt) {
          try {
            setTimeout(function () {
              var isTargetEnabled = typeof adobe != "undefined" && typeof adobe.target != "undefined" && typeof adobe.target.VERSION != "undefined";
              var atElementMarker = document.querySelector(".at-element-marker");
              var trackingElements = atElementMarker ? atElementMarker.parentNode.querySelectorAll(".root.responsivegrid " + FDX.components.track.selector) : [];
              if (document.readyState === "complete" && isTargetEnabled && atElementMarker != null && trackingElements.length > 0) {
                var script = document.createElement("script");
                script.src = window.location.protocol + "//" + window.location.hostname + "/etc.clientlibs/clientlibs/fedex/components/input.min.js";
                script.onload = function () {
                  addGlobalEventListeners();
                  FDX.components.track.createInstances();
                };
                script.onerror = function () {
                  // Script failed to load
                };
                document.head.appendChild(script);
              }
            }, 300);
          } catch (err) {
            // Error in targetEventListener
          }
        });
      };
      /**
       * Bind interactions events
       *
       * @private
       */
      var bindInteractions = function bindInteractions() {
        window.addEventListener("resize", function (e) {
          duplicateIDUpdate();
          // Handle focus restoration for any tracking input field (original or numbered)
          var trackingNumElement = document.querySelector('input[name="trackingNumber"]:focus');
          if (trackingNumElement && typeof direction !== "undefined" && direction != "back") {
            var k = trackingNumElement;
            setTimeout(function () {
              k.focus();
            }, 0);
          }
        });
        addGlobalEventListeners();
      };

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_root] compnent root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      var init = function init(_root) {
        var promise = new Promise(function (resolve) {
          root = unwrapElement(_root);
          bindInteractions();
          removeErrorMessage();
          targetEventListener();
          if (root && root.dataset) {
            root.dataset.initialized = "true";
          }
          resolve();
        });
        return promise;
      };

      /**
       * Get component element
       *
       * @public
       * @return {Object} DOM element
       */
      var getElement = function getElement() {
        return root;
      };

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        doTrackModule: doTrackModule,
        duplicateIDUpdate: duplicateIDUpdate,
        removeErrorMessage: removeErrorMessage,
        showErrorMessage: showErrorMessage,
        validateField: validateField,
        doTrackApp: doTrackApp,
        getElement: getElement
      };

      // pass private attributes and methods to jest
      if (typeof jest !== "undefined") {
        doTrackModule = jest.fn(doTrackModule);
        duplicateIDUpdate = jest.fn(duplicateIDUpdate);
        removeErrorMessage = jest.fn(removeErrorMessage);
        showErrorMessage = jest.fn(showErrorMessage);
        validateField = jest.fn(validateField);
        doTrackApp = jest.fn(doTrackApp);
        bindInteractions = jest.fn(bindInteractions);
        instance.$private = function () {
          return {
            root: root,
            selectors: selectors,
            doTrackModule: doTrackModule,
            duplicateIDUpdate: duplicateIDUpdate,
            removeErrorMessage: removeErrorMessage,
            showErrorMessage: showErrorMessage,
            validateField: validateField,
            doTrackApp: doTrackApp,
            bindInteractions: bindInteractions
          };
        };
      }
      instances.push(instance);
      return instance;
    };

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selectors.trackingModule,
      trackFailedClass: selectors.trackFailedClass,
      trackFailedMessage: trackFailedMessage,
      trackingNumFieldName: selectors.trackingNumFieldName,
      headerTrackingModuleCls: selectors.headerTrackingModuleCls,
      homeTrackingAppID: selectors.homeTrackingAppID
    };
  }();
})();

/***/ }),

/***/ 7280:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 7303:
/***/ (function() {

/**
 * Form - Date Picker
 *
 * Date picker field in basic form component
 */

(function ($, _) {
  window.FDX.components.form_datepicker = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '';

    /**
     * Create component instance
     *
     * @public
     * @param {Object} _parent - parent form
     * @return {Object} instance
     */
    function create(_parent) {
      /**
       * @type {Object} parent form
       */
      var parent = _parent;

      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * @type {Object} jQuery DOM input element
       */
      var $input = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {
          id: '',
          type: '',
          key: '',
          title: '',
          order: '',
          required: '',
          format: '',
          minDays: '',
          maxDays: ''
        };
        config = $.extend({}, defaultConfig, _config);
      }

      /**
       * Get configuration
       *
       * @public
       * @return {Object} configuration key/value pair
       */
      function getConfig() {
        return config;
      }

      /**
       * Bind interactions
       *
       * @private
       */
      function bindInteractions() {
        // validate on blur
        $input.on('blur', function (event) {
          isValid();
        });

        // start interaction
        $input.on('change', function (event) {
          _parent.startInteraction();
        });
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;
        $input = $root.find('input');

        // set min date
        if (typeof config.minDays === 'number') {
          var d = new Date();
          d.setDate(d.getDate() - config.minDays);
          var minDate = d.toISOString().split('T')[0];
          $input.attr('min', minDate);
        }

        // set max date
        if (typeof config.maxDays === 'number') {
          var _d = new Date();
          _d.setDate(_d.getDate() + config.maxDays);
          var maxDate = _d.toISOString().split('T')[0];
          $input.attr('max', maxDate);
        }

        // bind interactions
        bindInteractions();

        // initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      /**
       * Get field value
       *
       * @public
       * @param {string} format
       * @return {string} field value
       */
      function getValue(format) {
        var value = $input.val();
        if (value) {
          var yyyymmdd = value.split('-');
          value = config.format.replace('dd', yyyymmdd[2]).replace('mm', yyyymmdd[1]).replace('yy', yyyymmdd[0]);
        }
        return value;
      }

      /**
       * Set field value
       *
       * @public
       * @param {string} field value
       */
      function setValue(value) {
        $input.val(value);
      }

      /**
       * Is the field valid
       *
       * @public
       * @return {boolean} returns true if valid
       */
      function isValid() {
        var valid = !config.required || !!$input.val().trim();
        toggleError(!valid, parent.getConfig().msg_required);
        return valid;
      }

      /**
       * Toggle field error status
       *
       * @private
       * @param {boolean} toggle show/hide
       * @param {string} error message
       */
      function toggleError(toggle, error) {
        $root.find('.fxg-form__error').text(error);
        $root.find('div.cc-aem-c-form').toggleClass('cc-aem-c-form--is-invalid', toggle);
        $root.find('.cc-aem-c-form__message').toggleClass('cc-aem-u-display--none', !toggle);
        if (toggle) parent.trackError('validation', config.id, error);
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        getConfig: getConfig,
        init: init,
        getElement: getElement,
        getValue: getValue,
        setValue: setValue,
        isValid: isValid
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        isValid = jest.fn(isValid);
        toggleError = jest.fn(toggleError);
        instance.$private = function () {
          return {
            isValid: isValid,
            toggleError: toggleError
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();

      // We always create and initialize this component through form component.
      // Therefore this component does not need to be initialized through bootstrap.
      promise.resolve();
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _);

/***/ }),

/***/ 7399:
/***/ (function() {

/**
 * Form - Conditional Section
 *
 * Conditional Section field in basic form component
 */

(function ($, _, $services) {
  window.FDX.components.form_conditional_section = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '';

    /**
     * Create component instance
     *
     * @public
     * @param {Object} _parent - parent form
     * @return {Object} instance
     */
    function create(_parent) {
      /**
       * @type {Object} parent form
       */
      var parent = _parent;

      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * @type {Object} jQuery DOM input element
       */
      var $input = null;

      /**
       * @type {Object[]} loaded fields
       */
      var loadedFields = [];

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {
          id: '',
          type: '',
          key: '',
          title: '',
          order: '',
          required: ''
        };
        config = $.extend({}, defaultConfig, _config);
      }

      /**
       * Get configuration
       *
       * @public
       * @return {Object} configuration key/value pair
       */
      function getConfig() {
        return config;
      }

      /**
       * Bind interactions
       *
       * @private
       */
      function bindInteractions() {
        // fetch content and validate on change
        $input.on('change', function (event) {
          // fetch content
          var contentPath = (FDX.contextPath || '') + $(this).find('option:selected').data('contentPath');
          fetchContent(contentPath);

          // validate
          isValid();

          // start interaction
          _parent.startInteraction();
        });
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;
        $input = $root.find('select');

        // bind interactions
        bindInteractions();

        // initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      /**
       * Get field value
       *
       * @public
       * @param {string} format
       * @return {string} field value
       */
      function getValue(format) {
        return $input.val() || '';
      }

      /**
       * Set field value
       *
       * @public
       * @param {string} field value
       */
      function setValue(value) {
        $input.val(value);
      }

      /**
       * Is the field valid
       *
       * @public
       * @return {boolean} returns true if valid
       */
      function isValid() {
        var valid = !config.required || !!$input.val();
        toggleError(!valid, parent.getConfig().msg_required);
        return valid;
      }

      /**
       * Toggle field error status
       *
       * @private
       * @param {boolean} toggle show/hide
       * @param {string} error message
       */
      function toggleError(toggle, error) {
        $root.find('.fxg-form__error').text(error);
        $root.toggleClass('cc-aem-c-form--is-invalid', toggle);
        $root.find('.cc-aem-c-form__message').toggleClass('cc-aem-u-display--none', !toggle);
        if (toggle) parent.trackError('validation', config.id, error);
      }

      /**
       * Fetch the content and add to DOM
       *
       * @private
       * @param {string} contentPath path of content to be fetched
       */
      function fetchContent(contentPath) {
        // show loader
        toggleLoader(true);

        // lets delete previously loaded fields from parent
        loadedFields.forEach(function (field) {
          var id = field.getConfig().id;
          delete parent.fields[id];
        });

        // load content
        $services.fetch.ajax(contentPath, '', {
          'dataType': 'html'
        }).then(function (res) {
          // hide loader
          toggleLoader(false);

          // show content
          var content = $('<div/>').append(res).find('.js-cms-conditional-form-template');
          $root.find('.fxg-form__conditional__content').empty().append(content);

          // init fields
          loadedFields = parent.initFields();
        }).fail(function () {
          // hide loader
          toggleLoader(false);
        });
      }

      /**
       * Toggle loader
       *
       * @private
       * @param {boolean} toggle to show / hide loader animation
       */
      function toggleLoader(toggle) {
        $root.find('.fxg-form__conditional__loader').toggleClass('cc-aem-u-display--none', !toggle);
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        getConfig: getConfig,
        init: init,
        getElement: getElement,
        getValue: getValue,
        setValue: setValue,
        isValid: isValid
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        isValid = jest.fn(isValid);
        toggleError = jest.fn(toggleError);
        instance.$private = function () {
          return {
            isValid: isValid,
            toggleError: toggleError
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();

      // We always create and initialize this component through form component.
      // Therefore this component does not need to be initialized through bootstrap.
      promise.resolve();
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _, FDX.services);

/***/ }),

/***/ 7593:
/***/ (function() {

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
/**
* Pods Container
*
* This component is created for demonstration purpose
*/

(function () {
  var FDX = window.FDX || {};
  FDX.components = FDX.components || {};
  FDX.components.pods = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];
    var podsSelector = {
      /**
       * @type {string} root selector
       */
      selector: '.fxg-pods',
      /**
       * @type {string} Carousel Class selector
       */
      carouselClass: 'fxg-swipe',
      /**
       * @type {string} Carousel Active Class selector
       */
      carouselActiveClass: 'fxg-swipe--active',
      /**
       * @type {string} Carousel Wrapper Class selector
       */
      carouselWrapperClass: 'fxg-swipe__wrapper',
      /**
       * @type {string} Carousel Item Class selector
       */
      carouselItemClass: 'fxg-swipe__item',
      /**
       * @type {string} Carousel indicator Class selector
       */
      carouselIndicatorClass: 'fxg-slider__indecator',
      /**
       * @type {string} Carousel Indicator WrapperClass selector
       */
      carouselIndicatorWrapperClass: 'fxg-slider__indecators',
      /**
       * @type {string} Pods Container selector
       */
      podsClass: 'fxg-pods',
      /**
       * @type {boolean} Initial Move selector
       */
      initialMove: true,
      /**
       * @type {string} Carousel Setting Class selector
       */
      carouselsetting: "carouselsetting"
    };

    /**
      * Show hide for authonticated PODS
      *
      * @private
      */
    var showHideAuthenticatedPods = function showHideAuthenticatedPods() {
      var authenticatedPods = document.querySelectorAll('.cc-aem-logged-pods');
      if (FDX.SESSION.userAuthenticated) {
        authenticatedPods.forEach(function (pod) {
          pod.classList.remove('cc-aem-u-display--none');
          var previousElement = pod.previousElementSibling;
          if (previousElement) {
            previousElement.classList.add('cc-aem-u-display--none');
          }
        });
      } else {
        authenticatedPods.forEach(function (pod) {
          pod.classList.add('cc-aem-u-display--none');
          var previousElement = pod.previousElementSibling;
          if (previousElement) {
            previousElement.classList.remove('cc-aem-u-display--none');
          }
        });
      }
    };
    /**
      * Initialising Carosoul
      *
      * @public
      */
    var initCarousel = function initCarousel() {
      var activeIndicator = 0;
      var podsElements = document.querySelectorAll('.fxg-pods .fxg-swipe');
      podsElements.forEach(function (element) {
        var items = element.querySelectorAll('.fxg-swipe__item');
        var itemCount = items.length;
        if (itemCount > 1) {
          // Only activate carousel on more than one item
          element.setAttribute('data-count', itemCount);
          var setUpIndicator = function setUpIndicator(index) {
            activeIndicator = index % items.length;
            var indicators = element.querySelectorAll('.fxg-slider__indecator');
            indicators.forEach(function (indicator, i) {
              indicator.classList.toggle('active', i === activeIndicator);
            });
          };
          var configRightToLeftValue = {
            rightToLeftValue: false
          };
          var podsConfigElement = document.querySelector('[data-config="js-pods-container-config"]');
          var offerConfigElement = document.querySelector('[data-config="js-offer-container-config"]');
          if (podsConfigElement) {
            configRightToLeftValue = JSON.parse(podsConfigElement.textContent.trim());
          } else if (offerConfigElement) {
            configRightToLeftValue = JSON.parse(offerConfigElement.textContent.trim());
          }
          var options = {
            auto: 0,
            draggable: true,
            autoRestart: false,
            disableScroll: false,
            continuous: itemCount === 2,
            callback: setUpIndicator,
            direction: configRightToLeftValue.rightToLeftValue === true ? 'rtl' : 'ltr'
          };
          FDX.SWIPE.init(element, null, options);
          element.classList.add('fxg-swipe--active');
          var indicatorWrapper = document.createElement('ul');
          indicatorWrapper.className = 'fxg-slider__indecators';
          element.appendChild(indicatorWrapper);
          for (var i = 0; i < itemCount; i++) {
            var indicator = document.createElement('li');
            indicator.className = 'fxg-slider__indecator';
            indicator.setAttribute('data-index', i);
            if (i === activeIndicator) {
              indicator.classList.add('active');
            }
            indicatorWrapper.appendChild(indicator);
          }
          if (itemCount === 2) {
            items.forEach(function (item, i) {
              if (i > 1) {
                var players = item.querySelectorAll('.fxg-ooyala-player');
                players.forEach(function (player) {
                  var newId = "".concat(player.id, "dup");
                  player.id = newId;
                  player.setAttribute('data-container-id', newId);
                });
              }
            });
          }
        }
      });
    };

    /**
      * Customised Pod for arrow and key
      *
      * @public
      */
    var customizePods = function customizePods() {
      var _FDX$BREAKPOINTS;
      var indicators = document.querySelectorAll(".".concat(podsSelector.carouselIndicatorClass));
      indicators.forEach(function (indicator) {
        indicator.addEventListener('click', function () {
          var activeIndex = indicator.parentElement.querySelector(".".concat(podsSelector.carouselIndicatorClass, ".active")).getAttribute('data-index');
          FDX.components.pods.slideOnIndecatorClick(indicator, indicator.getAttribute('data-index'), activeIndex);
        });
      });
      var settings = document.querySelectorAll(".".concat(podsSelector.carouselsetting));
      settings.forEach(function (setting) {
        setting.addEventListener('keydown', function (e) {
          var keyCode = e.keyCode || e.which;
          if ([9, 37, 39].includes(keyCode)) {
            var parent = setting.parentElement;
            var activeIndex = parent.querySelector(".".concat(podsSelector.carouselIndicatorClass, ".active")).getAttribute('data-index');
            var targetIndex = e.target.parentElement.getAttribute('data-index');
            parent.querySelector(".".concat(podsSelector.carouselIndicatorClass)).click();
            FDX.components.pods.slideOnIndecatorClick(setting, targetIndex, activeIndex);
            var _indicators = parent.parentElement.querySelectorAll(".".concat(podsSelector.carouselIndicatorClass));
            _indicators.forEach(function (indicator) {
              return indicator.classList.remove('active');
            });
            _indicators[targetIndex].classList.add('active');
          }
        });
      });
      var mediaQuery = (_FDX$BREAKPOINTS = FDX.BREAKPOINTS) === null || _FDX$BREAKPOINTS === void 0 ? void 0 : _FDX$BREAKPOINTS.getMobileMediaQuery();
      if (mediaQuery) {
        mediaQuery.addEventListener('change', FDX.components.pods.initMobileCarousel);
      }
      var configRightToLeftValue = {
        rightToLeftValue: false
      };
      var podsConfigElement = document.querySelector('[data-config="js-pods-container-config"]');
      var offerConfigElement = document.querySelector('[data-config="js-offer-container-config"]');
      if (podsConfigElement) {
        configRightToLeftValue = JSON.parse(podsConfigElement.textContent.trim());
      } else if (offerConfigElement) {
        configRightToLeftValue = JSON.parse(offerConfigElement.textContent.trim());
      }
      if (configRightToLeftValue.rightToLeftValue) {
        var items = document.querySelectorAll('.fxg-pods .fxg-swipe__item');
        items.forEach(function (item) {
          var style = item.getAttribute('style');
          if (style && style.includes('left')) {
            style = style.replace('left', 'right');
            item.setAttribute('style', style);
          }
        });
      }
      var paragraphs = document.querySelectorAll('.fxg-pods .fxg-col p');
      paragraphs.forEach(function (paragraph) {
        if (paragraph.textContent.trim().length === 0) {
          paragraph.style.marginBottom = '0';
        }
      });
    };

    /**
    * Intitialisation for mobile slider
    *
    * @param {MediaQueryList | undefined} mq - The media query list object representing the mobile media query.
    * @public
    */
    var initMobileCarousel = function initMobileCarousel(mq) {
      if (mq) {
        if (mq.matches) {
          // if mobile
          FDX.components.pods.initCarousel();
          var indicators = document.querySelectorAll(".".concat(podsSelector.carouselIndicatorClass));
          indicators.forEach(function (indicator) {
            indicator.addEventListener('click', function () {
              var activeIndex = indicator.parentElement.querySelector(".".concat(podsSelector.carouselIndicatorClass, ".active")).getAttribute('data-index');
              FDX.components.pods.slideOnIndecatorClick(indicator, indicator.getAttribute('data-index'), activeIndex);
            });
          });
        } else {
          FDX.components.pods.destroyCarousel();
        }
      }
    };

    /**
    * Slide on swipe 
    *
    * @private
    * 
    * @param {HTMLElement} element - The HTML element representing the clicked carousel indicator.
    * @param {number} index - The index of the clicked indicator.
    * @param {number} activeIndex - The index of the currently active indicator.
    * @returns {void}
    */
    var slideOnIndecatorClick = function slideOnIndecatorClick(element, index, activeIndex) {
      var _carouselItems$;
      var activeSwipe = element.closest('.fxg-swipe');
      /**
      * jQuery is needed here because the Swipe instance is stored using jQuery's data() method.
      * This data cannot be accessed via standard DOM properties and requires jQuery to retrieve.
      * Full removal of jQuery would require modifying the FDX.SWIPE implementation and will be done in the future.
      */
      var dataSwipe = window.jQuery(activeSwipe).data('Swipe');
      var carouselItems = activeSwipe === null || activeSwipe === void 0 ? void 0 : activeSwipe.querySelectorAll(".".concat(podsSelector.carouselItemClass));
      var width = (carouselItems === null || carouselItems === void 0 || (_carouselItems$ = carouselItems[0]) === null || _carouselItems$ === void 0 ? void 0 : _carouselItems$.offsetWidth) || 0;
      podsSelector.initialMove = activeIndex !== index;
      if (podsSelector.initialMove && dataSwipe) {
        dataSwipe.move(index, width);
      }
      if (dataSwipe) {
        dataSwipe.slide(index);
      }
    };

    /**
    * Destroy Carousel
    *
    * @private
    */
    var destroyCarousel = function destroyCarousel() {
      var swipeElements = document.querySelectorAll(".".concat(podsSelector.carouselClass, ".").concat(podsSelector.carouselActiveClass));
      swipeElements.forEach(function (element) {
        return element.classList.remove(podsSelector.carouselActiveClass);
      });
      var indicatorWrappers = document.querySelectorAll(".".concat(podsSelector.carouselIndicatorWrapperClass));
      indicatorWrappers.forEach(function (wrapper) {
        return wrapper.remove();
      });
      var carouselWrappers = document.querySelectorAll(".".concat(podsSelector.carouselWrapperClass));
      carouselWrappers.forEach(function (wrapper) {
        var itemCount = wrapper.parentElement.getAttribute('data-count');
        var children = Array.from(wrapper.children);
        if (itemCount < children.length) {
          var newChildren = children.slice(0, 2);
          wrapper.innerHTML = '';
          newChildren.forEach(function (child) {
            return wrapper.appendChild(child);
          });
        }
      });
      if (FDX.SWIPE && typeof FDX.SWIPE.destroy === 'function') {
        FDX.SWIPE.destroy();
      }
    };

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    var create = function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {HTMLElement} DOM root element
       */
      var root = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      var setConfig = function setConfig(_config) {
        var defaultConfig = {};
        config = _objectSpread(_objectSpread({}, defaultConfig), _config);
      };

      /**
       * Bind interactions events
       *
       * @private
       */
      var bindInteractions = function bindInteractions() {
        FDX.components.pods.showHideAuthenticatedPods();

        // To load mobile carousel if Pods component is added through Target
        document.addEventListener('readystatechange', function (ev) {
          var _FDX$BREAKPOINTS2, _document$querySelect, _document$querySelect2;
          var isTargetEnabled = typeof adobe !== 'undefined' && typeof adobe.target !== 'undefined' && typeof adobe.target.VERSION !== 'undefined';
          if (document.readyState === 'complete' && window.innerWidth <= ((_FDX$BREAKPOINTS2 = FDX.BREAKPOINTS) === null || _FDX$BREAKPOINTS2 === void 0 ? void 0 : _FDX$BREAKPOINTS2.MobileMediaQuery) && isTargetEnabled && document.querySelector('.at-element-marker') && (_document$querySelect = (_document$querySelect2 = document.querySelector('.at-element-marker')).siblings) !== null && _document$querySelect !== void 0 && _document$querySelect.call(_document$querySelect2).find('.root.responsivegrid>.aem-Grid .pods_container .fxg-pods')) {
            FDX.components.pods.initCarousel();
          }
        });
      };

      /**
       * Initialize component instance
       *
       * @public
       * @param {HTMLElement} [_root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      var init = function init(_root) {
        return new Promise(function (resolve) {
          root = _root;

          // Bind interactions
          bindInteractions();

          // Mark as initialized
          root.dataset.initialized = true;
          resolve();
        });
      };

      /**
       * Get component element
       *
       * @public
       * @return {HTMLElement} DOM element
       */
      var getElement = function getElement() {
        return root;
      };

      // Add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement,
        showHideAuthenticatedPods: FDX.components.pods.showHideAuthenticatedPods
      };

      // Pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        instance.$private = function () {
          return {
            bindInteractions: bindInteractions,
            customizePods: FDX.components.pods.customizePods,
            initMobileCarousel: FDX.components.pods.initMobileCarousel,
            initCarousel: FDX.components.pods.initCarousel,
            destroyCarousel: FDX.components.pods.destroyCarousel,
            slideOnIndecatorClick: FDX.components.pods.slideOnIndecatorClick,
            showHideAuthenticatedPods: FDX.components.pods.showHideAuthenticatedPods
          };
        };
      }
      instances.push(instance);
      return instance;
    };

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    var createInstances = function createInstances() {
      var promise = new Promise(function (resolve) {
        var _FDX$BREAKPOINTS3;
        var initPromises = [];
        if (window.innerWidth <= ((_FDX$BREAKPOINTS3 = FDX.BREAKPOINTS) === null || _FDX$BREAKPOINTS3 === void 0 ? void 0 : _FDX$BREAKPOINTS3.MobileMediaQuery)) {
          FDX.components.pods.initCarousel();
        }
        FDX.components.pods.customizePods();

        // Find all related elements
        var elements = document.querySelectorAll(podsSelector.selector);
        elements.forEach(function (element) {
          // Skip already initialized elements
          if (element.dataset.initialized) return;

          // Create instance
          var instance = window.FDX.components.pods.create();

          // Set configuration
          var configElement = document.querySelector('[data-config="js-pods-container-config"]');
          if (configElement) {
            instance.setConfig(JSON.parse(configElement.textContent.trim()));
          }

          // Initialize instance
          var initPromise = instance.init(element);
          initPromises.push(initPromise);
        });

        // Resolve after all inits
        Promise.all(initPromises).then(function () {
          resolve();
        });
      });
      return promise;
    };

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: podsSelector.selector,
      carouselClass: podsSelector.carouselClass,
      carouselActiveClass: podsSelector.carouselActiveClass,
      carouselWrapperClass: podsSelector.carouselWrapperClass,
      carouselItemClass: podsSelector.carouselItemClass,
      carouselIndicatorClass: podsSelector.carouselIndicatorClass,
      carouselIndicatorWrapperClass: podsSelector.carouselIndicatorWrapperClass,
      podsClass: podsSelector.podsClass,
      initialMove: podsSelector.initialMove,
      carouselsetting: podsSelector.carouselsetting,
      showHideAuthenticatedPods: showHideAuthenticatedPods,
      initCarousel: initCarousel,
      customizePods: customizePods,
      initMobileCarousel: initMobileCarousel,
      slideOnIndecatorClick: slideOnIndecatorClick,
      destroyCarousel: destroyCarousel
    };
  }();
})();

/***/ }),

/***/ 7623:
/***/ (function() {

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }
function _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
(function () {
  /**
   * FDX Navigation Component
   * Handles mobile nav menu toggling, dropdowns, tracking, and interactions.
   * @namespace FDX.components.nav
   */
  window.FDX.components.nav = function () {
    /** @type {Array<Object>} */
    var instances = [];

    /** @constant {Object} */
    var NAV_SELECTOR = {
      selector: '.fxg-nav',
      mobileMenuBtnId: 'fxg-mobile-menu-btn',
      wrapperClass: 'fxg-nav',
      wrapperOpenClass: 'fxg-nav--mobile-menu-open fxg-wiki-nav--mobile-menu-open',
      isActiveClass: 'is-active'
    };

    /**
     * Updates the mobile menu button text.
     * @param {HTMLElement} button
     * @param {string} text
     */
    var updateMobileMenuBtnText = function updateMobileMenuBtnText(button, text) {
      var _button$children$;
      var firstChild = (_button$children$ = button.children[0]) === null || _button$children$ === void 0 ? void 0 : _button$children$.children[0];
      if (firstChild) {
        firstChild.textContent = text;
      }
    };

    /**
     * Updates the ARIA label for the mobile menu button.
     * @param {HTMLElement} button
     * @param {string} label
     */
    var updateMobileMenuBtnAriaLabel = function updateMobileMenuBtnAriaLabel(button, label) {
      button.setAttribute('aria-label', label);
    };
    var addClasses = function addClasses(el, classes) {
      if (el && classes !== null && classes !== void 0 && classes.length) {
        var _el$classList;
        (_el$classList = el.classList).add.apply(_el$classList, _toConsumableArray(Array.isArray(classes) ? classes : [classes]));
      }
    };
    var removeClasses = function removeClasses(el, classes) {
      if (el && classes !== null && classes !== void 0 && classes.length) {
        var _el$classList2;
        (_el$classList2 = el.classList).remove.apply(_el$classList2, _toConsumableArray(Array.isArray(classes) ? classes : [classes]));
      }
    };

    /**
     * Toggles wrapper class for mobile menu state.
     * @param {HTMLElement} el
     * @param {string[]} classes
     * @param {boolean} [add=true]
     */
    var toggleWrapperClass = function toggleWrapperClass(el, classes) {
      var add = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
      if (add) {
        addClasses(el, classes);
      } else {
        removeClasses(el, classes);
      }
    };

    /**
     * Resets the document's scroll position styles.
     */
    var resetPosition = function resetPosition() {
      document.documentElement.style.position = '';
      document.body.style.position = '';
    };

    /**
     * Handles dropdown behavior.
     * @param {Object} dropdown
     */
    var handleDropdown = function handleDropdown(dropdown) {
      if (dropdown) {
        dropdown.closeAllDropdowns();
        dropdown.showOverlay();
      }
    };

    /**
     * Closes the mobile nav.
     */
    var closeMobileNav = function closeMobileNav() {
      var mobileMenuBtn = document.getElementById(NAV_SELECTOR.mobileMenuBtnId);
      var wrapper = document.querySelector(".".concat(NAV_SELECTOR.wrapperClass));
      removeClasses(mobileMenuBtn, NAV_SELECTOR.isActiveClass);
      updateMobileMenuBtnAriaLabel(mobileMenuBtn, mobileMenuBtn.getAttribute("data-label-open"));
      toggleWrapperClass(wrapper, NAV_SELECTOR.wrapperOpenClass.split(' '), false);
      updateMobileMenuBtnText(mobileMenuBtn, 'Menu');
      resetPosition();
    };

    /**
     * Creates a new nav instance.
     * @returns {Object}
     */
    var create = function create() {
      var config = {};
      var root = null;

      /**
       * Merges default and custom config.
       * @param {Object} _config
       * @returns {Object}
       */
      var setConfig = function setConfig(_config) {
        var defaultConfig = {};
        return _objectSpread(_objectSpread({}, defaultConfig), _config);
      };

      /**
       * Opens the mobile nav.
       */
      var openMobileNav = function openMobileNav() {
        var mobileMenuBtn = document.getElementById(NAV_SELECTOR.mobileMenuBtnId);
        var wrapper = document.querySelector(".".concat(NAV_SELECTOR.wrapperClass));
        handleDropdown(FDX.components.dropdown);
        if (mobileMenuBtn) {
          addClasses(mobileMenuBtn, NAV_SELECTOR.isActiveClass);
          updateMobileMenuBtnAriaLabel(mobileMenuBtn, mobileMenuBtn.getAttribute("data-label-close"));
          updateMobileMenuBtnText(mobileMenuBtn, 'Close');
        }
        if (wrapper) {
          toggleWrapperClass(wrapper, NAV_SELECTOR.wrapperOpenClass.split(' '), true);
        }
      };

      /**
       * Handles search input and redirects based on input value.
       */
      var schLoadTracking = function schLoadTracking() {
        var _document$getElementB, _document$getElementB2, _document$getElementB3, _FDX$DATALAYER, _FDX$DATALAYER2, _FDX$DATALAYER3, _FDX$DATALAYER4;
        var trackNumInput = (_document$getElementB = document.getElementById('fxg-search-text')) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.value.trim();
        var trackUrl = ((_document$getElementB2 = document.getElementById('fxg-track-url')) === null || _document$getElementB2 === void 0 ? void 0 : _document$getElementB2.value) || '';
        var searchURL = ((_document$getElementB3 = document.getElementById('fxg-search-url')) === null || _document$getElementB3 === void 0 ? void 0 : _document$getElementB3.value) || '';
        if (!trackNumInput) return;
        var dtTrackNum = trackNumInput.replace(/\s/g, '');
        var isNumeric = FDX.services.utils.isNumeric;
        var isDtTrackNum = dtTrackNum.slice(0, 2).toLowerCase() === 'dt' && isNumeric(dtTrackNum.slice(2)) && dtTrackNum.slice(2).length === 12;
        var host = typeof FDX_HOSTNAME !== 'undefined' && FDX_HOSTNAME ? FDX_HOSTNAME : window.location.host;
        var countryCode = ((_FDX$DATALAYER = FDX.DATALAYER) === null || _FDX$DATALAYER === void 0 || (_FDX$DATALAYER = _FDX$DATALAYER.page) === null || _FDX$DATALAYER === void 0 ? void 0 : _FDX$DATALAYER.country) || 'us';
        var isStandardTracking = isNumeric(trackNumInput) && trackNumInput.length > 5 && trackNumInput.length < 30;
        var baseTrackUrl = "https://".concat(host).concat(trackUrl || '/apps/fedextrack/');
        var trackQueryParams = "?action=track&tracknumbers=".concat(encodeURIComponent(trackNumInput), "&cntry_code=").concat(countryCode, "&wsch=true");
        var fullTrackUrl = "".concat(baseTrackUrl).concat(trackQueryParams);
        if (isDtTrackNum || isStandardTracking) {
          window.location.href = fullTrackUrl;
          return;
        }
        FDX.DTM.updateSearchTerm();
        var locale = (_FDX$DATALAYER2 = FDX.DATALAYER) === null || _FDX$DATALAYER2 === void 0 || (_FDX$DATALAYER2 = _FDX$DATALAYER2.page.pageInfo) === null || _FDX$DATALAYER2 === void 0 ? void 0 : _FDX$DATALAYER2.locale;
        var lang = (_FDX$DATALAYER3 = FDX.DATALAYER) === null || _FDX$DATALAYER3 === void 0 || (_FDX$DATALAYER3 = _FDX$DATALAYER3.page.pageInfo) === null || _FDX$DATALAYER3 === void 0 ? void 0 : _FDX$DATALAYER3.language;
        var region = (_FDX$DATALAYER4 = FDX.DATALAYER) === null || _FDX$DATALAYER4 === void 0 || (_FDX$DATALAYER4 = _FDX$DATALAYER4.page.pageInfo) === null || _FDX$DATALAYER4 === void 0 ? void 0 : _FDX$DATALAYER4.country;
        if (trackNumInput) {
          var firstQueryMeta = {
            value: trackNumInput,
            enableQuerySyntax: false,
            analytics: {
              cause: 'omniboxFromLink'
            }
          };
          localStorage.setItem('coveo-standalone-search-box-data', JSON.stringify(firstQueryMeta));
          var payload = {
            gdl: {
              category: 'search',
              eventName: 'submit',
              params: {
                searchTerm: trackNumInput,
                searchBar: 'global-header'
              }
            }
          };
          FDX.services.analytics.push(payload);
          var customSearchUrl = "".concat(window.location.protocol, "//").concat(host, "/").concat(lang, "-").concat(region, "/").concat(searchURL || 'search.html', "?cc=").concat(locale);
          window.location.href = customSearchUrl;
        }
      };

      /**
       * Binds interaction events for nav controls.
       */
      var bindInteractions = function bindInteractions() {
        var mobileMenuBtn = document.getElementById(NAV_SELECTOR.mobileMenuBtnId);
        var searchHeader = document.getElementById('fxg-search-header');
        var searchIcon = document.getElementById('fxg-search-icon');
        var skipToMainContent = document.querySelectorAll('.fxg-skip-to-main-content');
        if (mobileMenuBtn) {
          mobileMenuBtn.addEventListener('click', onMobileMenuBtnClick);
        }
        if (searchHeader) {
          searchHeader.addEventListener('submit', function (e) {
            e.preventDefault();
            schLoadTracking();
          });
        }
        if (searchIcon) {
          searchIcon.addEventListener('click', function () {
            schLoadTracking();
          });
        }
        skipToMainContent.forEach(function (element) {
          element.addEventListener('click', handleSkipToMainContent);
          element.addEventListener('keydown', handleSkipToMainContent);
        });
      };

      /**
       * Handles click on mobile menu button.
       * @param {Event} e
       */
      var onMobileMenuBtnClick = function onMobileMenuBtnClick(e) {
        var _FDX;
        var mobileMenuBtn = document.getElementById(NAV_SELECTOR.mobileMenuBtnId);
        if (!mobileMenuBtn) return;
        var isActive = mobileMenuBtn.classList.contains(NAV_SELECTOR.isActiveClass);
        var utilitynav = (_FDX = FDX) === null || _FDX === void 0 || (_FDX = _FDX.components) === null || _FDX === void 0 ? void 0 : _FDX.utilitynav;
        var searchResults = document.querySelector(".".concat(utilitynav === null || utilitynav === void 0 ? void 0 : utilitynav.searchResultsClass));
        if (isActive) {
          if (searchResults !== null && searchResults !== void 0 && searchResults.classList.contains(utilitynav === null || utilitynav === void 0 ? void 0 : utilitynav.searchResultsShowClass)) {
            searchResults.classList.remove(utilitynav.searchResultsShowClass);
          }
          closeMobileNav();
          FDX.components.dropdown.hideOverlay();
        } else {
          openMobileNav();
          FDX.components.dropdown.showOverlay();
        }
      };

      /**
       * Handles "skip to main content" accessibility shortcut.
       * @param {Event} e
       */
      var handleSkipToMainContent = function handleSkipToMainContent(e) {
        if (e.type === 'click' || e.key === 'Enter' || e.keyCode === 13) {
          e.preventDefault();
          var isVisible = function isVisible(element) {
            var style = window.getComputedStyle(element);
            return style.display !== 'none' && style.visibility !== 'hidden' && style.opacity !== '0' && !element.hidden && element.offsetWidth > 0 && element.offsetHeight > 0;
          };
          var container = document.querySelector('.root.responsivegrid');
          var focusableElements = container === null || container === void 0 ? void 0 : container.querySelectorAll('button, [href], input:not([disabled]), select, textarea, [tabindex]:not([tabindex="-1"])');
          var firstFocusableElement = Array.from(focusableElements || []).find(isVisible);
          if (firstFocusableElement) {
            firstFocusableElement.focus();
          }
        }
      };

      /**
       * Cleans up event listeners and disposes the instance.
       */
      var dispose = function dispose() {
        var mobileMenuBtn = document.getElementById(NAV_SELECTOR.mobileMenuBtnId);
        var searchHeader = document.getElementById('fxg-search-header');
        var searchIcon = document.getElementById('fxg-search-icon');
        var skipToMainContent = document.querySelectorAll('.fxg-skip-to-main-content');
        if (mobileMenuBtn) {
          mobileMenuBtn.removeEventListener('click', onMobileMenuBtnClick);
        }
        if (searchHeader) {
          searchHeader.removeEventListener('submit', schLoadTracking);
        }
        if (searchIcon) {
          searchIcon.removeEventListener('click', schLoadTracking);
        }
        skipToMainContent.forEach(function (element) {
          element.removeEventListener('click', handleSkipToMainContent);
          element.removeEventListener('keydown', handleSkipToMainContent);
        });
        var index = instances.indexOf(instance);
        if (index !== -1) {
          instances.splice(index, 1);
        }
      };

      /**
       * Initializes the component.
       * @returns {Promise<void>}
       */
      var init = function init(_root) {
        return new Promise(function (resolve) {
          root = _root;
          bindInteractions();
          if (root && typeof root.setAttribute === 'function') {
            root.setAttribute('data-initialized', 'true');
          }
          resolve();
        });
      };

      /**
       * Returns the root element.
       */
      var getElement = function getElement() {
        return root;
      };
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement,
        openMobileNav: openMobileNav,
        schLoadTracking: schLoadTracking,
        dispose: dispose
      };
      if (typeof jest !== 'undefined') {
        bindInteractions = jest.fn(bindInteractions);
        openMobileNav = jest.fn(openMobileNav);
        closeMobileNav = jest.fn(closeMobileNav);
        schLoadTracking = jest.fn(schLoadTracking);
        dispose = jest.fn(dispose);
        onMobileMenuBtnClick = jest.fn(onMobileMenuBtnClick);
        instance.$private = function () {
          return {
            bindInteractions: bindInteractions,
            openMobileNav: openMobileNav,
            closeMobileNav: closeMobileNav,
            schLoadTracking: schLoadTracking,
            dispose: dispose,
            onMobileMenuBtnClick: onMobileMenuBtnClick,
            handleSkipToMainContent: handleSkipToMainContent
          };
        };
      }
      instances.push(instance);
      return instance;
    };

    /**
     * Initializes all instances of nav components on the page.
     * @returns {Promise<void>}
     */
    var createInstances = function createInstances() {
      return new Promise(function (resolve) {
        var initPromises = [];
        document.querySelectorAll(NAV_SELECTOR.selector).forEach(function (element) {
          if (element.getAttribute('data-initialized')) return;
          var instance = window.FDX.components.nav.create();
          var initPromise = instance.init(element);
          initPromises.push(initPromise);
          element.setAttribute('data-initialized', 'true');
        });
        Promise.all(initPromises).then(function () {
          return resolve();
        });
      });
    };
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: NAV_SELECTOR.selector,
      mobileMenuBtnId: NAV_SELECTOR.mobileMenuBtnId,
      wrapperClass: NAV_SELECTOR.wrapperClass,
      wrapperOpenClass: NAV_SELECTOR.wrapperOpenClass,
      isActiveClass: NAV_SELECTOR.isActiveClass,
      closeMobileNav: closeMobileNav
    };
  }();
})(FDX.services.analytics);

/***/ }),

/***/ 7724:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 7961:
/***/ (function() {

function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }
function _arrayWithHoles(r) { if (Array.isArray(r)) return r; }
/**
 * Loader Service
 *
 * Load and initialize components and services
 */

(function ($, _, window) {
  window.FDX.services.loader = function () {
    /**
     * Init service
     *
     * @public
     */
    function init() {}

    /**
     * Init services
     *
     * @public
     */
    function initServices() {
      // iterate through all services and initialize them
      for (var i in FDX.services) {
        FDX.services[i].init();
      }
    }

    /**
     * Init components
     *
     * @param {Object} compsToExclude - the list of component names to avoid creating instances
     * example: ["geolocator", "conditionalform"]
     * @public
     */
    function initComponents(compsToExclude) {
      // Avoid creating unnecessary multiple instances
      // for the components from "compsToExclude" list.
      var excludeList = compsToExclude || [];
      var validFDXComponents = Object.fromEntries(Object.entries(FDX.components).filter(function (_ref) {
        var _ref2 = _slicedToArray(_ref, 1),
          key = _ref2[0];
        return !excludeList.includes(key);
      }));

      // iterate through all components and create instances for each component
      for (var i in validFDXComponents) {
        validFDXComponents[i].createInstances();
      }
    }

    // return service
    return {
      init: init,
      initServices: initServices,
      initComponents: initComponents
    };
  }();
})(window.jQuery, window._, window);

/***/ }),

/***/ 8045:
/***/ (function() {

/**
 * Form - Radio
 *
 * Radio field in basic form component
 */

(function ($, _) {
  window.FDX.components.form_radio = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '';

    /**
     * Create component instance
     *
     * @public
     * @param {Object} _parent - parent form
     * @return {Object} instance
     */
    function create(_parent) {
      /**
       * @type {Object} parent form
       */
      var parent = _parent;

      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * @type {Object} jQuery DOM input element
       */
      var $input = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {
          id: '',
          type: '',
          key: '',
          title: '',
          order: ''
        };
        config = $.extend({}, defaultConfig, _config);
      }

      /**
       * Get configuration
       *
       * @public
       * @return {Object} configuration key/value pair
       */
      function getConfig() {
        return config;
      }

      /**
       * Bind interactions
       *
       * @private
       */
      function bindInteractions() {
        // start interaction
        $input.on('change', function (event) {
          _parent.startInteraction();
        });
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;
        $input = $root.find('input');

        // bind interactions
        bindInteractions();

        // initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      /**
       * Get field value
       *
       * @public
       * @param {string} format
       * @return {string} field value
       */
      function getValue(format) {
        return $root.find('input:checked').val();
      }

      /**
       * Set field value
       *
       * @public
       * @param {string} field value
       */
      function setValue(value) {
        $input.filter("[value=\"".concat(value, "\"]")).prop('checked', true);
      }

      /**
       * Is the field valid
       *
       * @public
       * @return {boolean} returns true if valid
       */
      function isValid() {
        var valid = true;
        toggleError(!valid, parent.getConfig().msg_required);
        return valid;
      }

      /**
       * Toggle field error status
       *
       * @private
       * @param {boolean} toggle show/hide
       * @param {string} error message
       */
      function toggleError(toggle, error) {
        $root.find('.fxg-form__error').text(error);
        $root.toggleClass('cc-aem-c-form--is-invalid', toggle);
        $root.find('div.cc-aem-c-form').toggleClass('cc-aem-c-form--is-invalid', toggle);
        $root.find('.cc-aem-c-form__message').toggleClass('cc-aem-u-display--none', !toggle);
        if (toggle) parent.trackError('validation', config.id, error);
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        getConfig: getConfig,
        init: init,
        getElement: getElement,
        getValue: getValue,
        setValue: setValue,
        isValid: isValid
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        isValid = jest.fn(isValid);
        toggleError = jest.fn(toggleError);
        instance.$private = function () {
          return {
            isValid: isValid,
            toggleError: toggleError
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();

      // We always create and initialize this component through form component.
      // Therefore this component does not need to be initialized through bootstrap.
      promise.resolve();
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _);

/***/ }),

/***/ 8142:
/***/ (function() {

/**
 * Hash Service
 *
 * checks for hash value of location and do the needful for resolved elements
 *
 * To consume this service in a component, please define checkHash method to validate the hash value
 * checkHash() returns Promise.
 * => if Promise resolves element you can scroll to this element.
 * => if Promise resolves null I dont use it, you can go to next element.
 */

(function ($, window) {
  window.FDX.services.hash = function () {
    /**
     * Init hash service
     * 
     * @public
     */
    function initHash() {
      var hashValue = window.location.hash.slice(1);
      if (hashValue === '') return;

      // Include components that needs to consume hash service
      // expample: ['tabs', 'accordion', 'jumplinks']
      var hashComponents = ['tabs'];
      for (var idxHash in hashComponents) {
        var component = hashComponents[idxHash];
        var instances = FDX.components[component].instances;
        for (var idx in instances) {
          var instance = instances[idx];
          if (!instance.hasOwnProperty('checkHash')) continue;
          instance.checkHash(hashValue).then(function ($element) {
            if ($element) {
              scrollToElement($($element));
              return;
            }
          });
        }
      }
    }

    /**
     * Init
     * 
     * @public
     */
    function init() {}

    /**
     * scroll To Element
     *
     * @private
     * @param {Object} $element DOM element
     * @return {Promise} A promise that resolves after the scoll is done
     */
    function scrollToElement($element) {
      var promise = $.Deferred();
      $('html, body').animate({
        scrollTop: $element.offset().top - FDX.components.header.height
      }, 500, function () {
        // resolve promise after animation
        promise.resolve();
      });
      return promise;
    }

    // return service
    return {
      init: init,
      initHash: initHash
    };
  }();
})(window.jQuery, window);

/***/ }),

/***/ 8194:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 8242:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 8311:
/***/ (function() {

/**
 * Jump Links
 *
 * Sticky navigation with tabs that upon click jump (scroll) to the related headers
 */

(function ($, _) {
  window.FDX.components.jumplinks = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '.fxg-jumplinks';

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * @type {Object} jQuery DOM placeholder element
       */
      var $placeholder = null;

      /**
       * @type {Object} jQuery DOM nav element
       */
      var $nav = null;

      /**
       * @type {number} nav top
       */
      var navTop;

      /**
       * @type {number} nav height
       */
      var navHeight = 48;

      /**
       * @type {Object} jQuery DOM tabs element
       */
      var $tabs = null;

      /**
       * @type {Object} jQuery DOM previous tab button
       */
      var $prevTab = null;

      /**
       * @type {Object} jQuery DOM next tab button
       */
      var $nextTab = null;

      /**
       * @type {number} tabs margin
       */
      var tabsMargin = 10;

      /**
       * @type {boolean} flag indicating whether jumping is going on
       */
      var jumping = false;

      /**
       * @type {Object[]} tabs and headers on page
       */
      var tabs = [];

      /**
       * @type {Object} visible tabs detected by intersection observer
       */
      var visibleTabs = {
        items: [],
        first: null,
        last: null
      };

      /**
       * @type {Object} jQuery DOM element of highlighted tab
       */
      var $highlightedTab = null;

      /**
       * @type {boolean} flag indicating whether element should currently stick
       */
      var isSticky = false;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {}
      ;

      /**
       * Render HTML
       *
       * @private
       * @return {Promise<string>} A promise that resolves with rendered HTML
       */
      function render() {}

      /**
       * Brings the active tab into view and highlights it
       *
       * @private
       */
      function showTab($tab, highlight) {
        $tabs.animate({
          scrollLeft: $tab.position().left
        }, 500);
        if (highlight) {
          if ($highlightedTab) {
            $highlightedTab.find('a').attr('aria-selected', 'false');
          }
          $tab.find('a').attr('aria-selected', 'true');
          $highlightedTab = $tab;
        }
      }

      /**
       * Calculate nav top
       *
       * @private
       */
      function calcNavTop() {
        navTop = $root.offset().top;
      }

      /**
       * Collect tabs and headers on page
       *
       * @private
       */
      function collectTabsAndHeaders() {
        tabs = [];
        $tabs.find('ul > li').each(function () {
          // find header
          var href = $(this).find('a').attr('href');
          if (!href) return;
          var $header = $('body').find(href);

          // collect
          tabs.push({
            href: href,
            $tab: $(this),
            $header: $header,
            headerTop: $header.length ? $header.offset().top : 0
          });

          // sort based on header top position
          tabs.sort(function (a, b) {
            return a.headerTop - b.headerTop;
          });
        });
      }

      /**
       * Calculate headers top
       *
       * @private
       */
      function calcHeadersTop() {
        tabs.forEach(function (tab) {
          tab.headerTop = tab.$header.length ? tab.$header.offset().top : 0;
        });
      }

      /**
       * Observe tabs
       *
       * @private
       */
      function observeTabs() {
        // init intersection observer
        var options = {
          root: null,
          rootMargin: '0px',
          threshold: [0.5, 0.75, 1]
        };
        var observer = new IntersectionObserver(function (entries, observer) {
          // set visible items
          entries.forEach(function (entry) {
            var index = $(entry.target).index();
            var isVisible = entry.intersectionRatio >= 0.5;
            visibleTabs.items[index] = isVisible;
          });

          // redefine first and last visible index
          visibleTabs.first = null;
          visibleTabs.last = null;
          for (var _i in visibleTabs.items) {
            if (visibleTabs.items[_i]) {
              visibleTabs.first = visibleTabs.first === null ? parseInt(_i) : Math.min(visibleTabs.first, _i);
              visibleTabs.last = visibleTabs.last === null ? parseInt(_i) : Math.max(visibleTabs.last, _i);
            }
          }

          // toggle previous + next button
          $prevTab.toggleClass('cc-aem-u-display--none', visibleTabs.items[0]);
          $nextTab.toggleClass('cc-aem-u-display--none', visibleTabs.items[visibleTabs.items.length - 1]);
        }, options);

        // observe tabs
        for (var i in tabs) {
          observer.observe(tabs[i].$tab[0]);
        }
      }

      /**
       * Observe headers
       *
       * @private
       */
      function observeHeaders() {
        $(window).on('scroll', _.debounce(function () {
          // skip observing during jump
          if (jumping) return;

          // detect closest header
          detectClosestHeader();
        }, 200));
      }

      /**
       * Observe sticky
       *
       * @private
       */
      function observeSticky() {
        $(window).on('scroll', _.debounce(function () {
          // skip observing during jump
          if (jumping) return;

          // set sticky
          setSticky();
        }, 200));
      }

      /**
       * Set sticky attributes of nav + placeholder
       *
       * @private
       */
      function setSticky(force) {
        // is sticky?
        var scrollTop = $(window).scrollTop() + FDX.services.headerHeight.height;
        var _isSticky = scrollTop > navTop;

        // toggle sticky
        if (_isSticky !== isSticky || force) {
          isSticky = _isSticky;
          $nav.toggleClass('cc-aem-u-position--fixed', isSticky);
          $placeholder.toggleClass('cc-aem-u-display--none', !isSticky);
          if (isSticky) {
            $nav.css('top', FDX.services.headerHeight.height);
          } else {
            $nav.css('top', '');
          }
        }
      }

      /**
       * Observe header height
       *
       * @private
       */
      function observeHeaderHeight() {
        FDX.services.headerHeight.eventTarget.addEventListener(FDX.services.headerHeight.events.heightChanged, function () {
          calcNavTop();
          calcHeadersTop();
          setSticky(true);
        });
      }

      /**
       * Observe window resize
       *
       * @private
       */
      function observeWindowResize() {
        $(window).on('resize', _.debounce(function () {
          calcNavTop();
          calcHeadersTop();
          setSticky(true);
        }, 200));
      }

      /**
       * Bind interactions events
       *
       * @private
       */
      function bindInteractions() {
        // on tab click jump to header
        tabs.forEach(function (tab) {
          tab.$tab.find('a').on('click', function (event) {
            // calculate headers top
            calcHeadersTop();

            // highlight tab
            showTab(tab.$tab, true);

            // smooth scroll to header
            event.preventDefault();
            jumping = true;
            var navigateTo = tab.headerTop - (FDX.services.headerHeight.height + navHeight + tabsMargin);
            var scrollingElement = document.scrollingElement || document.documentElement;
            $(scrollingElement).animate({
              scrollTop: navigateTo
            }, 500, function (event) {
              // after smooth scroll adjust once again as header might have shrunk by now which causes change in navigateTo
              navigateTo = tab.headerTop - (FDX.services.headerHeight.height + navHeight + tabsMargin);
              $(scrollingElement).animate({
                scrollTop: navigateTo
              }, function (event) {
                // after final scroll start observing scroll again
                jumping = false;
                setSticky();
              });
            });
          });
        });

        // tab navigation
        $prevTab.on('click', function () {
          goToPrevTab();
        });
        $nextTab.on('click', function () {
          goToNextTab();
        });
      }

      /**
       * Detect closest header and highlight its related tab
       *
       * @private
       */
      function detectClosestHeader() {
        // find closest passed header
        var closest;
        var scrollTop = $(window).scrollTop() + FDX.services.headerHeight.height + navHeight + tabsMargin;
        for (var i in tabs) {
          var diff = scrollTop - tabs[i].headerTop;
          if (diff > 0) {
            if (!closest) {
              closest = tabs[i];
            } else {
              var diffClosest = scrollTop - closest.headerTop;
              if (diff < diffClosest) {
                closest = tabs[i];
              }
            }
          }
        }

        // highlight related tab
        if (closest) {
          if ($highlightedTab !== closest.$tab) {
            showTab(closest.$tab, true);
          }
        } else {
          if ($highlightedTab) {
            // no tabs should be highlighted
            // lets make sure first tab is shown
            $highlightedTab.find('a').attr('aria-selected', 'false');
            $highlightedTab = null;
            showTab(tabs[0].$tab);
          }
        }
      }

      /**
       * Go to next tab
       *
       * @private
       */
      function goToNextTab() {
        if (visibleTabs.last < visibleTabs.items.length - 1) {
          var $tab = $tabs.find('ul > li').eq(visibleTabs.last + 1);
          showTab($tab);
        }
      }

      /**
       * Go to previous tab
       *
       * @private
       */
      function goToPrevTab() {
        if (visibleTabs.first > 0) {
          var $tab = $tabs.find('ul > li').eq(visibleTabs.first - 1);
          showTab($tab);
        }
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;
        $placeholder = _$root.find('.fxg-jumplinks__placeholder');
        $nav = _$root.find('.fxg-jumplinks__nav');
        $tabs = _$root.find('.fxg-jumplinks__tabs');
        $prevTab = $root.find('.fxg-jumplinks__prev-tab');
        $nextTab = $root.find('.fxg-jumplinks__next-tab');

        // calc nav top
        calcNavTop();

        // collect tabs and headers
        collectTabsAndHeaders();

        // detect closest header
        detectClosestHeader();

        // set sticky
        setSticky();

        // observe
        observeTabs();
        observeHeaders();
        observeHeaderHeight();
        observeWindowResize();
        observeSticky();

        // bind interaction events
        bindInteractions();

        // initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        showTab = jest.fn(showTab);
        calcNavTop = jest.fn(calcNavTop);
        collectTabsAndHeaders = jest.fn(collectTabsAndHeaders);
        calcHeadersTop = jest.fn(calcHeadersTop);
        detectClosestHeader = jest.fn(detectClosestHeader);
        goToNextTab = jest.fn(goToNextTab);
        goToPrevTab = jest.fn(goToPrevTab);
        setSticky = jest.fn(setSticky);
        observeTabs = jest.fn(observeTabs);
        observeHeaders = jest.fn(observeHeaders);
        observeHeaderHeight = jest.fn(observeHeaderHeight);
        observeWindowResize = jest.fn(observeWindowResize);
        observeSticky = jest.fn(observeSticky);
        bindInteractions = jest.fn(bindInteractions);
        instance.$private = function () {
          return {
            $root: $root,
            $placeholder: $placeholder,
            $nav: $nav,
            navTop: navTop,
            navHeight: navHeight,
            $tabs: $tabs,
            $prevTab: $prevTab,
            $nextTab: $nextTab,
            jumping: jumping,
            tabs: tabs,
            visibleTabs: visibleTabs,
            $highlightedTab: $highlightedTab,
            isSticky: isSticky,
            showTab: showTab,
            calcNavTop: calcNavTop,
            collectTabsAndHeaders: collectTabsAndHeaders,
            calcHeadersTop: calcHeadersTop,
            detectClosestHeader: detectClosestHeader,
            goToNextTab: goToNextTab,
            goToPrevTab: goToPrevTab,
            setSticky: setSticky,
            observeTabs: observeTabs,
            observeHeaders: observeHeaders,
            observeHeaderHeight: observeHeaderHeight,
            observeWindowResize: observeWindowResize,
            observeSticky: observeSticky,
            bindInteractions: bindInteractions
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();
      var initPromises = [];

      // find all related elements
      $(selector).each(function () {
        // skip already initialized elements
        var $element = $(this);
        if ($element.data('initialized')) return;

        // create instance
        var instance = window.FDX.components.jumplinks.create();

        // initialize instance
        var initPromise = instance.init($element);
        initPromises.push(initPromise);
      });

      // resolve after all inits
      $.when.apply($, initPromises).then(function () {
        promise.resolve();
      });
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _);

/***/ }),

/***/ 8455:
/***/ (function() {

/**
 * compatible_search
 */

(function ($, _) {
  window.FDX.components.compatible_search = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '.fdx_compatible_search';

    /**
     * @type {string} json array selector
     */
    var jsonObj = [];

    /**
     * @type {string} root selector
     */
    var goldheading;

    /**
     * @type {string} root selector
     */
    var diamondheading;

    /**
     * @type {string} root selector
     */
    var platinumheading;

    /**
     * @type {string} root selector
     */
    var moreprovidersheading;

    /**
     * @type {string} root selector
     */
    var goldheadingname;

    /**
     * @type {string} root selector
     */
    var diamondheadingname;

    /**
     * @type {string} root selector
     */
    var platinumheadingname;

    /**
     * @type {string} root selector
     */
    var moreprovidersheadingname;

    /**
     * @type {string} count object selector
     */
    var count = {};
    count[platinumheading] = 0;
    count[diamondheading] = 0;
    count[goldheading] = 0;
    count[moreprovidersheading] = 0;

    /**
     * clearfunction
     *
     * @private
     */
    function clearfunction() {
      document.getElementById('searchbox_id').value = '';
    }

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {};
        config = $.extend({}, defaultConfig, _config);
      }
      ;

      /**
       * Render HTML
       *
       * @private
       * @return {Promise<string>} A promise that resolves with rendered HTML
       */
      function render() {}

      /**
       * Bind interactions events
       *
       * @private
       */
      function bindInteractions() {
        $('.search_items').on('load', function () {
          'clicked elemnt';
        });
        var selected_entries = [];
        var tempJsonObj = {
          "Provider_Details": {
            "Gold": [{
              "name": "Test_page",
              "path": "/content/fedex-com/global/en_us/Test_page",
              "topicThumbnail": "/content/dam/fedex-com/compatibles/CSSProvider_abol_logo.jpg",
              "topicTitle": "iABOL",
              "topicSynopsis": "A highly configurable, easy scalable and multi-marketplace integration platform that makes shipping easy, the iABOL web-based shipping software is gea"
            }, {
              "name": "Test_page",
              "path": "/content/fedex-com/sites/us/en_us/Test_page",
              "topicThumbnail": "/content/dam/fedex-com/compatibles/CSSProvider_abol_logo.jpg",
              "topicTitle": "iABOL",
              "topicSynopsis": "A highly configurable, easy scalable and multi-marketplace integration platform that makes shipping easy, the iABOL web-based shipping software is gea"
            }],
            "More Providers": [{
              "name": "Test Compatible",
              "path": "/content/fedex-com/global/en_us/Test_Compatible",
              "topicThumbnail": "/content/dam/fedex-com/compatibles/CSPProvider_213x120_0052_53_shipworks.jpg",
              "topicTitle": "Ship Works",
              "topicSynopsis": "ShipWorks is a fast, reliable shipping software that makes it easy to manage and ship orders for multiple sales channels all from one simple interface"
            }, {
              "name": "Test Compatible",
              "path": "/content/fedex-com/sites/us/en_us/Test_Compatible",
              "topicThumbnail": "/content/dam/fedex-com/compatibles/CSPProvider_213x120_0052_53_shipworks.jpg",
              "topicTitle": "Ship Works",
              "topicSynopsis": "ShipWorks is a fast, reliable shipping software that makes it easy to manage and ship orders for multiple sales channels all from one simple interface"
            }],
            "Platinum": [{
              "name": "Logistyx TME",
              "path": "/content/fedex-com/sites/us/en_us/Providers_Sample/LogistyxTME",
              "topicThumbnail": "/content/dam/fedex-com/compatibles/Logistyx_logo_PMS.jpg",
              "topicTitle": "Logistyx TME",
              "topicSynopsis": "A FedEx Compatible Platinum Solution\r\nA comprehensive enterprise platform that helps some of the largest worldwide commerce/distribution companies s"
            }, {
              "name": "InfoShip",
              "path": "/content/fedex-com/sites/us/en_us/Providers_Sample/InfoShip",
              "topicThumbnail": "/content/dam/fedex-com/compatibles/CLS_logo_213x120.jpg",
              "topicTitle": "InfoShip",
              "topicSynopsis": "A FedEx Compatible Platinum Solution\r\n\r\nAn automated multi-carrier shipping system for medium to high volume shippers, InfoShip is easy to use and Wind"
            }],
            "Diamond": [{
              "name": "CalcPak",
              "path": "/content/fedex-com/sites/us/en_us/Providers_Sample/CalcPak",
              "topicThumbnail": "/content/dam/fedex-com/compatibles/CSPProvider_213x120_0055_56_ARTraffic.jpg",
              "topicTitle": "CalcPak",
              "topicSynopsis": "A FedEx Compatible  Solution\r\n\r\n\r\nA comprehensive multi-shipper system, CalcPak offers streamlined rating, routing and EDI-compatible audit and payment"
            }, {
              "name": "NetSuite",
              "path": "/content/fedex-com/sites/us/en_us/Providers_Sample/NetSuite",
              "topicThumbnail": "/content/dam/fedex-com/compatibles/CSPProvider_213x120_0049_50_Netsuite.jpg",
              "topicTitle": "NetSuite",
              "topicSynopsis": "A FedEx Compatible Platinum Solution\r\n\r\nA powerful cloud solution for entire businesses, NetSuite delivers accounting and Enterprise Resource Planning"
            }]
          }
        };
        var resultsPerPage = config.resultsPerPage;
        var response = '';
        var limitVal = config.resultsPerPage;
        var path = config.path;
        $.ajax({
          url: FDX.contextPath + "/etc/services/compatibleSearch",
          data: {
            limit: limitVal,
            searchPath: path
          },
          type: "GET",
          success: function success(data) {
            response = data;
            jsonArray(response);
          },
          error: function error(xmlhttprequest, textStatus, message) {}
        });
        $.widget("custom.catcomplete", $.ui.autocomplete, {
          _create: function _create() {
            this._super();
            this.widget().menu("option", "items", "> :not(.ui-autocomplete-category)");
          },
          _renderMenu: function _renderMenu(ul, items) {
            //alert("Render");

            var drpdown = $('#fdx_compatibleDropdown');
            drpdown.append(ul);
            $("#fdx_compatibleDropdown").attr("tabindex", "-1");
            selected_entries = [];
            selected_entries = items;
            //$('#fdx_compatibleDropdown').css('opacity','0');
            var that = this,
              currentCategory = "";
            count[platinumheading] = 0;
            count[diamondheading] = 0;
            count[goldheading] = 0;
            count[moreprovidersheading] = 0;
            $.each(items, function (index, item) {
              var li;
              if (item.category != currentCategory) {
                ul.append("<li class='ui-autocomplete-category' alt='" + item.category + "'>" + item.category + "</li>");
                currentCategory = item.category;
              }
              var elements = $('.' + item.category);
              if (config.resultsPerPage == 0 || count[item.category] < config.resultsPerPage) {
                // if(elements.length<resultsPerPage){
                //  if ( item.category ) {
                count[item.category] = count[item.category] + 1;
                li = that._renderItemData(ul, item);
                $(li["0"].childNodes["0"]).remove(); // Removed the child element (div) coming through the _renderItemData function.
                $(li["0"]).append('<a href="' + FDX.contextPath + item.path + '.html" target="_blank">' + item.label + '</a>');
                // Append the anchor tag to make the links as clickable.					

                //li["0"].childNodes["0"].href = FDX.contextPath + item.path+".html";
                //li["0"].childNodes["0"].target = '_blank';
                if (item.category) {
                  //if(resultsPerPage==0 || count[item.category]<resultsPerPage){
                  li.attr("aria-label", item.category + " : " + item.label);
                  li.attr("class", item.category);
                  li.attr("alt", item.category + " " + item.label);
                  li.attr("class", 'search_item');
                }
              }
            });
          }
        });
        $root.find('#searchbox_id').on('focus', function () {
          $('.fdx_compatible_searchFilter').trigger('click');
        });
        $root.find(".fdx_compatible_searchFilter").catcomplete({
          delay: 0,
          source: jsonObj,
          minLength: 0
        }).select(function (e) {
          e.preventDefault();
          $(this).catcomplete('search');
        }).on('focus', function (e) {
          e.preventDefault();
          $(this).catcomplete('search');
        });
        $root.find('.fdx_compatible_searchFilter').on('keypress', function (e) {
          count[platinumheading] = 0;
          count[diamondheading] = 0;
          count[goldheading] = 0;
          count[moreprovidersheading] = 0;
          var key = e.which;
          $('#ui-id-1').css({
            "height": "auto"
          });
          if (key == 13) {
            e.preventDefault();
            $('.lstEntitlements').html('');
            $('.provider-count').html('');
            var populated_value = $('.fdx_compatible_searchFilter').val();
            if (populated_value !== '') {
              var new_selected = {};
              new_selected = _.find(selected_entries, function (obj) {
                return obj.value === populated_value;
              });
              if (typeof new_selected !== "undefined") {
                selected_entries = [];
                selected_entries = new_selected;
                var url = new_selected["path"];
                window.open(FDX.contextPath + url + ".html", '_blank');
                return true;
              }
            }
            var nobj = {};
            $.each(selected_entries, function (i, obj) {
              nobj[obj['category']] = [];
              //nobj[obj['a']].push(obj)
            });
            $.each(selected_entries, function (i, obj) {
              //nobj[obj['category']] = []
              nobj[obj['category']].push(obj);
            });
            var Data = nobj;
            var i = 0;
            var k = 0;
            var moreProvidersF;
            var diamondprovidersF;
            var platinumProvidersF;
            var goldprovidersF;
            var allFilterResults = [];
            var nameFilterArray = [];
            $.each(Data, function (key, item) {
              if (key == diamondheadingname) {
                var adiamondProvidersF = item;
                allFilterResults[0] = adiamondProvidersF;
              } else if (key == platinumheadingname) {
                var bplatinumProvidersF = item;
                allFilterResults[1] = bplatinumProvidersF;
              } else if (key == goldheadingname) {
                var cgoldProvidersF = item;
                allFilterResults[2] = cgoldProvidersF;
              } else if (key == moreprovidersheadingname) {
                var dmoreProvidersF = item;
                allFilterResults[3] = dmoreProvidersF;
              }
              /*else {
              	$('.provider-count').append("<span class='count-span'>"+item+"</span>");
              } */
            });
            allFilterResults.forEach(function (eachFilter) {
              var nameResultArray = [diamondheadingname, platinumheadingname, goldheadingname, moreprovidersheadingname];
              if (eachFilter.length) {
                $('.lstEntitlements').append("<div class='filter_provider_" + k + " subDiv'></div>");
                $('.filter_provider_' + k).append("<h3 class='Certified-" + nameResultArray[allFilterResults.indexOf(eachFilter)] + "-Providers headers' alt='Certified " + nameResultArray[allFilterResults.indexOf(eachFilter)] + " Providers'>Certified " + nameResultArray[allFilterResults.indexOf(eachFilter)] + " Providers</h3>");
                eachFilter.map(function (itemData) {
                  $('.filter_provider_' + k).append("<div class='resultTags_" + i + " col-md-3 subblock'></div>");
                  $('.resultTags_' + i).append("<img class='provider-thumbnail' src=" + FDX.contextPath + itemData.topic_thumbnail + " alt='" + itemData.topic_title + "' ><h3 class='provider-title' alt='" + itemData.topic_title + "'>" + itemData.topic_title + "</h3><p class='provider-des block_txt'>" + itemData.topic_synopsis + "</p><a class='see_details' target='_blank' href='" + FDX.contextPath + itemData.path + ".html'>SEE DETAILS</a>");
                  i++;
                });
                $('.filter_provider_' + k).append("<hr class='horzion container'>");
                k++;
              }
            });
          }
        });
        $root.find('.search_item').children().delegate('keypress', function (e) {
          var key = e.which;
          if (key == 13) {
            window.open(e.children()[0]["href"], '_blank');
          }
        });
        $root.find('#compatible_cross').on('click', function () {
          $('.fdx_compatible_searchFilter').val('');
          $('.lstEntitlements').html('');
          $('.provider-count').html('');
        });
        $root.find('#compatible_cross').on('keypress', function (e) {
          if (e.which == 13) {
            $('#compatible_cross').trigger('click');
          }
        });
      }

      /**
       * jsonArray
       *
       * @private
       */
      function jsonArray(response) {
        var diamondProviders = [];
        var platinumProviders = [];
        var goldProviders = [];
        var moreProviders = [];
        var expectedResponse;
        if (typeof response === 'string') {
          expectedResponse = JSON.parse(response);
        } else {
          expectedResponse = response;
        }
        var headingobj = expectedResponse.Heading_Details;
        for (var i in headingobj) {
          if (headingobj[i].heading_name == 'Gold') {
            platinumheading = headingobj[i].heading_title;
            goldheadingname = headingobj[i].heading_name;
          }
          if (headingobj[i].heading_name == 'Platinum') {
            diamondheading = headingobj[i].heading_title;
            platinumheadingname = headingobj[i].heading_name;
          }
          if (headingobj[i].heading_name == 'Diamond') {
            goldheading = headingobj[i].heading_title;
            diamondheadingname = headingobj[i].heading_name;
          }
          if (headingobj[i].heading_name == 'More Providers') {
            moreprovidersheading = headingobj[i].heading_title;
            moreprovidersheadingname = headingobj[i].heading_name;
          }
        }
        $.each(expectedResponse, function (i, val) {
          $.each(val, function (j, providerDetails) {
            $.each(providerDetails, function (k, individualProviderDetails) {
              var item = {};
              item['label'] = individualProviderDetails.name;
              item['path'] = individualProviderDetails.path;
              item['category'] = j;
              item['topic_thumbnail'] = individualProviderDetails.topicThumbnail;
              item['topic_title'] = individualProviderDetails.topicTitle;
              item['topic_synopsis'] = individualProviderDetails.topicSynopsis;
              switch (j) {
                case goldheadingname:
                  item['category'] = platinumheading;
                  goldProviders.push(item);
                  break;
                case platinumheadingname:
                  item['category'] = diamondheading;
                  platinumProviders.push(item);
                  break;
                case diamondheadingname:
                  item['category'] = goldheading;
                  diamondProviders.push(item);
                  break;
                case moreprovidersheadingname:
                  item['category'] = moreprovidersheading;
                  moreProviders.push(item);
                  break;
              }
            });
          });
        });
        jsonObj.push.apply(jsonObj, diamondProviders);
        jsonObj.push.apply(jsonObj, platinumProviders);
        jsonObj.push.apply(jsonObj, goldProviders);
        jsonObj.push.apply(jsonObj, moreProviders);
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] compnent root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;
        // bind interaction events
        bindInteractions();

        // initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        clearfunction = jest.fn(clearfunction);
        jsonArray = jest.fn(jsonArray);
        bindInteractions = jest.fn(bindInteractions);
        instance.$private = function () {
          return {
            clearfunction: clearfunction,
            bindInteractions: bindInteractions
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();
      var initPromises = [];

      // find all related elements
      $(selector).each(function () {
        // skip already initialized elements
        var $element = $(this);
        if ($element.data('initialized')) return;

        // create instance
        var instance = window.FDX.components.compatible_search.create();

        // set configuration
        var $config = $('[data-config="js-compatible_search-container-config"]');
        if ($config.length) {
          instance.setConfig(JSON.parse($config.html().trim()));
        }

        // initialize instance
        var initPromise = instance.init($element);
        initPromises.push(initPromise);
      });

      // resolve after all inits
      $.when.apply($, initPromises).then(function () {
        promise.resolve();
      });
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      clearfunction: clearfunction,
      selector: selector
    };
  }();
})(jQuery, _);

/***/ }),

/***/ 8476:
/***/ (function() {

/**
  * Fetch Service
  *
  * Fetch url using jQuery ajax method, avoid duplicate requests.
  */

(function ($, window) {
  window.FDX.services.fetch = function () {
    var deferred = {};

    /**
     * Init service
     *
     * @public
     */
    function init() {}

    /**
     * Fetch
     *
     * @public
     */
    function ajax(url, data, _config, noCache) {
      // if we have done this request already, then simply return existing request
      if (!noCache && deferred[url]) return deferred[url];

      // new ajax request
      var defaultConfig = {
        method: 'get',
        dataType: 'json',
        url: url,
        data: data
      };
      var config = $.extend({}, defaultConfig, _config);
      deferred[url] = $.ajax(config);
      return deferred[url];
    }

    // @todo check with Vijay on this
    /*
    var data = {};
    var xhr = {};
    var $get = $.getJSON; // Default is JSON format
    function get(url, type) {
      var _deferred = $.Deferred();
       if (!url) {
        return _deferred.reject();
      }
       // other formats like html.
      if (type) {
        $get = $.get;
      }
       // setup promise if not set allready
      if (!deferred[url]) {
        deferred[url] = _deferred;
      }
       if (data[url]) {
        // When we allready stored data we simply return this
        deferred[url].resolve(data[url]);
        return deferred[url];
      } else if (xhr[url]) {
        // When no data is set but request being made again (page and bar component on same page) we simply return xhr call
        return deferred[url];
      } else {
        // When checkig this service for the first time we will store it to xhr and return promise
        xhr[url] = $get(url)
          .done(function (response) {
            // we did succeed in retrieving any data
            data[url] = response;
            deferred[url].resolve(response);
          })
          .fail(function () {
            // reject on error
            deferred[url].reject();
          });
         return deferred[url];
       }
    }*/

    // return service
    return {
      init: init,
      ajax: ajax
      // deferred: deferred
    };
  }();
})(window.jQuery, window);

/***/ }),

/***/ 8479:
/***/ (function() {

/**
 * Breadcrumb
 *
 * Page trail navigation header
 */

(function ($) {
  window.FDX.components.breadcrumbs = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '.fxg-breadcrumbs';

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {}

      /**
       * Render HTML
       *
       * @private
       * @return {Promise<string>} A promise that resolves with rendered HTML
       */
      function render() {}

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;

        // initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement
      };
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();
      var initPromises = [];

      // find all related elements
      $(selector).each(function () {
        // skip already initialized elements
        var $element = $(this);
        if ($element.data('initialized')) return;

        // create instance
        var instance = window.FDX.components.breadcrumbs.create();

        // initialize instance
        var initPromise = instance.init($element);
        initPromises.push(initPromise);
      });

      // resolve after all inits
      $.when.apply($, initPromises).then(function () {
        promise.resolve();
      });
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery);

/***/ }),

/***/ 8507:
/***/ (function() {

/**
 * secureContainer
 */

(function ($, _) {
  window.FDX.components.secureContainer = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '.fxg-loginContainer';

    /**
     * hideContainer
     * 
     * @private
     */
    function hideContainer() {
      var _FDX$BREAKPOINTS;
      var isAuthenticated = FDX.SESSION.userAuthenticated;
      if (isAuthenticated) {
        $(".fxg-loginContainer").show();
        $(".notSecure").hide();
      } else {
        $(".fxg-loginContainer").hide();
        $(".notSecure").show();
      }
      if ($(window).width() <= ((_FDX$BREAKPOINTS = FDX.BREAKPOINTS) === null || _FDX$BREAKPOINTS === void 0 ? void 0 : _FDX$BREAKPOINTS.MobileMediaQuery)) {
        var secureSwipe = $(".securecontainer .fxg-swipe");
        if (secureSwipe.length > 0) {
          FDX.components.pods.destroyCarousel();
          FDX.components.pods.initCarousel();
          $('.' + FDX.components.pods.carouselIndecatorClass).on('click', function () {
            FDX.components.pods.slideOnIndecatorClick(this, $(this).attr('data-index'), $(this).parent().find('.' + FDX.components.pods.carouselIndecatorClass + '.active').attr('data-index'));
          });
        }
      }
    }

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {};
        config = $.extend({}, defaultConfig, _config);
      }
      ;

      /**
       * Render HTML
       *
       * @private
       * @return {Promise<string>} A promise that resolves with rendered HTML
       */
      function render() {}

      /**
       * Bindinteractions events
       *
       * @private
       */
      function bindInteractions() {
        FDX.components.secureContainer.hideContainer();
        //To show secure container if secure container is added through Target 
        document.addEventListener('readystatechange', function (ev) {
          if (document.readyState === 'complete') {
            setTimeout(function () {
              if (document.querySelector('.root.responsivegrid>.aem-Grid>.secureContainer_v1>.fxg-loginContainer') != null) {
                FDX.components.secureContainer.hideContainer();
              }
            }, 300);
          }
        });
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] compnent root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;

        // bind interaction events
        bindInteractions();

        // initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        hideContainer = jest.fn(hideContainer);
        bindInteractions = jest.fn(bindInteractions);
        instance.$private = function () {
          return {
            $root: $root,
            selector: selector,
            hideContainer: hideContainer,
            bindInteractions: bindInteractions
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();
      var initPromises = [];

      // find all related elements
      $(selector).each(function () {
        // skip already initialized elements
        var $element = $(this);
        if ($element.data('initialized')) return;

        // create instance
        var instance = window.FDX.components.secureContainer.create();

        // initialize instance
        var initPromise = instance.init($element);
        initPromises.push(initPromise);
      });

      // resolve after all inits
      $.when.apply($, initPromises).then(function () {
        promise.resolve();
      });
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector,
      hideContainer: hideContainer
    };
  }();
})(jQuery, _);

/***/ }),

/***/ 8628:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 8683:
/***/ (function() {

/**
 * Tagged Pages
 *
 * Renders a feed of pages
 */

(function ($, _) {
  window.FDX.components.taggedpages = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '.fxg-taggedpages';

    /**
     * @type {boolean} navigation menu already rendered flag
     */
    var navigationMenuRendered = false;

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * @type {Object} accordion instance
       */
      var accordion = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {
          view: 'list'
        };
        config = $.extend({}, defaultConfig, _config);
      }
      ;

      /**
       * Render HTML
       *
       * @private
       * @return {Promise<string>} A promise that resolves with rendered HTML
       */
      function renderNavigationMenu(data) {
        var promise = $.Deferred();
        var html = "\n            <button class=\"fxg-taggedpages__navigation-button js-taggedpages-faq-navigation-button cc-aem-u-width--100 cc-aem-u-cursor--pointer cc-aem-u-border--none cc-aem-u-px--4 cc-aem-u-py--4 cc-aem-u-flex--inline cc-aem-u-flex-align-items--center cc-aem-u-flex-justify-content--space-between cc-aem-u-bg-color--grey-10 fxg-desktop--hide fxg-tablet--hide\">\n            <span class=\"cc-aem-u-fontweight--bold\">".concat(data.menuLabel, "</span>\n              <fdx-icon class=\"cc-aem-c-button__icon cc-aem-u-color--blue cc-aem-u-fontsize--h5\">\n                  <svg class=\"cc-aem-c-icon\" aria-hidden=\"true\" focusable=\"false\" role=\"presentation\">\n                      <use xlink:href=\"#dots\"></use>\n                  </svg>\n              </fdx-icon>\n            </button>\n        ");
        return promise.resolve(html);
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;

        // initialized
        $root.data('initialized', true);

        // initialize FAQ navigation
        var navigationElement = $root.find('.js-taggedpages-faq-navigation');
        var isNavigation = navigationElement.length > 0;
        var doRenderNavigationMenu = isNavigation && !navigationMenuRendered;
        if (doRenderNavigationMenu) {
          navigationMenuRendered = true;
          var data = {
            menuLabel: navigationElement.data('faqMenuLabel') || 'Menu'
          };
          renderNavigationMenu(data).then(function (html) {
            navigationElement.before(html);
            $('.js-taggedpages-faq-navigation-button', $root).on('click', function () {
              $('.js-taggedpages-faq-navigation').each(function () {
                $(this).toggleClass('fxg-mobile--hide');
              });
            });
            promise.resolve();
          });
        }

        // initialize accordions
        var $accordion = $root.find(FDX.components.accordion.selector);
        var isAccordion = $accordion.length > 0;
        if (isAccordion) {
          var accordionPromises = [];
          $accordion.each(function () {
            // skip already initialized elements
            var $element = $(this);
            if ($element.data('initialized')) return;

            // create instance
            var instance = FDX.components.accordion.create();

            // initialize instance
            var accordionPromise = instance.init($element);
            accordionPromises.push(accordionPromise);
          });

          // resolve after all accordion inits
          $.when.apply($, accordionPromises).then(promise.resolve);
        }

        // resolve immediately for other types
        if (!doRenderNavigationMenu && !isAccordion) {
          promise.resolve();
        }
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement
      };
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();
      var initPromises = [];

      // find all related elements
      $(selector).each(function () {
        // skip already initialized elements
        var $element = $(this);
        if ($element.data('initialized')) return;

        // create instance
        var instance = window.FDX.components.taggedpages.create();

        // Set configuration
        var $config = $('[data-config="js-taggedpages-config"]', $element);
        if ($config.length) {
          instance.setConfig(JSON.parse($config.html().trim()));
        }

        // initialize instance
        var initPromise = instance.init($element);
        initPromises.push(initPromise);
      });

      // resolve after all inits
      $.when.apply($, initPromises).then(function () {
        promise.resolve();
      });
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _);

/***/ }),

/***/ 8736:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 8788:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 8849:
/***/ (function() {

/**
 * AAF - Wizard
 *
 * Wizard layout in adaptiveform component
 */

(function ($, _) {
  window.FDX.components.aaf_wizard = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '.fxg-adaptiveform__wizard';

    /**
     * Create component instance
     *
     * @public
     * @param {Object} _parent - parent form
     * @return {Object} instance
     */
    function create(_parent) {
      /**
       * @type {Object} parent form
       */
      var parent = _parent;

      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * @type {Object} jQuery DOM navigation back button
       */
      var $navBack = null;

      /**
       * @type {Object} jQuery DOM navigation next button
       */
      var $navNext = null;

      /**
       * @type {Object} jQuery DOM navigation submit button
       */
      var $navSubmit = null;

      /**
       * @type {Object} aaf navigation context
       */
      var navContext = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {};
        config = $.extend({}, defaultConfig, _config);
      }

      /**
       * Get configuration
       *
       * @public
       * @return {Object} configuration key/value pair
       */
      function getConfig() {
        return config;
      }

      /**
       * Render HTML
       *
       * @private
       * @return {Promise<string>} A promise that resolves with rendered HTML
       */
      function render() {}

      /**
       * Bind interactions events
       *
       * @private
       */
      function bindInteractions() {
        // on back click => go to previous page
        $navBack.click(function (event) {
          event.preventDefault();
          guideBridge.setFocus(navContext.prevItem.somExpression);
        });

        // on next click => validate + go to next page
        $navNext.click(function (event) {
          event.preventDefault();
          var valid = guideBridge.validate([], navContext.currentItem.somExpression);
          if (valid) {
            guideBridge.setFocus(navContext.nextItem.somExpression);
          }
        });
      }

      /**
       * Bind to navigation change event
       *
       * @private
       */
      function bindNavChanged() {
        // apply cc active progress class
        guideBridge.on('elementNavigationChanged', function (event, event2) {
          $root.find('button').removeClass('cc-aem-c-progress__indicators__button--active');
          var activePanel = window.guideBridge._guideView.getView(event2.newText);
          var path = activePanel.$itemNav.data('path');
          var $btn = $root.find("button[data-path=\"".concat(path, "\"]"));
          $btn.addClass('cc-aem-c-progress__indicators__button--active');

          // enable/disable navigation buttons
          updateNavButtons();
        });
      }

      /**
       * Enable/disable navigation buttons
       *
       * @private
       */
      function updateNavButtons() {
        $navBack[0].disabled = navContext.isFirstItem;
        $navNext[0].disabled = navContext.isLastItem;
        $navSubmit[0].style.display = !navContext.isLastItem ? 'none' : 'block';
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();

        // set vars
        $root = _$root;
        var $parent = parent.getElement();
        $navBack = $parent.find('.fxg-adaptiveform__wizard__nav-back');
        $navNext = $parent.find('.fxg-adaptiveform__wizard__nav-next');
        $navSubmit = $parent.find('.fxg-adaptiveform__wizard__nav-submit');
        navContext = guideBridge._guide.rootPanel.navigationContext;

        // bind interactions
        bindInteractions();

        // bind to navigation change event
        bindNavChanged();

        // enable/disable navigation buttons
        updateNavButtons();

        // initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        getConfig: getConfig,
        init: init,
        getElement: getElement
      };
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();

      // We always create and initialize this component through aaf component.
      // Therefore this component does not need to be initialized through bootstrap.
      promise.resolve();
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _);

/***/ }),

/***/ 8879:
/***/ (function() {

/**
 * Form - Hidden
 *
 * Hidden field in basic form component
 */

(function ($, _, $session) {
  window.FDX.components.form_hidden = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '';

    /**
     * Create component instance
     *
     * @public
     * @param {Object} _parent - parent form
     * @return {Object} instance
     */
    function create(_parent) {
      /**
       * @type {Object} parent form
       */
      var parent = _parent;

      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {
          id: '',
          type: '',
          key: '',
          title: '',
          order: '',
          defaultValue: '',
          visitorCookie: ''
        };
        config = $.extend({}, defaultConfig, _config);
        config.defaultValue = config.defaultValue.toString();
      }

      /**
       * Get configuration
       *
       * @public
       * @return {Object} configuration key/value pair
       */
      function getConfig() {
        return config;
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;

        // initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      /**
       * Get field value
       *
       * @public
       * @param {string} format
       * @return {string} field value
       */
      function getValue(format) {
        var value = config.defaultValue;

        // populate based on url parameter
        var urlParams = parent.getUrlParams();
        if (urlParams[config.id]) {
          value = urlParams[config.id] || value;
        }

        // populate based on cookie
        if (config.visitorCookie) {
          // Standard value of visitor cookie(s_ecid) is 'MCMID%7C51409889379996808931017060402060222295'
          // This is static format and it is an encoded value and split with '%7C', which is '|' symbol
          // Final decoded visitorId value is '51409889379996808931017060402060222295'
          var cookieValue = $session.getCookie(config.visitorCookie);
          var visitorIDValue = decodeURIComponent(cookieValue).split('|')[1];
          value = visitorIDValue || value;
        }
        return value;
      }

      /**
       * Set field value
       *
       * @public
       * @param {string} field value
       */
      function setValue(value) {
        config.defaultValue = value;
      }

      /**
       * Is the field valid
       *
       * @public
       * @return {boolean} returns true if valid
       */
      function isValid() {
        return true;
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        getConfig: getConfig,
        init: init,
        getElement: getElement,
        getValue: getValue,
        setValue: setValue,
        isValid: isValid
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        isValid = jest.fn(isValid);
        instance.$private = function () {
          return {
            isValid: isValid
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();

      // We always create and initialize this component through form component.
      // Therefore this component does not need to be initialized through bootstrap.
      promise.resolve();
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _, FDX.services.session);

/***/ }),

/***/ 8881:
/***/ (function() {

/**
 * Validation Service
 *
 * Check if input matches type
 */

(function ($, window) {
  window.FDX.services.validation = function () {
    /**
     * @type {Object} regex key/value pair
     */
    var regexMap = {
      required: /\S+/,
      email: /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,
      numeric: /^\d+$/,
      telephone: /^([ /+()-]*\d){6,}$/
    };

    /**
     * Init service
     *
     * @public
     */
    function init() {}

    /**
     * Check if input matches type
     *
     * @public
     * @param {string} input - string input
     * @param {string} type - constraint type
     * @param {string} [customRegex] custom regex string only to be used with type 'regex' (optional)
     * @return {boolean} true if valid
     */
    function check(input, type, customRegex) {
      var regex = type !== 'regex' ? regexMap[type] : new RegExp(customRegex);
      if (!regex) {
        console.error('Could not find regex rule for ' + type);
        return false;
      }
      var valid = input !== null && regex.test(input);
      return valid;
    }

    // return service
    return {
      init: init,
      check: check
    };
  }();
})(window.jQuery, window);

/***/ }),

/***/ 8897:
/***/ (function() {

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }
function _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
/**
 * INTENT NAVIGATION
 *
 * A horizontally oriented navigation to help users find topics more easily
 */

(function ($, _) {
  window.FDX.components.intentnavigation = function () {
    /**
      * @type {Object[]} list of instances
      */
    var instances = [];

    /**
      * @type {string} root selector
      */
    var selector = '.fxg-intentnavigation';
    var SETTINGS = {
      component: 'intentnavigation',
      namespace: 'fxg'
    };
    var SELECTORS = {
      buttonBack: "js-".concat(SETTINGS.component, "-back"),
      buttonExpand: "js-".concat(SETTINGS.component, "-expand"),
      buttonTrigger: "js-".concat(SETTINGS.component, "-trigger"),
      component: "js-".concat(SETTINGS.component),
      list: "js-".concat(SETTINGS.component, "-list"),
      listItem: "js-".concat(SETTINGS.component, "-list-item"),
      item: "js-".concat(SETTINGS.component, "-item"),
      panel: "js-".concat(SETTINGS.component, "-panel"),
      panelContent: "js-".concat(SETTINGS.component, "-panel-content")
    };
    var CLASSES = {
      isActive: 'is-active',
      isCollapsed: 'is-collapsed',
      isHidden: 'is-hidden',
      itemIsActive: 'fxg-intentnavigation__item-is-active',
      itemIsTriggered: 'fxg-intentnavigation__item-is-triggered'
    };
    var TAGS = {
      prefix: 'intentnav'
    };

    /**
      * Create component instance
      *
      * @public
      * @return {Object} instance
      */
    function create() {
      /**
        * @type {Object} configuration
        */
      var config = {};

      /**
        * @type {Object} jQuery DOM root element
        */
      var $root = null;

      /**
        * Set configuration
        *
        * @public
        * @param {Object} _config - key/value pair
        * @return {Object} instance
        */
      function setConfig(_config) {
        var defaultConfig = {};
        config = $.extend({}, defaultConfig, _config);
      }
      ;

      /**
        * Render HTML
        *
        * @private
        * @return {Promise<string>} - A promise that resolves with rendered HTML
        */
      function render() {}

      /**
        * Initialize component instance
        *
        * @public
        * @param {Object} [_$root] - component root element (optional)
        * @return {Promise} - A promise that resolves when instance is initiated
        */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;

        ///////////////////////////////////
        ////// START INTENTNAV LOGIC //////
        ///////////////////////////////////

        var element = $root[0];
        var activeLevel = 0;
        var panel1Activated = false;
        var panel2Activated = false;
        var panels = element.querySelectorAll(".".concat(SELECTORS.panel));
        var siblingButtonsPanel1 = panels[0].querySelectorAll(".".concat(SELECTORS.item));
        var siblingButtonsPanel2 = panels[1].querySelectorAll(".".concat(SELECTORS.item));
        var siblingButtonsPanel3 = panels[2].querySelectorAll(".".concat(SELECTORS.item));
        var firstPanel = getPanel(activeLevel);
        addPanelListeners(firstPanel);
        addGeneralListeners();

        /**
         * Get Panel
         *
         * @param {Integer} level - Panel level
         */
        function getPanel(level) {
          var levelString = level.toString();
          return panels[levelString];
        }

        /**
         * Get Panel Content
         *
         * @param {String} id - Content id
         * @param {HTMLElement} panel - DOM element (panel)
         */
        function getPanelContent(id, panel) {
          return panel.querySelector("[data-parent=\"".concat(id, "\"]"));
        }

        /**
         * Reset Panel Content
         *
         * @param {HTMLElement} panel - DOM element (panel)
         */
        function resetPanelContent(panel) {
          var contentPanels = panel.querySelectorAll('[data-parent]');
          contentPanels.forEach(function (item) {
            item.classList.add(CLASSES.isHidden);
          });
        }

        /**
         * Add General Listeners
         *
         */
        function addGeneralListeners() {
          element.addEventListener('keydown', function (event) {
            return handleKeyEscape(event);
          });
        }

        /**
         * Handle Escape Key
         * Collapse the active panel on Escape key if it's not the main panel
         *
         * @param {Object} event - Key down event (on component level)
         */
        function handleKeyEscape(event) {
          if (event.keyCode === 27 && activeLevel > 0) {
            collapsePanel(activeLevel);
          }
        }

        /**
         * Add Panel Listeners
         *
         * @param {HTMLElement} panel - DOM element (panel)
         */
        function addPanelListeners(panel) {
          var backButton = _toConsumableArray(panel.querySelectorAll(".".concat(SELECTORS.buttonBack)));
          var buttonsExpand = _toConsumableArray(panel.querySelectorAll(".".concat(SELECTORS.buttonExpand)));
          var buttonsTrigger = _toConsumableArray(panel.querySelectorAll(".".concat(SELECTORS.buttonTrigger)));
          backButton.map(function (button) {
            return button.addEventListener('click', function () {
              return handleBackClick(button);
            });
          });
          buttonsExpand.map(function (button) {
            return button.addEventListener('click', function () {
              return handleButtonClick(button);
            });
          });
          buttonsExpand.map(function (button) {
            return button.addEventListener('keyup', function (event) {
              return handleKeys(event, button);
            });
          });
          buttonsTrigger.map(function (button) {
            return button.addEventListener('click', function () {
              return handleButtonClick(button);
            });
          });
        }

        /**
         * Handle Keys
         * Handling the navigation with buttons
         *
         * @param {Object} event - Key down event (on button level)
         * @param {HTMLElement} button - Clicked button element
         */
        function handleKeys(event, button) {
          if (event.keyCode === 13) {
            var dataId = button.dataset.id;
            var focusItem = panels[activeLevel].querySelector("[data-parent=\"".concat(dataId, "\"] > .fxg-intentnavigation__list > .fxg-intentnavigation__list-item > :first-child"));
            if (focusItem != null) focusItem.focus();
          }
        }

        /**
         * Handle Button Click
         *
         * @param {HTMLElement} button - Clicked button element
         */
        function handleButtonClick(button) {
          var activePanel = button.closest(".".concat(SELECTORS.panel));
          var isTriggerButton = button.classList.contains(SELECTORS.buttonTrigger);
          var siblingButtonsPanels = [siblingButtonsPanel1, siblingButtonsPanel2, siblingButtonsPanel3];

          // Always wipe triggered state (checkmark) in all panels
          siblingButtonsPanels.forEach(function (siblingButtonsPanel) {
            siblingButtonsPanel.forEach(function (item) {
              item.classList.remove(CLASSES.itemIsTriggered);
            });
          });

          // Wipe highlighted active state in panel 1 (in case of a click in panel 1)
          if (activePanel === panels[0]) {
            siblingButtonsPanel1.forEach(function (item) {
              item.classList.remove(CLASSES.itemIsActive);
            });
          }

          // Wipe highlighted active state in panel 2 if it's not a click in panel 3
          if (activePanel !== panels[2]) {
            siblingButtonsPanel2.forEach(function (item) {
              item.classList.remove(CLASSES.itemIsActive);
            });
          }

          // Always wipe highlighted active state in panel 3
          siblingButtonsPanel3.forEach(function (item) {
            item.classList.remove(CLASSES.itemIsActive);
          });

          // Set active state of most recent click
          button.classList.add(CLASSES.itemIsActive);
          if (isTriggerButton) {
            button.classList.add(CLASSES.itemIsTriggered);
          }

          // Handle collapse of panel 3 in case of a button trigger click in panel 2
          if (activePanel === panels[1] && isTriggerButton) {
            panels[1].classList.add(CLASSES.isActive);
            panels[1].classList.remove(CLASSES.isCollapsed);
            panels[2].classList.remove(CLASSES.isActive);
            panels[2].classList.add(CLASSES.isCollapsed);
            activeLevel = 1;
          }

          // Handle collapse of panel 3 and panel 2 in case of a button trigger click in panel 1
          if (activePanel === panels[0] && isTriggerButton) {
            panels[0].classList.add(CLASSES.isActive);
            panels[0].classList.remove(CLASSES.isCollapsed);
            panels[1].classList.remove(CLASSES.isActive);
            panels[1].classList.add(CLASSES.isCollapsed);
            panels[2].classList.remove(CLASSES.isActive);
            panels[2].classList.add(CLASSES.isCollapsed);
            activeLevel = 0;
          }
          if (!isTriggerButton) {
            var targetPanel = parseInt(button.dataset.targetPanel);
            var id = button.dataset.id;
            activeLevel = targetPanel ? parseInt(targetPanel) : 0;
            renderPanelContent(id);
          }

          // SET URL from selected Intent.
          // Get url key from button data-analytics-js
          // Split path string based on _L level (1,2,3), get deepest level and normalize output
          var pathStr = button.getAttribute('data-analytics-js');
          if (pathStr) {
            var pathArr = pathStr.split('_L');
            var pathItem = pathArr[pathArr.length - 1];
            pathItem = pathItem.split('-')[1];

            // Set URL based on current location with new intent. replace intent if needed, account for ? and & parameters.
            var currentLocation = location.href;
            if (currentLocation) {
              var newLocation = currentLocation.replace(/&intent=[^&]*/g, '').replace(/\?intent=[^&]*/g, '');
              var newLocationWithIntent = newLocation.includes('?') ? newLocation + '&intent=' + pathItem : newLocation + '?intent=' + pathItem;
              window.history.pushState({
                state: pathItem
              }, pathItem, newLocationWithIntent);
            }
          }
          var payload = button.dataset.analyticsJs ? button.dataset.analyticsJs : 'no-label';
          fireGenericInteraction(payload);
        }

        /**
         * Handle Back Click
         *
         * @param {HTMLElement} backButton - clicked back button element
         */
        function handleBackClick(backButton) {
          collapsePanel(activeLevel);
        }

        /**
         * Render Panel Content
         *
         * @param {String} id - Content id
         */
        function renderPanelContent(id) {
          var panel = getPanel(activeLevel);
          var panelContent = getPanelContent(id, panel);

          // Collapse the last panel if it's opened when the main panel is clicked
          if (activeLevel === 1 && panels[2].classList.contains(CLASSES.isActive)) {
            panels[2].classList.remove(CLASSES.isActive);
            panels[2].classList.add(CLASSES.isCollapsed);
          }
          panels[activeLevel - 1].classList.remove(CLASSES.isActive);
          resetPanelContent(panel);
          panel.classList.remove(CLASSES.isCollapsed);
          panel.classList.add(CLASSES.isActive);
          panelContent.classList.remove(CLASSES.isHidden);

          // Add eventlisteners (only once)
          if (activeLevel === 1 && !panel1Activated) {
            panel1Activated = true;
            addPanelListeners(panel);
          }
          if (activeLevel === 2 && !panel2Activated) {
            panel2Activated = true;
            addPanelListeners(panel);
          }
        }

        /**
         * Collapse Panel
         *
         * @param {string} level - Panel level
         */
        function collapsePanel(level) {
          var activePanel = getPanel(level);
          var previousLevel = activeLevel - 1;
          var previousPanel = getPanel(previousLevel);
          activePanel.classList.add(CLASSES.isCollapsed);
          activePanel.classList.remove(CLASSES.isActive);
          previousPanel.classList.add(CLASSES.isActive);
          activeLevel = previousLevel;

          // Set all content items of the panels to 'is-hidden' and focus on the last active item of the previous panel
          var panelContentItems = activePanel.querySelectorAll(".".concat(SELECTORS.panelContent));
          panelContentItems.forEach(function (item) {
            return item.classList.add("".concat(CLASSES.isHidden));
          });
          previousPanel.querySelector(".".concat(CLASSES.itemIsActive)).focus();
        }

        /**
         * Fire Generic Interaction
         * Fires the GDL Generic Interaction event
         *
         * Docs: https://gdl-master.devapp.paas.fedex.com/testbed.generic-interaction.html
         *
         * @param {String} payload - The string to be sent with this GDL event
         */
        function fireGenericInteraction(payload) {
          if (_typeof(window.FDX.GDL) !== 'object') return;
          window.FDX.GDL.push(['event:publish', ['interaction', 'click', {
            name: TAGS.prefix,
            value: payload
          }]]);
        }

        /////////////////////////////////
        ////// END INTENTNAV LOGIC //////
        /////////////////////////////////

        // Initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement
      };
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();
      var initPromises = [];

      // find all related elements
      $(selector).each(function () {
        // skip already initialized elements
        var $element = $(this);
        if ($element.data('initialized')) return;

        // create instance
        var instance = window.FDX.components.intentnavigation.create();

        // Set configuration
        var $config = $('[data-config="js-intentnavigation-config"]', $element);
        if ($config.length) {
          instance.setConfig(JSON.parse($config.html().trim()));
        }

        // initialize instance
        var initPromise = instance.init($element);
        initPromises.push(initPromise);
      });

      // resolve after all inits
      $.when.apply($, initPromises).then(function () {
        promise.resolve();
      });
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _);

/***/ }),

/***/ 9008:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 9067:
/***/ (function() {

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
var _this = this;
function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }
function _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
/**
 * Footer
 *
 * This component is created for demonstration purpose
 */

(function () {
  window.FDX.components.footer = function (_document$querySelect) {
    var footerSelectors = {
      /**
       * @type {string} root selector
       */
      selector: ".fxg-footer",
      /**
       * @type {string} social selector
       */
      socialClass: ".fxg-footer__social",
      /**
       * @type {string} social inner selector
       */
      socialInnerClass: "fxg-footer__social-inner",
      /**
       * @type {string} social wrapper selector
       */
      socialWrapperClass: "fxg-footer__social-wrapper",
      /**
       * @type {string} social indicator selector
       */
      socialIndicatorClass: "fxg-footer__social-indicator",
      /**
       * @type {string} social left indicator selector
       */
      leftIndicatorClass: "fxg-footer__social-indicator--left",
      /**
       * @type {string} social right indicator selector
       */
      rightIndicatorClass: "fxg-footer__social-indicator--right",
      /**
       * @type {string} footer class
       */
      footerClass: ".fxg-footer",
      /**
       * @type {string} icon link class
       */
      aemLinkClass: ".icon_link"
    };
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var wrapperSize = 0;

    /**
     * @type {string} root selector
     */
    var socialSize = 0;

    /**
     * @type {string} root selector
     */
    var rightToLeftValue = ((_document$querySelect = document.querySelector("#footerIconRtl")) === null || _document$querySelect === void 0 ? void 0 : _document$querySelect.value) || "";

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    var create = function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var root = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      var setConfig = function setConfig(_config) {
        var defaultConfig = {
          option1: "",
          option2: ""
        };
        config = _objectSpread(_objectSpread({}, defaultConfig), _config);
      };

      /**
       * showLeftIndicator
       *
       * @private
       */
      var showLeftIndicator = function showLeftIndicator() {
        //contolled by z-index because it is layered
        var leftIndicator = document.querySelector("." + footerSelectors.leftIndicatorClass);
        if (leftIndicator) {
          leftIndicator.classList.add("cc-aem-u-z-index--medium");
        }
      };
      /**
       * hideLeftIndicator
       *
       * @private
       */
      var hideLeftIndicator = function hideLeftIndicator() {
        var leftIndicator = document.querySelector("." + footerSelectors.leftIndicatorClass);
        if (leftIndicator) {
          leftIndicator.classList.add("cc-aem-u-z-index--min-1");
        }
      };
      /**
       * showRightIndicator
       *
       * @private
       */
      var showRightIndicator = function showRightIndicator() {
        var rightIndicator = document.querySelector("." + footerSelectors.rightIndicatorClass);
        if (rightIndicator) {
          rightIndicator.classList.add("cc-aem-u-flex--inline");
        }
      };
      /**
       * hideRightIndicator
       *
       * @private
       */
      var hideRightIndicator = function hideRightIndicator() {
        var rightIndicator = document.querySelector("." + footerSelectors.rightIndicatorClass);
        if (rightIndicator) {
          rightIndicator.classList.add("cc-aem-u-display--none");
        }
      };
      /**
       *mobileBreakpointChanged(mq) handles when the  mobileBreakpoint is changed, and add add left/right indicators.
       *
       * @private
       */
      var mobileBreakpointChanged = function mobileBreakpointChanged(mq) {
        if (mq && mq.matches) {
          //Wrap social icons in a wrapper for mobile
          document.querySelectorAll(footerSelectors.footerClass + " " + footerSelectors.socialClass + " " + FDX.components.column.columnClass).forEach(function (element) {
            var links = element.querySelectorAll(footerSelectors.aemLinkClass);
            var socialWrapper = document.createElement("div");
            socialWrapper.className = footerSelectors.socialWrapperClass;
            var wrap = document.createElement("div");
            wrap.className = "wrap";
            var socialInner = document.createElement("div");
            socialInner.className = footerSelectors.socialInnerClass;
            links.forEach(function (link) {
              return socialInner.appendChild(link);
            });
            wrap.appendChild(socialInner);
            socialWrapper.appendChild(wrap);
            element.appendChild(socialWrapper);
          });
          var left, right;
          //Add indicators
          if (FDX.components.footer.rightToLeftValue !== "true") {
            left = '<div class="' + footerSelectors.socialIndicatorClass + " " + footerSelectors.leftIndicatorClass + '">' + '<svg xmlns="http://www.w3.org/2000/svg" width="12" height="22" viewBox="0 0 12 22"><desc>  Created with Sketch.</desc><g fill="none"><g style="stroke-width:2;stroke:#333333"><polyline transform="translate(-291 -317)translate(0 284.5)translate(297 43.89421)rotate(-90)translate(-297 -43.89421)" points="287 39 297.1 48.8 307 39.1"/></g></g></svg>' + "</div>";
            right = '<div class="' + footerSelectors.socialIndicatorClass + " " + footerSelectors.rightIndicatorClass + '">' + '<svg xmlns="http://www.w3.org/2000/svg" width="12" height="22" viewBox="0 0 12 22"><desc>  Created with Sketch.</desc><g fill="none"><g style="stroke-width:2;stroke:#333333"><polyline transform="translate(-291 -317)translate(0 284.5)translate(297 43.89421)rotate(-90)translate(-297 -43.89421)" points="287 39 297.1 48.8 307 39.1"/></g></g></svg>' + "</div>";
          } else {
            left = '<div class="' + footerSelectors.socialIndicatorClass + " " + footerSelectors.leftIndicatorClass + '">' + '<svg xmlns="http://www.w3.org/2000/svg" width="12" height="22" viewBox="0 0 12 22"><desc>  Created with Sketch.</desc><g fill="none"><g style="stroke-width:2;stroke:#333333"><polyline transform="translate(-291 -317)translate(0 284.5)translate(297 43.89421)rotate(90)translate(-297 -43.89421)" points="287 39 297.1 48.8 307 39.1"/></g></g></svg>' + "</div>";
            right = '<div class="' + footerSelectors.socialIndicatorClass + " " + footerSelectors.rightIndicatorClass + '">' + '<svg xmlns="http://www.w3.org/2000/svg" width="12" height="22" viewBox="0 0 12 22"><desc>  Created with Sketch.</desc><g fill="none"><g style="stroke-width:2;stroke:#333333"><polyline transform="translate(-291 -317)translate(0 284.5)translate(297 43.89421)rotate(90)translate(-297 -43.89421)" points="287 39 297.1 48.8 307 39.1"/></g></g></svg>' + "</div>";
          }
          var socialWrapper = document.querySelector("." + footerSelectors.socialWrapperClass);
          if (socialWrapper) {
            socialWrapper.insertAdjacentHTML("afterend", right);
            socialWrapper.insertAdjacentHTML("beforebegin", left);
          }

          //set variables for calculations
          var wrapper = document.querySelector("." + footerSelectors.socialWrapperClass);
          FDX.components.footer.wrapperSize = wrapper ? wrapper.offsetWidth - 10 : 0;
          var socialInnerChildren = document.querySelectorAll("." + footerSelectors.socialInnerClass + "> *");
          FDX.components.footer.socialSize = Array.from(socialInnerChildren).reduce(function (total, child) {
            return total + child.offsetWidth;
          }, 0);
        } else {
          //Unwrap social icons for desktop
          document.querySelectorAll(footerSelectors.footerClass + " " + footerSelectors.socialClass + " " + footerSelectors.aemLinkClass).forEach(function (link) {
            var parent = link.closest("." + footerSelectors.socialInnerClass);
            if (parent) {
              parent.replaceWith.apply(parent, _toConsumableArray(parent.children));
            }
          });
          document.querySelectorAll("." + footerSelectors.rightIndicatorClass).forEach(function (indicator) {
            return indicator.remove();
          });
          document.querySelectorAll("." + footerSelectors.leftIndicatorClass).forEach(function (indicator) {
            return indicator.remove();
          });
        }
      };
      /**
       * iconFocusCheck() function moves the social icons class left or right as per the tabbing sequence
       *
       * @private
       */
      var iconFocusCheck = function iconFocusCheck() {
        var parentElement = document.querySelectorAll("." + FDX.components.footer.socialInnerClass + " > *");
        var socialInner = document.querySelector("." + footerSelectors.socialInnerClass);
        if (!socialInner || parentElement.length === 0) return;
        if (parentElement.length == 5 && _this === parentElement[5]) {
          hideRightIndicator();
          showLeftIndicator();
          socialInner.style.left = "-239px";
        } else if (parentElement.length == 4 && _this === parentElement[4]) {
          socialInner.style.left = "-158px";
          socialInner.style.transition = "right 50ms";
          socialInner.classList.add("cc-aem-u-right--0");
        } else if (parentElement.length == 3 && _this === parentElement[3]) {
          socialInner.style.left = "-79px";
        } else if (_this === parentElement[2] || _this === parentElement[1] || _this === parentElement[0]) {
          socialInner.classList.add("cc-aem-u-left--0");
          showRightIndicator();
          hideLeftIndicator();
        }
      };

      /**
       * indicatorCheck() function hide/show right indicator based on wrapper size.
       *
       * @private
       */
      var indicatorCheck = function indicatorCheck() {
        var rightIndicator = document.querySelector("." + footerSelectors.rightIndicatorClass);
        if (FDX.components.footer.socialSize < FDX.components.footer.wrapperSize) {
          if (rightIndicator) {
            rightIndicator.classList.add("cc-aem-u-display--none");
          }
          hideRightIndicator();
        } else if (document.documentElement.clientWidth <= FDX.services.device.ccmobileMediaQuery) {
          if (rightIndicator) {
            rightIndicator.classList.add("cc-aem-u-display");
          }
          showRightIndicator();
        }
      };

      /**
       * Bind interactions events
       *
       * @private
       */
      var bindInteractions = function bindInteractions() {
        var startX = -1;
        //remove ghost nodes in Preview/Disabled mode
        var ghostNodes = document.querySelectorAll(".ghost");
        if (ghostNodes.length > 0) {
          ghostNodes.forEach(function (node) {
            var hasDiv = node.querySelector("div") !== null;
            var isPreviewMode = document.cookie.includes("cq-editor-layer.page") && FDX.SESSION.getCookie("cq-editor-layer.page") === "Preview";
            if (!hasDiv || isPreviewMode) {
              node.remove();
            }
          });
        }
        document.body.addEventListener("touchmove", handleMove, false);
        document.body.addEventListener("touchstart", handleStart, false);
        FDX.services.device.getMobileMediaQuery().addListener(mobileBreakpointChanged);
        if (typeof FDX.services !== "undefined") {
          mobileBreakpointChanged(FDX.services.device.getCCMobileMediaQuery());
        }
        document.querySelectorAll(footerSelectors.aemLinkClass).forEach(function (link) {
          link.addEventListener("keydown", function (e) {
            if (e.key === "Tab") {
              iconFocusCheck();
            }
          });
        });
        var leftIndicator = document.querySelector("." + footerSelectors.leftIndicatorClass);
        var socialInner = document.querySelector("." + footerSelectors.socialInnerClass);
        if (leftIndicator) {
          leftIndicator.addEventListener("click", function () {
            if (FDX.components.footer.rightToLeftValue !== "true") {
              if (socialInner) {
                socialInner.style.transition = "left 250ms ease-in-out";
                socialInner.classList.add("cc-aem-u-left--0");
              }
            } else {
              if (socialInner) {
                socialInner.style.transition = "right 250ms ease-in-out";
                socialInner.classList.add("cc-aem-u-right--0");
              }
            }
            showRightIndicator();
            hideLeftIndicator();
          });
        }
        var rightIndicator = document.querySelector("." + footerSelectors.rightIndicatorClass);
        if (rightIndicator) {
          rightIndicator.addEventListener("click", function () {
            if (!socialInner) return;
            var offset = FDX.components.footer.socialSize - FDX.components.footer.wrapperSize;
            if (FDX.components.footer.rightToLeftValue !== "true") {
              if (socialInner) {
                socialInner.style.transition = "left 250ms ease-in-out";
                socialInner.style.left = "-" + offset + "px";
              }
            } else {
              if (socialInner) {
                socialInner.style.transition = "right 250ms ease-in-out";
                socialInner.style.right = "-" + offset + "px";
              }
            }
            showLeftIndicator();
            hideRightIndicator();
          });
        }
        window.addEventListener("resize", function () {
          var socialWrapper = document.querySelector("." + footerSelectors.socialWrapperClass);
          FDX.components.footer.wrapperSize = socialWrapper ? socialWrapper.offsetWidth - 10 : 0;
          indicatorCheck();
        });
        var handleMove = function handleMove(evt) {
          if (startX >= 0) {
            if (FDX.components.footer.socialSize < FDX.components.footer.wrapperSize) return;
            var move = evt.changedTouches[0].pageX - startX;
            startX = evt.changedTouches[0].pageX;
            var position;
            var _socialInner = document.querySelector("." + footerSelectors.socialInnerClass);
            if (FDX.components.footer.rightToLeftValue !== "true") {
              var currentLeft = parseInt(getComputedStyle(_socialInner).left, 10) || 0;
              position = currentLeft + move;
            } else {
              var currentRight = parseInt(getComputedStyle(_socialInner).right, 10) || 0;
              position = currentRight - move;
            }
            if (position < -(FDX.components.footer.socialSize - FDX.components.footer.wrapperSize)) {
              position = -(FDX.components.footer.socialSize - FDX.components.footer.wrapperSize);
              hideRightIndicator();
              showLeftIndicator();
            } else if (position > 0) {
              position = 0;
              showRightIndicator();
              hideLeftIndicator();
            } else {
              showRightIndicator();
              showLeftIndicator();
            }
            if (FDX.components.footer.rightToLeftValue !== "true") {
              _socialInner.style.left = position + "px";
            } else {
              _socialInner.style.right = position + "px";
            }
          }
        };
        var handleStart = function handleStart(evt) {
          var socialWrapper = document.querySelector("." + footerSelectors.socialWrapperClass);
          if (!socialWrapper) return;
          var elementBox = {
            top: socialWrapper.getBoundingClientRect().top + window.scrollY,
            bottom: socialWrapper.getBoundingClientRect().top + window.scrollY + socialWrapper.offsetHeight,
            left: socialWrapper.getBoundingClientRect().left + window.scrollX,
            right: socialWrapper.getBoundingClientRect().left + window.scrollX + socialWrapper.offsetWidth
          };
          var touchX = evt.changedTouches[0].pageX;
          var touchY = evt.changedTouches[0].pageY;
          if (touchX >= elementBox.left && touchX <= elementBox.right && touchY >= elementBox.top && touchY <= elementBox.bottom && document.documentElement.clientWidth <= FDX.services.device.MobileMediaQuery) {
            startX = touchX;
          } else {
            startX = -1;
          }
        };
        (function () {
          /* To hide link focus ring for mouse interaction in footer */
          var links = document.querySelectorAll(".fxg-copyright a");
          links.forEach(function (link) {
            link.classList.add("fxg-keyboard");
            var content = link.innerHTML;
            var span = '<span class="fxg-mouse" tabindex="-1">' + content + "</span>";
            link.innerHTML = span;
          });
        })();
      };

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [rootElement] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      var init = function init(_root) {
        return new Promise(function (resolve) {
          root = _root;
          if (!root || typeof root.querySelector !== "function") {
            var _root2;
            root = (_root2 = root) !== null && _root2 !== void 0 && _root2.jquery ? root[0] : null;
            if (!root) {
              resolve();
              return;
            }
          }
          // Bind interactions
          bindInteractions();
          root.dataset.initialized = true;
          resolve();
        });
      };

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      var getElement = function getElement() {
        return root;
      };

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement,
        showLeftIndicator: showLeftIndicator,
        hideLeftIndicator: hideLeftIndicator,
        showRightIndicator: showRightIndicator,
        hideRightIndicator: hideRightIndicator,
        mobileBreakpointChanged: mobileBreakpointChanged,
        iconFocusCheck: iconFocusCheck,
        indicatorCheck: indicatorCheck
      };

      // pass private attributes and methods to jest
      if (typeof jest !== "undefined") {
        bindInteractions = jest.fn(bindInteractions);
        instance.$private = function () {
          return {
            bindInteractions: bindInteractions
          };
        };
      }
      instances.push(instance);
      return instance;
    };

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    var createInstances = function createInstances() {
      return new Promise(function (resolve) {
        var initPromises = [];
        // find all related elements
        document.querySelectorAll(footerSelectors.selector).forEach(function (element) {
          if (element.dataset.initialized === "true") return;

          // create instance
          var instance = window.FDX.components.footer.create();

          // initialize instance
          var initPromise = instance.init(element);
          initPromises.push(initPromise);
          element.dataset.initialized = "true";
        });

        // resolve after all inits
        Promise.all(initPromises).then(function () {
          return resolve();
        });
      });
    };

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      footerSelectors: footerSelectors,
      selector: footerSelectors.selector,
      socialClass: footerSelectors.socialClass,
      socialInnerClass: footerSelectors.socialInnerClass,
      socialWrapperClass: footerSelectors.socialWrapperClass,
      socialIndicatorClass: footerSelectors.socialIndicatorClass,
      leftIndicatorClass: footerSelectors.leftIndicatorClass,
      rightIndicatorClass: footerSelectors.rightIndicatorClass,
      footerClass: footerSelectors.footerClass,
      aemLinkClass: footerSelectors.aemLinkClass,
      wrapperSize: wrapperSize,
      socialSize: socialSize,
      rightToLeftValue: rightToLeftValue
    };
  }();
})();

/***/ }),

/***/ 9150:
/***/ (function() {

"use strict";

;// ./src/components/form/notification.inline.html?raw
var notification_inlineraw_namespaceObject = "<% if (isSuccess) { %>\n  <div class=\"cc-aem-c-notification cc-aem-c-notification--block cc-aem-u-bg-color--success cc-aem-u-color--white cc-aem-u-mb--5\">\n    <div class=\"cc-aem-c-notification__main\">\n      <div class=\"cc-aem-c-notification__header\">\n        <svg class=\"cc-aem-c-icon\" aria-hidden=\"true\">\n          <use href=\"#check-mark-circle\"></use>\n        </svg>\n      </div>\n      <div class=\"cc-aem-c-notification__body\">\n        <div class=\"cc-aem-c-notification__description\">\n          <%= message %>\n        </div>\n      </div>\n    </div>\n  </div>\n<% } else { %>\n  <div class=\"cc-aem-c-notification cc-aem-c-notification--block cc-aem-u-bg-color--error cc-aem-u-color--white cc-aem-u-mb--5\">\n    <div class=\"cc-aem-c-notification__main\">\n      <div class=\"cc-aem-c-notification__header\">\n        <svg class=\"cc-aem-c-icon\" aria-hidden=\"true\">\n          <use href=\"#circle-exclamation\"></use>\n        </svg>\n      </div>\n      <div class=\"cc-aem-c-notification__body\">\n        <div class=\"cc-aem-c-notification__description\">\n          <%= message %>\n        </div>\n      </div>\n    </div>\n  </div>\n<% } %>";
;// ./src/components/form/form.js
function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }
function _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }


/**
 * Form
 *
 * Basic form component
 */

(function ($, _, $components, $fetch, $analytics, $utils) {
  window.FDX.components.form = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '.fxg-forms';

    /**
     * Create component instance
     *
     * @public
     *
     * @return {Object} instance
     */
    function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * @type {Object} jQuery DOM notification element
       */
      var $notification = null;

      /**
       * @type {Object} fields id/field instance pair
       */
      var fields = {};

      /**
       * @type {Object} url parameters key/value pair
       */
      var urlParams = {};

      /**
       * @type {boolean} bypass default submit
       */
      var bypassDefaultSubmit = true;

      /**
       * @type {boolean} when true, interaction with form is started
       */
      var interactionStarted = false;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {
          formid: '',
          actionType: '',
          targetPath: '',
          jsonTemplate: '',
          jsonGroups: '',
          headers: '',
          authToken: false,
          analyticsText: '',
          // not used
          pageUrlParam: false,
          sendMailConfirmation: false,
          replyTo: false,
          delimiter: '&',
          subDelimiter: '=',
          isOTEnabled: false,
          otAPI: '',
          otPurposeId: '',
          otAuthToken: '',
          otFirstName: 'FirstName',
          otLastName: 'LastName',
          otIdentifier: 'EmailAddress',
          otTest: 'consentCheck',
          msg_required: 'Field is required',
          msg_success: '',
          msg_successContentPath: '',
          msg_error: '',
          msg_jsonTemplateError: ''
        };
        config = $utils.defaultConfig(_config, defaultConfig);
        config.delimiter = $utils.decodeHTMLEntities(config.delimiter);
        config.subDelimiter = $utils.decodeHTMLEntities(config.subDelimiter);
      }

      /**
       * Get configuration
       *
       * @public
       * @return {Object} configuration key/value pair
       */
      function getConfig() {
        return config;
      }

      /**
       * Get url parameters
       *
       * @public
       * @return {Object} url parameters key/value pair
       */
      function getUrlParams() {
        return urlParams;
      }

      /**
       * Track GDL analytics
       *
       * @private
       * @param {Object} eventName - gdl event name
       */
      function track(eventName) {
        var payload = {
          gdl: {
            category: 'form',
            eventName: eventName,
            params: {
              name: config.formid
            }
          }
        };
        $analytics.push(payload);
      }

      /**
       * Track GDL analytics for error
       *
       * @private
       * @param {string} type - type of error, either `validation` or `server`
       * @param {string} source - origin of the error, for validation = form field name, for server = form name
       * @param {string} message - error message
       */
      function trackError(type, source, message) {
        var payload = {
          gdl: {
            category: 'error',
            eventName: 'error',
            params: {
              type: type,
              source: source,
              message: message
            }
          }
        };
        $analytics.push(payload);
      }

      /**
       * Trigger start interaction analytics event, only on first call
       *
       * @public
       */
      function startInteraction() {
        if (interactionStarted) return;
        track('start-interaction');
        interactionStarted = true;
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;
        $notification = $root.find('.fxg-form__notification');

        // create and initialize field instances
        initFields();

        // get url parameters
        urlParams = $utils.getUrlParams(window.location.search, config.delimiter, config.subDelimiter);

        // bind interactions
        bindInteractions();

        // trigger form view analytics event
        track('view');

        // initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      /**
       * Bind interactions
       *
       * @private
       */
      function bindInteractions() {
        // submit form
        $root.on('submit', function (event) {
          submit(event);
        });
      }

      /**
       * Create and initialize field instances
       *
       * @public
       * @return {Object[]} initialized fields
       */
      function initFields() {
        var initializedFields = [];
        var autoOrderCount = 10000;

        // scan form for fields
        var parent = FDX.components.form.instances[FDX.components.form.instances.length - 1];
        $root.find('[data-type]').each(function () {
          // look up field component
          var $element = $(this);
          var fieldConfig = $element.data();
          var component = $components['form_' + fieldConfig.type];

          // skip non existing component types AND components that have already been defined
          if (!component || fields[fieldConfig.id]) return;

          // set order
          if (!fieldConfig.order) {
            fieldConfig.order = ++autoOrderCount;
          }

          // create and initialize field
          var field = component.create(parent);
          field.setConfig(fieldConfig);
          field.init($element);
          fields[fieldConfig.id] = field;
          initializedFields.push(field);
        });
        return initializedFields;
      }

      /**
       * Validate and return invalid fields if any
       *
       * @private
       * @return {Object[]} invalid field elements
       */
      function validate() {
        var invalidFields = [];
        for (var f in fields) {
          var field = fields[f];
          if (!field.isValid()) {
            invalidFields.push(field);
          }
        }
        return invalidFields;
      }

      /**
       * Collect form data - flat
       *
       * @private
       * @return {Object} form data
       */
      function getFormData_flat() {
        var data = {};
        Object.keys(fields).forEach(function (id) {
          var field = fields[id];
          var type = field.getConfig().type;
          switch (type) {
            case 'checkbox_group':
              data[id] = fields[id].getValue('array');
              break;
            default:
              data[id] = fields[id].getValue();
              break;
          }
          if (type === 'dropdown' && !data[id]) {
            delete data[id];
          }
        });
        return data;
      }

      /**
       * Collect form data - json
       *
       * @private
       * @return {Object} form data
       */
      function getFormData_json() {
        // get data
        var order;
        var json = Object.values(fields).map(function (field) {
          var fieldConfig = field.getConfig();
          order = fieldConfig.order;
          return {
            name: fieldConfig.id,
            title: fieldConfig.title,
            value: field.getValue(),
            order: order,
            isHidden: fieldConfig.type === 'hidden'
          };
        });

        // get hidden fields
        var hiddenJson = $root.find('.fxg-forms__hidden > input[type="hidden"]').map(function () {
          return {
            name: $(this).attr('name'),
            title: '',
            value: $(this).attr('value'),
            order: ++order,
            isHidden: true
          };
        });
        json.push.apply(json, _toConsumableArray(hiddenJson));

        // include recipients mail list
        if (config.sendMailConfirmation || config.replyTo) {
          var recipientsMailList = Object.values(fields).filter(function (field) {
            return field.getConfig().constraintType === 'email';
          }).map(function (field) {
            return field.getValue();
          }).join(',');
          json.push({
            name: 'recipientsMailKeyValue',
            title: '',
            value: recipientsMailList,
            order: ++order,
            isHidden: false
          });
        }

        // maybe include the page url as parameter
        // this is used in Optimizely to know about the current variant
        if (config.pageUrlParam) {
          json.push({
            name: 'page-url-param',
            title: '',
            value: encodeURIComponent(window.location.href),
            order: ++order,
            isHidden: false
          });
        }

        // sort form data in the configured order
        var sortedJson = _.sortBy(json, function (field) {
          return field.order;
        });
        return sortedJson;
      }

      /**
       * Collect the categorised forms data based on its fields assiged group
       *
       * @private
       * @return {object} form data
       */
      function getGroupedFormData() {
        // get json template
        var customJson = _.unescape(config.jsonTemplate).replace(/'/g, "\"");
        // Store form fields that are configured in the customJson
        // Store the group data mapped to the form fiels and configured in the customJson
        var customObject = {};
        var groupedFormData = {};
        var groups = config.jsonGroups.split(',');
        Object.keys(fields).forEach(function (id) {
          var fieldConfig = fields[id].getConfig();
          var value = fields[id].getValue();
          value = _.isString(value) ? value.replace(/\n/ig, "\\n") : value;
          var fieldGroup = fieldConfig.key;
          var name = fieldConfig.id;
          if (_.includes(customJson, '{{fd_' + name + '}}')) {
            // add the field configured on customJson template to customObject
            customObject['{{fd_' + name + '}}'] = value;
          } else if (_.includes(customJson, '{{gp_' + fieldGroup + '}}')) {
            // add the group configured on customJson template to customObject
            customObject['{{gp_' + fieldGroup + '}}'] = fieldGroup;
          }

          // check if the current field is assigned to valid group or not.
          var isValidGroup = _.filter(groups, function (group) {
            return group === fieldGroup;
          });

          // if no group/key is set to field then it will be ignored or not sent to API.
          if (name && fieldGroup !== '' && isValidGroup.length === 1) {
            groupedFormData[fieldGroup] = groupedFormData[fieldGroup] || {};
            groupedFormData[fieldGroup][name] = value;
          }
        });
        return {
          'customObject': customObject,
          'groupedFormData': groupedFormData
        };
      }

      /**
       * Collect form data - custom
       *
       * @private
       * @return {string} form data
       */
      function getFormData_custom() {
        var dataToReturn = {};

        // get json template
        var customJson = _.unescape(config.jsonTemplate).replace(/'/g, "\"");

        // Store form fields that are configured in the customJson
        // Store the group data mapped to the form fiels and configured in the customJson
        var customObject = {};
        var groupedFormData = {};
        if (config.jsonGroups) {
          var data = getGroupedFormData();
          if (!data) return;
          groupedFormData = data.groupedFormData;
          customObject = data.customObject;

          // case: default format (no custom json configured)
          var formattedFormData = [];
          formattedFormData.push(groupedFormData);

          // case: custom format for POST Submission
          if (config.jsonTemplate) {
            formattedFormData = customJson;

            // Iterate each group and update the group data of customObject
            var groups = config.jsonGroups.split(',');
            groups.forEach(function (group) {
              customObject['{{gp_' + group + '}}'] = groupedFormData[group];
            });

            // generate JSON as per configured customJSON template using customObject properties
            for (var item in customObject) {
              var rgx = new RegExp(item, 'gi');
              if (_.isObject(customObject[item])) {
                rgx = new RegExp('"' + item + '"', 'gi');
                formattedFormData = formattedFormData.replace(rgx, JSON.stringify(customObject[item]));
              } else {
                formattedFormData = formattedFormData.replace(rgx, customObject[item]);
              }
            }
            try {
              formattedFormData = JSON.parse(formattedFormData);
            } catch (e) {
              throw config.msg_jsonTemplateError;
            }
          }
          dataToReturn = formattedFormData;
        } else {
          // non hierarchical format and allow only non disabled fields
          Object.keys(fields).forEach(function (id) {
            var fieldConfig = fields[id].getConfig();
            groupedFormData[fieldConfig.id] = fields[id].getValue();
          });
          dataToReturn = groupedFormData;
        }
        return dataToReturn;
      }

      /**
       * Collect form headers
       *
       * @private
       * @return {Object} form headers
       */
      function getFormHeaders() {
        var headers = {};

        // get headers from config
        if (config.actionType === 'POST' && config.headers) {
          config.headers.split(',').forEach(function (header) {
            var pair = header.split('=');
            if (pair.length !== 2) return;
            headers[pair[0]] = pair[1];
          });
        }

        // append authorization token on every submit, as it is a dynamic/random token
        var authorizationToken = getAuthorizationToken();
        if (authorizationToken) {
          headers.Authorization = 'Bearer ' + authorizationToken;
        }
        return headers;
      }

      /**
       * Get APIG authorization token for authentication of iSell API on the API Gateway
       *
       * @private
       * @return {string} token
       */
      function getAuthorizationToken() {
        var loginData = sessionStorage.getItem('loginDataStorage');
        if (!loginData || !config.authToken) return '';
        var parsed = JSON.parse(loginData);
        var token = parsed.token || parsed.access_token || '';
        return token;
      }

      /**
       * Submit form data
       *
       * @private
       * @param {Object} event - form submission event
       * @return {Promise} A promise that resolves when form is submitted
       */
      function submit(event) {
        var promise = $.Deferred();
        if (!bypassDefaultSubmit) return promise;
        event.preventDefault();

        // validate form
        var invalidFields = validate();
        if (invalidFields.length) {
          // scroll to first invalid field
          var $element = invalidFields[0].getElement();
          var y = $element.offset().top - FDX.components.header.height - 20;
          window.scrollTo({
            top: y,
            behavior: 'smooth'
          });
          promise.reject('invalid');
          return promise;
        }

        // show loader
        toggleLoader(true);

        // OneTrust
        oneTrust().then(function () {
          // submit data
          return submitData();
        }).then(function () {
          // hide loader and show success message
          toggleLoader(false);
          showMessage(true);

          // trigger form submit analytics event
          track('submit');

          // submission was successful
          promise.resolve();
        }, function (message) {
          // hide loader and show error message
          toggleLoader(false);
          showMessage(false, message);
        });
        return promise;
      }

      /**
       * Submit to OneTrust API
       *
       * @private
       * @return {Promise} A promise that resolves when OneTrust submission was successful
       */
      function oneTrust() {
        var _fields$config$otTest, _fields$config$otFirs, _fields$config$otLast;
        var promise = $.Deferred();
        var promise2;

        // if OneTrust is not enabled, resolve immediately.
        if (!config.isOTEnabled || !config.otAPI) {
          promise.resolve();
          return promise;
        }

        // prepare payload
        var payload = {
          identifier: $root.find('#' + config.otIdentifier).val() || '',
          test: ((_fields$config$otTest = fields[config.otTest]) === null || _fields$config$otTest === void 0 ? void 0 : _fields$config$otTest.getValue('boolean')) || false,
          dsDataElements: {
            FirstName: ((_fields$config$otFirs = fields[config.otFirstName]) === null || _fields$config$otFirs === void 0 ? void 0 : _fields$config$otFirs.getValue()) || '',
            LastName: ((_fields$config$otLast = fields[config.otLastName]) === null || _fields$config$otLast === void 0 ? void 0 : _fields$config$otLast.getValue()) || ''
          },
          requestInformation: config.otAuthToken,
          purposes: [{
            Id: config.otPurposeId
          }]
        };

        // post
        promise2 = $fetch.ajax(config.otAPI, JSON.stringify(payload), {
          method: 'post',
          headers: {
            Authorization: 'Bearer ' + config.otAuthToken
          },
          timeout: 4000,
          contentType: 'application/json'
        }, true);

        // resolve or reject
        promise2.then(function (response) {
          promise.resolve(response);
        }, function (error) {
          promise.reject(config.msg_error);
        });
        return promise;
      }

      /**
       * Submit data
       *
       * @private
       * @return {Promise} A promise that resolves when data submission was successful
       */
      function submitData() {
        var promise = $.Deferred();
        var promise2;
        switch (config.actionType) {
          case 'GET':
          case 'simplepost':
            promise2 = submitData_SIMPLE_GETPOST();
            break;
          case 'POST':
          case 'mail':
          default:
            promise2 = submitData_AJAX_POST();
        }

        // resolve or reject
        promise2.then(function (response) {
          if (config.actionType === 'mail' && response !== 'success') {
            promise.reject(config.msg_error);
          } else {
            promise.resolve(response);
          }
        }, function (error) {
          promise.reject(config.msg_error);
        });
        return promise;
      }

      /**
       * Submit data through SIMPLE GET/POST
       *
       * @private
       * @return {Promise} A promise that resolves when data submission was successful
       */
      function submitData_SIMPLE_GETPOST() {
        var promise = $.Deferred();

        // empty temporary fields container
        var $temp = $root.find('.fxg-forms__temp');
        $temp.empty();

        // generate temporary hidden inputs - based on target url params
        if (config.actionType === 'GET') {
          var _urlParams = $utils.getUrlParams(config.targetPath);
          for (var id in _urlParams) {
            var $hidden = $('<input>').attr('type', 'hidden').attr('name', id).attr('value', _urlParams[id]);
            $temp.append($hidden);
          }
        }

        // generate temporary hidden inputs - based on form data
        var data = getFormData_flat();
        for (var id in data) {
          var value = data[id];
          if (Array.isArray(value)) {
            value.forEach(function (value2) {
              var $hidden = $('<input>').attr('type', 'hidden').attr('name', id).attr('value', value2);
              $temp.append($hidden);
            });
          } else {
            var _$hidden = $('<input>').attr('type', 'hidden').attr('name', id).attr('value', value);
            $temp.append(_$hidden);
          }
        }

        // exclude original input radio's from form submission because we have already included them
        $root.find('input[type=radio]').prop('disabled', true);

        // submit data
        bypassDefaultSubmit = false;
        $root.submit();
        bypassDefaultSubmit = true;

        // restore input radio's
        $root.find('input[type=radio]').prop('disabled', false);
        promise.resolve();
        return promise;
      }

      /**
       * Submit data through AJAX POST
       *
       * @private
       * @return {Promise} A promise that resolves when data submission was successful
       */
      function submitData_AJAX_POST() {
        // define url + get form data
        var url;
        var data;
        switch (config.actionType) {
          case 'POST':
            url = config.targetPath;
            data = getFormData_custom();
            break;
          default:
            url = '/etc/services/form/mail';
            data = getFormData_json();
            break;
        }

        // stringify
        data = JSON.stringify(data);

        // get form headers
        var headers = getFormHeaders();

        // post
        var promise = $fetch.ajax(url, data, {
          method: 'post',
          contentType: 'application/json',
          dataType: null,
          headers: headers
        }, true);
        return promise;
      }

      /**
       * Get the form success or failed message and show it.
       *
       * @private
       * @param {boolean} isSuccess - true for success false for failed
       * @param {string} customErrorMessage - custom error message
       *
       * @return {Promise} A promise that resolves when succefully fetched the message.
       */
      function showMessage(isSuccess, customErrorMessage) {
        var promise = $.Deferred();
        function render() {
          var message = isSuccess ? config.msg_success : customErrorMessage || config.msg_error;
          var content = _.template(notification_inlineraw_namespaceObject)({
            isSuccess: isSuccess,
            message: message
          });
          return content;
        }
        function show(content) {
          $notification.empty().append(content);

          // scroll to notification message
          var y = $notification.offset().top - FDX.components.header.height - 20;
          window.scrollTo({
            top: y,
            behavior: 'instant'
          });

          // hide fields if success
          if (isSuccess) {
            $root.find('.fxg-form__fields')[0].hidden = true;
          }

          // resolve promise
          promise.resolve();
        }

        // fetch or show message directly?
        if (isSuccess && config.msg_successContentPath) {
          // fetch message
          toggleLoader(true);
          $fetch.ajax(config.msg_successContentPath, null, {
            dataType: null
          }).then(function (response) {
            // show message
            // why we need this? content = $('<div/>').append(response);
            toggleLoader(false);
            show(response);
          }, function () {
            // failed to load content, so fall back to direct message
            toggleLoader(false);
            var content = render();
            show(content);
          });
        } else {
          // show message directly
          var content = render();
          show(content);

          // track error
          var error = customErrorMessage || config.msg_error;
          trackError('server', config.formid, error);
        }
        return promise;
      }

      /**
       * Toggle loader and submit button
       *
       * @private
       * @param {boolean} toggle to show / hide loader animation
       */
      function toggleLoader(toggle) {
        // show / hide loader
        $root.find('.fxg-form__loader')[0].hidden = !toggle;

        // disable / enable submit button
        $root.find('button[type="submit"]').prop('disabled', toggle);
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        getConfig: getConfig,
        init: init,
        getElement: getElement,
        initFields: initFields,
        fields: fields,
        getUrlParams: getUrlParams,
        startInteraction: startInteraction,
        trackError: trackError
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        initFields = jest.fn(initFields);
        bindInteractions = jest.fn(bindInteractions);
        track = jest.fn(track);
        submit = jest.fn(submit);
        oneTrust = jest.fn(oneTrust);
        submitData = jest.fn(submitData);
        submitData_SIMPLE_GETPOST = jest.fn(submitData_SIMPLE_GETPOST);
        submitData_AJAX_POST = jest.fn(submitData_AJAX_POST);
        validate = jest.fn(validate);
        getFormData_flat = jest.fn(getFormData_flat);
        getFormData_json = jest.fn(getFormData_json);
        getFormData_custom = jest.fn(getFormData_custom);
        getGroupedFormData = jest.fn(getGroupedFormData);
        toggleLoader = jest.fn(toggleLoader);
        showMessage = jest.fn(showMessage);
        trackError = jest.fn(trackError);
        instance.trackError = trackError;
        instance.$private = function () {
          return {
            initFields: initFields,
            bindInteractions: bindInteractions,
            track: track,
            submit: submit,
            oneTrust: oneTrust,
            submitData: submitData,
            submitData_SIMPLE_GETPOST: submitData_SIMPLE_GETPOST,
            submitData_AJAX_POST: submitData_AJAX_POST,
            validate: validate,
            getFormData_flat: getFormData_flat,
            getFormData_json: getFormData_json,
            getFormData_custom: getFormData_custom,
            getGroupedFormData: getGroupedFormData,
            toggleLoader: toggleLoader,
            showMessage: showMessage,
            trackError: trackError
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();
      var initPromises = [];

      // find all related elements
      $(selector).each(function () {
        // skip already initialized elements
        var $element = $(this);
        if ($element.data('initialized')) return;

        // create instance
        var instance = window.FDX.components.form.create();

        // Set configuration
        var $config = $('[data-config="js-form-config"]', $element);
        if ($config.length) {
          var data = $config.html().replace(/\n|\r|\t/g, "");
          data = decodeURIComponent(data.trim());
          instance.setConfig(JSON.parse(data));
        }

        // initialize instance
        var initPromise = instance.init($element);
        initPromises.push(initPromise);
      });

      // resolve after all inits
      $.when.apply($, initPromises).then(promise.resolve);
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(jQuery, _, FDX.components, FDX.services.fetch, FDX.services.analytics, FDX.services.utils);

/***/ }),

/***/ 9429:
/***/ (function() {

/**
 * Initialize all services and components on page load
 */

(function ($, loader) {
  $(function () {
    // init services
    loader.initServices();

    // init components
    loader.initComponents();
  });
})(window.jQuery, window.FDX.services.loader);

/***/ }),

/***/ 9451:
/***/ (function() {

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }
function _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
/**
 * Modal component and "IS MODAL" Button handler
 *
 * This component allows it's caller to create a modal dialog and will search for link-components
 * with the class "is-fxg-modal" to open a modal dialog with the content of the link.
 */

(function (window) {
  window.FDX.components.modal = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = "fxg-u-modal";

    /**
     * @type {string} content selector
     */
    var modalWrapper = "fxg-u-modal__wrapper";

    /**
     * @type {string} closeButton selector
     */
    var closeButton = "fxg-u-modal__close";

    /**
     * @type {string} button-component selector
     */
    var buttonComponent = ".is-fxg-modal";

    /**
     * @type {function} create HTML Node from string
     * @returns {Array} array of nodes
     */

    function createNode(template) {
      if (template instanceof jQuery) return [template[0]];
      if (template instanceof Element) return [template];
      if (typeof template !== "string") {
        console.error("Invalid template provided. Must be a string or Element.");
        return null;
      }
      var node = document.createElement("template");
      node.innerHTML = template.trim();

      //return array in case HTML has flat structure / unwrapped elements
      return Array.from(node.content.childNodes);
    }

    /**
     * @type {function} helper function: render dialog template
     * @returns {Element} dialog element
     * @private
     */
    function renderTemplate(_ref) {
      var closable = _ref.closable,
        peekaboo = _ref.peekaboo;
      var template = function template() {
        return "\n                  <dialog class=\"".concat(selector, " ").concat(peekaboo ? "fxg-u-modal--peekaboo" : "", " js-modal\"\n                      aria-hidden=\"true\" role=\"dialog\" tabindex=\"0\" aria-live=\"off\">\n                      <div class=\"").concat(modalWrapper, " u-scroll-vertical\">\n                        <div class=\"").concat(peekaboo ? "fxg-wrapper" : "", " ").concat(!peekaboo ? "fxg-u-modal__content" : "", "\">\n                          <div class=\"js-fxg-u-modal__content\"></div>\n                        </div>\n                      ").concat(closable ? "<a href=\"#\" class=\"".concat(closeButton, " js-modal-close\" title=\"close\"></a>") : "", "\n                      </div>\n                  </dialog>\n                ");
      };

      //return the only node expected in the template
      return createNode(template())[0];
    }

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */

    function create() {
      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      var defaultOptions = {
        closable: true,
        peekaboo: false
      };

      // CONFIG
      var body = document.body;
      var eventBus = new EventTarget();
      var config = _objectSpread(_objectSpread({}, defaultOptions), options);
      var modal;
      var modalInstance;
      var currentFocus;
      var position;
      var dialogIsSupported;
      var BODY_OPEN = "has-fxg-u-modal-open";
      var ARIA_HIDDEN = "aria-hidden";
      var ARIA_LIVE = "aria-live";
      var TRUE = "true";
      var FALSE = "false";

      // check if flexbox is supported or not
      if (!body.classList.contains("flexbox")) {
        body.classList.add("no-flexbox");
      }

      // helper function for multiple close events
      function closeEventActions(e) {
        e.preventDefault();
        e.stopPropagation();
        close();
      }

      // escape key handler outside scope so it can be referenced and removed on detroy.
      function escapeKeyHandler(e) {
        if (!modal.classList.contains("is-open")) return;
        if (e.key === "Escape" || e.key === "Esc") closeEventActions(e);
      }

      /**
       * createPanel
       * create modal and register the required events
       */
      function createPanel() {
        modal = renderTemplate({
          closable: config.closable,
          peekaboo: config.peekaboo
        });

        // is Dialog supported in this browser?
        // in that case we can trap the user focus inside the modal
        dialogIsSupported = typeof modal.showModal === "function";

        // append template to our document
        document.body.appendChild(modal);

        // click on close, close modal
        modal.addEventListener("click", function (e) {
          if (e.target.closest(".".concat(closeButton))) closeEventActions(e);
        });

        // close modal on ESC key
        document.addEventListener("keydown", escapeKeyHandler);

        // outside modal close modal
        if (config.closable !== false) {
          modal.addEventListener("click", function (e) {
            var target = e.target;
            var inside = target.closest(".fxg-u-modal__wrapper");

            // some angular apps remove their view while clicking, so element might not be in DOM anymore during the check
            var hasBody = target.closest("body");
            if (!inside && hasBody) close();
          });
        }
      }

      /**
       * PUBLIC API
       *
       *@public
       *@type {Object}
       *@param {string} type - event type
       *@param {function} action - event handler
       *@param {Object} options - event options
       *@returns {Object} api
       */

      var on = function on(type, action, options) {
        eventBus.addEventListener(type, action, options);
      };
      var off = function off(type, action, options) {
        eventBus.removeEventListener(type, action, options);
      };
      var trigger = function trigger(type) {
        var detail = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
        eventBus.dispatchEvent(new CustomEvent(type, {
          detail: detail
        }));
      };
      var set = function set(content) {
        var _contentWrapper$query;
        if (!modal) createPanel();
        var contentWrapper = modal.querySelector(".js-fxg-u-modal__content");
        contentWrapper.innerHTML = "";
        contentWrapper.append.apply(contentWrapper, _toConsumableArray(createNode(content)));

        // remove root classes from the modal content, or else it might be treated as an root element by css
        (_contentWrapper$query = contentWrapper.querySelector(".root")) === null || _contentWrapper$query === void 0 || _contentWrapper$query.classList.remove("root");
        return content;
      };
      var open = function open() {
        currentFocus = document.activeElement;
        position = window.scrollY || document.documentElement.scrollTop;
        modal.setAttribute(ARIA_HIDDEN, FALSE);
        modal.setAttribute(ARIA_LIVE, "polite");
        setTimeout(function () {
          if (dialogIsSupported) modal.showModal();
          modal.classList.add("is-open");

          // Ensure RTL button styles are applied to modal content
          if (window.FDX && window.FDX.components && window.FDX.components.button && typeof window.FDX.components.button.applyRTLButtonStyles === 'function') {
            window.FDX.components.button.applyRTLButtonStyles();
          }
          if (!config.peekaboo) document.body.classList.add(BODY_OPEN);

          //trigger open event
          eventBus.dispatchEvent(new CustomEvent("open", {
            detail: {}
          }));
        }, 100);
      };
      var close = function close() {
        document.body.classList.remove(BODY_OPEN);
        modal.setAttribute(ARIA_HIDDEN, TRUE);
        modal.setAttribute(ARIA_LIVE, "off");
        if (dialogIsSupported) {
          modal.close();
        }
        modal.classList.remove("is-open");
        window.scroll({
          top: position,
          behavior: "smooth"
        });

        // give focus back to element which had focus before
        setTimeout(function () {
          currentFocus.focus();
        }, 100);

        //trigger close event
        eventBus.dispatchEvent(new CustomEvent("close", {
          detail: {}
        }));
      };
      var destroy = function destroy() {
        eventBus = null;
        document.removeEventListener("keydown", escapeKeyHandler);
        instances.splice(instances.indexOf(modalInstance), 1);
        modal.remove();
      };

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      var getElement = function getElement() {
        return modal;
      };

      /**
       * API MODULE
       */
      modalInstance = {
        on: on,
        off: off,
        set: set,
        open: open,
        close: close,
        destroy: destroy,
        getElement: getElement
      };
      instances.push(modalInstance);
      return modalInstance;
    }

    /**
     * isModal helpers to extract and santize contentpath
     *
     * @public
     * @return {string} URL path
     * @description
     * This function will create a modal component and return the API to interact with it.
     */

    function setContentPath(element) {
      // element can be just a link with href attr or any element with data-content-path attr
      var contentPath = element.dataset.contentPath || element.getAttribute("href");
      if (!contentPath) return null;

      // remove the '/' character at the end of the url
      contentPath = contentPath.endsWith("/") ? contentPath.slice(0, -1) : contentPath;

      // check and add '.html' to the content path. As all the content pages should be .html pages.
      contentPath = contentPath.endsWith(".html") ? contentPath : contentPath + ".html";
      return contentPath;
    }

    /**
    * Create instances
    *
    * @type {function}
    * @name createInstances
    * @public
    * @description
    * This function will search for all elements with the class "is-fxg-modal" and attach a click event listener to them.
    */

    function createInstances() {
      var configuredModals = document.querySelectorAll(buttonComponent);
      if (configuredModals.length === 0) return;
      configuredModals.forEach(function (element) {
        // Defect ID : 64103
        // Fix to bypass the Launch script click.js handler logic
        element.setAttribute("target", "_blank");

        // element can be just a link with href attr or any element with data-content-path attr
        var contentPath = setContentPath(element);
        if (!contentPath) return;

        // new API Instance for each element
        var modalAPI = create();
        element.addEventListener("click", function (e) {
          var _FDX$services;
          e.preventDefault();
          if (!((_FDX$services = FDX.services) !== null && _FDX$services !== void 0 && _FDX$services.fetch)) {
            console.error("FetchService is not available");
            return;
          }
          FDX.services.fetch.ajax(contentPath, null, {
            dataType: "text"
          }, false).then(function (response) {
            if (!response || !response.trim()) {
              console.warn("Empty response");
              return;
            }
            modalAPI.set(response);
            modalAPI.open();
          })["catch"](function (error) {
            console.log("Not a valid content", error);
          });
        });
      });
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector
    };
  }();
})(window);

/***/ }),

/***/ 9487:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 9616:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 9656:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 9888:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 9900:
/***/ (function() {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 9909:
/***/ (function() {

/**
 * hero
 */

(function ($, _) {
  window.FDX.components.hero = function () {
    /**
     * @type {Object[]} list of instances
     */
    var instances = [];

    /**
     * @type {string} root selector
     */
    var selector = '.fxg-hero';

    /**
    * @type {string} root selector
    */
    var heroClass = 'fxg-hero';

    /**
     * @type {string} root selector
     */
    var homepageHeroClass = 'fxg-hero_homepage';

    /**
     * @type {string} root selector
     */
    var imgClass = 'fxg-hero__image';

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {};
        config = $.extend({}, defaultConfig, _config);
      }
      ;

      /**
       * Render HTML
       *
       * @private
       * @return {Promise<string>} A promise that resolves with rendered HTML
       */
      function render() {}

      /**
       * setHeroHeight
       *
       * @private
       */
      function setHeroHeight() {
        console.warn('setHeroHeight() is obsolete, and will be removed in future.');
      }

      /**
      * removeHeroHeight
      *
      * @private
      */
      function removeHeroHeight() {
        console.warn('removeHeroHeight() is obsolete, and will be removed in future.');
      }

      /**
       * setMobileBackgroundImage
       *
       * @private
       */
      function setMobileBackgroundImage() {
        var targetElem = $('.' + FDX.components.hero.homepageHeroClass + " ." + FDX.components.hero.imgClass);
        var mobileImg = targetElem.attr('data-mobile-image');
        var mobileImgFocal = targetElem.attr('data-mobile-image-focal');
        targetElem.css('background-image', 'url(' + mobileImg + ')');
        targetElem.css('background-position', mobileImgFocal);
        targetElem.show();

        // setting failover image if given image cannot be loaded
        if (mobileImg) {
          var failOverImg = new Image();
          failOverImg.src = mobileImg;
          failOverImg.addEventListener('error', function () {
            targetElem.css('background-image', 'url(/content/dam/fedex-com/images/default-image/image-placeholder.jpg)');
          });
        }
      }

      /**
       * setMainBackgroundImage
       *
       * @private
       */
      function setMainBackgroundImage() {
        var targetElem = $('.' + FDX.components.hero.homepageHeroClass + " ." + FDX.components.hero.imgClass);
        var mainImg = targetElem.attr('data-main-image');
        var mainImgFocal = targetElem.attr('data-main-image-focal');
        targetElem.css('background-image', 'url(' + mainImg + ')');
        targetElem.css('background-position', mainImgFocal);
        targetElem.show();

        // setting failover image if given image cannot be loaded
        if (mainImg) {
          var failOverImg = new Image();
          failOverImg.src = mainImg;
          failOverImg.addEventListener('error', function () {
            targetElem.css('background-image', 'url(/content/dam/fedex-com/images/default-image/image-placeholder.jpg)');
          });
        }
      }

      /**
       * mobileBreakpointChanged
       *
       * @private
       */
      function mobileBreakpointChanged(mq) {
        if (mq != undefined) {
          if (mq.matches) {
            setMobileBackgroundImage();
          } else {
            setMainBackgroundImage();
          }
        }
      }

      /**
      * convertSVGImageToCode
      *
      * @private
      */
      function convertSVGImageToCode() {
        $(".svg_convert").each(function (index) {
          var imageObj = $(this),
            imagePath = imageObj.attr("src");
          $.get(imagePath, function (data) {
            var svgData = $("html").find(data).find('svg');
            svgData.attr("class", "fxg-cube__icon");
            imageObj.replaceWith(svgData);
          });
        });
      }

      /**
       * loadHeroImage
       *
       * @private
       */
      function loadHeroImage() {
        $('.fxg-wrapper').parents('.container').css({
          "padding-top": "0px",
          "padding-bottom": "0px"
        });
        //Set correct hero image (desktop vs mobile)
        FDX.BREAKPOINTS.getMobileMediaQuery().addListener(mobileBreakpointChanged);

        // init
        mobileBreakpointChanged(FDX.BREAKPOINTS.getMobileMediaQuery());
        // Convert SVGImage to SVGCode
        convertSVGImageToCode();
        if (window.fdx_browserType == 'trident' || window.fdx_browserType == 'msie') {
          $(" .fxg-app__single-tracking .fxg-form").css("overflow", "hidden");
        }
        $('.fxg-cube__content svg').attr('tabindex', -1);
        $('.fxg-cube__content svg').attr('focusable', "false");
      }

      /**
       * Bind interactions events
       *
       * @private
       */
      function bindInteractions() {
        loadHeroImage();
        //To show hero image if hero home page is added through Target
        document.addEventListener('readystatechange', function (ev) {
          if (typeof adobe != 'undefined' && typeof adobe.target != 'undefined' && typeof adobe.target.VERSION != 'undefined' && $('.root.responsivegrid .root.responsivegrid .fxg-hero_homepage').length > 0) {
            loadHeroImage();
          }
        });
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] compnent root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;

        // bind interaction events
        bindInteractions();

        // initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        setHeroHeight: setHeroHeight,
        removeHeroHeight: removeHeroHeight,
        setMobileBackgroundImage: setMobileBackgroundImage,
        setMainBackgroundImage: setMainBackgroundImage,
        mobileBreakpointChanged: mobileBreakpointChanged,
        convertSVGImageToCode: convertSVGImageToCode,
        loadHeroImage: loadHeroImage,
        getElement: getElement
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        setHeroHeight = jest.fn(setHeroHeight);
        removeHeroHeight = jest.fn(removeHeroHeight);
        setMobileBackgroundImage = jest.fn(setMobileBackgroundImage);
        setMainBackgroundImage = jest.fn(setMainBackgroundImage);
        mobileBreakpointChanged = jest.fn(mobileBreakpointChanged);
        convertSVGImageToCode = jest.fn(convertSVGImageToCode);
        loadHeroImage = jest.fn(loadHeroImage);
        bindInteractions = jest.fn(bindInteractions);
        instance.$private = function () {
          return {
            $root: $root,
            selector: selector,
            removeHeroHeight: removeHeroHeight,
            setHeroHeight: setHeroHeight,
            setMobileBackgroundImage: setMobileBackgroundImage,
            setMainBackgroundImage: setMainBackgroundImage,
            mobileBreakpointChanged: mobileBreakpointChanged,
            convertSVGImageToCode: convertSVGImageToCode,
            loadHeroImage: loadHeroImage,
            bindInteractions: bindInteractions
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();
      var initPromises = [];

      // find all related elements
      $(selector).each(function () {
        // skip already initialized elements
        var $element = $(this);
        if ($element.data('initialized')) return;

        // create instance
        var instance = window.FDX.components.hero.create();

        // initialize instance
        var initPromise = instance.init($element);
        initPromises.push(initPromise);
      });

      // resolve after all inits
      $.when.apply($, initPromises).then(function () {
        promise.resolve();
      });
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector,
      heroClass: heroClass,
      homepageHeroClass: homepageHeroClass,
      imgClass: imgClass
    };
  }();
})(jQuery, _);

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/amd define */
/******/ 	!function() {
/******/ 		__webpack_require__.amdD = function () {
/******/ 			throw new Error('define cannot be used indirect');
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/amd options */
/******/ 	!function() {
/******/ 		__webpack_require__.amdO = {};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	!function() {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	__webpack_require__(6889);
/******/ 	__webpack_require__(5748);
/******/ 	__webpack_require__(6841);
/******/ 	__webpack_require__(2796);
/******/ 	__webpack_require__(1627);
/******/ 	__webpack_require__(8476);
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	__webpack_require__(1868);
/******/ 	__webpack_require__(8142);
/******/ 	__webpack_require__(6043);
/******/ 	__webpack_require__(6945);
/******/ 	__webpack_require__(7961);
/******/ 	__webpack_require__(2613);
/******/ 	__webpack_require__(7196);
/******/ 	__webpack_require__(5176);
/******/ 	__webpack_require__(4301);
/******/ 	__webpack_require__(8881);
/******/ 	__webpack_require__(763);
/******/ 	__webpack_require__(4084);
/******/ 	__webpack_require__(2159);
/******/ 	__webpack_require__(6782);
/******/ 	__webpack_require__(8849);
/******/ 	__webpack_require__(7151);
/******/ 	__webpack_require__(9656);
/******/ 	__webpack_require__(2112);
/******/ 	__webpack_require__(7144);
/******/ 	__webpack_require__(8479);
/******/ 	__webpack_require__(424);
/******/ 	__webpack_require__(5887);
/******/ 	__webpack_require__(6640);
/******/ 	__webpack_require__(3397);
/******/ 	__webpack_require__(5398);
/******/ 	__webpack_require__(1593);
/******/ 	__webpack_require__(6026);
/******/ 	__webpack_require__(1181);
/******/ 	__webpack_require__(190);
/******/ 	__webpack_require__(5885);
/******/ 	__webpack_require__(1125);
/******/ 	__webpack_require__(2478);
/******/ 	__webpack_require__(8455);
/******/ 	__webpack_require__(6848);
/******/ 	__webpack_require__(2515);
/******/ 	__webpack_require__(4987);
/******/ 	__webpack_require__(2620);
/******/ 	__webpack_require__(4135);
/******/ 	__webpack_require__(1056);
/******/ 	__webpack_require__(4391);
/******/ 	__webpack_require__(6976);
/******/ 	__webpack_require__(869);
/******/ 	__webpack_require__(4022);
/******/ 	__webpack_require__(4265);
/******/ 	__webpack_require__(4274);
/******/ 	__webpack_require__(375);
/******/ 	__webpack_require__(832);
/******/ 	__webpack_require__(3799);
/******/ 	__webpack_require__(568);
/******/ 	__webpack_require__(7724);
/******/ 	__webpack_require__(1547);
/******/ 	__webpack_require__(9900);
/******/ 	__webpack_require__(3031);
/******/ 	__webpack_require__(1336);
/******/ 	__webpack_require__(606);
/******/ 	__webpack_require__(9067);
/******/ 	__webpack_require__(1964);
/******/ 	__webpack_require__(9150);
/******/ 	__webpack_require__(5682);
/******/ 	__webpack_require__(943);
/******/ 	__webpack_require__(1783);
/******/ 	__webpack_require__(9888);
/******/ 	__webpack_require__(7399);
/******/ 	__webpack_require__(7303);
/******/ 	__webpack_require__(1328);
/******/ 	__webpack_require__(75);
/******/ 	__webpack_require__(5644);
/******/ 	__webpack_require__(8879);
/******/ 	__webpack_require__(8045);
/******/ 	__webpack_require__(7215);
/******/ 	__webpack_require__(3495);
/******/ 	__webpack_require__(6252);
/******/ 	__webpack_require__(5172);
/******/ 	__webpack_require__(9008);
/******/ 	__webpack_require__(2187);
/******/ 	__webpack_require__(848);
/******/ 	__webpack_require__(5741);
/******/ 	__webpack_require__(7222);
/******/ 	__webpack_require__(5543);
/******/ 	__webpack_require__(1440);
/******/ 	__webpack_require__(4633);
/******/ 	__webpack_require__(4810);
/******/ 	__webpack_require__(9909);
/******/ 	__webpack_require__(5262);
/******/ 	__webpack_require__(1802);
/******/ 	__webpack_require__(551);
/******/ 	__webpack_require__(4872);
/******/ 	__webpack_require__(459);
/******/ 	__webpack_require__(5508);
/******/ 	__webpack_require__(8628);
/******/ 	__webpack_require__(8897);
/******/ 	__webpack_require__(402);
/******/ 	__webpack_require__(8311);
/******/ 	__webpack_require__(4848);
/******/ 	__webpack_require__(5407);
/******/ 	__webpack_require__(1384);
/******/ 	__webpack_require__(9451);
/******/ 	__webpack_require__(1452);
/******/ 	__webpack_require__(7623);
/******/ 	__webpack_require__(8736);
/******/ 	__webpack_require__(1595);
/******/ 	__webpack_require__(8788);
/******/ 	__webpack_require__(4015);
/******/ 	__webpack_require__(9616);
/******/ 	__webpack_require__(7593);
/******/ 	__webpack_require__(8194);
/******/ 	__webpack_require__(1805);
/******/ 	__webpack_require__(5486);
/******/ 	__webpack_require__(3584);
/******/ 	__webpack_require__(675);
/******/ 	__webpack_require__(6095);
/******/ 	__webpack_require__(1969);
/******/ 	__webpack_require__(5474);
/******/ 	__webpack_require__(8507);
/******/ 	__webpack_require__(5152);
/******/ 	__webpack_require__(3747);
/******/ 	__webpack_require__(6748);
/******/ 	__webpack_require__(6711);
/******/ 	__webpack_require__(1848);
/******/ 	__webpack_require__(3929);
/******/ 	__webpack_require__(8242);
/******/ 	__webpack_require__(3371);
/******/ 	__webpack_require__(4812);
/******/ 	__webpack_require__(341);
/******/ 	__webpack_require__(6486);
/******/ 	__webpack_require__(8683);
/******/ 	__webpack_require__(2668);
/******/ 	__webpack_require__(6131);
/******/ 	__webpack_require__(6652);
/******/ 	__webpack_require__(9487);
/******/ 	__webpack_require__(7231);
/******/ 	__webpack_require__(5656);
/******/ 	__webpack_require__(7064);
/******/ 	__webpack_require__(775);
/******/ 	__webpack_require__(7280);
/******/ 	var __webpack_exports__ = __webpack_require__(9429);
/******/ 	
/******/ })()
;
/* This is the FedEx.com common core javascript file.
It contains common methods and variables that can be used across all pages within AEM.
The FDX.CORE object defined below creates a namespace to prevent conflicts with other js libraries.

Author: joey.dukeminier@vml.com
Created: 2016-10-13
Updated: 2017-06-14
*/
if (!FDX) {
    var FDX = {};
}

FDX.CORE = {
    runMode : "production", // debug|production,
    mainContentWrapper : ".fxg-main-content", //LEGACY: will be replace by services.headerHeight
    printIndicator: 'fxg-print-indicator',

    //Padding function to add leading zero to a number
    pad : function pad(num, size) {
        var s = num+"";
        while (s.length < size) s = "0" + s;
        return s;
    },

    printCurrentPage: function () {
        $('.' + FDX.CORE.printIndicator).on('click', function(){
            window.print();
        });
    },

    isVisiable : function(element, wrapper) {
        var el = $(element);
        // The element width such as video
        var elementWidth = el.width();
        // The viewport width for current item
        var itemWidth = el.parent().parent().width();
        //The width of the entire the items
        var wrapperWidth = $(wrapper).width();
        // The offset for element
        var bounds = el.offset();

        var right = wrapperWidth/2 - bounds.left - elementWidth;
        var left = bounds.left;

        return left < itemWidth
            || right > itemWidth;
    },
};

window.addEventListener('load', function(){
    FDX.CORE.printCurrentPage();
});
/* This is the FedEx.com session javascript file.
 The global FDX object must already be defined.
 This file contains methods to get and set cookies.

 Author: joey.dukeminier@vml.com
 Created: 2017-03-27
 */
if (!FDX) {
	var FDX = {};
}

FDX.SESSION = {

	userAuthenticated: false,
	userModel: null,
	userRewards: 0,
	userRewardsTier: "",
	defaultRewardsTier: "VALUED REWARDS MEMBER",
	apiURL: "",
	clientID: "",
	clientSecret: "",
	grantType: "",
	sessionTimeout: "",
	apiConfigURL: "/etc/services/getapigconfigs",
	rewardsUATHost: "fedexapiuat.epsilon.com",
	rewardsKey: "",
	rewardsHost: "fedexapi.epsilon.com",
	targetRedirectAuth: false,
	cubeShippipng: false,
	globalHomePage: window.location.origin + "/global/choose-location.html",

	COOKIENAMES: {
		contactName: "fcl_contactname",
		fName: "fcl_fname",
		lName: "lastName",
		companyName: "companyName",
		countryCode: "cc",
		postalCode: "postalCode",
		countryPath: "countryPath",
		locale: "fdx_locale",
		login: "fdx_login",
		rewards: "fdx_rewardPoints",
		userRewardsTier: "fdx_memberType",
		uuid: "fcl_uuid",
		sessionId: "FCLSESSIONID",
		jSessionId: "JSESSIONID",
		cbid: "fdx_cbid",
		userType: "fdx_usertype",
		rememberMe: "fdx_rememberme", // THIS IS A CUSTOM COOKIE SET BY VML. DO NOT REMOVE.
	},

	getCookie: function(name) {
		var nameEQ = name + "=";
		var ca = document.cookie.split(';');
		for (var i = 0; i < ca.length; i++) {
			var c = ca[i];
			while (c.charAt(0) == ' ') c = c.substring(1, c.length);
			if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
		}
		return null;
	},

	setCookie: function(name, value, days) {
		if (days) {
			var date = new Date();
			date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
			var expires = "; expires=" + date.toGMTString();
		} else var expires = "";

		if (typeof(value) != "undefined" && value != "") {
			document.cookie = name + "=" + value + expires + "; path=/";
		}
	},
	//Set secured cookie, fix for AVERT
	setSecuredCookie: function(name, value, days) {
		if (days) {
			var date = new Date();
			date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
			var expires = "; expires=" + date.toGMTString();
		} else var expires = "";

		document.cookie = name + "=" + value + expires + "; path=/" + "; secure";
	},

	// added July 1, 2017 for alert cookie
	setCookieBySeconds: function(name, value, seconds) {
		if (seconds) {
			var date = new Date();
			date.setTime(date.getTime() + (seconds * 1000));
			var expires = "; expires=" + date.toGMTString();
		} else var expires = "";

		document.cookie = name + "=" + value + expires + "; path=/";
	},
	getAcronym: function(str) {
		var matches = str.match(/\b(\w)/g);
		var acronym = matches.join('');
		return acronym.toUpperCase();
	},

	getContactName: function() {
		// if the firstName is less than 11 characters long we will present it
		if (FDX.SESSION.getUserModel().userProfileAddress.contact.personName.firstName.length < 11) {
			return FDX.SESSION.getUserModel().userProfileAddress.contact.personName.firstName;
		} else {
			return FDX.SESSION.getAcronym(FDX.SESSION.getUserModel().userProfileAddress.contact.personName.firstName + " " +
				FDX.SESSION.getUserModel().userProfileAddress.contact.personName.lastName);
		}
	},

	getaFName: function() {

		return FDX.SESSION.getCookie(FDX.SESSION.COOKIENAMES.fName);
	},

	getCountryCode: function() {
		return FDX.SESSION.getCookie(FDX.SESSION.COOKIENAMES.countryCode) != null ? FDX.SESSION.getCookie(FDX.SESSION.COOKIENAMES.countryCode) : "/us/";
	},

	getCountryPath: function() {
		return FDX.SESSION.getCookie(FDX.SESSION.COOKIENAMES.countryPath) != null ? FDX.SESSION.getCookie(FDX.SESSION.COOKIENAMES.countryPath) : "us";
	},

	getUUID: function() {
		return FDX.SESSION.getCookie(FDX.SESSION.COOKIENAMES.uuid);
	},

	getSessionID: function() {
		return FDX.SESSION.getCookie(FDX.SESSION.COOKIENAMES.sessionId);
	},

	getCBID: function() {
		return FDX.SESSION.getCookie(FDX.SESSION.COOKIENAMES.cbid);
	},


	getLocale: function() {
		return FDX.SESSION.getCookie(FDX.SESSION.COOKIENAMES.locale) != null ? FDX.SESSION.getCookie(FDX.SESSION.COOKIENAMES.locale) : "en_US";
	},
	tokenUpdate: function() {
		if (sessionStorage.getItem("loginDataStorage")) {

			var parsedObject = JSON.parse(sessionStorage.getItem("loginDataStorage"));
			var tokenExpireTime = new Date(Date.parse(parsedObject.tokenExpireTime));

			if (Date.now() > tokenExpireTime.getTime()) {
				FDX.CLIENTLOGIN.loginCheck = true;
				FDX.CLIENTLOGIN.getOAuthToken();
			}
			var userLoggedInDetails = JSON.parse(sessionStorage.getItem("userLoggedIn"));
			if (FDX.DATALAYER.page.pageInfo.useForgeRockCookie != 'true') {
				   FDX.SESSION.cookieCheck = document.cookie.indexOf("fdx_login") <= 0;    
			} else {
				   FDX.SESSION.cookieCheck = userLoggedInDetails != null ? (userLoggedInDetails.forgerockvalidated != true) : false;
			}
			//FDX.CLIENTLOGIN.doAPIisLoggedIn();
			if (localStorage.getItem("userLoggedInFlag") != 'true' || (userLoggedInDetails == null || userLoggedInDetails.output.userLoggedIn == false)
					|| FDX.SESSION.cookieCheck) {
				FDX.CLIENTLOGIN.doAPIisLoggedIn();
				
			} else {
				FDX.CLIENTLOGIN.doGetUserInfoDetails();
			}
		} else {
			FDX.CLIENTLOGIN.getOAuthToken();
		}
	},

	getLogin: function() {
		// If we are logged in the user model should be set
		if (FDX.SESSION.getUserModel() != null) {
			return true
		}
		if (typeof(FDX) != undefined && FDX.SESSION.getCookie('wcmmode') === null) {
			var configSelector = (window.location.host).split('.', 1);
			var apiServiceURL = FDX.SESSION.apiConfigURL + ".jsonp";
			if (configSelector[0] != "www") {
				apiServiceURL = FDX.SESSION.apiConfigURL + "." + configSelector[0] + ".jsonp";
			}

			$.when($.ajax(encodeURI(apiServiceURL))).then(function(msg, textStatus, jqXHR) {
				if (typeof(msg) == "string") {
					msg = JSON.parse(msg);
				}

				FDX.SESSION.clientID = msg.clientID;
				FDX.SESSION.clientSecret = msg.clientSecret;
				FDX.SESSION.grantType = msg.grantType;
				FDX.SESSION.apiURL = msg.apigURL;
				FDX.SESSION.rewardsClientID = msg.rewardsClientID;
				FDX.SESSION.rewardsClientSecret = msg.rewardsClientSecret;
				FDX.SESSION.rewardsAPIGEnabled = msg.rewardsAPIGEnabled;
				FDX.SESSION.mfxrURL = msg.mfxrURL;
				FDX.SESSION.sessionTimeout = msg.timeoutMinutes;
				FDX.SESSION.validateTimeStamp();
				FDX.SESSION.tokenUpdate();
			});
		}
	},

	getJSessionID: function() {
		return FDX.SESSION.getCookie(FDX.SESSION.COOKIENAMES.jSessionId);
	},

	getRewardCookie: function() {
		return FDX.SESSION.getCookie(FDX.SESSION.COOKIENAMES.rewards);
	},
	getRewardTypeCookie: function() {
		return FDX.SESSION.getCookie(FDX.SESSION.COOKIENAMES.userRewardsTier);
	},
	getUserRewardsTier: function() {
		// TODO: ADD LOGIC HERE TO GET REWARDS TIER FROM REWARD COOKIE
		// RETURN DEFAULT FOR NOW
		return FDX.SESSION.defaultRewardsTier;
	},

	setRememberMe: function(username, expiry) {
		FDX.SESSION.setSecuredCookie(FDX.SESSION.COOKIENAMES.rememberMe, username, expiry);
	},

	getRememberMe: function() {
		return FDX.SESSION.getCookie(FDX.SESSION.COOKIENAMES.rememberMe);
	},

	destroyRememberMe: function() {
		FDX.SESSION.setCookie(FDX.SESSION.COOKIENAMES.rememberMe, '', -1);
	},
	destroyLogedInState: function() {
		FDX.SESSION.remove(FDX.SESSION.COOKIENAMES.login);
		FDX.SESSION.remove(FDX.SESSION.COOKIENAMES.contactName);
		FDX.SESSION.remove(FDX.SESSION.COOKIENAMES.rewards);
		FDX.SESSION.remove(FDX.SESSION.COOKIENAMES.userRewardsTier);
		FDX.SESSION.remove(FDX.SESSION.COOKIENAMES.postalCode);
		FDX.SESSION.remove(FDX.SESSION.COOKIENAMES.fName);
		FDX.SESSION.remove(FDX.SESSION.COOKIENAMES.uuid);
		sessionStorage.removeItem("userDetails");
		sessionStorage.removeItem('userDetails');
		sessionStorage.removeItem('userLoggedIn');
		//Temp variable to fix SHF session storage clear isssue, SHF will watch this flag.
		localStorage.setItem('userLoggedInFlag', false);

	},
	removeRedirectCookie: function() {
		document.cookie = "fdx_redirect" +
			"=null; domain=fedex.com; path=/; expires=Thu, 01-Jan-1970 00:00:01 GMT;";
	},
	remove: function(name) {
		document.cookie = name +
			"=null; domain=fedex.com; path=/; expires=Thu, 01-Jan-1970 00:00:01 GMT;";
	},
	setAuthenticated: function(authenticated) {
		FDX.SESSION.userAuthenticated = authenticated;
	},
	setTargetRedirectAuth: function(authenticated) {
		FDX.SESSION.targetRedirectAuth = authenticated;
	},

	setUserRewards: function() {
		var rewards = FDX.SESSION.getRewardCookie();
		if (rewards == "" || rewards == null || rewards == undefined) {
			FDX.SESSION.userRewards = 0;
		} else {
			FDX.SESSION.userRewards = Number(rewards)
			var rewardType = FDX.SESSION.getRewardTypeCookie();
			if (rewardType == "" || rewardType == null || rewardType == undefined) {

			} else {
				FDX.SESSION.userRewardsTier = rewardType;
			}
		}
	},

	setMockCookies: function(expiry) {
		// Method used by FDX.LOGIN for debugging. FDX.runMode should be set to "debug"
		// To destroy cookies, pass in "-1" for expiry
		if (FDX.CORE.runMode == "debug") {
			FDX.SESSION.setCookie(FDX.SESSION.COOKIENAMES.contactName, "John Doe", expiry);
			FDX.SESSION.setCookie(FDX.SESSION.COOKIENAMES.fName, "John", expiry);
			FDX.SESSION.setCookie(FDX.SESSION.COOKIENAMES.countryCode, "/us/", expiry);
			FDX.SESSION.setCookie(FDX.SESSION.COOKIENAMES.countryPath, "us", expiry);
			FDX.SESSION.setCookie(FDX.SESSION.COOKIENAMES.uuid, "1234567890", expiry);
			FDX.SESSION.setCookie(FDX.SESSION.COOKIENAMES.sessionId, "1234567890", expiry);
			FDX.SESSION.setCookie(FDX.SESSION.COOKIENAMES.cbid, "1234567890", expiry);
			FDX.SESSION.setCookie(FDX.SESSION.COOKIENAMES.locale, "en_US", expiry);
			FDX.SESSION.setCookie(FDX.SESSION.COOKIENAMES.login, "1234567890", expiry);
			FDX.SESSION.setCookie(FDX.SESSION.COOKIENAMES.jSessionId, "1234567890", expiry);
			FDX.SESSION.setCookie(FDX.SESSION.COOKIENAMES.rewards, "987654", expiry);
		}
	},

	setMockUserModel: function() {
		if (FDX.CORE.runMode == "debug") {
			FDX.SESSION.userModel = FDX.SESSION.mockUserModel;
		}
	},
	setUserModel: function(model) {
		FDX.SESSION.userModel = model;
	},
	getUserModel: function() {
		return FDX.SESSION.userModel;
	},
	destroyUserModel: function() {
		FDX.SESSION.userModel = null;
	},

	mockUserModel: {
		"successful": true,
		"userProfile": {
			"profileLocked": false,
			"loginInformation": {
				"userId": "wportesting1",
				"secretQuestion": {
					"code": "SP2Q1",
					"text": "What is your mother\u0027s first name?         "
				}
			},
			"userProfileAddress": {
				"contact": {
					"personName": {
						"firstName": "Jayas",
						"middleName": "(*\u0026amp;#$(*\u0026amp;@#$",
						"lastName": "Tolleson"
					},
					"companyName": "RAYMOND HO \u0026 CO",
					"phoneNumber": "6472638310",
					"faxNumber": "",
					"emailAddress": "a_jeyamala@hotmail.com"
				},
				"contactAncillaryDetail": {
					"phoneNumberDetails": [{
							"type": "HOME",
							"number": {
								"countryCode": "1",
								"localNumber": "6472638310"
							},
							"permissions": {}
						},
						{
							"type": "MOBILE",
							"number": {
								"countryCode": "",
								"localNumber": ""
							},
							"permissions": {}
						},
						{
							"type": "FAX",
							"number": {
								"countryCode": "",
								"localNumber": ""
							},
							"permissions": {}
						}
					]
				},
				"address": {
					"streetLines": ["30 fedex pkwy", ""],
					"city": "COLLIERVILLE",
					"stateOrProvinceCode": "TN",
					"postalCode": "38017",
					"countryCode": "US",
					"residential": false
				}
			}
		}
	},
	validateTimeStamp: function() {
		var userLoggedInDetails = sessionStorage.getItem("userLoggedIn");
		if (userLoggedInDetails != null && JSON.parse(userLoggedInDetails).output.userLoggedIn == true) {
			var timestampVal = JSON.parse(sessionStorage.getItem("userLoggedIn")).timestamp;
			if ((new Date().getTime() >= new Date(timestampVal).getTime())) {
				sessionStorage.removeItem("userLoggedIn");
			}
		}
	}
};

$(document).ready(function() {
	// Set authenticated state on page load
	if (window.location.href.indexOf(FDX.SESSION.globalHomePage) != 0) {
		FDX.SESSION.getLogin();
	}
	// If authenticated then set Rewards
	if (FDX.SESSION.userAuthenticated) {
		// set reward points value
		FDX.SESSION.setUserRewards();
		FDX.UTILNAV.toggleRewardPointsLink();
	}
});
/* This is the FedEx.com common core javascript file.
It contains common methods and variables that can be used across all pages within AEM.
The FDX object defined below creates a namespace to prevent conflicts with other js libraries.
	Check Percentage of Traffic
	Check Browser Type
	Check Browser Version
	Check Device Type
	Check Continent

Author: gour.mohantyr@wipro.com
Created: 2017-06-09
 */

if (!FDX) {
    var FDX = {};
}

FDX.THROTTLE = {
    
    getThrottlePercentage : function() {
        var throttlepercent = 0;
        ;
        var fdx_cbid = FDX.SESSION.getCBID();
        if (fdx_cbid !== null && typeof fdx_cbid !== "undefined") {
            var cbidSerialOffset = fdx_cbid.substr(23, 2) || 0;
            throttlepercent = cbidSerialOffset;
            if (cbidSerialOffset <= throttlepercent) {
                console.log("ThrottlePercentage :" + "fdx_cbid : " + fdx_cbid
                        + " cbidSerialOffset : " + cbidSerialOffset
                        + " throttlepercent : " + throttlepercent);
            }
        }
        return throttlepercent;
    },
    
    getThrottleBrowserType : function() {
        var fdx_nAgt = navigator.userAgent;
        var fdx_browserName = navigator.appName;
        var fdx_nameOffset, fdx_verOffset, fdx_ix;
        
        if ((fdx_verOffset = fdx_nAgt.indexOf("OPR/")) != -1) {
            fdx_browserName = "Opera";
        }
        // In older Opera, the true version is after "Opera" or after
        // "Version"
        else if ((fdx_verOffset = fdx_nAgt.indexOf("Opera")) != -1) {
            fdx_browserName = "Opera";
        }
        // In MSIE, the true version is after "MSIE" in userAgent
        else if ((fdx_verOffset = fdx_nAgt.indexOf("MSIE")) != -1) {
            fdx_browserName = "Microsoft Internet Explorer";
        }
        // In Chrome, the true version is after "Chrome"
        else if ((fdx_verOffset = fdx_nAgt.indexOf("Chrome")) != -1) {
            fdx_browserName = "Chrome";
        }
        // In Safari, the true version is after "Safari" or after "Version"
        else if ((fdx_verOffset = fdx_nAgt.indexOf("Safari")) != -1) {
            fdx_browserName = "Safari";
        }
        // In Firefox, the true version is after "Firefox"
        else if ((fdx_verOffset = fdx_nAgt.indexOf("Firefox")) != -1) {
            fdx_browserName = "Firefox";
        }
        // In most other browsers, "name/version" is at the end of userAgent
        else if ((fdx_nameOffset = fdx_nAgt.lastIndexOf(' ') + 1) < (fdx_verOffset = fdx_nAgt
                .lastIndexOf('/'))) {
            fdx_browserName = fdx_nAgt.substring(fdx_nameOffset, fdx_verOffset);
            if (fdx_browserName.toLowerCase() == fdx_browserName.toUpperCase()) {
                fdx_browserName = navigator.appName;
            }
        }
        
        return fdx_browserName;
    },
    
    getThrottleBrowserVersion : function() {
        var fdx_nVer = navigator.appVersion;
        var fdx_nAgt = navigator.userAgent;
        var fdx_fullVersion = '' + parseFloat(navigator.appVersion);
        var fdx_majorVersion = parseInt(navigator.appVersion, 10);
        var fdx_nameOffset, fdx_verOffset, fdx_ix;
        
        if ((fdx_verOffset = fdx_nAgt.indexOf("OPR/")) != -1) {
            fdx_fullVersion = fdx_nAgt.substring(fdx_verOffset + 4);
        }
        // In older Opera, the true version is after "Opera" or after
        // "Version"
        else if ((fdx_verOffset = fdx_nAgt.indexOf("Opera")) != -1) {
            fdx_fullVersion = fdx_nAgt.substring(fdx_verOffset + 6);
            if ((fdx_verOffset = fdx_nAgt.indexOf("Version")) != -1) {
                fdx_fullVersion = fdx_nAgt.substring(fdx_verOffset + 8);
            }
        }
        // In MSIE, the true version is after "MSIE" in userAgent
        else if ((fdx_verOffset = fdx_nAgt.indexOf("MSIE")) != -1) {
            fdx_fullVersion = fdx_nAgt.substring(fdx_verOffset + 5);
        }
        // In Chrome, the true version is after "Chrome"
        else if ((fdx_verOffset = fdx_nAgt.indexOf("Chrome")) != -1) {
            fdx_fullVersion = fdx_nAgt.substring(fdx_verOffset + 7);
        }
        // In Safari, the true version is after "Safari" or after "Version"
        else if ((fdx_verOffset = fdx_nAgt.indexOf("Safari")) != -1) {
            fdx_fullVersion = fdx_nAgt.substring(fdx_verOffset + 7);
            if ((fdx_verOffset = fdx_nAgt.indexOf("Version")) != -1) {
                fdx_fullVersion = fdx_nAgt.substring(fdx_verOffset + 8);
            }
        }
        // In Firefox, the true version is after "Firefox"
        else if ((fdx_verOffset = fdx_nAgt.indexOf("Firefox")) != -1) {
            fdx_fullVersion = fdx_nAgt.substring(fdx_verOffset + 8);
        }
        
        return fdx_fullVersion;
    },
    
    getThrottleDeviceType : function() {
        var fdx_device_type = FDX.SESSION.getDeviceType();
        
        if (fdx_device_type === "desktop") {
            console.log("desktop");
        } else if (fdx_device_type === "mobile") {
            console.log("desktop");
        } else if (fx_device_type === "tablet" && match.tabletUrl) {
            console.log("desktop");
        }
        
        return fdx_device_type;
    },
    
    getThrottleContinent : function() {
        var fdx_locale = FDX.SESSION.getLocale();
        
        if (fdx_locale == "en_US" || fdx_locale == "ar_AE") {
            console.log("Redirect content to" + fdx_locale);
        }
        return fdx_locale;
    }

};

if (!FDX) {
    var FDX = {};
}

FDX.DTM = {

    // Function to push data to FDX.DATALAYER.event object and set linkdata
    // variable.
    pushLinkInfo : function(link) {
        /*eventData = {
              linkData : (typeof link.getAttribute("data-analytics") !== 'undefined') ? link.getAttribute("data-analytics") : "",
              linkType : (typeof link.getAttribute("target") !== 'undefined') ? link.getAttribute("target") : "_self"
                  }
        FDX.DATALAYER.event.push(eventData);*/
    	FDX.DATALAYER.page.link.data=(typeof link.getAttribute("data-analytics") !== 'undefined') ? link.getAttribute("data-analytics") : "",
    	FDX.DATALAYER.page.link.type=(typeof link.getAttribute("target") !== 'undefined' && link.getAttribute("target")) ? "newPage" : (typeof link.getAttribute("data-target") !== 'undefined' && link.getAttribute("data-target") && link.getAttribute("data-target") == '_blank') ? "newPage" : "samePage"
    },
    pushButtonInfo : function(data,type) {
    	FDX.DATALAYER.page.button.data=data,
    	FDX.DATALAYER.page.button.type=type
    },

   // Function to update the search term. 
    updateSearchTerm : function(){
    	var searchTerm = document.getElementById('fxg-search-text');
    	if(typeof searchTerm !== 'undefined'){
            FDX.DATALAYER.page.onsiteSearch.term = searchTerm.value,
            FDX.DATALAYER.page.onsiteSearch.suggested = ""
        }
       
    },  
    
    // Function to update the location app selected value. 
    updateLocationApp : function(){
    	FDX.DATALAYER.locationApp.googleAPIFlag=FDX.DATALAYER.googleAPIFlag;
         if (FDX.DATALAYER.locationApp.googleAPIFlag){
           FDX.LOCATIONS.address=FDX.INPUT.addressFromAuto;
           FDX.LOCATIONS.geometry=FDX.INPUT.geometryFromAuto;
        }

    },
    
    // Function to update the rate and ship  app . 
    updateRateShipAppFrom : function(from){
    	FDX.DATALAYER.rateShipApp.from.googleAPIFlag=FDX.DATALAYER.googleAPIFlag;
        if (FDX.DATALAYER.rateShipApp.from.googleAPIFlag){
           FDX.RATE_SHIP.fromAddress=FDX.INPUT.addressFromAuto;
        }
    	FDX.DATALAYER.rateShipApp.from.value=from;
    },
 // Function to update the rate and ship  app . 
    updateRateShipAppTo : function(to){
    	FDX.DATALAYER.rateShipApp.to.googleAPIFlag=FDX.DATALAYER.googleAPIFlag;

		  if (FDX.DATALAYER.rateShipApp.to.googleAPIFlag){
           FDX.RATE_SHIP.toAddress=FDX.INPUT.addressFromAuto;
              console.log('Datalayer --->',FDX.INPUT.addressFromAuto)
        }
        FDX.DATALAYER.rateShipApp.to.value=to;
    },
    // Function to retrieve the latest event of the specified type
    getLastEventByType : function(type) {
    	for (var a = FDX.DATALAYER.event.length - 1; a >= 0; a--) {
    	    if (FDX.DATALAYER.event[a].type && FDX.DATALAYER.event[a].type == "1") {
    	    	return FDX.DATALAYER.event[a].name;
    	    }
    	}
    },
    // Function to update the search term and asset type
    pushAssetSearchInfo : function(keyword,type) {
    	FDX.DATALAYER.page.assetSearch.keyword=keyword,
    	FDX.DATALAYER.page.assetSearch.type=type
    }
};
FDX.scrollToAnchor = function() {
    if(FDX.hashVal !== "") {
        var aTag = $("a[name='"+ FDX.hashVal +"']");
        $(aTag).each(function() {
            $('html,body').animate({scrollTop: $(this).offset().top}, 'slow');
        }); 
    }
};

$(document).ready(function() {
    if(window.location.hash != ''){
        var value = window.location.hash;
		anchorLink(value);
    }
    FDX.scrollToAnchor();
    $('.cc-aem-c-richtext h3 a,.cc-aem-c-richtext p a,.link a').on('click', function(){
		if(this.href.indexOf('#')>-1)
            var tag = this.href.substring(this.href.indexOf('#'),this.href.length)
			anchorLink(tag)
    })

});

function anchorLink(tagId){
	//Adding condition to check if hash code has slashes in it.
    if(tagId!= undefined && !tagId.includes("#/", 0) && tagId !== '#'){
        var tag = $('html').find(tagId);
        if(tag != undefined && tag.length >0){
            multiAccordion(tag);
            if(tag.parent().prop('className') == 'fxg-accordion-wrapper'){
                tag.collapse('show'); 
                $('html,body').animate({scrollTop: $('html').find(tag).offset().top-120}, 'slow');
    
            }
            else
                $('html,body').animate({scrollTop: $('html').find(tag).offset().top-75}, 'slow');
            }
    }
}

function multiAccordion(tag){
		var parentAcc = tag.parents('.fxg-content-box.panel-collapse');
    if(parentAcc != undefined && parentAcc.length >0){
    	for(var j=0;j<parentAcc.length;j++){
            	if($(parentAcc[j]).length > 0){
                    if($(parentAcc[j]).parent().find('.fxg-accordion-purple_style').length>0){
						$(parentAcc[j]).parent().find('.fxg-expandable-cols__minus_sign').show();
            			$(parentAcc[j]).parent().find('.fxg-expandable-cols__plus_sign').hide();
                    }
                    $(parentAcc[j]).collapse('show');
            	}
                }

            }
	}

/* Functions to call Adobe Target segmentationc all.
 */
if (!FDX) {
	var FDX = {};
}

FDX.MBOXCHECK = {
	userCheck : false,

	getValue : function(cookieAMCV, inputParam) {
		var cookieValue;
		var length = inputParam.length;
		cookieValue = cookieAMCV.substring(cookieAMCV.indexOf(inputParam)
				+ length);
		cookieValue = cookieValue.substring(cookieValue.indexOf("|") + 1);
		cookieValue = cookieValue.substring(cookieValue, cookieValue
				.indexOf("|"));
		return cookieValue;
	},

	getSessionValue : function(cookieMbox, param) {

		var targetSessioniD;
		if (cookieMbox.indexOf(param) >= 0) { 
			var paramLength = param.length;
			targetSessioniD = cookieMbox.substring(cookieMbox.indexOf(param)
					+ paramLength);
			targetSessioniD = targetSessioniD.substring(targetSessioniD,
					targetSessioniD.indexOf("#"));
		}
		return targetSessioniD;
	},
 doMboxAPICall : function(mboxId) {
		
		var amcvCookie = FDX.SESSION
				.getCookie('AMCV_1E22171B520E93BF0A490D44%40AdobeOrg');
		var marketingCloudVisotorId = "";
		var mboxMCGVID = "";
		var mbox = "api-mbox";
		var thirdPartyId = "12345abcde";
		var mboxAAMB = "";
		var MCAAMLH = "";
		var at_property = "4ba065c0-6b92-13a5-ccc8-2b8cfb21abda";
		var mboxCookie = FDX.SESSION.getCookie('mbox');
		var tntId;
		var sessionId;

		if (amcvCookie) {
			amcvCookie = unescape(amcvCookie);
			marketingCloudVisotorId = FDX.MBOXCHECK.getValue(
					amcvCookie, "MCMID");
			mboxMCGVID = marketingCloudVisotorId;
			mboxAAMB = FDX.MBOXCHECK.getValue(amcvCookie, "MCAAMB");
			MCAAMLH = FDX.MBOXCHECK.getValue(amcvCookie, "MCAAMLH");
		}

		if (mboxCookie) {
			sessionId = FDX.MBOXCHECK.getSessionValue(mboxCookie,
					"session#");
			tntId = FDX.MBOXCHECK
					.getSessionValue(mboxCookie, "PC#");

		}
		 if((typeof(sessionId)==='undefined')|| mboxId=="" || (typeof(tntId)==='undefined'))
	        { 

			FDX.MBOXCHECK.userCheck = false;
			localStorage.setItem("magsUserCheck",FDX.MBOXCHECK.userCheck);

	        }
		 
        $.ajax('https://fedex.tt.omtrdc.net/rest/v1/mbox/'+sessionId+'?client=fedex', {
		    type:'POST',
			data:JSON.stringify({ 
			    	 "mbox":mboxId,
					 "tntId":tntId,
					 "marketingCloudVisitorId":marketingCloudVisotorId,
					 "thirdPartyId":thirdPartyId,
					        "mboxParameters":{  
					             "mboxMCGVID":mboxMCGVID,
					             "mboxAAMB":mboxAAMB,
					             "mboxMCGLH":MCAAMLH,
					             "at_property":at_property
					          }
			       }),
			headers: {
			                'Content-Type':'application/json',
							 'cache-control': 'no-cache'
			                },     
			dataType: 'json',
			async: true,
			crossDomain: true,
			processData: false,
			success: function(data) {
			    	    console.log(data);
			        if(typeof(data.content)== undefined ){
			    		FDX.MBOXCHECK.userCheck="default";
				    	localStorage.setItem("magsUserCheck",FDX.MBOXCHECK.userCheck);
			    	}    
				    if(typeof(data.content) !== undefined && data.content == "MAGS"){
					    	FDX.MBOXCHECK.userCheck="true";
					    	localStorage.setItem("magsUserCheck",FDX.MBOXCHECK.userCheck);
                    }
					if(typeof(data.content) !== undefined && data.content == ""){
					    	FDX.MBOXCHECK.userCheck="false";
					    	localStorage.setItem("magsUserCheck",FDX.MBOXCHECK.userCheck);
                    }
			},
			    error:function(jqxhr, status, exception){
			    	console.log("Exception",status,exception);
			    	FDX.MBOXCHECK.userCheck="default";
			    	localStorage.setItem("magsUserCheck",FDX.MBOXCHECK.userCheck);
			    }
			});
		 
		
		 
		 
	}
};
/*
Javascript to display current environment on all servers except production 

Created 2019/03/07
*/

if (!FDX) {
    var FDX = {};
}
$(window).on('load', function() {
	var fxTestEnvs = ["wwwbase","wwwdev","wwwdrt","wwwtest"];
	if(~ fxTestEnvs.indexOf(window.location.hostname.split(".")[0])) {
		// ~ makes indexOf truthy
		// Check to make sure this code only run in test environments
		
		// Environment cookie values set by page @ /etc/systems/aemenv.html
		var fxEnvCookieValues = {
		        "aem-f01.test.cloud.fedex.com:80" : "Feature 1",
		        "aem-f02.test.cloud.fedex.com:80" :	"Feature 2",
				"aem-f03.test.cloud.fedex.com:80" :	"Feature 3",
				"aem-f04.test.cloud.fedex.com:80" :	"Feature 4",
				"c0008603.test.cloud.fedex.com:8080" : "Feature 4",
				"c0014466.test.cloud.fedex.com:8080" : "Feature 7",
				"c0013368.test.cloud.fedex.com:8080" : "Integration 1",
				"c0009816.test.cloud.fedex.com:8080" : "User Acceptance 1",
				"c0014387.test.cloud.fedex.com:8080" : "User Acceptance 7",
		        "qwb80002.sac.fedex.com:80" : "PreProd",
		        "64" : "AEM 6.4 Level 6"
		    };
		// Find the cookie aemenv and get its value
		var fxCurrentEnv = fxEnvCookieValues[document.cookie.replace(/(?:(?:^|.*;\s*)aemenv\s*\=\s*([^;]*).*$)|^.*$/, "$1")];
		// Check to make sure there is a value.
		// No value means cookie is "default" and nothing is done
		if(fxCurrentEnv) {
			// Add environment tag to the logo in the upper left corner.
			$(".fxg-header__logo_wrapper").append('<span class="fx-env">' + fxCurrentEnv + '</span>');
		    $(".fx-env").css({
		       "position" : "absolute",
		        "left" : 0,
		        "top" : "2px",
		        "color" : "white",
		        "font-weight" : "bold",
		        "font-size" : "8px",
		        "text-transform" : "uppercase"
		    });
		}
	}
});
//Array.from() Polyfill - Production steps of ECMA-262, Edition 6, 22.1.2.1
if (!Array.from) {
    Array.from = (function () {
        var toStr = Object.prototype.toString;
        var isCallable = function (fn) {
            return typeof fn === 'function' || toStr.call(fn) === '[object Function]';
        };
        var toInteger = function (value) {
            var number = Number(value);
            if (isNaN(number)) { return 0; }
            if (number === 0 || !isFinite(number)) { return number; }
            return (number > 0 ? 1 : -1) * Math.floor(Math.abs(number));
        };
        var maxSafeInteger = Math.pow(2, 53) - 1;
        var toLength = function (value) {
            var len = toInteger(value);
            return Math.min(Math.max(len, 0), maxSafeInteger);
        };

        // The length property of the from method is 1.
        return function from(arrayLike/*, mapFn, thisArg */) {
            // 1. Let C be the this value.
            var C = this;

            // 2. Let items be ToObject(arrayLike).
            var items = Object(arrayLike);

            // 3. ReturnIfAbrupt(items).
            if (arrayLike == null) {
                throw new TypeError('Array.from requires an array-like object - not null or undefined');
            }

            // 4. If mapfn is undefined, then let mapping be false.
            var mapFn = arguments.length > 1 ? arguments[1] : void undefined;
            var T;
            if (typeof mapFn !== 'undefined') {
                // 5. else
                // 5. a If IsCallable(mapfn) is false, throw a TypeError exception.
                if (!isCallable(mapFn)) {
                    throw new TypeError('Array.from: when provided, the second argument must be a function');
                }

                // 5. b. If thisArg was supplied, let T be thisArg; else let T be undefined.
                if (arguments.length > 2) {
                    T = arguments[2];
                }
            }

            // 10. Let lenValue be Get(items, "length").
            // 11. Let len be ToLength(lenValue).
            var len = toLength(items.length);

            // 13. If IsConstructor(C) is true, then
            // 13. a. Let A be the result of calling the [[Construct]] internal method
            // of C with an argument list containing the single item len.
            // 14. a. Else, Let A be ArrayCreate(len).
            var A = isCallable(C) ? Object(new C(len)) : new Array(len);

            // 16. Let k be 0.
            var k = 0;
            // 17. Repeat, while k < len (also steps a - h)
            var kValue;
            while (k < len) {
                kValue = items[k];
                if (mapFn) {
                    A[k] = typeof T === 'undefined' ? mapFn(kValue, k) : mapFn.call(T, kValue, k);
                } else {
                    A[k] = kValue;
                }
                k += 1;
            }
            // 18. Let putStatus be Put(A, "length", len, true).
            A.length = len;
            // 20. Return A.
            return A;
        };
    }());
}
// source: https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent
(function() {
    if (typeof window.CustomEvent === "function") {
        return false;
    }

    function CustomEvent(event, params) {
        params = params || { bubbles: false, cancelable: false, detail: undefined };
        var evt = document.createEvent("CustomEvent");
        evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);
        return evt;
    }

    CustomEvent.prototype = window.Event.prototype;

    window.CustomEvent = CustomEvent;
})();
// source: https://github.com/w3c/IntersectionObserver

/**
 * Copyright 2016 Google Inc. All Rights Reserved.
 *
 * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.
 *
 *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
 *
 */
(function() {
'use strict';

// Exit early if we're not running in a browser.
if (typeof window !== 'object') {
  return;
}

// Exit early if all IntersectionObserver and IntersectionObserverEntry
// features are natively supported.
if ('IntersectionObserver' in window &&
    'IntersectionObserverEntry' in window &&
    'intersectionRatio' in window.IntersectionObserverEntry.prototype) {

  // Minimal polyfill for Edge 15's lack of `isIntersecting`
  // See: https://github.com/w3c/IntersectionObserver/issues/211
  if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {
    Object.defineProperty(window.IntersectionObserverEntry.prototype,
      'isIntersecting', {
      get: function () {
        return this.intersectionRatio > 0;
      }
    });
  }
  return;
}

/**
 * Returns the embedding frame element, if any.
 * @param {!Document} doc
 * @return {!Element}
 */
function getFrameElement(doc) {
  try {
    return doc.defaultView && doc.defaultView.frameElement || null;
  } catch (e) {
    // Ignore the error.
    return null;
  }
}

/**
 * A local reference to the root document.
 */
var document = (function(startDoc) {
  var doc = startDoc;
  var frame = getFrameElement(doc);
  while (frame) {
    doc = frame.ownerDocument;
    frame = getFrameElement(doc);
  }
  return doc;
})(window.document);

/**
 * An IntersectionObserver registry. This registry exists to hold a strong
 * reference to IntersectionObserver instances currently observing a target
 * element. Without this registry, instances without another reference may be
 * garbage collected.
 */
var registry = [];

/**
 * The signal updater for cross-origin intersection. When not null, it means
 * that the polyfill is configured to work in a cross-origin mode.
 * @type {function(DOMRect|ClientRect, DOMRect|ClientRect)}
 */
var crossOriginUpdater = null;

/**
 * The current cross-origin intersection. Only used in the cross-origin mode.
 * @type {DOMRect|ClientRect}
 */
var crossOriginRect = null;


/**
 * Creates the global IntersectionObserverEntry constructor.
 * https://w3c.github.io/IntersectionObserver/#intersection-observer-entry
 * @param {Object} entry A dictionary of instance properties.
 * @constructor
 */
function IntersectionObserverEntry(entry) {
  this.time = entry.time;
  this.target = entry.target;
  this.rootBounds = ensureDOMRect(entry.rootBounds);
  this.boundingClientRect = ensureDOMRect(entry.boundingClientRect);
  this.intersectionRect = ensureDOMRect(entry.intersectionRect || getEmptyRect());
  this.isIntersecting = !!entry.intersectionRect;

  // Calculates the intersection ratio.
  var targetRect = this.boundingClientRect;
  var targetArea = targetRect.width * targetRect.height;
  var intersectionRect = this.intersectionRect;
  var intersectionArea = intersectionRect.width * intersectionRect.height;

  // Sets intersection ratio.
  if (targetArea) {
    // Round the intersection ratio to avoid floating point math issues:
    // https://github.com/w3c/IntersectionObserver/issues/324
    this.intersectionRatio = Number((intersectionArea / targetArea).toFixed(4));
  } else {
    // If area is zero and is intersecting, sets to 1, otherwise to 0
    this.intersectionRatio = this.isIntersecting ? 1 : 0;
  }
}


/**
 * Creates the global IntersectionObserver constructor.
 * https://w3c.github.io/IntersectionObserver/#intersection-observer-interface
 * @param {Function} callback The function to be invoked after intersection
 *     changes have queued. The function is not invoked if the queue has
 *     been emptied by calling the `takeRecords` method.
 * @param {Object=} opt_options Optional configuration options.
 * @constructor
 */
function IntersectionObserver(callback, opt_options) {

  var options = opt_options || {};

  if (typeof callback != 'function') {
    throw new Error('callback must be a function');
  }

  if (
    options.root &&
    options.root.nodeType != 1 &&
    options.root.nodeType != 9
  ) {
    throw new Error('root must be a Document or Element');
  }

  // Binds and throttles `this._checkForIntersections`.
  this._checkForIntersections = throttle(
      this._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT);

  // Private properties.
  this._callback = callback;
  this._observationTargets = [];
  this._queuedEntries = [];
  this._rootMarginValues = this._parseRootMargin(options.rootMargin);

  // Public properties.
  this.thresholds = this._initThresholds(options.threshold);
  this.root = options.root || null;
  this.rootMargin = this._rootMarginValues.map(function(margin) {
    return margin.value + margin.unit;
  }).join(' ');

  /** @private @const {!Array<!Document>} */
  this._monitoringDocuments = [];
  /** @private @const {!Array<function()>} */
  this._monitoringUnsubscribes = [];
}


/**
 * The minimum interval within which the document will be checked for
 * intersection changes.
 */
IntersectionObserver.prototype.THROTTLE_TIMEOUT = 100;


/**
 * The frequency in which the polyfill polls for intersection changes.
 * this can be updated on a per instance basis and must be set prior to
 * calling `observe` on the first target.
 */
IntersectionObserver.prototype.POLL_INTERVAL = null;

/**
 * Use a mutation observer on the root element
 * to detect intersection changes.
 */
IntersectionObserver.prototype.USE_MUTATION_OBSERVER = true;


/**
 * Sets up the polyfill in the cross-origin mode. The result is the
 * updater function that accepts two arguments: `boundingClientRect` and
 * `intersectionRect` - just as these fields would be available to the
 * parent via `IntersectionObserverEntry`. This function should be called
 * each time the iframe receives intersection information from the parent
 * window, e.g. via messaging.
 * @return {function(DOMRect|ClientRect, DOMRect|ClientRect)}
 */
IntersectionObserver._setupCrossOriginUpdater = function() {
  if (!crossOriginUpdater) {
    /**
     * @param {DOMRect|ClientRect} boundingClientRect
     * @param {DOMRect|ClientRect} intersectionRect
     */
    crossOriginUpdater = function(boundingClientRect, intersectionRect) {
      if (!boundingClientRect || !intersectionRect) {
        crossOriginRect = getEmptyRect();
      } else {
        crossOriginRect = convertFromParentRect(boundingClientRect, intersectionRect);
      }
      registry.forEach(function(observer) {
        observer._checkForIntersections();
      });
    };
  }
  return crossOriginUpdater;
};


/**
 * Resets the cross-origin mode.
 */
IntersectionObserver._resetCrossOriginUpdater = function() {
  crossOriginUpdater = null;
  crossOriginRect = null;
};


/**
 * Starts observing a target element for intersection changes based on
 * the thresholds values.
 * @param {Element} target The DOM element to observe.
 */
IntersectionObserver.prototype.observe = function(target) {
  var isTargetAlreadyObserved = this._observationTargets.some(function(item) {
    return item.element == target;
  });

  if (isTargetAlreadyObserved) {
    return;
  }

  if (!(target && target.nodeType == 1)) {
    throw new Error('target must be an Element');
  }

  this._registerInstance();
  this._observationTargets.push({element: target, entry: null});
  this._monitorIntersections(target.ownerDocument);
  this._checkForIntersections();
};


/**
 * Stops observing a target element for intersection changes.
 * @param {Element} target The DOM element to observe.
 */
IntersectionObserver.prototype.unobserve = function(target) {
  this._observationTargets =
      this._observationTargets.filter(function(item) {
        return item.element != target;
      });
  this._unmonitorIntersections(target.ownerDocument);
  if (this._observationTargets.length == 0) {
    this._unregisterInstance();
  }
};


/**
 * Stops observing all target elements for intersection changes.
 */
IntersectionObserver.prototype.disconnect = function() {
  this._observationTargets = [];
  this._unmonitorAllIntersections();
  this._unregisterInstance();
};


/**
 * Returns any queue entries that have not yet been reported to the
 * callback and clears the queue. This can be used in conjunction with the
 * callback to obtain the absolute most up-to-date intersection information.
 * @return {Array} The currently queued entries.
 */
IntersectionObserver.prototype.takeRecords = function() {
  var records = this._queuedEntries.slice();
  this._queuedEntries = [];
  return records;
};


/**
 * Accepts the threshold value from the user configuration object and
 * returns a sorted array of unique threshold values. If a value is not
 * between 0 and 1 and error is thrown.
 * @private
 * @param {Array|number=} opt_threshold An optional threshold value or
 *     a list of threshold values, defaulting to [0].
 * @return {Array} A sorted list of unique and valid threshold values.
 */
IntersectionObserver.prototype._initThresholds = function(opt_threshold) {
  var threshold = opt_threshold || [0];
  if (!Array.isArray(threshold)) threshold = [threshold];

  return threshold.sort().filter(function(t, i, a) {
    if (typeof t != 'number' || isNaN(t) || t < 0 || t > 1) {
      throw new Error('threshold must be a number between 0 and 1 inclusively');
    }
    return t !== a[i - 1];
  });
};


/**
 * Accepts the rootMargin value from the user configuration object
 * and returns an array of the four margin values as an object containing
 * the value and unit properties. If any of the values are not properly
 * formatted or use a unit other than px or %, and error is thrown.
 * @private
 * @param {string=} opt_rootMargin An optional rootMargin value,
 *     defaulting to '0px'.
 * @return {Array<Object>} An array of margin objects with the keys
 *     value and unit.
 */
IntersectionObserver.prototype._parseRootMargin = function(opt_rootMargin) {
  var marginString = opt_rootMargin || '0px';
  var margins = marginString.split(/\s+/).map(function(margin) {
    var parts = /^(-?\d*\.?\d+)(px|%)$/.exec(margin);
    if (!parts) {
      throw new Error('rootMargin must be specified in pixels or percent');
    }
    return {value: parseFloat(parts[1]), unit: parts[2]};
  });

  // Handles shorthand.
  margins[1] = margins[1] || margins[0];
  margins[2] = margins[2] || margins[0];
  margins[3] = margins[3] || margins[1];

  return margins;
};


/**
 * Starts polling for intersection changes if the polling is not already
 * happening, and if the page's visibility state is visible.
 * @param {!Document} doc
 * @private
 */
IntersectionObserver.prototype._monitorIntersections = function(doc) {
  var win = doc.defaultView;
  if (!win) {
    // Already destroyed.
    return;
  }
  if (this._monitoringDocuments.indexOf(doc) != -1) {
    // Already monitoring.
    return;
  }

  // Private state for monitoring.
  var callback = this._checkForIntersections;
  var monitoringInterval = null;
  var domObserver = null;

  // If a poll interval is set, use polling instead of listening to
  // resize and scroll events or DOM mutations.
  if (this.POLL_INTERVAL) {
    monitoringInterval = win.setInterval(callback, this.POLL_INTERVAL);
  } else {
    addEvent(win, 'resize', callback, true);
    addEvent(doc, 'scroll', callback, true);
    if (this.USE_MUTATION_OBSERVER && 'MutationObserver' in win) {
      domObserver = new win.MutationObserver(callback);
      domObserver.observe(doc, {
        attributes: true,
        childList: true,
        characterData: true,
        subtree: true
      });
    }
  }

  this._monitoringDocuments.push(doc);
  this._monitoringUnsubscribes.push(function() {
    // Get the window object again. When a friendly iframe is destroyed, it
    // will be null.
    var win = doc.defaultView;

    if (win) {
      if (monitoringInterval) {
        win.clearInterval(monitoringInterval);
      }
      removeEvent(win, 'resize', callback, true);
    }

    removeEvent(doc, 'scroll', callback, true);
    if (domObserver) {
      domObserver.disconnect();
    }
  });

  // Also monitor the parent.
  var rootDoc =
    (this.root && (this.root.ownerDocument || this.root)) || document;
  if (doc != rootDoc) {
    var frame = getFrameElement(doc);
    if (frame) {
      this._monitorIntersections(frame.ownerDocument);
    }
  }
};


/**
 * Stops polling for intersection changes.
 * @param {!Document} doc
 * @private
 */
IntersectionObserver.prototype._unmonitorIntersections = function(doc) {
  var index = this._monitoringDocuments.indexOf(doc);
  if (index == -1) {
    return;
  }

  var rootDoc =
    (this.root && (this.root.ownerDocument || this.root)) || document;

  // Check if any dependent targets are still remaining.
  var hasDependentTargets =
      this._observationTargets.some(function(item) {
        var itemDoc = item.element.ownerDocument;
        // Target is in this context.
        if (itemDoc == doc) {
          return true;
        }
        // Target is nested in this context.
        while (itemDoc && itemDoc != rootDoc) {
          var frame = getFrameElement(itemDoc);
          itemDoc = frame && frame.ownerDocument;
          if (itemDoc == doc) {
            return true;
          }
        }
        return false;
      });
  if (hasDependentTargets) {
    return;
  }

  // Unsubscribe.
  var unsubscribe = this._monitoringUnsubscribes[index];
  this._monitoringDocuments.splice(index, 1);
  this._monitoringUnsubscribes.splice(index, 1);
  unsubscribe();

  // Also unmonitor the parent.
  if (doc != rootDoc) {
    var frame = getFrameElement(doc);
    if (frame) {
      this._unmonitorIntersections(frame.ownerDocument);
    }
  }
};


/**
 * Stops polling for intersection changes.
 * @param {!Document} doc
 * @private
 */
IntersectionObserver.prototype._unmonitorAllIntersections = function() {
  var unsubscribes = this._monitoringUnsubscribes.slice(0);
  this._monitoringDocuments.length = 0;
  this._monitoringUnsubscribes.length = 0;
  for (var i = 0; i < unsubscribes.length; i++) {
    unsubscribes[i]();
  }
};


/**
 * Scans each observation target for intersection changes and adds them
 * to the internal entries queue. If new entries are found, it
 * schedules the callback to be invoked.
 * @private
 */
IntersectionObserver.prototype._checkForIntersections = function() {
  if (!this.root && crossOriginUpdater && !crossOriginRect) {
    // Cross origin monitoring, but no initial data available yet.
    return;
  }

  var rootIsInDom = this._rootIsInDom();
  var rootRect = rootIsInDom ? this._getRootRect() : getEmptyRect();

  this._observationTargets.forEach(function(item) {
    var target = item.element;
    var targetRect = getBoundingClientRect(target);
    var rootContainsTarget = this._rootContainsTarget(target);
    var oldEntry = item.entry;
    var intersectionRect = rootIsInDom && rootContainsTarget &&
        this._computeTargetAndRootIntersection(target, targetRect, rootRect);

    var rootBounds = null;
    if (!this._rootContainsTarget(target)) {
      rootBounds = getEmptyRect();
    } else if (!crossOriginUpdater || this.root) {
      rootBounds = rootRect;
    }

    var newEntry = item.entry = new IntersectionObserverEntry({
      time: now(),
      target: target,
      boundingClientRect: targetRect,
      rootBounds: rootBounds,
      intersectionRect: intersectionRect
    });

    if (!oldEntry) {
      this._queuedEntries.push(newEntry);
    } else if (rootIsInDom && rootContainsTarget) {
      // If the new entry intersection ratio has crossed any of the
      // thresholds, add a new entry.
      if (this._hasCrossedThreshold(oldEntry, newEntry)) {
        this._queuedEntries.push(newEntry);
      }
    } else {
      // If the root is not in the DOM or target is not contained within
      // root but the previous entry for this target had an intersection,
      // add a new record indicating removal.
      if (oldEntry && oldEntry.isIntersecting) {
        this._queuedEntries.push(newEntry);
      }
    }
  }, this);

  if (this._queuedEntries.length) {
    this._callback(this.takeRecords(), this);
  }
};


/**
 * Accepts a target and root rect computes the intersection between then
 * following the algorithm in the spec.
 * TODO(philipwalton): at this time clip-path is not considered.
 * https://w3c.github.io/IntersectionObserver/#calculate-intersection-rect-algo
 * @param {Element} target The target DOM element
 * @param {Object} targetRect The bounding rect of the target.
 * @param {Object} rootRect The bounding rect of the root after being
 *     expanded by the rootMargin value.
 * @return {?Object} The final intersection rect object or undefined if no
 *     intersection is found.
 * @private
 */
IntersectionObserver.prototype._computeTargetAndRootIntersection =
    function(target, targetRect, rootRect) {
  // If the element isn't displayed, an intersection can't happen.
  if (window.getComputedStyle(target).display == 'none') return;

  var intersectionRect = targetRect;
  var parent = getParentNode(target);
  var atRoot = false;

  while (!atRoot && parent) {
    var parentRect = null;
    var parentComputedStyle = parent.nodeType == 1 ?
        window.getComputedStyle(parent) : {};

    // If the parent isn't displayed, an intersection can't happen.
    if (parentComputedStyle.display == 'none') return null;

    if (parent == this.root || parent.nodeType == /* DOCUMENT */ 9) {
      atRoot = true;
      if (parent == this.root || parent == document) {
        if (crossOriginUpdater && !this.root) {
          if (!crossOriginRect ||
              crossOriginRect.width == 0 && crossOriginRect.height == 0) {
            // A 0-size cross-origin intersection means no-intersection.
            parent = null;
            parentRect = null;
            intersectionRect = null;
          } else {
            parentRect = crossOriginRect;
          }
        } else {
          parentRect = rootRect;
        }
      } else {
        // Check if there's a frame that can be navigated to.
        var frame = getParentNode(parent);
        var frameRect = frame && getBoundingClientRect(frame);
        var frameIntersect =
            frame &&
            this._computeTargetAndRootIntersection(frame, frameRect, rootRect);
        if (frameRect && frameIntersect) {
          parent = frame;
          parentRect = convertFromParentRect(frameRect, frameIntersect);
        } else {
          parent = null;
          intersectionRect = null;
        }
      }
    } else {
      // If the element has a non-visible overflow, and it's not the <body>
      // or <html> element, update the intersection rect.
      // Note: <body> and <html> cannot be clipped to a rect that's not also
      // the document rect, so no need to compute a new intersection.
      var doc = parent.ownerDocument;
      if (parent != doc.body &&
          parent != doc.documentElement &&
          parentComputedStyle.overflow != 'visible') {
        parentRect = getBoundingClientRect(parent);
      }
    }

    // If either of the above conditionals set a new parentRect,
    // calculate new intersection data.
    if (parentRect) {
      intersectionRect = computeRectIntersection(parentRect, intersectionRect);
    }
    if (!intersectionRect) break;
    parent = parent && getParentNode(parent);
  }
  return intersectionRect;
};


/**
 * Returns the root rect after being expanded by the rootMargin value.
 * @return {ClientRect} The expanded root rect.
 * @private
 */
IntersectionObserver.prototype._getRootRect = function() {
  var rootRect;
  if (this.root && !isDoc(this.root)) {
    rootRect = getBoundingClientRect(this.root);
  } else {
    // Use <html>/<body> instead of window since scroll bars affect size.
    var doc = isDoc(this.root) ? this.root : document;
    var html = doc.documentElement;
    var body = doc.body;
    rootRect = {
      top: 0,
      left: 0,
      right: html.clientWidth || body.clientWidth,
      width: html.clientWidth || body.clientWidth,
      bottom: html.clientHeight || body.clientHeight,
      height: html.clientHeight || body.clientHeight
    };
  }
  return this._expandRectByRootMargin(rootRect);
};


/**
 * Accepts a rect and expands it by the rootMargin value.
 * @param {DOMRect|ClientRect} rect The rect object to expand.
 * @return {ClientRect} The expanded rect.
 * @private
 */
IntersectionObserver.prototype._expandRectByRootMargin = function(rect) {
  var margins = this._rootMarginValues.map(function(margin, i) {
    return margin.unit == 'px' ? margin.value :
        margin.value * (i % 2 ? rect.width : rect.height) / 100;
  });
  var newRect = {
    top: rect.top - margins[0],
    right: rect.right + margins[1],
    bottom: rect.bottom + margins[2],
    left: rect.left - margins[3]
  };
  newRect.width = newRect.right - newRect.left;
  newRect.height = newRect.bottom - newRect.top;

  return newRect;
};


/**
 * Accepts an old and new entry and returns true if at least one of the
 * threshold values has been crossed.
 * @param {?IntersectionObserverEntry} oldEntry The previous entry for a
 *    particular target element or null if no previous entry exists.
 * @param {IntersectionObserverEntry} newEntry The current entry for a
 *    particular target element.
 * @return {boolean} Returns true if a any threshold has been crossed.
 * @private
 */
IntersectionObserver.prototype._hasCrossedThreshold =
    function(oldEntry, newEntry) {

  // To make comparing easier, an entry that has a ratio of 0
  // but does not actually intersect is given a value of -1
  var oldRatio = oldEntry && oldEntry.isIntersecting ?
      oldEntry.intersectionRatio || 0 : -1;
  var newRatio = newEntry.isIntersecting ?
      newEntry.intersectionRatio || 0 : -1;

  // Ignore unchanged ratios
  if (oldRatio === newRatio) return;

  for (var i = 0; i < this.thresholds.length; i++) {
    var threshold = this.thresholds[i];

    // Return true if an entry matches a threshold or if the new ratio
    // and the old ratio are on the opposite sides of a threshold.
    if (threshold == oldRatio || threshold == newRatio ||
        threshold < oldRatio !== threshold < newRatio) {
      return true;
    }
  }
};


/**
 * Returns whether or not the root element is an element and is in the DOM.
 * @return {boolean} True if the root element is an element and is in the DOM.
 * @private
 */
IntersectionObserver.prototype._rootIsInDom = function() {
  return !this.root || containsDeep(document, this.root);
};


/**
 * Returns whether or not the target element is a child of root.
 * @param {Element} target The target element to check.
 * @return {boolean} True if the target element is a child of root.
 * @private
 */
IntersectionObserver.prototype._rootContainsTarget = function(target) {
  var rootDoc =
    (this.root && (this.root.ownerDocument || this.root)) || document;
  return (
    containsDeep(rootDoc, target) &&
    (!this.root || rootDoc == target.ownerDocument)
  );
};


/**
 * Adds the instance to the global IntersectionObserver registry if it isn't
 * already present.
 * @private
 */
IntersectionObserver.prototype._registerInstance = function() {
  if (registry.indexOf(this) < 0) {
    registry.push(this);
  }
};


/**
 * Removes the instance from the global IntersectionObserver registry.
 * @private
 */
IntersectionObserver.prototype._unregisterInstance = function() {
  var index = registry.indexOf(this);
  if (index != -1) registry.splice(index, 1);
};


/**
 * Returns the result of the performance.now() method or null in browsers
 * that don't support the API.
 * @return {number} The elapsed time since the page was requested.
 */
function now() {
  return window.performance && performance.now && performance.now();
}


/**
 * Throttles a function and delays its execution, so it's only called at most
 * once within a given time period.
 * @param {Function} fn The function to throttle.
 * @param {number} timeout The amount of time that must pass before the
 *     function can be called again.
 * @return {Function} The throttled function.
 */
function throttle(fn, timeout) {
  var timer = null;
  return function () {
    if (!timer) {
      timer = setTimeout(function() {
        fn();
        timer = null;
      }, timeout);
    }
  };
}


/**
 * Adds an event handler to a DOM node ensuring cross-browser compatibility.
 * @param {Node} node The DOM node to add the event handler to.
 * @param {string} event The event name.
 * @param {Function} fn The event handler to add.
 * @param {boolean} opt_useCapture Optionally adds the even to the capture
 *     phase. Note: this only works in modern browsers.
 */
function addEvent(node, event, fn, opt_useCapture) {
  if (typeof node.addEventListener == 'function') {
    node.addEventListener(event, fn, opt_useCapture || false);
  }
  else if (typeof node.attachEvent == 'function') {
    node.attachEvent('on' + event, fn);
  }
}


/**
 * Removes a previously added event handler from a DOM node.
 * @param {Node} node The DOM node to remove the event handler from.
 * @param {string} event The event name.
 * @param {Function} fn The event handler to remove.
 * @param {boolean} opt_useCapture If the event handler was added with this
 *     flag set to true, it should be set to true here in order to remove it.
 */
function removeEvent(node, event, fn, opt_useCapture) {
  if (typeof node.removeEventListener == 'function') {
    node.removeEventListener(event, fn, opt_useCapture || false);
  }
  else if (typeof node.detatchEvent == 'function') {
    node.detatchEvent('on' + event, fn);
  }
}


/**
 * Returns the intersection between two rect objects.
 * @param {Object} rect1 The first rect.
 * @param {Object} rect2 The second rect.
 * @return {?Object|?ClientRect} The intersection rect or undefined if no
 *     intersection is found.
 */
function computeRectIntersection(rect1, rect2) {
  var top = Math.max(rect1.top, rect2.top);
  var bottom = Math.min(rect1.bottom, rect2.bottom);
  var left = Math.max(rect1.left, rect2.left);
  var right = Math.min(rect1.right, rect2.right);
  var width = right - left;
  var height = bottom - top;

  return (width >= 0 && height >= 0) && {
    top: top,
    bottom: bottom,
    left: left,
    right: right,
    width: width,
    height: height
  } || null;
}


/**
 * Shims the native getBoundingClientRect for compatibility with older IE.
 * @param {Element} el The element whose bounding rect to get.
 * @return {DOMRect|ClientRect} The (possibly shimmed) rect of the element.
 */
function getBoundingClientRect(el) {
  var rect;

  try {
    rect = el.getBoundingClientRect();
  } catch (err) {
    // Ignore Windows 7 IE11 "Unspecified error"
    // https://github.com/w3c/IntersectionObserver/pull/205
  }

  if (!rect) return getEmptyRect();

  // Older IE
  if (!(rect.width && rect.height)) {
    rect = {
      top: rect.top,
      right: rect.right,
      bottom: rect.bottom,
      left: rect.left,
      width: rect.right - rect.left,
      height: rect.bottom - rect.top
    };
  }
  return rect;
}


/**
 * Returns an empty rect object. An empty rect is returned when an element
 * is not in the DOM.
 * @return {ClientRect} The empty rect.
 */
function getEmptyRect() {
  return {
    top: 0,
    bottom: 0,
    left: 0,
    right: 0,
    width: 0,
    height: 0
  };
}


/**
 * Ensure that the result has all of the necessary fields of the DOMRect.
 * Specifically this ensures that `x` and `y` fields are set.
 *
 * @param {?DOMRect|?ClientRect} rect
 * @return {?DOMRect}
 */
function ensureDOMRect(rect) {
  // A `DOMRect` object has `x` and `y` fields.
  if (!rect || 'x' in rect) {
    return rect;
  }
  // A IE's `ClientRect` type does not have `x` and `y`. The same is the case
  // for internally calculated Rect objects. For the purposes of
  // `IntersectionObserver`, it's sufficient to simply mirror `left` and `top`
  // for these fields.
  return {
    top: rect.top,
    y: rect.top,
    bottom: rect.bottom,
    left: rect.left,
    x: rect.left,
    right: rect.right,
    width: rect.width,
    height: rect.height
  };
}


/**
 * Inverts the intersection and bounding rect from the parent (frame) BCR to
 * the local BCR space.
 * @param {DOMRect|ClientRect} parentBoundingRect The parent's bound client rect.
 * @param {DOMRect|ClientRect} parentIntersectionRect The parent's own intersection rect.
 * @return {ClientRect} The local root bounding rect for the parent's children.
 */
function convertFromParentRect(parentBoundingRect, parentIntersectionRect) {
  var top = parentIntersectionRect.top - parentBoundingRect.top;
  var left = parentIntersectionRect.left - parentBoundingRect.left;
  return {
    top: top,
    left: left,
    height: parentIntersectionRect.height,
    width: parentIntersectionRect.width,
    bottom: top + parentIntersectionRect.height,
    right: left + parentIntersectionRect.width
  };
}


/**
 * Checks to see if a parent element contains a child element (including inside
 * shadow DOM).
 * @param {Node} parent The parent element.
 * @param {Node} child The child element.
 * @return {boolean} True if the parent node contains the child node.
 */
function containsDeep(parent, child) {
  var node = child;
  while (node) {
    if (node == parent) return true;

    node = getParentNode(node);
  }
  return false;
}


/**
 * Gets the parent node of an element or its host element if the parent node
 * is a shadow root.
 * @param {Node} node The node whose parent to get.
 * @return {Node|null} The parent node or null if no parent exists.
 */
function getParentNode(node) {
  var parent = node.parentNode;

  if (node.nodeType == /* DOCUMENT */ 9 && node != document) {
    // If this node is a document node, look for the embedding frame.
    return getFrameElement(node);
  }

  // If the parent has element that is assigned through shadow root slot
  if (parent && parent.assignedSlot) {
    parent = parent.assignedSlot.parentNode
  }

  if (parent && parent.nodeType == 11 && parent.host) {
    // If the parent is a shadow root, return the host element.
    return parent.host;
  }

  return parent;
}

/**
 * Returns true if `node` is a Document.
 * @param {!Node} node
 * @returns {boolean}
 */
function isDoc(node) {
  return node && node.nodeType === 9;
}


// Exposes the constructors globally.
window.IntersectionObserver = IntersectionObserver;
window.IntersectionObserverEntry = IntersectionObserverEntry;

}());

//This javascript adds  polyfills .includes() for ie11
if (!String.prototype.includes) {
	String.prototype.includes = function(search, start) {
		if (typeof start !== 'number') {
			start = 0;
		}
		if (start + search.length > this.length) {
			return false;
		} else {
			return this.indexOf(search, start) !== -1;
		}
	};
}
var kpId = $("#fxg-kpId").val();
var playerId = $("#fxg-playId").val();
var src = '';
$( ".videoWrapper" ).each(function( index ) { 
	var version = $(".versionFinder").val();
	if(version != undefined){
    if (kpId != undefined && playerId != undefined) {
        if(version == 'v7'){
         src = "https://cdnapisec.kaltura.com/p/" + kpId + "/embedPlaykitJs/uiconf_id/" + playerId
        } else {
         src = "https://cdnapisec.kaltura.com/p/" + kpId + "/sp/" + kpId + "00/embedIframeJs/uiconf_id/" + playerId + "/partner_id/" + kpId
        }
		var element = $(this);  // Store the reference to the element before calling init
        $.getScript(src,
            function() {
    			init(element.parent());  // Pass the element (or its parent) to the init function
                
            }).fail(function() {
            if (arguments[0].readyState == 0) {
                console.log("Script failed to load");
            } else {
                console.log("Error loading script: " + arguments[2].toString());
            }
        }); 
    }
    }
});

function init(ele) {
    mavice.kaltura.initComponent(ele);
    
}
if (!FDX) {
    var FDX = {};
}

var WTRK = {
    landingComponent : null
}

FDX.TRACKINGLANDING = {

    mobileViewQuery : window.matchMedia("(max-width: " + "767" + "px)"),
    extScripts : null,
    host : window.location.origin,

	    loadTrackingLandingScripts : function() {
		var loadTrkLandingWeb = (document.getElementById("trk-landingModule-webCheck") != null) ? document
				.getElementById("trk-landingModule-webCheck").value
				: "false";
		if (loadTrkLandingWeb != undefined && loadTrkLandingWeb === "true") {
			FDX.TRACKINGLANDING.loadTrackingLandingWeb();
		} else {
			FDX.TRACKINGLANDING.extScripts = JSON.parse(document
					.getElementById("track-module-script").value);
			var scriptTag = [];
			if (FDX.TRACKINGLANDING.extScripts != null) {
				for (var i = 0; i < FDX.TRACKINGLANDING.extScripts.length; i++) {
					var scriptID = 'dep' + [ i ];
					scriptTag[i] = document.createElement('script');
					scriptTag[i].src = '//' + window.location.hostname
							+ FDX.TRACKINGLANDING.extScripts[i];
					scriptTag[i].id = scriptID;
					scriptTag[i].async = true;
					// console.log(scriptTag[i].src);
					var headTag = document.getElementsByTagName('head')[0];
					headTag.appendChild(scriptTag[i]);
				}
			}
		}
	},

	loadTrackingLandingWeb : function() {
		var trkLandingDiv = document.getElementById("trk-LandingModule-div");
		var trkLandingExtApp = document.getElementById("trk-landingModule-html").value;
		
		jQuery.ajax({
			type : "GET",
			url : FDX.TRACKINGLANDING.host + trkLandingExtApp,
			cache : false,
			crossDomain : true,
			success : function(result) {
				try {
					// console.log(result);
					jQuery('html').find(trkLandingDiv).html(result);
				} catch (e) {
					console.error(e);
				}
			},
		});
	},
};

if ((typeof(FDX) !== "undefined") && !FDX.TRACKINGLANDING.mobileViewQuery.matches
		&& FDX.DATALAYER.page.category.pageType === "trackingpage"
		&& (FDX.SESSION.getCookie('wcmmode') === null)) {
	if (WTRK.landingComponent == null
			&& !$("#trk-LandingModule-div").hasClass("trk_landing_loaded")) {
        //console.log("111In load......");
		$("#trk-LandingModule-div").addClass("trk_landing_loaded");
		FDX.TRACKINGLANDING.loadTrackingLandingScripts();
	}
} else if ((typeof(FDX) !== "undefined") && FDX.TRACKINGLANDING.mobileViewQuery.matches && FDX.DATALAYER.page.category.pageType === "trackingpage" 
           && (document.getElementById("show-track-module").value === "true") && (FDX.SESSION.getCookie('wcmmode') === null)) {
    if (WTRK.landingComponent == null
			&& !$("#trk-LandingModule-div").hasClass("trk_landing_loaded")) {
        //console.log("222In load......");
		$("#trk-LandingModule-div").addClass("trk_landing_loaded");
		FDX.TRACKINGLANDING.loadTrackingLandingScripts();
	}
}
/* This is the FedEx.com tracking app component javascript file.
 The global FDX object must already be defined

 Author: quantrell.sanford@vml.com
 Created: 2017-05-01
 */

if (!FDX) {
    var FDX = {};
}
// CHANGE: VMLNAFEDEXW-676 Add classes for LP Tracking Apps
FDX.TRACKING = {
    watchListBtnClass : "fxg-tracking-app__watch-list-btn",
    watchListSelectedClass : "fxg-tracking-app__watch-list-btn--selected",
    singleTrackingClass : "fxg-app__single-tracking",
    multiTrackingClass : "fxg-tracking-app__multi-tracking",
    singleTrackingLandingPageClass : "fxg-landing-tracking-app__single-tracking",
    multiTrackingLandingPageClass : "fxg-landing-tracking-app__multi-tracking",
    state1Class : "fxg-tracking-app__state1",
    state2Class : "fxg-tracking-app__state2",
    state1LandingPageClass : "fxg-landing-tracking-app__state1",
    state2LandingPageClass : "fxg-landing-tracking-app__state2",
    resultsPlaceholder : $(".fxg-tracking-app__results"),
    resultsPlaceholderLandingPage : $(".fxg-landing-tracking-app__results"),
    resultsDataPlaceholderLandingPage : $(".fxg-landing-tracking-app__results-data"),
    seeFullDetailsLink : "#SeeFullTrackingDetailsLink",
    seeFullDetailsLinkText: "SEE FULL DETAILS",
    executed : false,
    fromMultiTrack : false,
    singleTrackFromMulti : null,
    trackCookieStartsWith : "tss-",
    trackLinks : $(".fxg-tracking-app__links-par"),
    viewWatchList : false,
    pathName : encodeURI(window.location.pathname),
    multipleTrackingNumberAltText: '',
    proofOfDeliveryTrackingNumberAltText: '',
    trackModuleViewState : '',
    heroHomePagev1 : '.hero_homepage_v1',
    trackingAppV1  : '.tracking_app_v1.appBaseComponent',
    oldTrackingApp : '.tracking_app.appBaseComponent',
    appActiveClass : 'fxg-app-container fxg-app--active',

    submit : function(){
        //Stubbed function where app logic will go
        // 1) Make ajax request to get tracking results
        // 2) Parse response
        // 3) Populate FDX.TRACKING.resultsPlaceholder with content
        // 4) Set See Full Details link with proper href
		FDX.DATALAYER.track.trackInfo = [];
        var trackingnumberField = $('#HomeTrackingApp input[name="trackingnumber"]');
        var trackingnumber = trackingnumberField.val();
        var locale = FDX.SESSION.getLocale();
        var cc = FDX.SESSION.getCountryPath();
        var dataAnalytics = document.getElementById("dataAnalyticsTracking").value;

        if (FDX.TRACKING.fromMultiTrack) {
			trackingnumber = FDX.TRACKING.singleTrackFromMulti;
            FDX.TRACKING.showSingleTracking();
            trackingnumberField.val(trackingnumber);
            var valueChange = $.Event('keyup');
            valueChange.keyCode = 13;
            $('input').trigger(valueChange);
        }
        //DTM update
        FDX.DATALAYER.trackData.track = trackingnumber;
        FDX.DATALAYER.track.isSingleTrack = true;
        FDX.DATALAYER.track.trackQuantity = 1;
		FDX.DATALAYER.track.trackInfo.push(FDX.DATALAYER.trackData);

        //FDX.DTM.pushButtonInfo(dataAnalytics,"samePage");

        $('html').find('.' + FDX.TRACKING.state1Class).addClass("fxg-tracking-app__submitted");
        $('html').find(FDX.TRACKING.seeFullDetailsLink).html(FDX.TRACKING.seeFullDetailsLinkText);
        // Per requirements (MPV1) authors should not be able to edit the bottom links on state 2. These are handled by FedEx IT in data response because they change based on status.
        // Get dummy response for testing layout
		
		/*
         * Nitin - Commenting out the following line to hide the mockcontent loading on click on track button.
         */
        //FDX.TRACKING.resultsPlaceholder.html(FDX.TRACKING.MOCKDATA.status + FDX.TRACKING.MOCKDATA.watchlist + FDX.TRACKING.MOCKDATA.details + FDX.TRACKING.MOCKDATA.bottomLinks);
        //WTRK.homepageComponentLite.req.trackByTrackingNumberList(trackingnumber);

        //Call to resize the hero so that results will fit
        //This just adds an open class and adds calculated height to hero
     
        if (trackingnumber != '') {
        	FDX.DTM.pushButtonInfo(dataAnalytics,"samePage");
        	/*On back button page load when user does not click text field and there is track number entered already 
        	 in text field and hit Track
        	 */
        	// For New App 
            if (!FDX.TRACKING.executed && FDX.APPBASE.isWebComponent) {
               $.ajax({
                           context: FDX.TRACKING.loadWebComponent()

                           }).done(function(data){
							   
							   	if($(FDX.TRACKING.heroHomePagev1).length == 0) {

                                    $(FDX.TRACKING.trackingAppV1).addClass(FDX.TRACKING.appActiveClass);
	                            }
                                if(FDX.CUBE) { 
                           			FDX.CUBE.openApp();
                        		}
                    		});
                            //console.log('After AppJS load!!');
                      
            }else if(!FDX.TRACKING.executed && !FDX.APPBASE.isWebComponent){
            /*On back button page load when user does not click text field and there is track number entered already 
           	 in text field and hit Track
           	 */
           	// For Old  App 
                $.ajax({
                            context: FDX.TRACKING.loadTrackScripts()
                            }).done(function(data) {
                     		$.ajax({
                     			context: FDX.TRACKING.resultsPlaceholder.html(WTRK.homepageComponentLite.req.trackByTrackingNumberList(trackingnumber))

 							}).done(function(data) {
                                 if(FDX.CUBE) { 
                            			FDX.CUBE.openApp(); 
                         		}
                     			var trackInterval1 = setInterval (function() {
                                     if ($('.redesignSnapshotTVC .fxg-tracking-app__more-detail')[0] !== undefined) {
                                         clearInterval(trackInterval1);
                                         setTimeout(function() {
                                             if(FDX.CUBE) { 
                                                 FDX.CUBE.openApp();
                                             }
 										}, 50);
                                 	}
 								}, 100) ;
 							});
                             //console.log('After AppJS load!!');
                         });
             
            }else {
                //On page load when user first clicks on text field and hit Track
            	// for old app 
            	if(!FDX.APPBASE.isWebComponent){
            		
            		   $.ajax({
                           context: FDX.TRACKING.resultsPlaceholder.html(WTRK.homepageComponentLite.req.trackByTrackingNumberList(trackingnumber))
                           
                       }).done(function(data) {
                           if(FDX.CUBE) {
                              FDX.CUBE.openApp();

                           }
                           var trackInterval2 = setInterval (function() {
                                       if ($('.redesignSnapshotTVC .fxg-tracking-app__more-detail')[0] !== undefined) {
                                           clearInterval(trackInterval2);
                                           setTimeout(function() {
                                               if(FDX.CUBE) {
                                                   FDX.CUBE.openApp();
                                                   //FDX.CUBE.openApp();

                                               }
                                           }, 50);
                                       }
                            }, 100) ;

                   });
            		
            	}else{
            		// for new app
					if($(FDX.TRACKING.heroHomePagev1).length == 0) {

                        $(FDX.TRACKING.trackingAppV1).addClass(FDX.TRACKING.appActiveClass);
	                }					
            		if(FDX.CUBE) { 
                        FDX.CUBE.openApp();
                     }
            	}
         
       }
    	} else {
    		FDX.DTM.pushButtonInfo("","");
    	}
    },

    submitMulti : function() {
        //Stubbed function where app logic will go
        // 1) Make ajax request to get tracking results
        // 2) Parse response
        // 3) Populate FDX.TRACKING.resultsPlaceholder with content
		FDX.DATALAYER.track.trackInfo = [];
        var locale = FDX.SESSION.getLocale();
        var cc = FDX.SESSION.getCountryPath();
        var dataAnalytics = document.getElementById("dataAnalyticsTracking").value;
        var trackArray = [];
        $('#HomeMultiTrackingApp input[name^="trackingnumber"]').each(function() {
            if($(this).val() != '') {
                if (trackArray.indexOf($(this).val()) < 0 ) {
                	trackArray.push($(this).val());
                }
            }

        });

        //DTM track object update
        for (var i=0; i<trackArray.length; i++) {
            FDX.DATALAYER.trackData = {
                track:"",
                from: "",
                to: "",
                status: "",
                keyX:""
            };
            FDX.DATALAYER.trackData.track =trackArray[i];
            FDX.DATALAYER.track.trackInfo.push(FDX.DATALAYER.trackData);

        }
        FDX.DATALAYER.track.isSingleTrack = false;
        FDX.DATALAYER.track.trackQuantity = trackArray.length;
        FDX.DTM.pushButtonInfo(dataAnalytics,"newPage");

      
        if (trackArray.length > 1) {
        	if(!FDX.APPBASE.isWebComponent){
        		if (!FDX.TRACKING.executed) {
                    $.ajax({
                               context: FDX.TRACKING.loadTrackScripts()

                               }).done(function(data) {
    								WTRK.homepageComponentLite.req.trackByTrackingNumberList(trackArray);
                                //console.log('After AppJS load!!');
                            });
                } else {
            		WTRK.homepageComponentLite.req.trackByTrackingNumberList(trackArray);
                }	
        	}
        	
            
        } else if (trackArray.length == 1) {
            FDX.TRACKING.fromMultiTrack = true;
			FDX.TRACKING.singleTrackFromMulti = trackArray;
            FDX.TRACKING.submit();
        }
    },
		// CHANGE: VMLNAFEDEXW-676 Add form submit handler for LP Tracking Apps
    submitTrackByNumberSingleLandingPage : function(){
      //Stubbed function where app logic will go
      // 1) Make ajax request to get tracking results
      // 2) Parse response
      // 3) Populate FDX.TRACKING.resultsDataPlaceholderLandingPage with content
      // 4) Set See Full Details link with proper href

      var trackingnumberField = $('#LandingPageTrackByNumberSingleApp input[name="trackingnumber"]');
      var trackingnumber = trackingnumberField.val();
      var locale = FDX.SESSION.getLocale();
      var cc = FDX.SESSION.getCountryPath();
      
      if (trackingnumber !== '') {
       
        
        $('html').find('.' + FDX.TRACKING.state1LandingPageClass).addClass("fxg-tracking-app__submitted");
        
        // Per requirements (MPV1) authors should not be able to edit the bottom links on state 2. These are handled by FedEx IT in data response because they change based on status.
        // Get dummy response for testing layout
        $('html').find('.' + FDX.TRACKING.state2LandingPageClass).show();
        FDX.TRACKING.resultsDataPlaceholderLandingPage.html(FDX.TRACKING.MOCKDATA.status + FDX.TRACKING.MOCKDATA.watchlist + FDX.TRACKING.MOCKDATA.details + FDX.TRACKING.MOCKDATA.bottomLinks);
        $('html').find(FDX.TRACKING.seeFullDetailsLink).html(FDX.TRACKING.seeFullDetailsLinkText);
      }
    },    
    
    submitTrackByNumberMulitpleLandingPage : function() {
      //Stubbed function where app logic will go
      // 1) Make ajax request to get tracking results
      // 2) Parse response
      // 3) Console log input's values

      var locale = FDX.SESSION.getLocale();
      var cc = FDX.SESSION.getCountryPath();
      var trackArray = [];
      $('#LandingPageTrackByNumberMultipleApp input[name^="trackingnumber"]').each(function() {
          if($(this).val() != '') {
              trackArray.push($(this).val());
          }
      });
      if (trackArray.length > 0) {
       
      }
    },    
    
     showMultiTracking : function(){
        $('.' + FDX.TRACKING.multiTrackingClass).show();
        $('.' + FDX.TRACKING.singleTrackingClass).hide();
        FDX.APPBASE.loadAppData();
        FDX.APPBASE.loadAppBaseData();
        if(!FDX.APPBASE.isWebComponent){
        	  FDX.TRACKING.loadTrackScripts();
              if(FDX.CUBE)
                  FDX.CUBE.openApp();
        }
        if(FDX.APPBASE.isWebComponent){
        	FDX.TRACKING.loadWebComponent();
        	if(FDX.CUBE){FDX.CUBE.openApp();}
                
        }
      
     },
    // CHANGE: VMLNAFEDEXW-676 Add form submit handlers for LP Tracking Apps
    showMultiTrackingLandingPage : function(){
      $('.' + FDX.TRACKING.multiTrackingLandingPageClass).show();
      $('.' + FDX.TRACKING.singleTrackingLandingPageClass).hide();
     },
     
     submitTrackByReferenceLandingPage: function() {
       // Stubbed function where app logic will go
       // 1) Make ajax request to get tracking results
       // 2) Parse response
       // 3) Populate FDX.TRACKING.resultsPlaceholderLandingPage with content
       var trackArray = [];
       $('#LandingPageTrackByReferenceApp input').each(function() {
         if($(this).val() != '') {
           trackArray.push($(this).val());
         }
       });
       $('#LandingPageTrackByReferenceApp .dropdown li.active').each(function() {
         if($(this).data("value")) {
           trackArray.push($(this).data("value"));
         }
       });
       if (trackArray.length > 0) {
         
         FDX.TRACKING.resultsPlaceholderLandingPage.show();
         FDX.TRACKING.resultsPlaceholderLandingPage.html("Track By Reference - Search Results go here");
       }
     },
     
     submitProofOfDeliveryLandingPage: function() {
       // Stubbed function where app logic will go
       // 1) Make ajax request to get tracking results
       // 2) Parse response
       // 3) Populate FDX.TRACKING.resultsPlaceholderLandingPage with content
       var trackArray = [];
       $('#LandingProofOfDeliveryApp input').each(function() {
         if($(this).val() != '') {
           trackArray.push($(this).val());
         }
       });
       $('#LandingProofOfDeliveryApp .dropdown li.active').each(function() {
         if($(this).data("value")) {
           trackArray.push($(this).data("value"));
         }
       });
       if (trackArray.length > 0) {
         
         FDX.TRACKING.resultsPlaceholderLandingPage.show();
         FDX.TRACKING.resultsPlaceholderLandingPage.html("Proof of delivery - Search Results go here");
       }
     },
     
     submitViewBillOfLadingLandingPage: function() {
       // Stubbed function where app logic will go
       // 1) Make ajax request to get tracking results
       // 2) Parse response
       // 3) Populate FDX.TRACKING.resultsPlaceholderLandingPage with content
       var trackArray = [];
       $('#LandingViewBillOfLadingApp input').each(function() {
         if($(this).val() != '') {
             trackArray.push($(this).val());
         }
       });
       $('#LandingViewBillOfLadingApp .dropdown li.active').each(function() {
         if($(this).data("value")) {
           trackArray.push($(this).data("value"));
         }
       });
       if (trackArray.length > 0) {
         
         FDX.TRACKING.resultsPlaceholderLandingPage.show();
         FDX.TRACKING.resultsPlaceholderLandingPage.html("View Bill of Lading - Search Results go here");
       }
    },

     showSingleTracking : function(){
         $('html').find('.' + FDX.TRACKING.multiTrackingClass).hide();
         $('html').find('.' + FDX.TRACKING.singleTrackingClass).show();

         // Removed --open class to align the track button in default state always
         if (FDX.CUBE) {
             FDX.CUBE.closeApp();
         }

         //Return to top so that single is is in view.
         var singleOffset = $('html').find('.' + FDX.TRACKING.singleTrackingClass).offset().top - 75;
         if($('html').scrollTop() > singleOffset){
             $("html, body").animate({ scrollTop: singleOffset});
         }

         var singleTrackingInputField = $('#HomeTrackingApp div.fxg-field input.fxg-field__input-text');
         singleTrackingInputField.trigger('focus'); //focus tracking field on single track screen
     },
     
     showSingleTrackingLandingPage : function(){
       $('.' + FDX.TRACKING.multiTrackingLandingPageClass).hide();
       $('.' + FDX.TRACKING.singleTrackingLandingPageClass).show();

      //Return to top so that single is is in view.
      var singleOffset = $('.' + FDX.TRACKING.singleTrackingLandingPageClass).offset().top - 75;
      if($(window).scrollTop() > singleOffset)
          $("html, body").animate({ scrollTop: singleOffset});
     },

    getTrackingCookie : function () {
        var watchlistFlag = false;
        var cookieArray = [];

        var trackCookieList = document.cookie.split(';').filter(function(c) {
            
    		return c.trim().indexOf(FDX.TRACKING.trackCookieStartsWith) === 0;
		});
        if (trackCookieList.length > 0 && !FDX.APPBASE.isWebComponent) {
            setTimeout(function() {
            	FDX.TRACKING.loadTrackScripts();
            }, 200);

                trackCookieList.map(function(c) {
               
    
                var cookieVal = decodeURIComponent(c.trim());
                var cookieDateStamp = cookieVal.slice(cookieVal.indexOf('=')+1, cookieVal.length);
                watchlistFlag = cookieDateStamp.slice(cookieDateStamp.indexOf(':')+2, cookieDateStamp.lastIndexOf(':')-1);
    
    
                    //$(".fxg-tracking-app__links-par .link:nth-child(2)").css("display","inline");
               
                    cookieArray.push(watchlistFlag);
                    if (cookieArray.indexOf('true') !== -1) {
                        FDX.TRACKING.showHideViewWatchList(true);
                    } else {
                        FDX.TRACKING.showHideViewWatchList(false);
                    }
                });
        } else {
            FDX.TRACKING.showHideViewWatchList(watchlistFlag);
        }

    },

    showHideViewWatchList : function (watchFlag) {
    	var watchLink=$(".fxg-tracking-app__links-par .link:nth-child(2)");
    	if(watchLink.length === 0){
    		watchLink=$(".fxg-tracking-app__links-par .button_v1:nth-child(2)");
    	}
        if (!watchFlag) {
            $(watchLink).css("display","none");
        } else {
            $(watchLink).css("display","inline");
            if(!FDX.APPBASE.isWebComponent) {
                setTimeout(function() {
                    $(watchLink).on('click', WTRK.homepageComponentLite.req.viewWatchListShipments);
                }, 5000);
            }
        }

    },

	loadWebComponent : function () {
                    FDX.APPBASE.loadAppData();
                    FDX.APPBASE.loadAppBaseData();
                   

                    if (!FDX.TRACKING.executed) {
                        var scriptTag = [];
                        var webComponentDivId = document.getElementById("trk-module-div");
                    	if ((typeof (webComponentDivId) !== "undefined") && webComponentDivId !== null) {

                			try {

                				jQuery.ajax({
                					type : "GET",
                					url : "https://"+FDX.APPBASE.domainName+FDX.APPBASE.extAppHTML,
                					cache : false,
                					crossDomain : true,
                					success : function(result) {
                						try {
                							//console.log(result);
                							jQuery(webComponentDivId).html(result);
                							/*$.when(jQuery(webComponentDivId).html(result))
                									.then(function() {
                										setTimeout(function() {
                											FDX.CUBE.openApp();
                										}, 300);
                									});*/
                							} catch (e) {
                							console.error(e);
                						}
                					},

                				});
                			} catch (e) {
                				console.error(e);
                			}
                		}

                       FDX.TRACKING.executed = true;
                       }
        FDX.TRACKING.fromMultiTrack = false;
    },
    
    loadTrackScripts : function () {
        FDX.APPBASE.loadAppData();
        FDX.APPBASE.loadAppBaseData();

        if (!FDX.TRACKING.executed) {
            var scriptTag = [];
            for (var i=0; i<FDX.APPBASE.dependentScripts.length; i++) {
            var scriptID = 'dep'+[i];
            scriptTag[i] = document.createElement('script'); 
            scriptTag[i].src = '//'+FDX.APPBASE.domainName+FDX.APPBASE.dependentScripts[i];
            scriptTag[i].id = scriptID;
            scriptTag[i].async = true; 

            var headTag = document.getElementsByTagName('head')[0];
            headTag.appendChild(scriptTag[i]);
            }

            $.ajax({
                context:FDX.TRACKING.loadAppJS()
                 }).done(function(data) {
                
            });

				FDX.TRACKING.executed = true;
    }
FDX.TRACKING.fromMultiTrack = false;
},


	loadAppJS : function () {
        
                	if (FDX.APPBASE.appJSpath != null) {
                    	var scriptTag = document.createElement('script'); 
                        scriptTag.src = '//'+FDX.APPBASE.domainName+FDX.APPBASE.appJSpath;
                        scriptTag.async = true; 
                        var headTag = document.getElementsByTagName('head')[0];
                        headTag.appendChild(scriptTag);

                    }
    },

    // Loading the scripts for WTRK if user presses back button and track input has content
    browserBackJSload : function () {
        if($('#HomeTrackingApp input[name="trackingnumber"]').val() !== ''){
                setTimeout(function(){
                        $.ajax({
                               context: FDX.TRACKING.loadTrackScripts()
                                   }).done(function(data) {
                                    
                                });
               },300)
    
        }
    },
    
    resizeTrackContent : function () {
        console.warn('resizeTrackContent() is obsolete, and will be removed in future.');
    },
    
    
    showTrackState : function () {
        if (FDX.TRACKING.trackModuleViewState === "multi-track-state") {
		setTimeout(function(){
                        if(FDX.CUBE) {
                            $('html').find('.' + FDX.TRACKING.singleTrackingClass).hide();
                            $('html').find('.' + FDX.TRACKING.multiTrackingClass).show();
                            FDX.CUBE.openApp();
                        }
                    }, 1000)
        }
        if (FDX.TRACKING.trackModuleViewState === "results-state") {
		setTimeout(function(){
                        if(FDX.CUBE) {
                            FDX.TRACKING.resultsPlaceholder.html('<div style="background:#FAFAFA; border:1px solid #ccc; padding:120px 0; text-align: center; color:#007ab7;">Results Placeholder</div>');
                            $('html').find('.' + FDX.TRACKING.state1Class).hide();
                            $('html').find('.' + FDX.TRACKING.state2Class).show();
                            FDX.CUBE.openApp();
                        }
                    }, 1000);
        }
	}

};


$(document).ready(function() {

	document.addEventListener('readystatechange', function(ev) {
		if (document.readyState === 'complete') {
			//Moved below from page load to document ready for tracking web component
			if ((typeof(FDX) !== "undefined") && (FDX.SESSION.getCookie('wcmmode') === null) && ($(FDX.TRACKING.trackingAppV1).length > 0 || $(FDX.TRACKING.oldTrackingApp).length > 0)) {
				FDX.APPBASE.loadAppData();
				FDX.APPBASE.loadAppBaseData();
				if (!FDX.APPBASE.isWebComponent) {
					FDX.TRACKING.browserBackJSload();

				}
				FDX.TRACKING.getTrackingCookie();
			}
			var firstInputField = $('#HomeMultiTrackingApp div.row.fxg-form__row div.fxg-field.fxg-field--full input').filter(':first');
			var firstInputFieldAltTxt;
			firstInputField.on('focus', function() {
				var inputField = $(this);
				inputField.attr('aria-live', 'polite');
				firstInputFieldAltTxt = inputField.attr('aria-label');
				var ariaVal = firstInputFieldAltTxt + ' 1 Enter up to 30 FedEx tracking numbers';
				inputField.attr('aria-label', ariaVal);
			});

			firstInputField.on('keydown', function() {
				var inputField = $(this);
				inputField.removeAttr('aria-live');
			});

			firstInputField.on('focusout', function() {
				var inputField = $(this);
				inputField.attr('aria-label', firstInputFieldAltTxt);
			});

			if (document.getElementById("multipleTrackingNumberAltText") !== null &&
				document.getElementById("seeFullDetailsLinkText") !== null &&
				document.getElementById("trackModuleViewState") !== null) {
				FDX.TRACKING.multipleTrackingNumberAltText = document.getElementById("multipleTrackingNumberAltText").value;
				FDX.TRACKING.seeFullDetailsLinkText = document.getElementById("seeFullDetailsLinkText").value;
				FDX.TRACKING.trackModuleViewState = document.getElementById("trackModuleViewState").value;
				FDX.TRACKING.showTrackState();
			}


			//Stubbed submit on click
			$('#HomeTrackingApp').on('submit', function(e) {
				e.preventDefault();
				FDX.TRACKING.submit();
			});

			$('#HomeMultiTrackingApp').on('submit', function(e) {
				e.preventDefault();
				FDX.TRACKING.submitMulti();
			});
			// CHANGE: VMLNAFEDEXW-676 Add form submit listeners for LP Tracking Apps
			$('#LandingPageTrackByNumberSingleApp').on('submit', function(e) {
				e.preventDefault();
				FDX.TRACKING.submitTrackByNumberSingleLandingPage();
			});

			$('#LandingPageTrackByNumberMultipleApp').on('submit', function(e) {
				e.preventDefault();
				FDX.TRACKING.submitTrackByNumberMulitpleLandingPage();
			});

			$('#LandingPageTrackByTcnApp').on('submit', function(e) {
				e.preventDefault();
				var trackArray = [];
				$('#LandingPageTrackByTcnApp input').each(function() {
					if ($(this).val() != '') {
						trackArray.push($(this).val());
					}
				});
				if (trackArray.length === 2) {

					FDX.TRACKING.resultsPlaceholderLandingPage.show();
					FDX.TRACKING.resultsPlaceholderLandingPage.html("Track By TCN - Search Results go here");
				}
			});

			$('#LandingPageTrackByReferenceApp').on('submit', function(e) {
				e.preventDefault();
				FDX.TRACKING.submitTrackByReferenceLandingPage();
			});

			$('#LandingProofOfDeliveryApp').on('submit', function(e) {
				e.preventDefault();
				FDX.TRACKING.submitProofOfDeliveryLandingPage();
			});

			$('#LandingViewBillOfLadingApp').on('submit', function(e) {
				e.preventDefault();
				FDX.TRACKING.submitViewBillOfLadingLandingPage();
			});

			//On click of watch list 
			$('.' + FDX.TRACKING.watchListBtnClass).on('click', function(e) {
				e.preventDefault();
				$(this).toggleClass(FDX.TRACKING.watchListSelectedClass);
			});

			//Start initial load by hiding multi tracking
			$('.' + FDX.components.hero.heroClass + ' .' + FDX.TRACKING.multiTrackingClass).hide();
			if ($(FDX.TRACKING.heroHomePagev1).length == 0) {
				$('.' + FDX.TRACKING.multiTrackingClass).hide();
			}

			// CHANGE: VMLNAFEDEXW-676 Set multitracking initial state
			$('.' + FDX.TRACKING.multiTrackingLandingPageClass).hide();
			FDX.TRACKING.resultsPlaceholderLandingPage.hide();

			// CHANGE: VMLNAFEDEXW-676 Add tab-change listeners for LP Tracking Apps
			// clear results area on landing pages - tracking apps
			if (FDX.TABS) {
				$('.' + FDX.TABS.tabsNavClass + ' a').on('shown.bs.tab', function(e) {
					FDX.TRACKING.resultsPlaceholderLandingPage.empty();
					FDX.TRACKING.resultsPlaceholder.empty();
				});
			}
		}
	});
});

FDX.TRACKING.MOCKDATA = {
    status : '<div class="fxg-tracking-app__status"><span class="fxg-title fxg-tracking-app--status-color">Out for Delivery</span><span class="fxg-text" id="fxg-sub-status">Chicago, IL</span><img class="fxg-tracking-app__status-icon fxg-tracking-app__status-icon__label-created" src="/content/dam/fedex-com/common/sprite-placeholder.png"/></div>',
    watchlist : '<div class="fxg-tracking-app__watch-list"><span class="fxg-tracking-app__watch-list-btn"><svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" class="fxg-tracking-app__watch-icon"><g class="fxg-tracking-app__watch-icon"><g stroke="#09C"><path d="M3.8 14.6L4.6 10 4.6 9.7 4.4 9.5 1.1 6.3 5.7 5.6 6 5.5 6.1 5.3 8.1 1.1 10.2 5.3 10.3 5.5 10.6 5.6 15.2 6.3 11.9 9.5 11.7 9.7 11.7 10 12.5 14.6 8.4 12.4 8.1 12.3 7.9 12.4 3.8 14.6Z"/></g></g></svg>Add to Watch list</span></div>',
    details : '<div class="fxg-tracking-app__details"><div class="row"><div class="fxg-col col-sm-6"><span class="fxg-tracking-app__sub-title">From:</span><span class="fxg-tracking-app__detail-info" id="fxg-from-city">Los Angeles, CA</span></div><div class="fxg-col col-sm-6"><span class="fxg-tracking-app__sub-title">To:</span><span class="fxg-tracking-app__detail-info" id="fxg-to-city">Washington, DC</span></div></div> <div class="row"><div class="fxg-col col-sm-6"><span class="fxg-tracking-app__sub-title">SHIP DATE:</span><span class="fxg-tracking-app__detail-info" id="fxg-ship-date">Mon 03/03/2017</span> <span class="fxg-tracking-app__detail-info fxg-tracking-app__detail-info--time" id="fxg-ship-time">7:30 pm</span> <div class="fxg-help"><div class="fxg-help__title"> <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 3 15 15" class="fxg-icon"><style>.a{fill:#FFF;}</style><desc>  Created with Sketch.</desc><g fill="none"><path d="M15 10.5C15 14.6 11.6 18 7.5 18 3.4 18 0 14.6 0 10.5 0 6.4 3.4 3 7.5 3 11.6 3 15 6.4 15 10.5" fill="#09C"/><path d="M7.1 11.8L7.1 11.6C7.1 11.5 7.1 10.6 7.9 10.1 8.6 9.7 8.5 9 8.5 9L8.5 9C8.5 8.8 8.5 8 7.5 8 6.5 8 6.5 8.9 6.5 9L6.5 9C6.5 9.2 6.3 9.4 6.1 9.4 5.9 9.4 5.7 9.2 5.7 9L5.7 9C5.8 8.4 6.2 7.3 7.5 7.3 8.9 7.3 9.3 8.4 9.3 9 9.3 9.1 9.3 10.2 8.3 10.7 7.8 11 7.8 11.6 7.8 11.6L7.8 11.6 7.8 11.8 7.1 11.8Z" class="a"/><path d="M8 12.8C8 13.1 7.8 13.4 7.5 13.4 7.2 13.4 6.9 13.1 6.9 12.8 6.9 12.5 7.2 12.3 7.5 12.3 7.8 12.3 8 12.5 8 12.8" class="a"/></g></svg> Help</div> <div class="fxg-help__message">Ship date reflects date and time of origin time zone.<div class="fxg-help__message-close"> <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="250 30 19 19"><style>.a{stroke-width:2;}</style><desc>  Created with Sketch.</desc><g fill="none"><g stroke="#333333"><path d="M251.7 31.8L267.5 47.5" class="a"/><path d="M267.5 31.8L251.7 47.5" class="a"/></g></g></svg> </div></div></div></div><div class="fxg-col col-sm-6"><span class="fxg-tracking-app__sub-title">SCHEDULED DELIVERY:</span> <span class="fxg-tracking-app__detail-info" id="fxg-delivery-date">Wed 03/12/2017</span> <span class="fxg-tracking-app__detail-info fxg-tracking-app__detail-info--time" id="fxg-delivery-time">12:00pm - 2:00pm</span> <div class="fxg-help"> <div class="fxg-help__title"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 3 15 15" class="fxg-icon"><style>.a{fill:#FFF;}</style><desc>  Created with Sketch.</desc><g fill="none"><path d="M15 10.5C15 14.6 11.6 18 7.5 18 3.4 18 0 14.6 0 10.5 0 6.4 3.4 3 7.5 3 11.6 3 15 6.4 15 10.5" fill="#09C"/><path d="M7.1 11.8L7.1 11.6C7.1 11.5 7.1 10.6 7.9 10.1 8.6 9.7 8.5 9 8.5 9L8.5 9C8.5 8.8 8.5 8 7.5 8 6.5 8 6.5 8.9 6.5 9L6.5 9C6.5 9.2 6.3 9.4 6.1 9.4 5.9 9.4 5.7 9.2 5.7 9L5.7 9C5.8 8.4 6.2 7.3 7.5 7.3 8.9 7.3 9.3 8.4 9.3 9 9.3 9.1 9.3 10.2 8.3 10.7 7.8 11 7.8 11.6 7.8 11.6L7.8 11.6 7.8 11.8 7.1 11.8Z" class="a"/><path d="M8 12.8C8 13.1 7.8 13.4 7.5 13.4 7.2 13.4 6.9 13.1 6.9 12.8 6.9 12.5 7.2 12.3 7.5 12.3 7.8 12.3 8 12.5 8 12.8" class="a"/></g></svg> Help</div><div class="fxg-help__message">Ship date reflects date and time of origin time zone.<div class="fxg-help__message-close"><svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="250 30 19 19"><style>.a{stroke-width:2;}</style><desc>  Created with Sketch.</desc><g fill="none"><g stroke="#333333"><path d="M251.7 31.8L267.5 47.5" class="a"/><path d="M267.5 31.8L251.7 47.5" class="a"/></g></g></svg></div></div></div></div></div></div>',
    bottomLinks : '<div class="fxg-tracking-app__more"><div class="fxg-tracking-app__more-links"><div class="link"><a href="#" class="fxg-link fxg-link--blue">SCHEDULE DELIVERY</a></div><span class="fxg-link__separator fxg-mobile--hide"> | </span><div class="link"><a href="#" class="fxg-link fxg-link--blue">HOLD AT LOCATION</a></div><span class="fxg-link__separator fxg-mobile--hide"> | </span><div class="link"><a href="#" class="fxg-link fxg-link--blue">SET NOTIFICATION</a></div></div><div class="fxg-tracking-app__more-detail"><div class="link"><a href="#" class="fxg-link fxg-link--blue fxg-link--carrot" id="SeeFullTrackingDetailsLink">SEE FULL DETAILS</a></div> </div></div>'
};


/* This is the FedEx.com tabs component javascript file.
 The global FDX object must already be defined

 Author: quantrell.sanford@vml.com
 Created: 2017-05-01
 */
if (!FDX) {
    var FDX = {};
}

FDX.TABS = {
    tabsClass : "fxg-tabs",
    tabsNavClass : "nav-tabs",
	toggleNavClass : "nav-toggles",
    initialLoad: false,
    // returns the correct 'location' object
    getLocation: function() {
    	if ((typeof(FDX) !== "undefined") && (FDX.SESSION.getCookie('wcmmode') !== null)) {
    		// in EDIT mode, edit/read actions should be 
    		// performed over parent's location object
    		return window.parent.location;
    	}
    	return window.location;

    },
    // scrolls & select a tab if the current location
    // contains a valid hash
    focusTab: function() {
    	var location = FDX.TABS.getLocation(),
    		hash = location.hash;
    	if (hash && hash.length !== 0) {
    		hash = hash.split('?')[0];
    		var selector = 'a[role="tab"][href="' + hash + '"]';
    		if($(document).width() <= FDX.BREAKPOINTS.MobileMediaQuery){
    			selector = 'a[data-hash="' + hash + '"]';

    		}
    		var $element = $("html").find(selector);
    		if ($element.length) {
                FDX.TABS.initialLoad=true;
                $element.trigger("click");
    			var offset = $element.offset().top - 75;
    			$("html, body").animate({ scrollTop: offset});
    		}
    	}
    },
    
    setHashLocation: function(newHash) {
    	FDX.TABS.getLocation().hash = newHash;
    },
    showSelectedTab : function(){
        if($(document).width() <= FDX.BREAKPOINTS.MobileMediaQuery){
            var tabsDropDown=$('.'+ FDX.TABS.tabsClass + ' .'+ FDX.components.dropdown.bootstrapDropdownClass);
            var selectedTab=tabsDropDown.find("li.active a");
            $(selectedTab).each(function(e){
                $(this).closest("div").find(".dropdown-toggle").html($(this).html()+"<span class='fxg-icon'></span>");
              });
        }
    },
    removeActiveOnFirstTab : function(mq){
       if(mq.matches){
           if($('.fxg-tabs').hasClass('cmp-tabs')){
           $('.cmp-tabs.fxg-tabs').each(function(){
               if($(this).find('ul.cmp-tabs__tablist > li').length <= 2){
                   $('.nav-toggles .cmp-tabs__tab').on('click',function(){
                   $(this).parents('.toggle-view').siblings('.tab-content').find('#\\'+$(this).siblings('.active').attr('id')+'').removeClass('active');
             	  })
               }
           })
           }
       }
   },
   scrollToContent: function(elem){
	   	var offset = $(elem).offset().top - 75; 
  		$("html, body").animate({ scrollTop: offset});
   }
};

$(document).ready(function() {
    $('.'+ FDX.TABS.tabsClass + ' .'+ FDX.components.dropdown.bootstrapDropdownClass + ' a').on('click', function (e) {
        e.preventDefault();
        $('.'+ FDX.TABS.tabsNavClass +' a[href^="'+$(this).data('hash')+'"]').trigger('click');
		$('.'+ FDX.TABS.toggleNavClass +' a[href^="'+$(this).data('hash')+'"]').trigger('click');

        if($(document).width() <= FDX.BREAKPOINTS.MobileMediaQuery){
        	var ddItem = $('.'+ FDX.TABS.tabsClass + ' .'+ FDX.components.dropdown.bootstrapDropdownClass + ' a[data-hash="'+$(this).data('hash')+'"]');
        	$(ddItem).parent().siblings().removeClass('active');
        	$(ddItem).parent().addClass('active');
        	var active = $(ddItem).parent().parent().parent().find('.dropdown-toggle')
        	$(active).html($(this).html() + '<span class="fxg-icon"></span>');
        	if(!FDX.TABS.initialLoad){
                FDX.components.pods.destroyCarousel();
                FDX.components.pods.initCarousel();
            }else{
                FDX.TABS.initialLoad=false;
            }
        }
    });

    $('.'+ FDX.TABS.tabsNavClass +' a').on('click', function(e){
    	var activeTab = $(this).parents('.'+ FDX.TABS.tabsNavClass).siblings('.tab-content').children('.tab-pane.active');
        var videoControl = $(activeTab).find('button.vjs-play-control');
        $(videoControl).each(function(){
			if($(this).hasClass('vjs-playing')){
			$(this).trigger('click');
        }
		});
        e.preventDefault();
        FDX.TABS.setHashLocation($(this).attr('href'));
        if($(document).width() > FDX.BREAKPOINTS.MobileMediaQuery){
            var preTab = $($(this).closest('.'+ FDX.TABS.tabsNavClass).find('li.active a')).attr('href');
            $(preTab).fadeOut(500);
            $(this.hash).fadeIn(500);
        }
        
    });
	$('.'+ FDX.TABS.toggleNavClass +' a').on('click', function(e){
    	var activeTab = $(this).parents('.'+ FDX.TABS.toggleNavClass).siblings('.tab-content').children('.tab-pane.active');
        var videoControl = $(activeTab).find('button.vjs-play-control');
        $(videoControl).each(function(){
			if($(this).hasClass('vjs-playing')){
			$(this).trigger('click');
        }
		});
        e.preventDefault();
        FDX.TABS.setHashLocation($(this).attr('href'));
        if($(document).width() > FDX.BREAKPOINTS.MobileMediaQuery){
            var preTab = $($(this).closest('.'+ FDX.TABS.toggleNavClass).find('li.active a')).attr('href');
            $(preTab).fadeOut(500);
            $(this.hash).fadeIn(500);
        }
    });
	

    FDX.TABS.showSelectedTab();
    // set the focus on the correct tab
	FDX.TABS.focusTab();
	FDX.BREAKPOINTS.getMobileMediaQuery().addListener(FDX.TABS.removeActiveOnFirstTab);
});
/* This is the FedEx.com swipe javascript file.
 The global FDX object must already be defined
 Author: quantrell.sanford@vml.com
 Created: 2017-04-11
 */

 if (!FDX) {
    var FDX = {};
}

FDX.SWIPE = {
    instances : [],
    init : function(carousel, callback, options){
        if ($.fn.Swipe == undefined) {
            if( window.jQuery || window.Zepto ) {
                (function($) {
                    $.fn.Swipe = function(params) {
                        return this.each(function() {
                            $(this).data('Swipe', new Swipe($(this)[0], params));
                        });
                    }
                })( window.jQuery || window.Zepto );
            }
        }
        if(options){
            window.mySwipe = $(carousel).Swipe(options).data('Swipe');
        }else{
            window.mySwipe = $(carousel).Swipe({
                auto: 0,
                draggable: true,
                autoRestart: false,
                disableScroll: false,
                callback: function(index, element) {
                    if(callback)
                        callback(index, element);
                    if(typeof(FDX.OOYALA) !== 'undefined'){
                    if(FDX.OOYALA.players.length > 0){
                        FDX.components.carousel.instances[0].checkVideosInCarousel(element.parentNode, element.parentNode);
                 
                    }
                   } 
                }
            }).data('Swipe');
        }
        FDX.SWIPE.instances.push(window.mySwipe);
    },
    
    destroy : function(){
        $.each(FDX.SWIPE.instances, function(key, item) {
            item.kill();
        }); 
    }
};
/* This is the FedEx.com SenseAware Powered Google Map component javascript file.

 Author: troy.gottier.osv@fedex.com
 Created: 2018-03-27
 */
if (!FDX) {
	var FDX = {};
}

FDX.SENSEAWAREMAP = {
		
	mapContainersWrap : $(".fx-senseaware_map_container"),



	initFDX_SA_Map: function() {
		// if the component exists continue to build the map and all it's pins
		var mapContainers = FDX.SENSEAWAREMAP.mapContainersWrap.length > 0;
		if (mapContainers) {
			var mapContainer = FDX.SENSEAWAREMAP.mapContainersWrap.find(".fx-senseaware_map"),
				saData = FDX.SENSEAWAREMAP.mapContainersWrap.find(".fx-sa_data").text().trim(),
				maxHistoryDays = FDX.SENSEAWAREMAP.mapContainersWrap.find(".fx-sa_max_days").text(),
				locationsArray = [],
				currentLocation = FDX.SENSEAWAREMAP.mapContainersWrap.find(".fx-sa_current_loc"),
				deviceName = FDX.SENSEAWAREMAP.mapContainersWrap.find(".fx-sa_device_name").text(),
				startCenter = {
					lat: 35.0327266,
					lng: -89.7223417
				};// default location is FedEx WTC

			var map = new google.maps.Map(mapContainer[0], {
				// These could be made to be dynamically set via AEM dialog.
				// Not currently to keep dialog simple.
				center: startCenter,
				zoom: 6,
				mapTypeId: google.maps.MapTypeId.ROADMAP,
				panControl: true,
				zoomControl: true,
				mapTypeControl: true,
				mapTypeControlOptions: {
					position: google.maps.ControlPosition.TOP_RIGHT
				},
				scaleControl: true,
				streetViewControl: false,
				overviewMapControl: true,
				rotateControl: true
			});

			// Get data from the SenseAware Device. Data is in XML format
			$.get(saData, function(data) {
				var xmldoc = $("html").find(data).find("markers:first");
				var markerItems = xmldoc.children("marker");
				var dateCutoff = new Date();
				// Exclude the time component and subtract the day range
				dateCutoff = new Date(dateCutoff.getFullYear(), dateCutoff.getMonth(), dateCutoff.getDate() - maxHistoryDays);

				markerItems.each(function() {
					var latlng = new google.maps.LatLng(parseFloat($(this).attr("lat")), parseFloat($(this).attr("lng")));
					var date = $(this).attr("date");
					var type = $(this).attr("type");

					// SenseAware device gives tim ein zulu/GMT
					// date converted to local time instead of displaying zulu/GMT time
					var convert_date = new Date(date + ' UTC').toLocaleString("en-US", {
							year: 'numeric',
							month: 'numeric',
							day: 'numeric',
							hour: 'numeric',
							minute: 'numeric',
							localeMatcher: 'lookup'
						}),
						additionalPinInfo = "";

					// Add in additional info to the location of the device
					// User set device name, current address.
					if (type == "present") {
						var currentAddress = FDX.SENSEAWAREMAP.getCurrentLocation($(this).attr("lat"), $(this).attr("lng"));
						additionalPinInfo = deviceName + "</br>" + currentAddress + "</br>";
						// sets the current address in a area for screen readers to read when viewing the map
						currentLocation.html(currentAddress)
					}
					if (new Date(date) >= dateCutoff) FDX.SENSEAWAREMAP.createMarker(additionalPinInfo + convert_date, latlng, type, map);

				});
			}, "xml");

			FDX.SENSEAWAREMAP.buildLocationsArray(locationsArray);

			for (var i = 0, len = locationsArray.length; i < len; i++) {
				// [0] = pin info text, [1] = lat, [2] = lng
				FDX.SENSEAWAREMAP.createStaticMarker(locationsArray[i][0], locationsArray[i][1], locationsArray[i][2], map);
			}
		}
	},

	// ADA - reverse geocode the SenseAware Device to give City, State info for screen readers.
	getCurrentLocation: function(lat, lng) {
		var key = FDX.SENSEAWAREMAP.mapContainersWrap.data('google-api-key'), // FedEx Key
			googleUrl = "https://maps.googleapis.com/maps/api/geocode/json?key=" + key + "&latlng=" + lat + "," + lng + "&sensor=true",
			address;
		// Fetch Address from a lat/lng
		$.ajax({
			url: googleUrl,
			async: false,
			success: function(data) {
				// data.results[n]: n will give various values.
				// 0 will give a full address and is a little too specific and could be a privacy issue.
				// 1 gives City, State Zipcode Country.
				// visit the googleUrl and see more options.
				if(data.results.lenght > 0) {
					address = data.results[1].formatted_address;
				}
			},
			error: function() {}
		});
		return address;
	},

	// Creates Static Locations Markers
	createStaticMarker: function(pinInfo, latCoord, longCoord, map) {
		var latlng = new google.maps.LatLng(latCoord, longCoord);
		FDX.SENSEAWAREMAP.createMarker("<div style='color: #000000';>" + pinInfo + "</div>", latlng, "static", map);
	},

	buildLocationsArray: function(locationsArray) {
		var locations = FDX.SENSEAWAREMAP.mapContainersWrap.find(".fx-sa_location");

		$.each(locations, function() {
			var infoBlock = [],
				name = $(this).find(".fx-sa_location_name").text(),
				street = $(this).find(".fx-sa_street_address").text(),
				csz = $(this).find(".fx-sa_city_state_zip").text(),
				info = $(this).find(".fx-sa_additional_info").text(),
				lat = parseFloat($(this).find(".fx-sa_lat").text()),
				lng = parseFloat($(this).find(".fx-sa_lng").text()),
				formattedInfo;

			if (name) {
				infoBlock.push(name);
			}
			if (street) {
				infoBlock.push(street);
			}
			if (csz) {
				infoBlock.push(csz);
			}
			if (info) {
				infoBlock.push(info);
			}
			// location info formatted for the pin popup
			formattedInfo = infoBlock.join("</br>");

			// add locations to the locationsArray
			locationsArray.push([formattedInfo, lat, lng]);
		});
	},

	// Creates All Marker types
	createMarker: function(infoWindowContent, latlng, type, map) {
		var iconUrl = "";
		var zIndex = 1;
		var pastPin = FDX.SENSEAWAREMAP.mapContainersWrap.find(".fx-sa_past_pin").text();
		var staticPin = FDX.SENSEAWAREMAP.mapContainersWrap.find(".fx-sa_static_pin").text();
		var presentPin = FDX.SENSEAWAREMAP.mapContainersWrap.find(".fx-sa_present_pin").text();
		var infowindow;

		if (type == "past") {
			iconUrl = pastPin; // not user editable
			zIndex = 5;
		} else if (type == "present") {
			iconUrl = presentPin; // User editable
			zIndex = 100;
		} else if (type == "static") {
			iconUrl = staticPin; // not user editable
			zIndex = 6;
		}

		var marker = new google.maps.Marker({
			position: latlng,
			map: map,
			title: 'FedEx SenseAware Map Marker',
			icon: iconUrl,
			zIndex: zIndex
		});

		google.maps.event.addListener(marker, "click", function() {
			if (infowindow) infowindow.close();
			infowindow = new google.maps.InfoWindow({
				content: infoWindowContent
			});
			infowindow.open(map, marker);
		});

		// Re-center the map on the device's current location
		if (type == "present") map.setCenter(latlng);

		return marker;
	}

};

$(window).on('load', function() {
	// Make sure google maps api is loaded.
	if (typeof google === 'object' && typeof google.maps === 'object') {
		google.maps.event.addDomListener(window, 'load', FDX.SENSEAWAREMAP.initFDX_SA_Map());
	}
});
//To Limit the shortParsys within the wrapper
$(window).on('load',function(){
    $('.responsivegrid.shortParsysLayout').each(function(){
		$(this).wrap('<div class="fxg-wrapper"></div>');
    })
});
/* This is the FedEx.com tracking app component javascript file.
 The global FDX object must already be defined

 Author: quantrell.sanford@vml.com
 Created: 2017-05-01
 */
if (!FDX) {
    var FDX = {};
}

FDX.RATE_SHIP = {

    googleAPILoaded : false,
    rateAppLoaded : false,
    fromAddress:'',
    toAddress:'',
    localPath : '<base href='+window.location.pathname+'>',
    
    loadRateShipScripts : function () {

        //var googleAPIKey = document.getElementById("google-api-key").value;
        var def = $.Deferred();

        if (!FDX.RATE_SHIP.googleAPILoaded) {

                            var scriptTag = [];
                            for (var i=0; i<FDX.APPBASE.dependentScripts.length; i++) {
                            var scriptID = 'dep'+[i];
                            scriptTag[i] = document.createElement('script'); 
                            scriptTag[i].src = FDX.APPBASE.dependentScripts[i];  
                            scriptTag[i].id = scriptID;
                            scriptTag[i].async = true; 
    
                            var headTag = document.getElementsByTagName('head')[0];
                            headTag.appendChild(scriptTag[i]);
                            }
    
    

            def.resolve();
            FDX.RATE_SHIP.googleAPILoaded = true;
            // console.log("Google API executed!!");
    	}
        return def.promise();
    },
    
    loadRateShipApp : function () {
        //Steal for App Shell.
        if (FDX.RATE_SHIP.rateAppLoaded == false && jQuery("#magicRateShipApp").is(':visible')) {
            try {
            //jQuery.support = jQuery.support || {};
            //jQuery.support.cors = true;
            jQuery.ajax({
                        type: "GET",
                        url: FDX.APPBASE.extAppHTML,
                		cache : false,
    					crossDomain : true,

                        success: function(result) {
                            try {
                                jQuery("#magicRateShipApp").empty();
                                //Adding in head to fix the URL issue
                                //$("head").append(FDX.RATE_SHIP.localPath);
                                $.when(jQuery("#magicRateShipApp").append(result)).then(function(){
                                    if(result.indexOf("app-loading") != -1){
                                   			FDX.RATE_SHIP.checkLoadedOrNot();
                                    }else{
                                     setTimeout(function(){
                                                   FDX.RATE_SHIP.rateAppLoaded = true;
                                                 },300);
                                    }
                               });

                            } catch (e) {
                                //fdx_debug(e, "IM", "loadApp:success");
                            }
                        },

    		});
    	} catch (e) {
               //fdx_debug(e, "IM", "loadApp:success");
               }
    	}
     },
     checkLoadedOrNot:function (){
             var appLoaded =$(".app-loading");
           //  console.log("appLoaded"+appLoaded);
             if(appLoaded !=null && appLoaded !=undefined){
				var checkStatus=appLoaded.css("visibility");
                 // console.log("checkStatus"+checkStatus);
				if(checkStatus.length >0 && checkStatus =="hidden"){
                          // console.log("checkStatus1"+checkStatus);
                     setTimeout(function(){
                                     FDX.RATE_SHIP.rateAppLoaded = true;
                     },300);
				}else{
                    setTimeout(function(){
						FDX.RATE_SHIP.checkLoadedOrNot();
                        },100);
				}

             }else{
				 setTimeout(function(){
				FDX.RATE_SHIP.checkLoadedOrNot();
                        },100);
				}

         },

    resizePageContent : function () {
        console.warn('resizePageContent() is obsolete, and will be removed in future.');
    },
    
	externalAppInject : function() {

		var externalAppID = document.getElementById("app-external").value;
		var externalAppURL = document.getElementById("app-external-url").value;
		FDX.APPBASE.loadAppBaseData();
		
		if ((typeof (externalAppID) !== "undefined") && externalAppID !== null) {

			try {
				
				jQuery.ajax({
					type : "GET",
					url : FDX.APPBASE.extAppHTML,
					cache : false,
					crossDomain : true,

					success : function(result) {
						try {
							$.when(jQuery("#" + externalAppID).append(result))
									.then(function() {
										setTimeout(function() {
											FDX.CUBE.openApp();
										}, 300);
									});

						} catch (e) {
							// fdx_debug(e, "IM", "loadApp:success");
						}
					},

				});
			} catch (e) {
				console.error(e);
			}
		}

	}

};

$(document).ready(function(){});
/* This is the FedEx.com help component javascript file.
 The global FDX object must already be defined

 Author: quantrell.sanford@vml.com
 Created: 2017-09-03
 */

if (!FDX) {
    var FDX = {};
}

FDX.POPUP ={
    popupClass : '.fxg-link-popup',
    openPopup : function(href){
        window.open(href, 'fdxPopup', 'width=480, height=960, resizable=no' , true);
    }
};

$(document).ready(function(){
    //console.log('loading');
    $(FDX.POPUP.popupClass).on('click', function(e){
        e.preventDefault();
        FDX.POPUP.openPopup(this.href);
    });
});
if (!FDX) {
    var FDX = {};
}
FDX.NAVBAR = {
    componentClass: ".fxg-navbar__main",
    activeDropDown: "fxg-navbar__menu__item--is-active",
    parentClass: ".fxg-navbar__menu__item--has-submenu",
    kebabMenu: ".fxg-kebab__menu",
    activeKebabMenu: "fxg-navbar__menu__item-is-active",
    hideKebabMenu: "fxg-navbar__menu__item-is-hidden",
    mobBtnCls: ".fxg-navbar__toggle",
    mobKebabClas: ".fxg-navbar__menu--lined-root",
    showNavOnMob: "fxg-navbar__menu--lined-root-is-active",
    kebabIconCls: ".fxg-icon-mobile",
    navBarCls: ".navbar",
    expFrgCls: ".experiencefragment",
    backArrowCls: ".fxg-navbar__back-arrow",
    toggleDropDown: function(e){
        var subMenu = e.closest(FDX.NAVBAR.parentClass);
        if($(subMenu).hasClass(FDX.NAVBAR.activeDropDown)){
            FDX.NAVBAR.mobileIconToggle(".plusIcon",".minusIcon");
            $(subMenu).removeClass(FDX.NAVBAR.activeDropDown);
        } else {
            FDX.NAVBAR.closeDropDown();
            $(subMenu).addClass(FDX.NAVBAR.activeDropDown);
            FDX.NAVBAR.mobileIconToggle(".minusIcon",".plusIcon");
        }
    },
    closeDropDown: function(){
        $(FDX.NAVBAR.parentClass).each(function(){
            $(FDX.NAVBAR.parentClass).hasClass(FDX.NAVBAR.activeDropDown) ? $(FDX.NAVBAR.parentClass).removeClass(FDX.NAVBAR.activeDropDown) : "";
            FDX.NAVBAR.mobileIconToggle(".minusIcon",".plusIcon");
        });
    },
    toggleKebabMenu: function(){
        if($(FDX.NAVBAR.kebabMenu).hasClass(FDX.NAVBAR.activeKebabMenu)){
            $(FDX.NAVBAR.kebabMenu).removeClass(FDX.NAVBAR.activeKebabMenu);
            $(FDX.NAVBAR.kebabMenu).addClass(FDX.NAVBAR.hideKebabMenu);
        } else{
            $(FDX.NAVBAR.kebabMenu).removeClass(FDX.NAVBAR.hideKebabMenu)
            $(FDX.NAVBAR.kebabMenu).addClass(FDX.NAVBAR.activeKebabMenu);
        }
    },
    closeKebabMenu: function(){
        if($(FDX.NAVBAR.kebabMenu) && $(FDX.NAVBAR.kebabMenu).hasClass(FDX.NAVBAR.activeKebabMenu)){
            $(FDX.NAVBAR.kebabMenu).removeClass(FDX.NAVBAR.activeKebabMenu);
            $(FDX.NAVBAR.kebabMenu).addClass(FDX.NAVBAR.hideKebabMenu);
        }
    },
    toggleOnSmallDevices: function(){
        $(FDX.NAVBAR.kebabIconCls).attr("style") ? $(FDX.NAVBAR.kebabIconCls).removeAttr("style") : $(FDX.NAVBAR.kebabIconCls).attr("style","background: #fafafa");
        $(FDX.NAVBAR.mobKebabClas).hasClass(FDX.NAVBAR.showNavOnMob) ? $(FDX.NAVBAR.mobKebabClas).removeClass(FDX.NAVBAR.showNavOnMob) : $(FDX.NAVBAR.mobKebabClas).addClass(FDX.NAVBAR.showNavOnMob);
    },
    mobileIconToggle: function(showIcon, hideIcon){
		if($(document).width() <= FDX.BREAKPOINTS.TabletMediaQuery) {
            var inactiveDropDown = $("."+FDX.NAVBAR.showNavOnMob + " > li").not("."+FDX.NAVBAR.activeDropDown);
            $(inactiveDropDown).find(".minusIcon").hide();
            $(inactiveDropDown).find(".plusIcon").show();
            $("."+FDX.NAVBAR.activeDropDown+" "+showIcon).show();
        	$("."+FDX.NAVBAR.activeDropDown+" "+hideIcon).hide();
        }
    },
    repositionNavBar: function(component){
        if($(".breadcrumbs_v1").length > 0){
            component.insertAfter($(".breadcrumbs_v1"));
        } else if ($(".cmp-experiencefragment--header").length > 0) {
            component.insertAfter($(".page .HFexperiencefragment"));
        }
    },
    customizeDisplay: function(){
        var currentPageLink = $(".fxg-navbar__menu__item a[href='"+window.location.href+"']");
        $.each(currentPageLink, function(i) {
            currentPageLink[i].style.fontWeight='bold';
        });

        if(window.location.href != $(FDX.NAVBAR.backArrowCls).attr("href")){
            $(FDX.NAVBAR.backArrowCls).show();
        }  else {
            $(FDX.NAVBAR.backArrowCls).hide();
        }
    }
};
$(document).click(function(e) {
    if(FDX.NAVBAR.componentClass){
        if($(FDX.NAVBAR.parentClass).has(e.target).length){
            FDX.NAVBAR.closeKebabMenu();
            FDX.NAVBAR.toggleDropDown(e.target);
        } else if($(FDX.NAVBAR.kebabMenu).has(e.target).length) {
            FDX.NAVBAR.closeDropDown();
            FDX.NAVBAR.toggleKebabMenu();
        } else if($(FDX.NAVBAR.mobBtnCls).has(e.target).length && $(document).width() <= FDX.BREAKPOINTS.TabletMediaQuery) {
            FDX.NAVBAR.toggleOnSmallDevices();
        } else {
            FDX.NAVBAR.closeDropDown();
            FDX.NAVBAR.closeKebabMenu();
        }
        if($(document).width() <= FDX.BREAKPOINTS.TabletMediaQuery) {
            if(!$(FDX.NAVBAR.componentClass).has(e.target).length) {
                $(FDX.NAVBAR.mobKebabClas).hasClass(FDX.NAVBAR.showNavOnMob) ?
                $(FDX.NAVBAR.mobKebabClas).removeClass(FDX.NAVBAR.showNavOnMob) : "";
            }
        }
    }
    $(".fxg-navbar__menu").find("a").each(function(){
		if(window.location.pathname == $(this).attr("href").split("?")[0] || $(this).attr("href") == "#")
			$(this).css("font-weight","500");
	});
});
$(window).on("load resize", function(e) {
    if($(FDX.NAVBAR.navBarCls).find("nav").data("position") == 'top'){
        if($(FDX.NAVBAR.navBarCls).closest($(FDX.NAVBAR.expFrgCls)).length > 0){
            FDX.NAVBAR.repositionNavBar($(FDX.NAVBAR.navBarCls).closest($(FDX.NAVBAR.expFrgCls)));
        } else if ($(FDX.NAVBAR.navBarCls).length > 0) {
            FDX.NAVBAR.repositionNavBar($(FDX.NAVBAR.navBarCls));
        }
    }
    FDX.NAVBAR.customizeDisplay();
});
if (!FDX) {
	var FDX = {};
}

FDX.CLIENTLOGIN = {

	authCallResult: "",
	accessToken: "",
	tokenType: "",
	expiresIn: "",
	grantType: "",
	loginData: "",
	userInfo: "",
	userLogout: "",
	logoutCheck: "",
	loginCheck: "",
	adminUrl: "",
	altUrl: "",
	mBoxId: "",
	url: "",
	loginData2: "",
	fclaPagePath: "",
	defaultAccount: "",
	wifmUrlPath: "",
	magsUrlPath: "",
	clientId: "",
	isSecure: false,
	cookiePresent: false,
	getAPIConfigPath: "/mnt/acs-commons/lists/fedex-api-gateway-configs/oauthconfigs.json",
	rewardsUrl: "getrewards.fedex.com",
	rewardsUATUrl: "getrewardstest.fedex.com",
	fname: "",
	lname: "",

	setSecureClientId: function(secureCall) {
		FDX.CLIENTLOGIN.isSecure = secureCall;
	},

	setPaths: function(wifm, mags, mbId, fclPage, clientID) {
		FDX.CLIENTLOGIN.wifmUrlPath = wifm;
		FDX.CLIENTLOGIN.magsUrlPath = mags;
		FDX.CLIENTLOGIN.mBoxId = mbId;
		FDX.CLIENTLOGIN.fclaPagePath = fclPage;
		FDX.CLIENTLOGIN.clientId = clientID;

	},
	getOAuthToken: function() {
		//Passing parameters in URL for IE issue, suggested by APIG
		$.ajax({
			type: 'POST',
			url: 'https://' + FDX.SESSION.apiURL + '/auth/oauth/v2/token?' + 'grant_type=' + FDX.SESSION.grantType + '&client_id=' + FDX.SESSION.clientID ,
			xhrFields: {
				withCredentials: true
			},
			headers: {
				'Content-Type': 'application/x-www-form-urlencoded'
			},

			/*data: {
			    'client_id': FDX.SESSION.clientID,
			    'client_secret': FDX.SESSION.clientSecret,
			    'grant_type': FDX.SESSION.grantType
			},*/

			success: function(msg) {
				FDX.CLIENTLOGIN.authCallResult = msg;
				// console.log("******The success result =" + msg);
				var tokenExpireTime = new Date();
				tokenExpireTime.setSeconds(new Date()
					.getSeconds() + 3600);
				// console.log("TokenExpireTime :"+tokenExpireTime);

				var loginData = {
					token: FDX.CLIENTLOGIN.authCallResult.access_token,
					tokenExpireTime: tokenExpireTime
				};

				sessionStorage.setItem("loginDataStorage", JSON.stringify(loginData));
				// console.log("logout check *** :"+FDX.CLIENTLOGIN.logoutCheck);
				// console.log("login check *** :"+FDX.CLIENTLOGIN.loginCheck);
				var userLoggedInDetails = JSON.parse(sessionStorage.getItem("userLoggedIn"));
				if (FDX.DATALAYER.page.pageInfo.useForgeRockCookie != 'true') {
				    FDX.CLIENTLOGIN.cookieCheck = document.cookie.indexOf("fdx_login") <= 0;    
				} else {
				    FDX.CLIENTLOGIN.cookieCheck = userLoggedInDetails != null ? (userLoggedInDetails.forgerockvalidated != true) : false;
				}
				
				if (!FDX.CLIENTLOGIN.logoutCheck && !FDX.CLIENTLOGIN.loginCheck) {
					
					//FDX.CLIENTLOGIN.doAPIisLoggedIn();
					if (localStorage.getItem("userLoggedInFlag") != 'true' || (userLoggedInDetails == null || userLoggedInDetails.output.userLoggedIn == false)
							|| FDX.CLIENTLOGIN.cookieCheck) {
							FDX.CLIENTLOGIN.doAPIisLoggedIn();
						
					} else {
						FDX.CLIENTLOGIN.doGetUserInfoDetails();
					}
				}
			},
			error: function(request, status, error) {
				console.log('Error in OAuth call : ', error);
			}
		});
	},

	doAPILogin: function(formData) {

		var userData = '{"userName":"","password":""}';
		var jsonData = JSON.parse(userData);
		jsonData.userName = formData.user;
		jsonData.password = formData.pwd;
		userData = JSON.stringify(jsonData);
		var jsonData = JSON.parse(userData);
		if (sessionStorage.getItem("loginDataStorage") == null) {
			FDX.CLIENTLOGIN.getOAuthToken();
		}
		var parsedObject = JSON.parse(sessionStorage.getItem("loginDataStorage"));
		var tokenExpireTime = new Date(Date.parse(parsedObject.tokenExpireTime));

		if (Date.now() > tokenExpireTime.getTime()) {
			// console.log("***login inside condition check");
			FDX.CLIENTLOGIN.loginCheck = true;
			FDX.CLIENTLOGIN.getOAuthToken();
		}

		var parsedObjectToken = parsedObject.token != undefined ? parsedObject.token : parsedObject.access_token;

		$.ajax({
			type: 'POST',
			url: 'https://' + FDX.SESSION.apiURL + '/user/v2/login/validate',
			xhrFields: {
				withCredentials: true
			},
			headers: {
				'Accept': 'application/json',
				'Content-Type': 'application/json',
				'Authorization': 'Bearer ' + parsedObjectToken,
				'X-locale': 'en_US',
				'X-loggedin': 'true',
				'X-version': '1.0',
				'X-clientid': 'WCDO'
			},
			data: userData,
			dataType: 'json',

			success: function(msg, status, xhr) {
				FDX.CLIENTLOGIN.loginData = msg;

				// console.log("The success result =" + msg);
				if (typeof(FDX.CLIENTLOGIN.loginData.output.loginCookieOutputVO) !== undefined && FDX.CLIENTLOGIN.loginData.output.loginCookieOutputVO.uuidCookie !== null) {
					$.ajax({
						type: 'GET',
						url: 'https://' + FDX.SESSION.apiURL + '/user/v2/users/userinfo',
						xhrFields: {
							withCredentials: true
						},
						headers: {
							'Accept': 'application/json',
							'Content-Type': 'application/json',
							'Authorization': 'Bearer ' + parsedObject.token,
							'X-locale': 'en_US',
							'X-loggedin': 'true',
							'X-version': '1.0',
							'X-clientid': 'WCDO'
						},
						//data : userData,
						//dataType:'json',

						success: function(msg, textStatus, xhr) {
							FDX.CLIENTLOGIN.userInfo = msg;
							// console.log("The success result =" + msg);

							if (xhr.status == 200 && typeof(FDX.CLIENTLOGIN.userInfo.output) !== 'undefined') {
								FDX.CLIENTLOGIN.userDetails = FDX.CLIENTLOGIN.userInfo.output;
								FDX.CLIENTLOGIN.loginSuccess = true;

								//Profile update
								var data = FDX.CLIENTLOGIN.userDetails;
								if (typeof(data.userProfile) !== 'undefined') {
									// The login is Successful so we need to trigger loggedIn event for anyone listening
									if (data.userProfile) {
										$("#global-login-wrapper")
											.trigger("loggedIn", {
												"contactName": data.userProfile.userProfileAddress.contact.personName.firstName + " " + data.userProfile.userProfileAddress.contact.personName.lastName,
												"userProfile": data.userProfile
											});
										FDX.SESSION.setUserModel(data.userProfile);
									} else {
										$("#global-login-wrapper")
											.trigger("loggedIn", {
												"contactName": data.userProfile.userProfileAddress.contact.personName.firstName + " " + data.userProfile.userProfileAddress.contact.personName.lastName,
												"userProfile": null
											});
									}
									FDX.SESSION.setAuthenticated(true); // <--- change this to true if login passed
									FDX.components.utilitynav.showContactName();
									FDX.components.button.showHideAuthenticatedButton();
									FDX.components.pods.showHideAuthenticatedPods();
									FDX.components.secureContainer.hideContainer();
									FDX.components.utilitynav.showAuthenticatedState();
									FDX.components.dropdown.closeAllDropdowns();
									FDX.SESSION.setUserRewards();
									FDX.components.utilitynav.toggleRewardPointsLink();
									FDX.components.button.showHideLockIcon();
									FDX.components.featuredoffer.showHideAuthenticatedFeaturedOffer();


									//Deleting secret question and street address.
									//Set-up local storage for user profile, for rewards and other apps (VA etc..)
									delete FDX.CLIENTLOGIN.userDetails.userProfile.loginInformation.secretQuestion;
									delete FDX.CLIENTLOGIN.userDetails.userProfile.userProfileAddress.address.streetLines;
									delete FDX.CLIENTLOGIN.userDetails.userProfile.userProfileAddress.contactAncillaryDetail;
									sessionStorage.setItem('userDetails', JSON.stringify(FDX.CLIENTLOGIN.userDetails));

									//Temp variable to fix SHF session storage clear isssue, SHF will watch this flag.
									localStorage.setItem('userLoggedInFlag', true);

									const edata = {
										userProfile: data.userProfile,
										UUID: FDX.SESSION.getUUID()
									};
									// Setup and Send an event for LogIn
									var tmpDate = new Date()
									const eventData = {
										eventData: edata,
										eventAction: "Header Login",
										type: "authentication",
										effect: "Change Authenticated State to Logged In",
										timestamp: tmpDate.toUTCString()
									}
									FDX.DATALAYER.event.push(eventData);
									if (FDX.LOGIN.loginResourceElement !== '' && FDX.LOGIN.loginResourceType !== '' && !FDX.CLIENTLOGIN.isSecure) {
										try {
											//eval(FDX.LOGIN.loginResourceFun);
											var $element = FDX.LOGIN.loginResourceElement;
											if (FDX.LOGIN.loginResourceType === 'OPEN') {
												var url = $element.attr("href") || '';
												var target = $element.attr("target") || '';
												window.open(url, target, '', true);
											} else if (FDX.LOGIN.loginResourceType === 'SUBMIT') {
												$element[0].submit()
											}
										} catch (e) {}
										FDX.LOGIN.loginResourceFun = "";
									}
									if (document.cookie.indexOf("fdx_memberType") == -1 && FDX.DATALAYER.page.pageInfo.enableRewards === 'true') {
										if (typeof(FDX.SESSION.rewardsAPIGEnabled) != 'undefined' && FDX.SESSION.rewardsAPIGEnabled === 'true') {
											FDX.MFXR_APIG.getMFXRProfileToken();
										}
									}
									if (typeof(FDX.SECUREPAGECHECK) !== "undefined" && sessionStorage.getItem("redirectURL") !== null && sessionStorage.getItem("securePageRequest") == 'true') {
										window.open(encodeURI(sessionStorage.getItem("redirectURL")), "_self");
										FDX.SECUREPAGECHECK.clearSessionStorage();
									}
								} else {
									// If failed
									// Reset error message.
									if (data.errorList && data.errorList[0].error && data.errorList[0].error.message) {
										FDX.LOGIN.loginFailedMessage = data.errorList[0].error.message;
									} else {
										FDX.LOGIN.loginFailedMessage = "Sorry. Something went wrong. Please re-enter your user name and password to try again.";
									}
									FDX.LOGIN.showErrorMessage();
									FDX.SESSION.setAuthenticated(false); // <--- change this to true if login passed
								}
							} else {
								FDX.LOGIN.loginFailedMessage = "Sorry. Something went wrong. Please re-enter your user name and password to try again.";
								FDX.LOGIN.showErrorMessage();
								FDX.SESSION.setAuthenticated(false); // <--- change this to true if login passed
							}

						},
						error: function(response, status, error) {
							//console.log(error);
							if (response.responseJSON != null && response.responseJSON.errors && response.responseJSON.errors.length > 0 &&
								response.responseJSON.errors[0].message) {
								FDX.LOGIN.loginFailedMessage = decodeURIComponent(escape(response.responseJSON.errors[0].message));
							} else {
								FDX.LOGIN.loginFailedMessage = "Sorry. Something went wrong. Please re-enter your user name and password to try again.";
							}
							FDX.LOGIN.showErrorMessage();
							FDX.SESSION.setAuthenticated(false);
						}
					});

				}
				//def.resolve();
			},
			error: function(response, status, error) {
				// console.log(error);
				if (response.responseJSON != null && response.responseJSON.errors && response.responseJSON.errors.length > 0 &&
					response.responseJSON.errors[0].message) {
					FDX.LOGIN.loginFailedMessage = decodeURIComponent(escape(response.responseJSON.errors[0].message));
				} else {
					FDX.LOGIN.loginFailedMessage = "Sorry. Something went wrong. Please re-enter your user name and password to try again.";
				}
				FDX.LOGIN.showErrorMessage();
				FDX.SESSION.setAuthenticated(false);
			}
		});
		//return;
	},

	doAPIgetUserInfo: function() {

		var parsedObject = JSON.parse(sessionStorage.getItem("loginDataStorage"));
		var parsedObjectToken = parsedObject.token != undefined ? parsedObject.token : parsedObject.access_token;

		$.ajax({
			type: 'GET',
			url: 'https://' + FDX.SESSION.apiURL + '/user/v2/users/userinfo',
			xhrFields: {
				withCredentials: true
			},
			headers: {
				'Accept': 'application/json',
				'Content-Type': 'application/json',
				'Authorization': 'Bearer ' + parsedObjectToken,
				'X-locale': 'en_US',
				'X-loggedin': 'true',
				'X-version': '1.0',
				'X-clientid': 'WCDO'
			},
			//data : userData,
			//dataType:'json',

			success: function(msg) {
				FDX.CLIENTLOGIN.userInfo = msg;
				// console.log("The success result =" + msg);
			},
			error: function(request, status, error) {
				// console.log(error);
			}
		});
	},

	doAPILogout: function() {
		var logoutRequest = '{"LogOutRequest":{"processingParameters":{"anonymousTransaction":false,"clientId":"WCDO","clientVersion":"1","returnDetailedErrors":true,"returnLocalizedDateTime":false}}}';
		if (sessionStorage.getItem("loginDataStorage") == null) {
			FDX.CLIENTLOGIN.getOAuthToken();
		}

		var parsedObject = JSON.parse(sessionStorage.getItem("loginDataStorage"));
		var tokenExpireTime = new Date(Date.parse(parsedObject.tokenExpireTime));
		var iswlgn = $("#wlgn-secure-link").val();
		if (Date.now() > tokenExpireTime.getTime()) {
			// console.log("***Logout inside condition check");
			FDX.CLIENTLOGIN.logoutCheck = true;
			FDX.CLIENTLOGIN.getOAuthToken();
		}
		// console.log("***Logout");
		var parsedObjectToken = parsedObject.token != undefined ? parsedObject.token : parsedObject.access_token;

		$.ajax({
			type: 'PUT',
			url: 'https://' + FDX.SESSION.apiURL + '/user/v2/logout',
			headers: {
				'Accept': 'application/json',
				'Content-Type': 'application/json',
				'Authorization': 'Bearer ' + parsedObjectToken,
			},
			xhrFields: {
				withCredentials: true
			},
			data: logoutRequest,
			dataType: 'json',

			success: function(msg) {
				FDX.CLIENTLOGIN.userLogout = msg;
				FDX.CLIENTLOGIN.userLogout = msg;
				// console.log("The success result =" + msg);
				var memberType = FDX.SESSION.getRewardTypeCookie();
				if (typeof(memberType) !== undefined && memberType !== null) {
					FDX.CLIENTLOGIN.rewardsLogout();
				}
				$("#global-login-wrapper")
					.trigger("loggedOut", {});
				FDX.SESSION.destroyLogedInState();
				FDX.CLIENTLOGIN.fname = "";
				FDX.CLIENTLOGIN.lname = "";
				FDX.CLIENTLOGIN.cookiePresent = false;
				FDX.CLIENTLOGIN.userDetails = undefined;

				FDX.SESSION.setAuthenticated(false);
				FDX.SESSION.setTargetRedirectAuth(false);
				FDX.components.button.showHideAuthenticatedButton();
				FDX.components.pods.showHideAuthenticatedPods();
				//sessionStorage.removeItem("userAuthenticated");
				FDX.components.secureContainer.hideContainer();
				FDX.components.featuredoffer.showHideAuthenticatedFeaturedOffer();


				localStorage.removeItem("targetUserAuthenticated");
				localStorage.removeItem("magsUserCheck");
				FDX.components.button.showHideLockIcon();

				if (typeof(FDX.SECUREPAGECHECK) !== "undefined" && typeof(FDX.LOGINCHECK) !== "undefined") {
					FDX.LOGINCHECK.userAuthenticated = false;
					FDX.SECUREPAGECHECK.clearSessionStorage();
					if (FDX.DATALAYER.page.pageInfo.securePage === "true") {
						window.open(FDX.SECUREPAGECHECK.getHomePage(), "_self");
					}
				}
				FDX.components.utilitynav.hideContactName();
				if (iswlgn === "true") {
					FDX.components.utilitynav.showWlgnState();
				} else {
					FDX.components.utilitynav.showUnAuthenticatedState();
				}

				FDX.components.dropdown.closeAllDropdowns();
				//sessionStorage.removeItem("userAuthenticated");
				//localStorage.removeItem("loginDataStorage");

				function clearListCookies() {
					var cookies = document.cookie.split(";");
					for (var i = 0; i < cookies.length; i++) {
						var spcook = cookies[i].split("=");
						deleteCookie(spcook[0]);
					}

					function deleteCookie(cookiename) {
						var d = new Date();
						d.setDate(d.getDate() - 1);
						var expires = ";expires=" + d;
						var name = cookiename;

						var value = "";
						document.cookie = name + "=" + value + expires + "; path=/acc/html";
					}
					window.location = ""; // TO REFRESH THE PAGE
				}

				// Setup and Send an event for LogIn
				var tmpDate = new Date()
				const uuid = {
					userProfile: undefined,
					UUID: FDX.SESSION.getUUID()
				}
				const eventData = {
					eventData: uuid,
					eventAction: "Header LogOut",
					type: "authentication",
					effect: "Change Authenticated State to Logged Out",
					timestamp: tmpDate.toUTCString()
				}
				FDX.DATALAYER.event.push(eventData);

			},
			error: function(request, status, error) {
				FDX.SESSION.setAuthenticated(false);
				FDX.SESSION.setTargetRedirectAuth(false);
				FDX.SESSION.setUserModel(null);
				FDX.SESSION.userAuthenticated = false;
				FDX.SESSION.destroyLogedInState();
				var tmpDate = new Date()
				const uuid = {
					userProfile: undefined,
					UUID: FDX.SESSION.getUUID()
				}
				const eventData = {
					eventData: uuid,
					eventAction: "Header LogOut",
					type: "authentication",
					effect: "Indication anonymous state notification on logout",
					timestamp: tmpDate.toUTCString()
				}
				FDX.DATALAYER.event.push(eventData);

				//Logout redirect for secured pages and logged in homepage
				if (typeof(FDX.SECUREPAGECHECK) !== "undefined" && typeof(FDX.LOGINCHECK) !== "undefined") {
					FDX.LOGINCHECK.userAuthenticated = false;
					FDX.SECUREPAGECHECK.clearSessionStorage();
					if (FDX.DATALAYER.page.pageInfo.securePage === "true") {
						window.open(FDX.SECUREPAGECHECK.getHomePage(), "_self");
					}
				}
			}
		});
	},

	doAPIisLoggedIn: function() {
		// console.log("*** caling doAPIisLoggedIn");
		var isLoggedInAPI = '/user/v2/login';
		var forgeRockValidateAPI = '/user/v4/login/validate';
		var timeoutMinutes = FDX.SESSION.sessionTimeout != undefined ? FDX.SESSION.sessionTimeout : 30;
		var endPoint = FDX.DATALAYER.page.pageInfo.useForgeRockCookie == 'true' ? forgeRockValidateAPI : isLoggedInAPI;

		var parsedObject = JSON.parse(sessionStorage.getItem("loginDataStorage"));
		var parsedObjectToken = parsedObject.token != undefined ? parsedObject.token : parsedObject.access_token;


		$.ajax({
			type: 'GET',
			url: 'https://' + FDX.SESSION.apiURL + endPoint,
			xhrFields: {
				withCredentials: true
			},

			cache: false,
			headers: {

				'Accept': 'application/json',
				'Content-Type': 'application/json',
				'Authorization': 'Bearer ' + parsedObjectToken,
				'X-locale': 'en_US',
				'X-loggedin': 'true',
				'X-version': '1.0',
				'X-clientid': 'WCDO'

			},

			success: function(msg) {
				FDX.CLIENTLOGIN.isLoggedInResponse = msg;
				var timestamp = new Date();
				timestamp.setMinutes(timestamp.getMinutes() + Number(timeoutMinutes));
				msg["timestamp"] = timestamp;
				
				//Setting variable for forgerock
				if (FDX.DATALAYER.page.pageInfo.useForgeRockCookie == 'true') {
					msg["forgerockvalidated"] = true;
				}
				
				FDX.CLIENTLOGIN.userLoggedIn = FDX.CLIENTLOGIN.isLoggedInResponse.output.userLoggedIn;
				sessionStorage.setItem("userLoggedIn", JSON.stringify(msg));
				//  console.log("The success user is logged in =" + FDX.CLIENTLOGIN.userLoggedIn);
				//FDX.CLIENTLOGIN.valShippingAccount(formData,"LSHP");
				var savedUserDetails = JSON.parse(sessionStorage.getItem('userDetails'));
				if (FDX.CLIENTLOGIN.userLoggedIn) {
					//Temp variable to fix SHF session storage clear isssue, SHF will watch this flag.
					localStorage.setItem('userLoggedInFlag', true);

					if (savedUserDetails == null || typeof(savedUserDetails) == '') {
						//Get user info call if isLoggedIn returns true.
						$.ajax({
							type: 'GET',
							url: 'https://' + FDX.SESSION.apiURL + '/user/v2/users/userinfo',
							xhrFields: {
								withCredentials: true
							},
							headers: {
								'Accept': 'application/json',
								'Content-Type': 'application/json',
								'Authorization': 'Bearer ' + parsedObjectToken,
								'X-locale': 'en_US',
								'X-loggedin': 'true',
								'X-version': '1.0',
								'X-clientid': 'WCDO'

							},
							success: function(msg, textStatus, xhr) {
								FDX.CLIENTLOGIN.userInfo = msg;
								//  console.log("The success result user info =" + msg);

								if (xhr.status == 200 && typeof(FDX.CLIENTLOGIN.userInfo.output) !== 'undefined' &&
									typeof(FDX.CLIENTLOGIN.userInfo.output.userProfile) !== 'undefined') {
									FDX.CLIENTLOGIN.userDetails = FDX.CLIENTLOGIN.userInfo.output;

									//Deleting secret question and street address.
									//Set-up local storage for user profile, for rewards and other apps (VA etc..)
									delete FDX.CLIENTLOGIN.userDetails.userProfile.loginInformation.secretQuestion;
									delete FDX.CLIENTLOGIN.userDetails.userProfile.userProfileAddress.address.streetLines;
									delete FDX.CLIENTLOGIN.userDetails.userProfile.userProfileAddress.contactAncillaryDetail;
									sessionStorage.setItem('userDetails', JSON.stringify(FDX.CLIENTLOGIN.userDetails));

									FDX.SESSION.setUserModel(FDX.CLIENTLOGIN.userDetails.userProfile);
									FDX.SESSION.setAuthenticated(true); // <--- change this to true if login passed
									FDX.components.button.showHideAuthenticatedButton();
									FDX.components.pods.showHideAuthenticatedPods();
									FDX.components.secureContainer.hideContainer();
									FDX.SESSION.setTargetRedirectAuth(true);
									FDX.components.utilitynav.showAuthenticatedState();
									FDX.components.utilitynav.showContactName();
									FDX.SESSION.setUserRewards();
									FDX.components.utilitynav.toggleRewardPointsLink();
									FDX.components.button.showHideLockIcon();
									FDX.components.featuredoffer.showHideAuthenticatedFeaturedOffer();

									var isIE11 = window.navigator.userAgent.indexOf('Trident/');

									//Clear session storage if WLGN is enabled
									if (typeof(FDX.SECUREPAGECHECK) !== "undefined" && FDX.DATALAYER.page.pageInfo.wlgnURL &&
										sessionStorage.getItem("redirectURL") !== null &&
										sessionStorage.getItem("securePageRequest") == 'true') {
										if (isIE11 > 0) {
											if (sessionStorage.getItem("useWLGNValue") == 'true') {
												window.open(encodeURI(sessionStorage.getItem("redirectURL")), "_self");
												sessionStorage.removeItem("useWLGNValue");
												FDX.SECUREPAGECHECK.clearSessionStorage();
											}
										} else {
											if (FDX.DATALAYER.page.pageInfo.useWLGN == 'true') {
												window.open(encodeURI(sessionStorage.getItem("redirectURL")), "_self");
												FDX.SECUREPAGECHECK.clearSessionStorage();
											}
										}
									}

									// Setup and Send an event for LogIn
									const edata = {
										userProfile: FDX.CLIENTLOGIN.userDetails.userProfile,
										UUID: FDX.SESSION.getUUID()
									};

									var tmpDate = new Date();
									const eventData = {
										eventData: edata,
										eventAction: "State Verification Logged In",
										type: "authentication",
										effect: "Indication of logged in state",
										timestamp: tmpDate.toUTCString()
									}
									FDX.DATALAYER.event.push(eventData);
									if (document.cookie.indexOf("fdx_memberType") == -1 && FDX.DATALAYER.page.pageInfo.enableRewards === 'true') {
										if (typeof(FDX.SESSION.rewardsAPIGEnabled) != 'undefined' && FDX.SESSION.rewardsAPIGEnabled === 'true') {
											FDX.MFXR_APIG.getMFXRProfileToken();
										}
									}
								}
							},
						});
					} else {
						FDX.CLIENTLOGIN.setupUserData(savedUserDetails);
					}

				} else {
					FDX.CLIENTLOGIN.destroyUserSession();
				}
			},
			error: function(request, status, error) {
				// console.log(error);
				FDX.LOGIN.loginFailedMessage = "Sorry. Something went wrong......";
				FDX.LOGIN.showErrorMessage();
				FDX.CLIENTLOGIN.destroyUserSession();
			}
		});

	},

	destroyUserSession: function() {
		FDX.SESSION.setAuthenticated(false);
		FDX.SESSION.setTargetRedirectAuth(false);
		FDX.SESSION.setUserModel(null);
		FDX.SESSION.userAuthenticated = false;
		FDX.SESSION.destroyLogedInState();
		var tmpDate = new Date()
		const uuid = {
			UUID: FDX.SESSION.getUUID()
		}
		const eventData = {
				eventData: uuid,
				eventAction: "State Verification Anonymous",
				type: "authentication",
				effect: "Indication anonymous state notification on page load",
				timestamp: tmpDate.toUTCString()
			}
			FDX.DATALAYER.event.push(eventData);

			//Logout redirect for secured pages and logged in homepage
			if (typeof(FDX.SECUREPAGECHECK) !== "undefined" && typeof(FDX.LOGINCHECK) !== "undefined") {
					FDX.LOGINCHECK.userAuthenticated = false;
					FDX.SECUREPAGECHECK.clearSessionStorage();
					if (FDX.DATALAYER.page.pageInfo.securePage === "true") {
						window.open(FDX.SECUREPAGECHECK.getHomePage(), "_self");
					}
			}
				
	},

	forgeRockValidation: function() {

		var parsedObject = JSON.parse(sessionStorage.getItem("loginDataStorage"));
		var parsedObjectToken = parsedObject.token != undefined ? parsedObject.token : parsedObject.access_token;

		$.ajax({
			type: 'GET',
			url: 'https://' + FDX.SESSION.apiURL + '/user/v4/login/validate',
			xhrFields: {
				withCredentials: true
			},

			cache: false,
			headers: {

				'Accept': 'application/json',
				'Content-Type': 'application/json',
				'Authorization': 'Bearer ' + parsedObjectToken,
				'X-locale': 'en_US',
				'X-loggedin': 'true',
				'X-version': '1.0',
				'X-clientid': 'WCDO'

			},

			success: function(msg) {
				FDX.CLIENTLOGIN.userLoggedIn = msg.output.userLoggedIn;
			},

			error: function(request, status, error) {
				console.log(error);

			}
		});
	},


	doGetUserInfoDetails: function() {
		// console.log("*** caling doAPIisLoggedIn");
		var parsedObject = JSON.parse(sessionStorage.getItem("loginDataStorage"));
		var parsedObjectToken = parsedObject.token != undefined ? parsedObject.token : parsedObject.access_token;

		var userLoggedInDetails = sessionStorage.getItem("userLoggedIn");
		//FDX.CLIENTLOGIN.doAPIisLoggedIn();
			
		if ((localStorage.getItem("userLoggedInFlag") == 'true' ||
				(userLoggedInDetails != null || JSON.parse(userLoggedInDetails).output.userLoggedIn == true))) {
			var savedUserDetails = JSON.parse(sessionStorage.getItem('userDetails'));
			if (savedUserDetails == null || typeof(savedUserDetails) == '') {
				//Get user info call if isLoggedIn returns true.
				$.ajax({
					type: 'GET',
					url: 'https://' + FDX.SESSION.apiURL + '/user/v2/users/userinfo',
					xhrFields: {
						withCredentials: true
					},

					headers: {
						'Accept': 'application/json',
						'Content-Type': 'application/json',
						'Authorization': 'Bearer ' + parsedObjectToken,
						'X-locale': 'en_US',
						'X-loggedin': 'true',
						'X-version': '1.0',
						'X-clientid': 'WCDO'
					},
					success: function(msg, textStatus, xhr) {
						FDX.CLIENTLOGIN.userInfo = msg;
						//  console.log("The success result user info =" + msg);

						if (xhr.status == 200 && typeof(FDX.CLIENTLOGIN.userInfo.output) !== 'undefined' &&
							typeof(FDX.CLIENTLOGIN.userInfo.output.userProfile) !== 'undefined') {

							FDX.CLIENTLOGIN.userDetails = FDX.CLIENTLOGIN.userInfo.output;

							//Deleting secret question and street address.
							//Set-up local storage for user profile, for rewards and other apps (VA etc..)
							delete FDX.CLIENTLOGIN.userDetails.userProfile.loginInformation.secretQuestion;
							delete FDX.CLIENTLOGIN.userDetails.userProfile.userProfileAddress.address.streetLines;
							delete FDX.CLIENTLOGIN.userDetails.userProfile.userProfileAddress.contactAncillaryDetail;
							sessionStorage.setItem('userDetails', JSON.stringify(FDX.CLIENTLOGIN.userDetails));

							FDX.SESSION.setUserModel(FDX.CLIENTLOGIN.userDetails.userProfile);
							FDX.SESSION.setAuthenticated(true); // <--- change this to true if login passed
							FDX.components.button.showHideAuthenticatedButton();
							FDX.components.pods.showHideAuthenticatedPods();
							FDX.components.secureContainer.hideContainer();
							FDX.SESSION.setTargetRedirectAuth(true);
							FDX.components.utilitynav.showAuthenticatedState();
							FDX.components.utilitynav.showContactName();
							FDX.SESSION.setUserRewards();
							FDX.components.utilitynav.toggleRewardPointsLink();
							FDX.components.button.showHideLockIcon();
							FDX.components.featuredoffer.showHideAuthenticatedFeaturedOffer();

							var isIE11 = window.navigator.userAgent.indexOf('Trident/');

							//Clear session storage if WLGN is enabled
							if (typeof(FDX.SECUREPAGECHECK) !== "undefined" && FDX.DATALAYER.page.pageInfo.wlgnURL &&
								sessionStorage.getItem("redirectURL") !== null &&
								sessionStorage.getItem("securePageRequest") == 'true') {
								if (isIE11 > 0) {
									if (sessionStorage.getItem("useWLGNValue") == 'true') {
										window.open(encodeURI(sessionStorage.getItem("redirectURL")), "_self");
										sessionStorage.removeItem("useWLGNValue");
										FDX.SECUREPAGECHECK.clearSessionStorage();
									}
								} else {
									if (FDX.DATALAYER.page.pageInfo.useWLGN == 'true') {
										window.open(encodeURI(sessionStorage.getItem("redirectURL")), "_self");
										FDX.SECUREPAGECHECK.clearSessionStorage();
									}
								}
							}

							// Setup and Send an event for LogIn
							const edata = {
								userProfile: FDX.CLIENTLOGIN.userDetails.userProfile,
								UUID: FDX.SESSION.getUUID()
							};

							var tmpDate = new Date()
							const eventData = {
								eventData: edata,
								eventAction: "State Verification Logged In",
								type: "authentication",
								effect: "Indication of logged in state",
								timestamp: tmpDate.toUTCString()
							}
							FDX.DATALAYER.event.push(eventData);
							if (document.cookie.indexOf("fdx_memberType") == -1 && FDX.DATALAYER.page.pageInfo.enableRewards === 'true') {
								if (typeof(FDX.SESSION.rewardsAPIGEnabled) != 'undefined' && FDX.SESSION.rewardsAPIGEnabled === 'true') {
									FDX.MFXR_APIG.getMFXRProfileToken();
								}
							}
						}

					},
				});
			} else {
				FDX.CLIENTLOGIN.setupUserData(savedUserDetails);
			}

		} else {
			FDX.SESSION.setAuthenticated(false);
			FDX.SESSION.setTargetRedirectAuth(false);
			FDX.SESSION.setUserModel(null);
			FDX.SESSION.userAuthenticated = false;
			FDX.SESSION.destroyLogedInState();
			var tmpDate = new Date()
			const uuid = {
				UUID: FDX.SESSION.getUUID()
			}
			const eventData = {
				eventData: uuid,
				eventAction: "State Verification Anonymous",
				type: "authentication",
				effect: "Indication anonymous state notification on page load",
				timestamp: tmpDate.toUTCString()
			}
			FDX.DATALAYER.event.push(eventData);
		}

	},

	getRewardsKey: function() {
		// console.log("inside getRewardsKey1");
		var asyncRequestObject = new XMLHttpRequest();
		asyncRequestObject.open('GET', '/etc/services/rewardskey.json');
		asyncRequestObject.onload = handleSuccess;
		asyncRequestObject.send();

		function handleSuccess() {
			if (this.responseText) {
				FDX.SESSION.rewardsKey = this.responseText;
				//		console.log(this.responseText);
				FDX.CLIENTLOGIN.doAPIRewards();
			}
		}
	},
	doAPIRewards: function() {
		var domainName = window.location.hostname;
		var rewardsHost = "";
		if (domainName.indexOf("www.fedex") > -1) {
			rewardsHost = FDX.SESSION.rewardsHost;
		} else {
			rewardsHost = FDX.SESSION.rewardsUATHost;
		}
		var rewardsData = '{"member_Info_Request":{"uuid":"","apiSource":"MOBILE","locale":"en_us","key":""}}';
		var jsonData = JSON.parse(rewardsData);
		jsonData.member_Info_Request.uuid = FDX.SESSION.getUUID();
		jsonData.member_Info_Request.key = FDX.SESSION.rewardsKey;
		rewardsData = JSON.stringify(jsonData);
		$.ajax({
			type: 'GET',
			url: 'https://' + rewardsHost + '/getMemberInfo?data=' + encodeURIComponent(rewardsData),
			success: function(data) {
				if (data) {

					var rewardsResp = JSON.parse(data);
					var pointsAvailable = "0";
					if (typeof(rewardsResp.member_Info_Response.memberType) != undefined &&
						rewardsResp.member_Info_Response.memberType != null) {
						var memberType = rewardsResp.member_Info_Response.memberType
						document.cookie = 'fdx_memberType=' + memberType + ';domain=.fedex.com;path=/';
						if (typeof(rewardsResp.member_Info_Response) != undefined && rewardsResp.member_Info_Response.pointsSummary != undefined &&
							rewardsResp.member_Info_Response.pointsSummary.pointsAvailable != null) {
							pointsAvailable = rewardsResp.member_Info_Response.pointsSummary.pointsAvailable

						}
						document.cookie = 'fdx_rewardPoints=' + pointsAvailable + ';domain=.fedex.com;path=/';
					}

					FDX.SESSION.setUserRewards();
					FDX.components.utilitynav.toggleRewardPointsLink();
				}
			}
		});
	},

	rewardsLogout: function() {
		var domainName = window.location.hostname;
		var rewardsURL = "";
		if (domainName.indexOf("www.fedex") > -1) {
			rewardsURL = FDX.CLIENTLOGIN.rewardsUrl;
		} else {
			rewardsURL = FDX.CLIENTLOGIN.rewardsUATUrl;
		}
		$.ajax({
			type: "POST",
			url: 'https://' + rewardsURL + '/services/logout',
			xhrFields: {
				withCredentials: true
			},
			success: function(data) {
				// check if catalog logout is required, will be implemented later.
				//var returnPage = JSON.parse(data).returnPage;
				console.log("rewards user logged-out sucessfully ");
			}
		});
	},

	setupUserData: function(userData) {

		FDX.CLIENTLOGIN.userDetails = userData;
		FDX.components.button.showHideLockIcon();

		FDX.SESSION.setUserModel(FDX.CLIENTLOGIN.userDetails.userProfile);
		FDX.SESSION.setAuthenticated(true); // <--- change this to true if login passed
		FDX.SESSION.setTargetRedirectAuth(true);
		FDX.components.button.showHideAuthenticatedButton();
		FDX.components.pods.showHideAuthenticatedPods();
		FDX.components.secureContainer.hideContainer();
		FDX.components.utilitynav.showAuthenticatedState();
		FDX.components.utilitynav.showContactName();
		FDX.SESSION.setUserRewards();
		FDX.components.utilitynav.toggleRewardPointsLink();
		FDX.components.featuredoffer.showHideAuthenticatedFeaturedOffer();


		// Setup and Send an event for LogIn
		edata = {
			userProfile: FDX.CLIENTLOGIN.userDetails.userProfile,
			UUID: FDX.SESSION.getUUID()
		};

		var tmpDate = new Date()
		eventData = {
			eventData: edata,
			eventAction: "State Verification Logged In",
			type: "authentication",
			effect: "Indication of logged in state",
			timestamp: tmpDate.toUTCString()
		}
		FDX.DATALAYER.event.push(eventData);
		if (document.cookie.indexOf("fdx_memberType") == -1 && FDX.DATALAYER.page.pageInfo.enableRewards === 'true') {
			if (typeof(FDX.SESSION.rewardsAPIGEnabled) != 'undefined' && FDX.SESSION.rewardsAPIGEnabled === 'true') {
				FDX.MFXR_APIG.getMFXRProfileToken();
			}
		}
	}
}
/* This is the FedEx.com login_module app javascript file.
 The global FDX object must already be defined.
 It is dependent on the FDX.SESSION object, which is included as a dependency.

 Author: joey.dukeminier@vml.com
 Created: 2017-03-27
 */
if (!FDX) {
    var FDX = {};
}

FDX.LOGIN = {
    rootElement : "",
    loginShowText : "",
    loginShowAltText : "",
    loginHideText : "",
    loginHideAltText : "",
    navLoginPassword : "",
    navLoginPasswordShow : "",
    loginFormID : "#HeaderLogin",
    loginFailedClass : "fxg-login-error",
    loginFailedMessage : "An undefined error occurred.",
    loginResourceElement:"",
    loginResourceType:"",
    //isSecure : false,
    

    loginConfigs : function() {
        FDX.LOGIN.rootElement = $(".js-fxg-login-module");
        FDX.LOGIN.loginShowText = FDX.LOGIN.rootElement.data("show");
        FDX.LOGIN.loginShowAltText = FDX.LOGIN.rootElement.data("altshow");
        FDX.LOGIN.loginHideAltText = FDX.LOGIN.rootElement.data("althide");
        FDX.LOGIN.loginHideText = FDX.LOGIN.rootElement.data("hide");
        FDX.LOGIN.navLoginPassword = FDX.LOGIN.rootElement.find("#NavLoginPassword");
        FDX.LOGIN.navLoginPasswordShow = FDX.LOGIN.rootElement.find("#NavLoginPassword_show");
	},
	
	doLogin : function(form) {
        // This is the stub method to perform the login
        // FedEx IT should pickup from here.
        // Should also return error message to populate error placeholder.
	
        // Remove any existing error message.
        FDX.LOGIN.removeErrorMessage();
        
        // FIRST, Check if user is already logged in. Do not run this again if already logged in
        if(FDX.SESSION.userAuthenticated == false || FDX.SESSION.targetRedirectAuth == false) {
            // Get login form data and create object
            var formData = $(form).serializeArray().reduce(function (obj, item) {
                obj[item.name] = item.value;
                return obj;
            }, {});
            // formData is an object that contains all form values as props
            // Example: formData.url, formData.user, formData.password

            // Remember Me Logic
            if(formData.rememberme == 'rememberme') {
                // set remember me cookie
                FDX.SESSION.setRememberMe(formData.user, 30); // <-- Number of days. Adjusted for how long the remember me should be held.
            } else {
                // destroy remember me cookie if it exists
                FDX.SESSION.destroyRememberMe('', -1);
            }
            
			// Check runMode...debug is used for testing
            if (FDX.CORE.runMode == "debug") {
                // If runMode is debug, we set the mock cookies
            	//console.log("You are in debug mode");
                FDX.SESSION.setMockCookies(1); // argument passed in is the expiration time (days)
                FDX.SESSION.setAuthenticated(true);
                FDX.SESSION.setTargetRedirectAuth(true);
                FDX.SESSION.setUserRewards();
                FDX.LOGIN.loginFailedMessage = "";
            } else if (FDX.CORE.runMode == "production") {
				// TODO: FedEx IT pick up from here to do login
				// DO LIVE LOGIN
            	
                FDX.LOGIN.loginFailedMessage = "";
                //console.log("*** Calling doAPILogin *** ");
                FDX.CLIENTLOGIN.doAPILogin(formData);
                 
            }

        }
    },

    doLogout : function() {
    	FDX.LOGIN.preLogOut();
        if(FDX.CORE.runMode == "debug") {
            // If runMode is debug, we load the mock cookies for testing
            FDX.SESSION.setMockCookies(-1); // argument passed in is the expiration time
        } else if(FDX.CORE.runMode == "production") {
            // TODO: FedEx IT pick up from here to do logout
			// TODO: FedEx IT pick up from here to do login
			// DO LIVE LOGIN
        	
            FDX.LOGIN.loginFailedMessage = "";
        	var formData = {"method":"logout"};
        	
            FDX.CLIENTLOGIN.doAPILogout();
        }
    },

    setRememberMeState : function() {
        if(FDX.SESSION.getRememberMe() != null) {
            $('[name=user]').val(FDX.SESSION.getRememberMe());
            $('[name=rememberme]').prop('checked', true);
			$("#NavLoginPassword_show").hide();
			FDX.LOGIN.onPasswordKeyUp();
            FDX.LOGIN.onPasswordClick();
        }
    },

    removeErrorMessage : function() {
        $('.' + FDX.LOGIN.loginFailedClass).remove();

    },
    showErrorMessage : function() {
        var parser = new DOMParser();
        var doc = parser.parseFromString(FDX.LOGIN.loginFailedMessage, 'text/html');
        var messageString = doc.body.textContent || "";
       // var messageString = FDX.LOGIN.loginFailedMessage.replace(/<(?:.|\n)*?>/gm, ''); //removing html from error message
        // This has not been completed yet and will change!
        // Error placeholder TBD.
    	FDX.LOGIN.removeErrorMessage();

        var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
        var msgTemplate=isSafari?'<div tabindex="0" id="loginNoErrorFillMsg" role="alert" focusable="true" aria-required="true"  aria-label="' + messageString + '"  class="' + FDX.LOGIN.loginFailedClass + ' fdx__fail-msg-ada2" ></div>':'<div tabindex="0" id="loginNoErrorFillMsg" focusable="true" aria-required="true"  aria-label="' + messageString + '"  class="' + FDX.LOGIN.loginFailedClass + ' fdx__fail-msg-ada2" ></div>';
       
        $(FDX.LOGIN.loginFormID).prepend(msgTemplate);
        $('#loginNoErrorFillMsg').html(FDX.LOGIN.loginFailedMessage);

        if(!isSafari){
            setTimeout(function(){
                $("#loginNoErrorFillMsg").trigger('focus') ;
            },1000);
        }
    },

    setLoginResource: function(element, type){
		FDX.LOGIN.loginResourceElement = element;
		FDX.LOGIN.loginResourceType = type;
    },
    /*checkSecure: function(isSec){
		FDX.LOGIN.isSecure=isSec;
    },*/

    showHideFunction : function() {
    	 FDX.LOGIN.loginConfigs();
		if(FDX.LOGIN.navLoginPassword.attr("type") == "password") {
            FDX.LOGIN.navLoginPassword.attr("type","text");
            FDX.LOGIN.navLoginPasswordShow.text(FDX.LOGIN.loginHideText);
            FDX.LOGIN.navLoginPasswordShow.attr("aria-label", FDX.LOGIN.loginHideAltText);
    	}
    	else{
            FDX.LOGIN.navLoginPassword.attr("type","password");
            FDX.LOGIN.navLoginPasswordShow.text(FDX.LOGIN.loginShowText);
            FDX.LOGIN.navLoginPasswordShow.attr("aria-label", FDX.LOGIN.loginShowAltText);
    	}
	},
	
	preLogin :  function (){
    	console.log("Pre Login called");
    	//getting active cube data before login
    	FDX.CUBE.storeAppInfo();
    },
    preLogOut : function (){
    	console.log("pre log out called");
    },

    onKeyUpAndOnClick : function(thisVal) {

         if(thisVal !== ""){
                $("#NavLoginPassword_show").show(); 
         }
         else {
                $("#NavLoginPassword_show").hide();
         }
    },

    onPasswordKeyUp : function() {
		$("#NavLoginPassword").on("keyup", function(){
            var thisVal = $(this).val();
			FDX.LOGIN.onKeyUpAndOnClick(thisVal);
     	}); 
	},

    onPasswordClick : function() {
		$("#NavLoginPassword").on('click', function(e){
			var thisVal = $(this).val();
			FDX.LOGIN.onKeyUpAndOnClick(thisVal);
			e.stopPropagation();
        });
    },

    onPasswordShowclick : function() {
		 $("#NavLoginPassword_show").on('click', function(){
			FDX.LOGIN.showHideFunction();
		}); 
    }, 

    onPasswordShowKeyPress : function() {
        $("#NavLoginPassword_show").on('keypress', function(e){
            if (e.which == 13) {
                FDX.LOGIN.showHideFunction();
            }
        });
    }
};

$(document).ready(function() {
    FDX.LOGIN.loginConfigs();
    // Bind to the login form in the header
    // We bind to the body because the login form can be added/removed from the dom dynamically, so we must ensure it remains bound
	$(FDX.LOGIN.loginFormID).off("submit");
    $(FDX.LOGIN.loginFormID +':not(.bound)').addClass('bound').on('submit', function(e) {
        e.preventDefault();
        FDX.DTM.pushButtonInfo("hdr|Login","samePage");
        FDX.LOGIN.doLogin($(this));
    });
    $(".wlgnlink-class" +':not(.bound)').addClass('bound').on('click', function(e) {
		FDX.LOGIN.preLogin();
	
	});
    FDX.LOGIN.setRememberMeState();
    $("#NavLoginPassword_show").hide();
	FDX.LOGIN.onPasswordClick();
    FDX.LOGIN.onPasswordShowKeyPress();
    FDX.LOGIN.onPasswordKeyUp();
    FDX.LOGIN.onPasswordShowclick();
    var checkBoxChecked = false;
    $('#NavLoginRememberMe').on('click', function(){
		checkBoxChecked = !checkBoxChecked;
        $('#NavLoginRememberMe').attr('aria-checked',checkBoxChecked);
    });
    
});

//sign out issue fix for iphone/and ipads on clicking back button after navigating back from  targeting/segmetation link
window.onpageshow=function(event){

    var userAgent = window.navigator.userAgent;
     if(userAgent.match(/iPad/i) || userAgent.match(/iPhone/i)) {
    	 if(event.persisted) {
    		 window.location.reload();
    	 }
     } 

};

if (!FDX) {
    var FDX = {};
}

FDX.MFXR_APIG = {

    accessToken: "",


	getMFXRAPIGRewards: function () {
    	$.ajax({
    	    type: "POST",
    	    url: "https://" + FDX.SESSION.apiURL + "/auth/oauth/v2/token",
    	    contentType:"application/x-www-form-urlencoded",
    	    data: "grant_type="+FDX.SESSION.grantType+"&scope=oob&client_id="+FDX.SESSION.rewardsClientID,
    	    error: function(xhr) {
    	    	console.log("status is "+ xhr.status+", status text is "+ xhr.statusText);
    	    	console.log("API request failed from APIG");
      	    },
    	    success: function(response){
    	    	FDX.MFXR_APIG.getMFXRProfileToken(response);
    	    }
    	  });
    },

    getMFXRProfileToken: function (resp) {
    	$.ajax({
    	    type: "POST",
            url: "https://" + FDX.SESSION.mfxrURL + "/mfxr/public/v1/authorization/profiles/tokens",
            xhrFields: {
                withCredentials: true
    	      },
            headers: {
                'Cookie': FDX.SESSION.COOKIENAMES.login + "=" + FDX.SESSION.getCookie(FDX.SESSION
                    .COOKIENAMES.login),
                'Content-Type': 'application/json'
      	    },
    	    success: function(response){
    	    	FDX.MFXR_APIG.getMFXRTierInfo(response);

    	    },
            error: function(xhr) {
                console.log("status is " + xhr.status + ", status text is " + xhr.statusText);
                console.log("API request failed from APIG");
            }
    	});
    },

    getMFXRTierInfo : function (response) {
    	var clientIDToken = response.AccessToken;
    	var mfxrProfileID = response.ProfileId;
        var parsedObject = JSON.parse(sessionStorage.getItem("loginDataStorage"));
        var parsedObjectToken = parsedObject.token != undefined ? parsedObject.token : parsedObject
        .access_token;
    	$.ajax({
    		type: "POST",
            url: "https://" + FDX.SESSION.mfxrURL + "/mfxr/public/v1/profiles/membertier",
    			xhrFields: {
                    withCredentials: true
                },
    			headers: {
    				'Accept': 'application/json',
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer ' + parsedObjectToken,
    				'x-clientid' : clientIDToken
    			},
        	    data: JSON.stringify({
                    'ActivityType': 'GETTERINFO',
                    'ProfileId': mfxrProfileID
        	    }),
        	    error: function(xhr) {
        	    	console.log("status is "+ xhr.status+", status text is "+ xhr.statusText);
        	    	console.log("API request failed from APIG");
          	    },
        	    success: function(response){
        	    	if (response) {
        	    	    var pointsAvailable = "0";

        	    	    //Reading the points and memberInfo and setting the cookies in browser
                    if (typeof(response.JsonExternalData.memberType) != undefined && response
                        .JsonExternalData.memberType != null) {
        	    	        var memberType = response.JsonExternalData.memberType;
        	    	        document.cookie = 'fdx_memberType=' + memberType + ';domain=.fedex.com;path=/';
        	    	        if (typeof(response.JsonExternalData) != undefined && response.JsonExternalData.pointsAvailable != undefined && response.JsonExternalData.pointsAvailable != null) {
        	    	            pointsAvailable = response.JsonExternalData.pointsAvailable;

        	    	        }
        	    	        document.cookie = 'fdx_rewardPoints=' + pointsAvailable + ';domain=.fedex.com;path=/';
        	    	    }

        	    	    FDX.SESSION.setUserRewards();
        	    	    FDX.components.utilitynav.toggleRewardPointsLink();
        	    	}

        	    }
        });
    },

    //We don't need to make this call right now, as the points and tier details can be taken from  memebertier call
    getMFXRMemberInfo : function(resp, profileID, accessToken) {
    	var profileID = profileID;
    	var accessToken = accessToken;
    	var tierInfo = resp.JsonExternalData.memberType;
    	$.ajax({
    	    type: "POST",
    	    url: "https://" + FDX.SESSION.apiURL + "/rewards/v1/profiles/memberinfo",
    	    contentType: "application/json",
            dataType: "json",
    	    beforeSend: function (xhr) {
    	        xhr.setRequestHeader ("Authorization", "Bearer "+FDX.MFXR_APIG.accessToken);
    	    },
            headers: { "x-clientid": accessToken},

    	    data: JSON.stringify({
    	    	  "ProfileId" : profileID,
    	    	  "ActivityType": "GETMEMBERINFO",
    	    	  "JsonExternalData": {
	    	    		"memberType" :tierInfo,
	    	    		"apiSource" :  "Mobile|AEM",
	    	    		"locale" : "en_us",
	    	    		"LangCode": "en",
	    	    		"CountryCode": "US"
    	    	  }
    	    }),
	    	error: function(xhr) {
        		console.log("API request failed from Epsilon");
      	    	console.log("status is "+ xhr.status+", status text is "+ xhr.statusText);
      	    },
    	    success: function(response){
    	    	console.log(response);
    	    	if (response) {
    	    	    var pointsAvailable = "0";
    	    	    if (typeof(response.member_Info_Response.memberType) != undefined &&
    	    	    		response.member_Info_Response.memberType != null) {
    	    	        var memberType = response.member_Info_Response.memberType;
    	    	        document.cookie = 'fdx_memberType=' + memberType + ';domain=.fedex.com;path=/';
                        if (typeof(response.member_Info_Response) != undefined &&
                        response.member_Info_Response.pointsSummary != undefined &&
                        response.member_Info_Response.pointsSummary.pointsAvailable != null) {
                            pointsAvailable = response.member_Info_Response.pointsSummary.pointsAvailable;
    	    	        }
    	    	        document.cookie = 'fdx_rewardPoints=' + pointsAvailable + ';domain=.fedex.com;path=/';
    	    	    }
    	    	    FDX.SESSION.setUserRewards();
    	    	    FDX.components.utilitynav.toggleRewardPointsLink();
    	    	}
    	    }
    	});
    },
};
/* This is the FedEx.com locations module component javascript file.
 The global FDX object must already be defined

 Author: joey.dukeminier@vml.com
 Created: 2017-05-01
 */

if (!FDX) {
    var FDX = {};
}

FDX.LOCATIONS_MODULE = {
		//Location module component was designed for header navigation, But it was never used due to google MAP API usage and restrictions.
		//Doing code cleanup to avoid security issues.

};

/* This is the FedEx.com tracking app component javascript file.
 The global FDX object must already be defined

 Author: quantrell.sanford@vml.com
 Created: 2017-05-01
 */

if (!FDX) {
    var FDX = {};
}

FDX.LOCATIONS = {

    mapClass : 'fxg-locations-gmap',
    mapTypeId : 'roadmap',
    location : {
        'lat' : '',
        'lng' : ''
    },
    zoom : 11,
    viewAllLinkText : "VIEW ALL LOCATIONS",
    address:'',
    geometry:'',

    submit : function(){ 
        // MVP1: We are driving directly to the locations landing page to show the locations.
        // Post MPV1: We will be adding in state 2. Uncomment the below FDX.LOCATIONS.centerMap()
        
        var address = document.getElementById("HomepageLocationsAppInput").value;
        var locale = FDX.SESSION.getLocale();
        var cc = FDX.SESSION.getCountryPath();
        var country = '';
        var pincode ='';
        var state = '';
        var city = '';
        var locality = '';
        var street = '';
        var lat = '';
        var lng = '';
        var dataAnalytics = document.getElementById("dataAnalytics").value;
		console.log('Location-App, address is ', FDX.LOCATIONS.address);
        console.log('Location-App, geo is ', FDX.LOCATIONS.geometry);

        if(!(FDX.LOCATIONS.address === '')){
            lat=  FDX.LOCATIONS.geometry.lat();
            lng=  FDX.LOCATIONS.geometry.lng();
 			var address_components={
                                    country : '',
                                    postal_code :'',
                                    administrative_area_level_1 : '',
                                    administrative_area_level_2 : '',
                                    locality : '',
                                    route:''
           						 }; 
            $.each(FDX.LOCATIONS.address, function(k,v1) {jQuery.each(v1.types, function(k2, v2){address_components[v2]=v1.short_name});})
             console.log('address components ', address_components);


			var link = 'http://www.fedex.com/locate/?locale='+locale+'&appId=WCON&originLatitude='+lat+'&originLongitude='+lng+'&originStreetLines='+
                		address_components.route+'&originCity='+address_components.locality+'&originStateOrProvinceCode='+address_components.administrative_area_level_1 +'&originPostalCode='+address_components+
                        '&originCountryCode='+address_components.country+'&actionType=results';
            var openInNewWindow=document.getElementById("openInNewWindowLoc").value;
            console.log("openInNewWindow : "+openInNewWindow)

            FDX.DTM.pushButtonInfo(dataAnalytics,"newPage");

            if(openInNewWindow == "true"){

                window.open(link, "_blank");
            } 
            else
            {
                window.location = link;
            }


        }
        // Option 1: Drive to locations landing page directly as a get request
        // Option 2: Set the form action and submit the form to the locations page, posting the field as data.
        //window.location = "";


        // FedEx IT to pickup from here to populate map
        // Get locations data source
        // Set FDX.LOCATIONS.DATA with locations data

        // TODO: Pickup from here when we are post MVP1 to complete State 2 of locations on homepage.
        // FDX.LOCATIONS.centerMap(address);
        },

    centerMap : function(address) {

        var geocoder = new google.maps.Geocoder();
        geocoder.geocode({address: address}, function(results, status) {
            if (status == google.maps.GeocoderStatus.OK) {
                //FDX.LOCATIONS.centerMap(results[0].geometry.location);
                FDX.LOCATIONS.location = results[0].geometry.location;
                FDX.LOCATIONS.drawMap();
            } else {
                alert(address + ' not found');
            }
        });
    },

    drawMap : function() {
        var map = new google.maps.Map(document.getElementsByClassName(FDX.LOCATIONS.mapClass)[0], {
            zoom: FDX.LOCATIONS.zoom,
            center: FDX.LOCATIONS.location,
            styles: FDX.LOCATIONS.GMAPSTYLE
        });

        map.data.loadGeoJson = FDX.LOCATIONS.DATA;

        /*map.data.setStyle = function(feature) {
            return {
                icon: {
					// TODO: When adding this back, be sure to add the contextPath (FDX.contextPath)
                    url: '/content/dam/fedex-com/gmap/icon_${feature.getProperty("category")}.png',
                    scaledSize: new google.maps.Size(64, 64)
                }
            };
        };*/

        var infoWindow = new google.maps.InfoWindow();
        infoWindow.setOptions({
            pixelOffset: new google.maps.Size(0, -30)
        });

        if(FDX.CUBE)
            FDX.CUBE.openApp();
    },

    clearLocations : function() {
        infoWindow.close();
        for (var i = 0; i < markers.length; i++) {
            markers[i].setMap(null);
        }
        markers.length = 0;

        locationSelect.innerHTML = "";
        var option = document.createElement("option");
        option.value = "none";
        option.innerHTML = FDX.LOCATIONS.viewAllLinkText;
        locationSelect.appendChild(option);
    }

};

$(document).ready(function(){
	//Submit on enter click
    $('#HomepageLocationsAppInput').on('change', function(e){
       $('#HomepageLocationsAppInput').trigger('focus');
            window.setTimeout(function(){
         	FDX.DTM.updateLocationApp();
            }, 500);
            e.preventDefault();
    });

    //Stubbed submit on click
    $('#HomepageLocationsApp').on('submit', function(e){
        e.preventDefault();
        FDX.LOCATIONS.submit();
    });
});

FDX.LOCATIONS.GMAPSTYLE = [
    {
        "elementType": "geometry",
        "stylers": [
            {
                "color": "#F2F2F2"
            }
        ]
    },
    {
        'featureType' : 'administrative',
        'elementType' : 'all',
        'stylers' : [
            {
                'visibility' : 'on'
            },
            {
                'lightness' : 33
            }
        ]
    },
    {
        "featureType": "administrative.land_parcel",
        "elementType": "labels.text.fill",
        "stylers": [
            {
                "color": "#bdbdbd"
            }
        ]
    },
    {
        'featureType': 'landscape',
        'elementType': 'all',
        'stylers': [
            {
                'color': '#F2F2F2'
            }
        ]
    },
    {
        "featureType": "poi",
        "elementType": "labels.text.fill",
        "stylers": [
            {
                "color": "#757575"
            }
        ]
    },
    {
        'featureType': 'poi.park',
        'elementType': 'geometry',
        'stylers': [
            {
                'color': '#F2F2F2'
            }
        ]
    },
    {
        'featureType': 'poi.park',
        'elementType': 'labels',
        'stylers': [
            {
                'visibility': 'on'
            },
            {
                'lightness': 20
            }
        ]
    },
    {
        "featureType": "poi.park",
        "elementType": "labels.text.fill",
        "stylers": [
            {
                "color": "#9e9e9e"
            }
        ]
    },
    {
        'featureType': 'road',
        'elementType': 'all',
        'stylers': [
            {
                'lightness': 20
            }
        ]
    },
    {
        'featureType': 'road.highway',
        'elementType': 'geometry',
        'stylers': [
            {
                'color': '#E4E4E4'
            }
        ]
    },
    {
        'featureType': 'road.arterial',
        'elementType': 'geometry',
        'stylers': [
            {
                'color': '#ffffff'
            }
        ]
    },
    {
        'featureType': 'road.local',
        'elementType': 'geometry',
        'stylers': [
            {
                'color': '#ffffff'
            }
        ]
    },
    {
        'featureType': 'water',
        'elementType': 'all',
        'stylers': [
            {
                'visibility': 'on'
            },
            {
                'color': '#C8F1FE'
            }
        ]
    },
    {
        "elementType": "labels.icon",
        "stylers": [
            {
                "visibility": "off"
            }
        ]
    },
    {
        "elementType": "labels.text.fill",
        "stylers": [
            {
                "color": "#616161"
            }
        ]
    },
    {
        "elementType": "labels.text.stroke",
        "stylers": [
            {
                "color": "#f5f5f5"
            }
        ]
    },
    {
        "featureType": "transit.line",
        "elementType": "geometry",
        "stylers": [
            {
                "color": "#ffffff"
            }
        ]
    },
    {
        "featureType": "transit.station",
        "elementType": "geometry",
        "stylers": [
            {
                "color": "#e4e4e4"
            }
        ]
    }
];

FDX.LOCATIONS.DATA = {
    'type' : 'FeatureCollection',
    'feature' : [
        {
            'geometry' : {
                'type' : 'Point',
                'coordinates' : [-73.948555,40.809074]
            },
            'type' : 'Feature',
            'properties' : {
                'category' : 'shipping',
                'hours' : '7:30am - 9:00pm',
                'description' : '207 W 125th St, New York, NY 10027',
                'name' : 'FedEx Office Print & Ship Center',
                'phone' : '123-456-7890'
            }
        },
        {
            'geometry' : {
                'type' : 'Point',
                'coordinates' : [-73.96445,40.808243]
            },
            'type' : 'Feature',
            'properties' : {
                'category' : 'shipping',
                'hours' : '8:30am - 9:00pm',
                'description' : '600 W 116th St, New York, NY 10027',
                'name' : 'FedEx Office Ship Center',
                'phone' : '567-890-1234'
            }
        },
        {
            'geometry' : {
                'type' : 'Point',
                'coordinates' : [-73.97967,40.784283]
            },
            'type' : 'Feature',
            'properties' : {
                'category' : 'shipping',
                'hours' : '7:30am - 9:00pm',
                'description' : '2233 Broadway, New York, NY 10024',
                'name' : 'FedEx Location 3',
                'phone' : '456-789-1234'
            }
        }
    ]
};
/* This is the FedEx.com input app javascript file.
 The global FDX object must already be defined.

 Author: quantrell.sanford@vml.com
 Created: 2017-05-18
 */

if (!FDX) {
    var FDX = {};
}

// CHANGE: VMLNAFEDEXW-676 Add classes for LP Tracking Apps
FDX.INPUT = {
    maxInputCount : 30,
    addressFromAuto:'',
    geometryFromAuto:'',
    formClass : "fxg-form",
    multiTrackingClass : "fxg-tracking-app__multi-tracking",
    multiTrackingLandingPageClass : "fxg-landing-tracking-app__multi-tracking",
    singleTrackingClass : "fxg-app__single-tracking",
    singleTrackingLandingPageClass : "fxg-landing-tracking-app__single-tracking",
    validationMessageClass : "fxg-field__validation",
    validationDefaultMessage : "Sorry, this is a required field.",
    formRowClass : "fxg-form__row",
    datePickerClass : "fxg-field__date-picker",
    textInputClass : "fxg-field__input-text",
    requiredInputClass : "fxg-field__input--required",
    erroredInputClass : "fxg-field__input--error",
    numberedInputClass : "fxg-field__input-text--numbered",
    numberedPlaceholderClass : "fxg-field__numbered-placeholder",
    floatingPlaceholderClass : "fxg-field__floating-placeholder",
    inputAutoCompleteClass: "fxg-input__autocomplete",
    validationAlertSuffix: "fxg-validation-",
    hintTextFieldClass: "fxg-field__hint_text",
    errorTextFieldClass: "fxg-field__error_text",
       splitMultiTrackingNumbers : function(input, callback){
        var codeList = input.replace(/\n/g, ",") //strip line breaks
                        .replace(/\r/g, ",")
                        .replace(/\t/g, ",")
                        .replace(/\s+/g, '') //strip spaces
                        .replace(/,,/g,',') //strip double commas
                        .split(','); //if still have spaces then its pasted from word, so split

        if(callback)
            callback(codeList);
    },

    populateMultiTrackingNumbers : function(list){
        for(var i = 0; i < list.length; i++)
        {
        	 if(list[i].length == 0)
                 continue;
            //find current focus
            var currentField = $(':focus');
            
            //To get number of focussed input field
            var focusedField = $(currentField).attr("aria-label");
            var focusedFieldCount = parseInt(focusedField[focusedField.length-2]+focusedField[focusedField.length-1]);
            
            //Set input
            currentField.val(list[i]);

			//To add new fields for copy paste
            var parentInputDiv = currentField.closest('.' + FDX.INPUT.formRowClass);
            var isLastBox = $(parentInputDiv).next('.' + FDX.INPUT.formRowClass).find('.' + FDX.INPUT.floatingPlaceholderClass).length === 0 ? true : false;
            if (isLastBox && (focusedFieldCount+1) <= FDX.INPUT.maxInputCount) {
                var cloneDiv = $(parentInputDiv).clone();
                var multiCountPadded=FDX.CORE.pad((focusedFieldCount+1), 2);
                $(cloneDiv).find('.' + FDX.INPUT.floatingPlaceholderClass).html("TRACKING NUMBER "+multiCountPadded);
                var $inputField = $(cloneDiv).find('.' + FDX.INPUT.numberedInputClass);
                $inputField.val('');
                $inputField.attr('aria-label', FDX.TRACKING.multipleTrackingNumberAltText + ' ' + (focusedFieldCount+1));
                $(cloneDiv).insertAfter(parentInputDiv);

                if(FDX.components.hero){
				FDX.components.hero.setHeroHeight();
				}

        		if(FDX.TOGGLE){
          		FDX.TOGGLE.setActivePaneHeight($('.' + FDX.TOGGLE.toggleActivePanelClass));
				}
            }

             //go to the next field
            if($(currentField).parents('.' + FDX.INPUT.formRowClass).index() >= (FDX.INPUT.maxInputCount - 1)){
                break;
            }
            var nextInput = $(currentField).parents('.' + FDX.INPUT.formRowClass).next().find('.' + FDX.INPUT.numberedInputClass);
            $(nextInput).trigger('focus');

        }
    },

    gmInitAutoComplete : function() {
        //Get all elements that have auto complete class


        var inputs = document.getElementsByClassName(FDX.INPUT.inputAutoCompleteClass);

        for (var i = 0; i < inputs.length; i++) {
         	 FDX.INPUT.inputAddListener(inputs,i);
        }
        $('.'+FDX.INPUT.inputAutoCompleteClass).on('keyup',function(e){
            var dataInput= $(this).val();

            if(dataInput && (dataInput === FDX.DATALAYER.inputField)){
                FDX.DATALAYER.googleAPIFlag=true;
            }else{
                FDX.DATALAYER.googleAPIFlag=false;
            }
        });
    },
    
    inputAddListener:function(inputs,i){

            var autoComplete = new google.maps.places.Autocomplete(
                inputs[i],
                {types: ['geocode']}
            );

            // When the user selects an address from the dropdown, populate the address
            // fields in the form.
            autoComplete.addListener('place_changed', function(){
            	FDX.INPUT.addressFromAuto=autoComplete.getPlace().address_components;
                FDX.INPUT.geometryFromAuto=autoComplete.getPlace().geometry.location;
                var currentField = inputs[i].value;
                FDX.DATALAYER.inputField=currentField;
                 FDX.DATALAYER.googleAPIFlag=true;
            });
	},

    //VMLNAFEDEXW-717: Fix clipboard for ie
    getClipboardData : function(e){
        var pastedText = '';

        if (window.clipboardData && window.clipboardData.getData) { // IE
            pastedText = window.clipboardData.getData('Text');
        }
        else if (e.originalEvent.clipboardData && e.originalEvent.clipboardData.getData) { // other browsers
            pastedText = e.originalEvent.clipboardData.getData('text/plain');
        }

        return pastedText;
    }
};

$(document).ready(function() {
	document.addEventListener('readystatechange', function(ev) {
		if (document.readyState === 'complete') {
			// given an HTML element, checks whether is valid or not.
			// in case of HTML Lists, validation succeeds if there is one active 'li' element
			// (having the class 'active')
			var isInvalid = function($field) {
				if (isList($field)) {
					return ($field.find("li[class='active']").length === 0);
				} else {
					return (!$field.val() || $field.val() === "");
				}
			};

			// checks if an HTML element is a valid HTML list
			var isList = function($field) {
				return $field.is("ul") || $field.is("ol");
			};

			// clear error-related status, attributes and surrounding elements from an input field
			var clearInvalidState = function($field) {
				$field.removeClass(FDX.INPUT.erroredInputClass);
				$field.attr("aria-invalid", "false");
				$field.removeAttr("aria-describedby");
				$field.parent().find('.' + FDX.INPUT.validationMessageClass).remove();
			};

			// clean-up <input> invalid state as soon as user type in something
			$('.' + FDX.INPUT.formClass + ' .' + FDX.INPUT.requiredInputClass).on("change, keyup", function() {
				var $element = $(this);
				if ($element.hasClass(FDX.INPUT.erroredInputClass) && !isInvalid($element)) {
					clearInvalidState($element);
				}
			});

			// clean-up invalid state on bootstrap-dropdown as soon as a user make a selection
			$('.' + FDX.components.dropdown.bootstrapDropdownClass + ' a').on('click', function(e) {
				e.preventDefault();
				var $parentItem = $(this).parent(),
					$parentList = $parentItem.parent()
				var $button = $(this).closest('.dropdown-toggle');
				if ($parentList.hasClass(FDX.INPUT.erroredInputClass)) {
					clearInvalidState($parentList);
					$button.next().trigger('focus');
				}
			});

			$('.' + FDX.INPUT.textInputClass).on("focusin", function(e) {
				var $hintField = $(this).children('.' + FDX.INPUT.hintTextFieldClass);
				if ($hintField.length > 0) {
					$hintField.hasClass("hide") ? $hintField.removeClass("hide") : "";
				}
			});

			$('.' + FDX.INPUT.textInputClass).on("focusout", function(e) {
				var $errorField = $(this).children('.' + FDX.INPUT.errorTextFieldClass);
				$errorField.removeClass("show");
			});
			//Form validations. Must have at least on character
			$('.' + FDX.INPUT.formClass + ' :submit').on('click', function(e) {
				e.preventDefault();
				var form = $(this).parents('form:first');
				var fields = $(form).find('.' + FDX.INPUT.requiredInputClass);

				var $firstError = null,
					$alert = null;
				fields.each(function(index) {
					var $field = $(this);

					clearInvalidState($field);
					if (isInvalid($field)) {
						// if invalid, set the 'aria-invalid' attribute to 'true'
						$field.addClass(FDX.INPUT.erroredInputClass).trigger('focus');
						$field.attr("aria-invalid", "true");
						var $errorField = $field.parent().children('.' + FDX.INPUT.errorTextFieldClass);
						var msg = $field.data('errmsg') ? $field.data('errmsg') : FDX.INPUT.validationDefaultMessage;
						// create a container for the error message and link it to the field.
						// id is based on current milliseconds to ensure its uniqueness
						var id = FDX.INPUT.validationAlertSuffix + new Date().getTime();
						$field.attr("aria-describedby", id);
						var id = FDX.INPUT.validationAlertSuffix + new Date().getTime();
						if ($errorField.length != 0) {
							var $hintField = $field.parent().children('.' + FDX.INPUT.hintTextFieldClass);
							var $currentAlert = $errorField.attr("id", id);
							$errorField.addClass("show");
							$hintField.length > 0 ? $hintField.addClass("hide") : "";
						} else {
							var $currentAlert = $("<span />").addClass(FDX.INPUT.validationMessageClass)
								.html(msg).attr("id", id);
							$currentAlert.appendTo($field.parent());
						}

						if ($firstError === null) {
							$firstError = $field;
							$alert = $currentAlert;
						}
					}
				});

				if ($firstError === null)
					form.submit();
				else {
					// set focus to the first invalid field
					if (isList($firstError)) {
						$firstError = $firstError.parent().find("button");
					}
					// set the role to 'alert' to the first invalid field.
					// screen-readers should detect this change and read the text present
					// in this alert.
					$alert.attr("role", "alert");
					$firstError.trigger('focus');

					if (FDX.CUBE && form.parents('.' + FDX.CUBE.activeCubeClass).length > 0) {
						FDX.CUBE.setAppError();
					}
				}
			});

			//Set up date picker
			if (/Android|webOS|iPhone|iPad|iPod|Opera Mini/i.test(navigator.userAgent)) {
				$('.' + FDX.INPUT.datePickerClass).attr("type", "date");
			} else {
				$('.' + FDX.INPUT.datePickerClass).datepicker({
					showAnim: "",
					dayNamesMin: ["S", "M", "T", "W", "T", "F", "S"],
					onSelect: function() {
						var $input = $(this);
						if ($input.hasClass(FDX.INPUT.requiredInputClass)) {
							// clean-up error messages
							clearInvalidState($input);
						}
					}
				});
				// workaround: on window resize, if there is an opened datepicker,
				// it won't show responsiveness. the following code
				// resets its state.
				$(window).on('resize', function() {
					var $field = $(document.activeElement);
					if ($field.is('.hasDatepicker')) {
						$field.datepicker('hide').datepicker('show');
					}
				});
			}

			//Jump to multi tracking if more than on number is pasted on single
			$('.' + FDX.INPUT.singleTrackingClass + ' .' + FDX.INPUT.textInputClass).on('paste', function(e) {
				FDX.INPUT.splitMultiTrackingNumbers(FDX.INPUT.getClipboardData(e), function(list) {
					if (list.length > 1) {
						e.preventDefault();
						FDX.TRACKING.showMultiTracking();
						$('.fxg-tracking-app__multi-tracking .fxg-field__input-text--numbered').first().trigger('focus');
						FDX.INPUT.populateMultiTrackingNumbers(list);
					}
				});
			});

			//Jump to multi tracking if more than on number is pasted on single (Landing Page Traking Apps)
			$('.' + FDX.INPUT.singleTrackingLandingPageClass + ' .' + FDX.INPUT.textInputClass).on('paste', function(e) {
				FDX.INPUT.splitMultiTrackingNumbers(FDX.INPUT.getClipboardData(e), function(list) {
					if (list.length > 1) {
						e.preventDefault();
						FDX.TRACKING.showMultiTrackingLandingPage();
						$('.fxg-landing-tracking-app__multi-tracking .fxg-field__input-text--numbered').first().trigger('focus');
						FDX.INPUT.populateMultiTrackingNumbers(list);
					}
				});
			});

			$('.' + FDX.INPUT.singleTrackingClass + ' .' + FDX.INPUT.textInputClass).on('keydown', function(e) {
				if (e.which == 188 || e.keyCode == 188) {
					if ($(e.target).val() != '') {
						var list = [this.value];
						e.preventDefault();
						FDX.TRACKING.showMultiTracking();
						$('.fxg-tracking-app__multi-tracking .fxg-field__input-text--numbered').first().trigger('focus');
						FDX.INPUT.populateMultiTrackingNumbers(list);
					}
				}
			});

			$('.' + FDX.INPUT.singleTrackingLandingPageClass + ' .' + FDX.INPUT.textInputClass).on('keydown', function(e) {
				if (e.which == 188 || e.keyCode == 188) {
					if ($(e.target).val() != '') {
						var list = [this.value];
						e.preventDefault();
						FDX.TRACKING.showMultiTrackingLandingPage();
						$('.fxg-landing-tracking-app__multi-tracking .fxg-field__input-text--numbered').first().trigger('focus');
						FDX.INPUT.populateMultiTrackingNumbers(list);
					}
				}
			});

			$('.' + FDX.INPUT.datePickerClass).on('keydown', function(e) {
				if (e.which !== 9) {
					e.preventDefault();
				}
			});

			//Multi tracking events
			//On focus 
			$('.' + FDX.INPUT.multiTrackingClass + ' .' + FDX.INPUT.formClass + ',' +
				'.' + FDX.INPUT.multiTrackingLandingPageClass + ' .' + FDX.INPUT.formClass).on('keyup', '.' + FDX.INPUT.numberedInputClass, function(e) {
				var parentRow = $(this).closest('.' + FDX.INPUT.formRowClass);

				//console.log('Parent row log'+ $(this).closest('.' + FDX.INPUT.formRowClass+ ' div input.fxg-field__input-text').val().length);
				if ($(this).closest('.' + FDX.INPUT.formRowClass + ' div input.fxg-field__input-text').val().length >= 0 && e.which !== 9) {
					// calculate the number of existing inputs, by looking for this element's siblings
					var $inputs = $(this).closest('form').find('.' + FDX.INPUT.numberedInputClass),
						index = $inputs.index(this),
						currentCount = $inputs.length,
						// check if this is the last element number-input in this form
						isLast = $(parentRow).next('.' + FDX.INPUT.formRowClass).find('.' + FDX.INPUT.floatingPlaceholderClass).length === 0 ? true : false;

					if (isLast && currentCount < FDX.INPUT.maxInputCount) {
						var $previous = $inputs.eq(index - 1);
						if ($previous.val() === '') {
							return;
						}
						currentCount++;
						var parentForm = $(parentRow).parent();
						var clone = $(parentRow).clone();
						var currentCountPadded = FDX.CORE.pad(currentCount, 2);
						$(clone).find('.' + FDX.INPUT.floatingPlaceholderClass).html("TRACKING NUMBER " + currentCountPadded);
						var $input = $(clone).find('.' + FDX.INPUT.numberedInputClass);
						$input.val('');
						$input.attr('aria-label', FDX.TRACKING.multipleTrackingNumberAltText + ' ' + currentCount);
						$(clone).insertAfter(parentRow);

						if (FDX.TOGGLE)
							FDX.TOGGLE.setActivePaneHeight($('.' + FDX.TOGGLE.toggleActivePanelClass));
					}
				}
				//To remove the field that is newly added when the previous field does not contain value
				if ($(this).closest('.' + FDX.INPUT.formRowClass + ' div input.fxg-field__input-text').val().length === 0 && currentCount > 3 && index == currentCount - 2) {
					parentRow.next('.' + FDX.INPUT.formRowClass).remove();
				}
			});

			//On Tab
			$('.' + FDX.INPUT.multiTrackingClass + ' .' + FDX.INPUT.formClass + ',' +
				'.' + FDX.INPUT.multiTrackingLandingPageClass + ' .' + FDX.INPUT.formClass).on('keydown', '.' + FDX.INPUT.numberedInputClass, function(e) {

				if (e.which == 13 || e.keyCode == 13) {
					if ($(e.target).val() == '') {
						$(':focus').closest('form').find(':submit').trigger('focus');
					} else {
						e.preventDefault();
						$(this).parent().parent().next('.row').find('input').trigger('focus');
					}
				} else if (e.which == 188 || e.keyCode == 188) {

					if ($(e.target).val() == '') {

					} else {
						e.preventDefault();
						$(this).parent().parent().next('.row').find('input').trigger('focus');
					}
				}

			});
			// CHANGE: VMLNAFEDEXW-676 Add listeners for LP Tracking Apps
			//On paste
			$('.' + FDX.INPUT.multiTrackingClass + ' .' + FDX.INPUT.formClass + ',' +
				'.' + FDX.INPUT.multiTrackingLandingPageClass + ' .' + FDX.INPUT.formClass).on('paste', '.' + FDX.INPUT.numberedInputClass, function(e) {
				FDX.INPUT.splitMultiTrackingNumbers(FDX.INPUT.getClipboardData(e), function(list) {
					e.preventDefault();
					FDX.INPUT.populateMultiTrackingNumbers(list);
				});
			});

			//Google Maps autocomplete
			//Set placeholder to blank, otherwise google will place in default. 
			$('.' + FDX.INPUT.inputAutoCompleteClass).attr("placeholder", "");

			//753: Remove focus on Google Auto Complete on scroll. 
			$(window).on('scroll', function() {
				if ($('.pac-container:visible').length > 0) {
					$('.' + FDX.INPUT.inputAutoCompleteClass).trigger('blur');
				}
			});
		}
	});
});
/* This is the FedEx.com Simple Login Wall component javascript file.

 Author: troy.gottier.osv@fedex.com
 Created: 2018-03-27
 */
if (!FDX) {
    var FDX = {};
}
$(document).ready(function() {
	var imageGalleryContainer = $(".fxg-image_gallery");
	if(imageGalleryContainer.length > 0) {
		$.each(imageGalleryContainer, function() {
			var uuid = $(this).attr("data-uuid"),
				unlink = $(this).attr("data-unlink"),
				grow = $(this).attr("data-growattr"),
				children = $(this).find(".image_gallery_item").filter(function() { return !$(this).closest(".inner_gallery").length;});
				$(this).find(".imageGalleryItems_v1").parent().closest('div').css({"display": "flex", "flex-wrap": "wrap"});

			// Adding anchor tag and failover image if image is not valid or invalid anchor tag
            $(".imageGalleryItems_v1").each(function() {
                if($(this).children()[0] == undefined || $(this).children()[0].tagName != 'A') {
                    var atag = document.createElement("a");
                    atag.href = '/content/dam/fedex-com/images/default-image/image-placeholder.jpg';
                    $(this).prepend(atag);
                }
            });

			$.each(children, function() {
				var modalTrigger = $(this).children("a"),
					innerGalleryItems = $(this).find(".inner_gallery").find(".image_gallery_item");				
				
				galleryImageBuilder(modalTrigger);
				
				if(unlink != "yes") {
					modalTrigger.attr("data-fxmodalbox", uuid);
				}
				if(grow == "yes") {
					$(this).css("flex-grow", 1);
				}
				if(innerGalleryItems.length > 0) {
					var num = Math.floor(Math.random() * 99999999) + 1;
					modalTrigger.attr("data-fxmodalbox", uuid + num);
					
					$.each(innerGalleryItems, function() {
						var modalTrigger = $(this).children("a");
						modalTrigger.attr("data-fxmodalbox", uuid + num);
						// build out gallery gallery images. 
						// disabled to save bandwidth for users. 
						// only see these in the modal window and it works off anchors not images
//						galleryImageBuilder(modalTrigger);
						//calling fail over image function for inner gallery items
                        failoverImageCheck(modalTrigger);
                    });
				}
			});
		});
	}
	function galleryImageBuilder(element) {
		// remove the text alowing users to click to go see the image
		element.empty();
		// build the img as a background
		var src = element.attr("href"),			
			caption = element.attr("data-caption");

		element.css("background-image", "url(" + src + ")");
		
		//Adding failover image if image is not valid
        if (src) {
            var failOverImg = new Image();
            failOverImg.src = src;
            failOverImg.addEventListener('error', function() {
                element.css('background-image', 'url(/content/dam/fedex-com/images/default-image/image-placeholder.jpg)');
                element.attr('href', '/content/dam/fedex-com/images/default-image/image-placeholder.jpg');
            });
        }

		if(caption != undefined) {
			element.append("<span class='caption'>" + caption + "</span>");
		}
	} 

    function failoverImageCheck(element) {
		//Adding failover image if inner gallery item image is not valid
        var src = element.attr("href");
        if (src) {
            var failOverImg = new Image();
            failOverImg.src = src;
            failOverImg.addEventListener('error', function() {
                element.attr('href', '/content/dam/fedex-com/images/default-image/image-placeholder.jpg');
            });
        }
    }
});
if (!FDX) {
    var FDX = {};
}

//==================================================
//fxModalBox v1.0.0
//Author: Troy Gottier (troy.gottier.osv@fedex.com)
//==================================================
;(function (window, document, $, undefined) {
 'use strict';

 // fxModalBox requires jQuery
 // =========================================
 if ( !$ ) {
     return;
 }

 // Check if fxModalBox is already initialized
 // ========================================

 if ( $.fn.fxModalBox ) {
     if ( 'fxModalBox' in window ) {
         console.log( 'fxModalBox already has already been initialized' );
     }
     return;
 }

 // Private default settings
 // ========================

 var defaults = {
		 loop : true, // Enable or disable infinite gallery navigation
		 margin : [44, 0], // Space around image, ignored if zoomed-in or viewport width is smaller than 800px
		 gutter : 50, // Horizontal space between slides
		 keyboard : true, // Enable keyboard navigation
		 arrows : true, // Should display navigation arrows at the screen edges
		 infobar : true, // Should display infobar (counter and arrows at the top)
		 toolbar : true, // Should display toolbar (buttons at the top)

     // What buttons should appear in the top right corner.
     // Buttons will be created using templates from `btnTpl` option
     // and they will be placed into toolbar (class="fxModalBox-toolbar"` element)
     buttons : [
         //'slideShow',
         'fullScreen',
         //'thumbs',
         //'share',
         'download',
         //'zoom',
         'close'
     ],
     idleTime : 0, // Detect "idle" time in seconds

     // Should display buttons at top right corner of the content
     // If 'auto' - they will be created for content having type 'html', 'inline' or 'ajax'
     // Use template from `btnTpl.smallBtn` for customization
     smallBtn : 'auto',
     protect : false, // Disable right-click and use simple image protection for images
		modal : false,// Shortcut to make content "modal" - disable keyboard navigtion, hide buttons, etc
		image : {
         // Wait for images to load before displaying
         // Requires predefined image dimensions
         // If 'auto' - will zoom in thumbnail if 'width' and 'height' attributes are found
         preload : "auto"
     },
     ajax : {
         // Object containing settings for ajax request
         settings : {
             // This helps to indicate that request comes from the modal
             // Feel free to change naming
             data : {
                 fxModalBox : true
             }
         }
     },

     iframe : {
         // Iframe template
         tpl : '<iframe id="fxModalBox-frame{rnd}" name="fxModalBox-frame{rnd}" class="fxModalBox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true" src=""></iframe>',

         // Preload iframe before displaying it
         // This allows to calculate iframe content width and height
         // (note: Due to "Same Origin Policy", you can't get cross domain data).
         preload : true,

         // Custom CSS styling for iframe wrapping element
         // You can use this to set custom iframe dimensions
         css : {},

         // Iframe tag attributes
         attr : {
             scrolling : 'auto'
         }
     },
     defaultType : 'image', // Default content type if cannot be detected automatically

     // Open/close animation type
     // Possible values:
     //   false            - disable
     //   "zoom"           - zoom images from/to thumbnail
     //   "fade"
     //   "zoom-in-out"
     //
     animationEffect : "zoom",
		animationDuration : 500, // Duration in ms for open/close animation

     // Should image change opacity while zooming
     // If opacity is "auto", then opacity will be changed if image and thumbnail have different aspect ratios
     zoomOpacity : "auto",

     // Transition effect between slides
     //
     // Possible values:
     //   false            - disable
     //   "fade'
     //   "slide'
     //   "circular'
     //   "tube'
     //   "zoom-in-out'
     //   "rotate'
     //
     transitionEffect : "slide",
     transitionDuration : 366, // Duration in ms for transition animation
     slideClass : '', // Custom CSS class for slide element
     baseClass : '', // Custom CSS class for layout

     // Base template for layout
     baseTpl	:
         '<div class="fxModalBox-container" role="dialog" tabindex="-1">' +
             '<div class="fxModalBox-bg"></div>' +
             '<div class="fxModalBox-inner">' +
                 '<div class="fxModalBox-infobar">' +
                     '<span data-fxModalBox-index></span>&nbsp;/&nbsp;<span data-fxModalBox-count></span>' +
                 '</div>' +
                 '<div class="fxModalBox-toolbar">{{buttons}}</div>' +
                 '<div class="fxModalBox-navigation">{{arrows}}</div>' +
                 '<div class="fxModalBox-stage"></div>' +
                 '<div aria-live="polite" class="fxModalBox-caption-wrap"><div class="fxModalBox-caption"></div></div>' +
             '</div>' +
         '</div>', 
     spinnerTpl : '<div class="fxModalBox-loading"></div>', // Loading indicator template
     errorTpl : '<div class="fxModalBox-error"><p>{{ERROR}}<p></div>', // Error message template

     btnTpl : {
     download : '<a download data-fxModalBox-download class="fxModalBox-button fxModalBox-button--download"' +
                 'title="{{DOWNLOAD}}" target="_blank">' +
                     '<svg viewBox="0 0 40 40">' +
                         '<path d="M20,23 L20,8 L20,23 L13,16 L20,23 L27,16 L20,23 M26,28 L13,28 L27,28 L14,28" />' +
                     '</svg>' +
                 '</a>',

     zoom : '<button data-fxModalBox-zoom class="fxModalBox-button fxModalBox-button--zoom" title="{{ZOOM}}">' +
                     '<svg viewBox="0 0 40 40">' +
                         '<path d="M 18,17 m-8,0 a 8,8 0 1,0 16,0 a 8,8 0 1,0 -16,0 M25,23 L31,29 L25,23" />' +
                     '</svg>' +
                 '</button>',

     close : '<button data-fxModalBox-close class="fxModalBox-button fxModalBox-button--close" title="{{CLOSE}}">' +
                     '<svg viewBox="0 0 40 40">' +
                         '<path d="M10,10 L30,30 M30,10 L10,30" />' +
                     '</svg>' +
                 '</button>',

         // This small close button will be appended to your html/inline/ajax content by default,
         // if "smallBtn" option is not set to false
     smallBtn   : '<button data-fxModalBox-close class="fxModalBox-close-small" title="{{CLOSE}}"></button>',

         // Arrows
     arrowLeft : '<button data-fxModalBox-prev class="fxModalBox-button fxModalBox-button--arrow_left" title="{{PREV}}">' +
                         '<svg viewBox="0 0 40 40">' +
                           '<path d="M23,5 L13,20 L23,35 L13,20 L23,5"></path>' +
                         '</svg>' +
                       '</button>',

     arrowRight : '<button data-fxModalBox-next class="fxModalBox-button fxModalBox-button--arrow_right" title="{{NEXT}}">' +
                       '<svg viewBox="0 0 40 40">' +
                         '<path d="M17,5 L27,20 L17,35 L27,20 L17,5"></path>' +
                       '</svg>' +
                     '</button>'
     },
     parentEl : 'body', // Container is injected into this element


     // Focus handling
     // ==============
     autoFocus : false, // Try to focus on the first focusable element after opening 
     backFocus : true, // Put focus back to active element after closing
     trapFocus : true, // Do not let user to focus on element outside modal content

     // Module specific options
     // =======================
     fullScreen : {
         autoStart : false,
     },

     // Set `touch: false` to disable dragging/swiping
     touch : {
         vertical : true,  // Allow to drag content vertically
         momentum : true   // Continue movement after releasing mouse/touch when panning
     },
     // Hash value when initializing manually,
     // set `false` to disable hash change
     hash : null,

     // Customize or add new media types
     // Example:
     /*
     media : {
         youtube : {
             params : {
                 autoplay : 0
             }
         }
     }
     */
     media : {},
     slideShow : {
         autoStart : false,
         speed     : 4000
     },
     thumbs : {
			autoStart   : true,                  // Display thumbnails on opening
			hideOnClose : true,                   // Hide thumbnail grid when closing animation starts
			parentEl    : '.fxModalBox-container',  // Container is injected into this element
			axis        : 'x'                     // Vertical (y) or horizontal (x) scrolling
		},
     // Use mousewheel to navigate gallery
     // If 'auto' - enabled for images only
     wheel : 'auto',
     // Callbacks
     //==========
     // See Documentation/API/Events for more information
     // Example:
     /*
         afterShow: function( instance, current ) {
              console.info( 'Clicked element:' );
              console.info( current.opts.$orig );
         }
     */
     onInit       : $.noop,  // When instance has been initialized
     beforeLoad   : $.noop,  // Before the content of a slide is being loaded
     afterLoad    : $.noop,  // When the content of a slide is done loading
     beforeShow   : $.noop,  // Before open animation starts
     afterShow    : $.noop,  // When content is done loading and animating
     beforeClose  : $.noop,  // Before the instance attempts to close. Return false to cancel the close.
     afterClose   : $.noop,  // After instance has been closed
     onActivate   : $.noop,  // When instance is brought to front
     onDeactivate : $.noop,  // When other instance has been activated

     // Interaction
     // ===========
     // Use options below to customize taken action when user clicks or double clicks on the fxModalBox area,
     // each option can be string or method that returns value.
     //
     // Possible values:
     //   "close"           - close instance
     //   "next"            - move to next gallery item
     //   "nextOrClose"     - move to next gallery item or close if gallery has only one item
     //   "toggleControls"  - show/hide controls
     //   "zoom"            - zoom image (if loaded)
     //   false             - do nothing

     // Clicked on the content
     clickContent : function( current, event ) {
         return current.type === 'image' ? 'zoom' : false;
     },
     clickSlide : 'close', // Clicked on the slide
     clickOutside : 'close', // Clicked on the background (backdrop) element
     // Same as previous two, but for double click
     dblclickContent : false,
     dblclickSlide   : false,
     dblclickOutside : false,
     // Custom options when mobile device is detected
     // =============================================
     mobile : {
         idleTime : false,
         margin   : 0,

         clickContent : function( current, event ) {
             return current.type === 'image' ? 'toggleControls' : false;
         },
         clickSlide : function( current, event ) {
             return current.type === 'image' ? 'toggleControls' : 'close';
         },
         dblclickContent : function( current, event ) {
             return current.type === 'image' ? 'zoom' : false;
         },
         dblclickSlide : function( current, event ) {
             return current.type === 'image' ? 'zoom' : false;
         }
     },
     // Internationalization
     // ============
     lang : 'en',
     i18n : {
         'en' : {
             CLOSE       : 'Close',
             NEXT        : 'Next',
             PREV        : 'Previous',
             ERROR       : 'The requested content cannot be loaded. <br/> Please try again later.',
             PLAY_START  : 'Start slideshow',
             PLAY_STOP   : 'Pause slideshow',
             FULL_SCREEN : 'Full screen',
             THUMBS      : 'Thumbnails',
             DOWNLOAD    : 'Download',
             SHARE       : 'Share',
             ZOOM        : 'Zoom'
         },
         'de' : {
             CLOSE       : 'Schliessen',
             NEXT        : 'Weiter',
             PREV        : 'Zurck',
             ERROR       : 'Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es spter nochmal.',
             PLAY_START  : 'Diaschau starten',
             PLAY_STOP   : 'Diaschau beenden',
             FULL_SCREEN : 'Vollbild',
             THUMBS      : 'Vorschaubilder',
             DOWNLOAD    : 'Herunterladen',
             SHARE       : 'Teilen',
             ZOOM        : 'Mastab'
         }
     }

 };
 // Few useful variables and methods
 // ================================
 var $W = $(window);
 var $D = $(document);
 var called = 0;

 // Check if an object is a jQuery object and not a native JavaScript object
 // ========================================================================
 var isQuery = function ( obj ) {
     return obj && obj.hasOwnProperty && obj instanceof $;
 };
	
 // Handle multiple browsers for "requestAnimationFrame" and "cancelAnimationFrame"
 // ===============================================================================
 var requestAFrame = (function () {
     return window.requestAnimationFrame ||
             window.webkitRequestAnimationFrame ||
             window.mozRequestAnimationFrame ||
             window.oRequestAnimationFrame ||
             // if all else fails, use setTimeout
             function (callback) {
                 return window.setTimeout(callback, 1000 / 60);
             };
 })();

 // Detect the supported transition-end event property name
 // =======================================================

 var transitionEnd = (function () {
     var t, el = document.createElement("fakeelement");

     var transitions = {
         "transition"      : "transitionend",
         "OTransition"     : "oTransitionEnd",
         "MozTransition"   : "transitionend",
         "WebkitTransition": "webkitTransitionEnd"
     };
     for (t in transitions) {
         if (el.style[t] !== undefined){
             return transitions[t];
         }
     }
     return 'transitionend';
 })();

 // Force redraw on an element.
 // This helps in cases where the browser doesn't redraw an updated element properly.
 // ================================================================================
 var forceRedraw = function( $el ) {
     return ( $el && $el.length && $el[0].offsetHeight );
 };
	
 // Class definition
 // ================

 var FxModalBox = function( content, opts, index ) {
     var self = this;

     self.opts = $.extend( true, { index : index }, $.fxModalBox.defaults, opts || {} );

     if ( $.fxModalBox.isMobile ) {
         self.opts = $.extend( true, {}, self.opts, self.opts.mobile );
     }

     // Exclude buttons option from deep merging
     if ( opts && Array.isArray( opts.buttons ) ) {
         self.opts.buttons = opts.buttons;
     }

     self.id    = self.opts.id || ++called;
     self.group = [];

     self.currIndex = parseInt( self.opts.index, 10 ) || 0;
     self.prevIndex = null;

     self.prevPos = null;
     self.currPos = 0;

     self.firstRun = null;

     // Create group elements from original item collection
     self.createGroup( content );

     if ( !self.group.length ) {
         return;
     }

     // Save last active element and current scroll position
     self.$lastFocus = $(document.activeElement).trigger('blur');

     // Collection of gallery objects
     self.slides = {};

     self.init();
 };

 $.extend(FxModalBox.prototype, {

     // Create DOM structure
     // ====================

     init : function() {
         var self = this,
             firstItem      = self.group[ self.currIndex ],
             firstItemOpts  = firstItem.opts,
             scrollbarWidth = $.fxModalBox.scrollbarWidth,
             $scrollDiv,
             $container,
             buttonStr;

         self.scrollTop  = $D.scrollTop();
         self.scrollLeft = $D.scrollLeft();


         // Hide scrollbars
         // ===============

         if ( !$.fxModalBox.getInstance() ) {
             $( 'body' ).addClass( 'fxModalBox-active' );
             // iOS hack
             if ( /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream ) {
                 // iOS has problems for input elements inside fixed containers,
                 // the workaround is to apply `position: fixed` to `<body>` element,
                 // unfortunately, this makes it lose the scrollbars and forces address bar to appear.
                 if ( firstItem.type !== 'image' ) {
                     $( 'body' ).css( 'top', $( 'body' ).scrollTop() * -1 ).addClass( 'fxModalBox-iosfix' );
                 }
             } else if ( !$.fxModalBox.isMobile && document.body.scrollHeight > window.innerHeight ) {
                 if ( scrollbarWidth === undefined ) {
                     $scrollDiv = $('<div style="width:50px;height:50px;overflow:scroll;" />').appendTo( 'body' );

                     scrollbarWidth = $.fxModalBox.scrollbarWidth = $scrollDiv[0].offsetWidth - $scrollDiv[0].clientWidth;

                     $scrollDiv.remove();
                 }
                 $( 'head' ).append( '<style id="fxModalBox-style-noscroll" type="text/css">.compensate-for-scrollbar { margin-right: ' + scrollbarWidth + 'px; }</style>' );
                 $( 'body' ).addClass( 'compensate-for-scrollbar' );
             }
         }

         // Build html markup and set references
         // ====================================

         // Build html code for buttons and insert into main template
         buttonStr = '';

         $.each( firstItemOpts.buttons, function( index, value ) {
             buttonStr += ( firstItemOpts.btnTpl[ value ] || '' );
         });

         // Create markup from base template, it will be initially hidden to
         // avoid unnecessary work like painting while initializing is not complete
         $container = $(
             self.translate( self,
                 firstItemOpts.baseTpl
                     .replace( '\{\{buttons\}\}', buttonStr )
                     .replace( '\{\{arrows\}\}', firstItemOpts.btnTpl.arrowLeft + firstItemOpts.btnTpl.arrowRight )
             )
         )
             .attr( 'id', 'fxModalBox-container-' + self.id )
             .addClass( 'fxModalBox-is-hidden' )
             .addClass( firstItemOpts.baseClass )
             .data( 'FxModalBox', self )
             .appendTo( firstItemOpts.parentEl );

         // Create object holding references to jQuery wrapped nodes
         self.$refs = {
             container : $container
         };

         [ 'bg', 'inner', 'infobar', 'toolbar', 'stage', 'caption', 'navigation' ].forEach(function(item) {
             self.$refs[ item ] = $container.find( '.fxModalBox-' + item );
         });

         self.trigger( 'onInit' );

         // Enable events, deactive previous instances
         self.activate();

         // Build slides, load and reveal content
         self.jumpTo( self.currIndex );
     },


     // Simple i18n support - replaces object keys found in template
     // with corresponding values
     // ============================================================

     translate : function( obj, str ) {
         var arr = obj.opts.i18n[ obj.opts.lang ];

         return str.replace(/\{\{(\w+)\}\}/g, function(match, n) {
             var value = arr[n];

             if ( value === undefined ) {
                 return match;
             }

             return value;
         });
     },

     // Create array of gallery item objects
     // Check if each object has valid type and content
     // ===============================================

     createGroup : function ( content ) {
         var self  = this;
         var items = $.makeArray( content );

         $.each(items, function( i, item ) {
             var obj  = {},
                 opts = {},
                 $item,
                 type,
                 found,
                 src,
                 srcParts;

             // Step 1 - Make sure we have an object
             // ====================================

             if ( $.isPlainObject( item ) ) {
                 // We probably have manual usage here, something like
                 // $.fxModalBox.open( [ { src : "image.jpg", type : "image" } ] )
                 obj  = item;
                 opts = item.opts || item;
             } else if ( typeof ( item ) === 'object' && $( item ).length ) {

                 // Here we probably have jQuery collection returned by some selector
                 $item = $( item );

                 opts = $item.data();
                 opts = $.extend( {}, opts, opts.options || {} );

                 // Here we store clicked element
                 opts.$orig = $item;

                 obj.src = opts.src || $item.attr( 'href' );

                 // Assume that simple syntax is used, for example:
                 //   `$.fxModalBox.open( $("#test"), {} );`
                 if ( !obj.type && !obj.src ) {
                     obj.type = 'inline';
                     obj.src  = item;
                 }
             } else {
                 // Assume we have a simple html code, for example:
                 //   $.fxModalBox.open( '<div><h1>Hi!</h1></div>' );
                 obj = {
                     type : 'html',
                     src  : item + ''
                 };

             }
             // Each gallery object has full collection of options
             obj.opts = $.extend( true, {}, self.opts, opts );
             // Do not merge buttons array
             if ( Array.isArray( opts.buttons ) ) {
                 obj.opts.buttons = opts.buttons;
             }

             // Step 2 - Make sure we have content type, if not - try to guess
             // ==============================================================
             type = obj.type || obj.opts.type;
             src  = obj.src || '';

             if ( !type && src ) {
                 if ( src.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i) ) {
                     type = 'image';

                 } else if ( src.match(/\.(pdf)((\?|#).*)?$/i) ) {
                     type = 'pdf';

                 } else if ( found = src.match(/\.(mp4|mov|ogv)((\?|#).*)?$/i) ) {
                     type = 'video';
                     if ( !obj.opts.videoFormat ) {
                         obj.opts.videoFormat = 'video/' + ( found[1] === 'ogv' ? 'ogg' : found[1] );
                     }
                 } else if ( src.charAt(0) === '#' ) {
                     type = 'inline';
                 }
             }

             if ( type ) {
                 obj.type = type;

             } else {
                 self.trigger( 'objectNeedsType', obj );
             }
             // Step 3 - Some adjustments
             // =========================

             obj.index = self.group.length;

             // Check if $orig and $thumb objects exist
             if ( obj.opts.$orig && !obj.opts.$orig.length ) {
                 delete obj.opts.$orig;
             }
             if ( !obj.opts.$thumb && obj.opts.$orig ) {
                 obj.opts.$thumb = obj.opts.$orig.find( 'img:first' );
             }
             if ( obj.opts.$thumb && !obj.opts.$thumb.length ) {
                 delete obj.opts.$thumb;
             }
             // "caption" is a "special" option, it can be used to customize caption per gallery item ..
             if ( typeof ( obj.opts.caption ) === 'function' ) {
                 obj.opts.caption = obj.opts.caption.apply( item, [ self, obj ] );
             }
            	if ( typeof ( self.opts.caption ) === 'function' ) {
                 obj.opts.caption = self.opts.caption.apply( item, [ self, obj ] );
             }
             // Make sure we have caption as a string or jQuery object
             if ( !( obj.opts.caption instanceof $ ) ) {
                 obj.opts.caption = obj.opts.caption === undefined ? '' : obj.opts.caption + '';
             }
             // Check if url contains "filter" used to filter the content
             // Example: "ajax.html #something"
             if ( type === 'ajax' ) {
                 srcParts = src.split(/\s+/, 2);
                 if ( srcParts.length > 1 ) {
                     obj.src = srcParts.shift();
                     obj.opts.filter = srcParts.shift();
                 }
             }
             if ( obj.opts.smallBtn == 'auto' ) {
                 if ( $.inArray( type, ['html', 'inline', 'ajax'] ) > -1 ) {
                     obj.opts.toolbar  = false;
                     obj.opts.smallBtn = true;
                 } else {
                     obj.opts.smallBtn = false;
                 }
             }
             // If the type is "pdf", then simply load file into iframe
             if ( type === 'pdf' ) {
                 obj.type = 'iframe';
                 obj.opts.iframe.preload = false;
             }
             // Hide all buttons and disable interactivity for modal items
             if ( obj.opts.modal ) {
                 obj.opts = $.extend(true, obj.opts, {
                     // Remove buttons
                     infobar : 0,
                     toolbar : 0,
                     smallBtn : 0,
                     // Disable keyboard navigation
                     keyboard : 0,
                     // Disable some modules
                     slideShow  : 0,
                     fullScreen : 0,
                     thumbs     : 0,
                     touch      : 0,
                     // Disable click event handlers
                     clickContent    : false,
                     clickSlide      : false,
                     clickOutside    : false,
                     dblclickContent : false,
                     dblclickSlide   : false,
                     dblclickOutside : false
                 });

             }
             // Step 4 - Add processed object to group
             // ======================================
             self.group.push( obj );
         });
     },

     // Attach an event handler functions for:
     //   - navigation buttons
     //   - browser scrolling, resizing;
     //   - focusing
     //   - keyboard
     //   - detect idle
     // ======================================

     addEvents : function() {
         var self = this;
         var rightToLeftValue = $('#imagegalleryRtl').val();
         self.removeEvents();
         // Make navigation elements clickable
         self.$refs.container.on('click.fxmb-close', '[data-fxModalBox-close]', function(e) {
             e.stopPropagation();
             e.preventDefault();
             self.close( e );
         }).on( 'click.fxmb-prev touchend.fxmb-prev', '[data-fxModalBox-prev]', function(e) {
             e.stopPropagation();
             e.preventDefault();
             if (rightToLeftValue === "true") {
    			 self.next();
            }
             else{
             self.previous();
             }
         }).on( 'click.fxmb-next touchend.fxmb-next', '[data-fxModalBox-next]', function(e) {
             e.stopPropagation();
             e.preventDefault();
             if (rightToLeftValue === "true") {
    			 self.previous();
            }
             else{
             self.next();
             }
         }).on( 'click.fxmb', '[data-fxModalBox-zoom]', function(e) {
             // Click handler for zoom button
             self[ self.isScaledDown() ? 'scaleToActual' : 'scaleToFit' ]();
         });

         // Handle page scrolling and browser resizing
         $W.on('orientationchange.fxmb resize.fxmb', function(e) {
             if ( e && e.originalEvent && e.originalEvent.type === "resize" ) {
                 requestAFrame(function() {
                     self.update();
                 });
             } else {
                 self.$refs.stage.hide();
                 setTimeout(function() {
                     self.$refs.stage.show();
                     self.update();
                 }, 600);
             }
         });

         // Trap keyboard focus inside of the modal, so the user does not accidentally tab outside of the modal
         // (a.k.a. "escaping the modal")
         $D.on('focusin.fxmb', function(e) {
             var instance = $.fxModalBox ? $.fxModalBox.getInstance() : null;

             if ( instance.isClosing || !instance.current || !instance.current.opts.trapFocus || $( e.target ).hasClass( 'fxModalBox-container' ) || $( e.target ).is( document ) ) {
                 return;
             }
             if ( instance && $( e.target ).css( 'position' ) !== 'fixed' && !instance.$refs.container.has( e.target ).length ) {
                 e.stopPropagation();
                 instance.focus();
                 // Sometimes page gets scrolled, set it back
                 $W.scrollTop( self.scrollTop ).scrollLeft( self.scrollLeft );
             }
         });

         // Enable keyboard navigation
         $D.on('keydown.fxmb', function (e) {
             var current = self.current,
                 keycode = e.keyCode || e.which;

             if ( !current || !current.opts.keyboard ) {
                 return;
             }
             if ( $(e.target).is('input') || $(e.target).is('textarea') ) {
                 return;
             }
             // Backspace and Esc keys
             if ( keycode === 8 || keycode === 27 ) {
                 e.preventDefault();
                 self.close( e );
                 return;
             }
             // Left arrow and Up arrow
             if ( keycode === 37 || keycode === 38 ) {
                 e.preventDefault();
                 self.previous();
                 return;
             }

             // Righ arrow and Down arrow
             if ( keycode === 39 || keycode === 40 ) {
                 e.preventDefault();
                 self.next();
                 return;
             }
             self.trigger('afterKeydown', e, keycode);
         });

         // Hide controls after some inactivity period
         if ( self.group[ self.currIndex ].opts.idleTime ) {
             self.idleSecondsCounter = 0;
             $D.on('mousemove.fxmb-idle mouseleave.fxmb-idle mousedown.fxmb-idle touchstart.fxmb-idle touchmove.fxmb-idle scroll.fxmb-idle keydown.fxmb-idle', function(e) {
                 self.idleSecondsCounter = 0;
                 if ( self.isIdle ) {
                     self.showControls();
                 }
                 self.isIdle = false;
             });
             self.idleInterval = window.setInterval(function() {
                 self.idleSecondsCounter++;
                 if ( self.idleSecondsCounter >= self.group[ self.currIndex ].opts.idleTime && !self.isDragging ) {
                     self.isIdle = true;
                     self.idleSecondsCounter = 0;

                     self.hideControls();
                 }
             }, 1000);
         }

     },

     // Remove events added by the core
     // ===============================
     removeEvents : function() {
         var self = this;
         $W.off( 'orientationchange.fxmb resize.fxmb' );
         $D.off( 'focusin.fxmb keydown.fxmb .fxmb-idle' );
         this.$refs.container.off( '.fxmb-close .fxmb-prev .fxmb-next' );
			
         if ( self.idleInterval ) {
             window.clearInterval( self.idleInterval );
             self.idleInterval = null;
         }
     },

     // Change to previous gallery item
     // ===============================
     previous : function( duration ) {
         return this.jumpTo( this.currPos - 1, duration );
     },
     // Change to next gallery item
     // ===========================
     next : function( duration ) {
         return this.jumpTo( this.currPos + 1, duration );
     },
     // Switch to selected gallery item
     // ===============================
     jumpTo : function ( pos, duration, slide ) {
         var self = this,
             firstRun,
             loop,
             current,
             previous,
             canvasWidth,
             currentPos,
             transitionProps;
         var groupLen = self.group.length;
         if ( self.isDragging || self.isClosing || ( self.isAnimating && self.firstRun ) ) {
             return;
         }
         pos  = parseInt( pos, 10 );
         loop = self.current ? self.current.opts.loop : self.opts.loop;
         if ( !loop && ( pos < 0 || pos >= groupLen ) ) {
             return false;
         }
         firstRun = self.firstRun = ( self.firstRun === null );
         if ( groupLen < 2 && !firstRun && !!self.isDragging ) {
             return;
         }
         previous = self.current;
         self.prevIndex = self.currIndex;
         self.prevPos   = self.currPos;
         // Create slides
         current = self.createSlide( pos );
         if ( groupLen > 1 ) {
             if ( loop || current.index > 0 ) {
                 self.createSlide( pos - 1 );
             }
             if ( loop || current.index < groupLen - 1 ) {
                 self.createSlide( pos + 1 );
             }
         }
         self.current   = current;
         self.currIndex = current.index;
         self.currPos   = current.pos;
         self.trigger( 'beforeShow', firstRun );
         self.updateControls();
         currentPos = $.fxModalBox.getTranslate( current.$slide );
         current.isMoved        = ( currentPos.left !== 0 || currentPos.top !== 0 ) && !current.$slide.hasClass( 'fxModalBox-animated' );
         current.forcedDuration = undefined;

         if ( FDX.services.utils.isNumeric( duration ) ) {
             current.forcedDuration = duration;
         } else {
             duration = current.opts[ firstRun ? 'animationDuration' : 'transitionDuration' ];
         }
         duration = parseInt( duration, 10 );
         // Fresh start - reveal container, current slide and start loading content
         if ( firstRun ) {
             if ( current.opts.animationEffect && duration ) {
                 self.$refs.container.css( 'transition-duration', duration + 'ms' );
             }
             self.$refs.container.removeClass( 'fxModalBox-is-hidden' );
             forceRedraw( self.$refs.container );
             self.$refs.container.addClass( 'fxModalBox-is-open' );
             // Make first slide visible (to display loading icon, if needed)
             current.$slide.addClass( 'fxModalBox-slide--current' );
             self.loadSlide( current );
             self.preload( 'image' );
             return;
         }
         // Clean up
         $.each(self.slides, function( index, slide ) {
             $.fxModalBox.stop( slide.$slide );
         });

         // Make current that slide is visible even if content is still loading
         current.$slide.removeClass( 'fxModalBox-slide--next fxModalBox-slide--previous' ).addClass( 'fxModalBox-slide--current' );

         // If slides have been dragged, animate them to correct position
         if ( current.isMoved ) {
             canvasWidth = Math.round( current.$slide.width() );
             $.each(self.slides, function( index, slide ) {
                 var pos = slide.pos - current.pos;
                 $.fxModalBox.animate( slide.$slide, {
                     top  : 0,
                     left : ( pos * canvasWidth ) + ( pos * slide.opts.gutter )
                 }, duration, function() {
                     slide.$slide.removeAttr('style').removeClass( 'fxModalBox-slide--next fxModalBox-slide--previous' );
                     if ( slide.pos === self.currPos ) {
                         current.isMoved = false;
                         self.complete();
                     }
                 });
             });
         } else {
             self.$refs.stage.children().removeAttr( 'style' );
         }
         // Start transition that reveals current content
         // or wait when it will be loaded
         if ( current.isLoaded ) {
             self.revealContent( current );
         } else {
             self.loadSlide( current );
         }
         self.preload( 'image' );
         if ( previous.pos === current.pos ) {
             return;
         }
         // Handle previous slide
         // =====================
         transitionProps = 'fxModalBox-slide--' + ( previous.pos > current.pos ? 'next' : 'previous' );
         previous.$slide.removeClass( 'fxModalBox-slide--complete fxModalBox-slide--current fxModalBox-slide--next fxModalBox-slide--previous' );
         previous.isComplete = false;
         if ( !duration || ( !current.isMoved && !current.opts.transitionEffect ) ) {
             return;
         }
         if ( current.isMoved ) {
             previous.$slide.addClass( transitionProps );
         } else {
             transitionProps = 'fxModalBox-animated ' + transitionProps + ' fxModalBox-fx-' + current.opts.transitionEffect;
             $.fxModalBox.animate( previous.$slide, transitionProps, duration, function() {
                 previous.$slide.removeClass( transitionProps ).removeAttr( 'style' );
             });
         }
     },
     // Create new "slide" element
     // These are gallery items  that are actually added to DOM
     // =======================================================
     createSlide : function( pos ) {
         var self = this;
         var $slide;
         var index;

         index = pos % self.group.length;
         index = index < 0 ? self.group.length + index : index;

         if ( !self.slides[ pos ] && self.group[ index ] ) {
             $slide = $('<div class="fxModalBox-slide"></div>').appendTo( self.$refs.stage );
             self.slides[ pos ] = $.extend( true, {}, self.group[ index ], {
                 pos      : pos,
                 $slide   : $slide,
                 isLoaded : false,
             });
             self.updateSlide( self.slides[ pos ] );
         }
         return self.slides[ pos ];
     },

     // Scale image to the actual size of the image
     // ===========================================

     scaleToActual : function( x, y, duration ) {
         var self = this;
         var current = self.current;
         var $what   = current.$content;
         var imgPos, posX, posY, scaleX, scaleY;
         var canvasWidth  = parseInt( current.$slide.width(), 10 );
         var canvasHeight = parseInt( current.$slide.height(), 10 );
         var newImgWidth  = current.width;
         var newImgHeight = current.height;

         if ( !( current.type == 'image' && !current.hasError) || !$what || self.isAnimating ) {
             return;
         }

         $.fxModalBox.stop( $what );
         self.isAnimating = true;
         x = x === undefined ? canvasWidth  * 0.5  : x;
         y = y === undefined ? canvasHeight * 0.5  : y;
         imgPos = $.fxModalBox.getTranslate( $what );
         scaleX  = newImgWidth  / imgPos.width;
         scaleY  = newImgHeight / imgPos.height;
         // Get center position for original image
         posX = ( canvasWidth * 0.5  - newImgWidth * 0.5 );
         posY = ( canvasHeight * 0.5 - newImgHeight * 0.5 );
         // Make sure image does not move away from edges
         if ( newImgWidth > canvasWidth ) {
             posX = imgPos.left * scaleX - ( ( x * scaleX ) - x );
             if ( posX > 0 ) {
                 posX = 0;
             }
             if ( posX <  canvasWidth - newImgWidth ) {
                 posX = canvasWidth - newImgWidth;
             }
         }
         if ( newImgHeight > canvasHeight) {
             posY = imgPos.top  * scaleY - ( ( y * scaleY ) - y );
             if ( posY > 0 ) {
                 posY = 0;
             }
             if ( posY <  canvasHeight - newImgHeight ) {
                 posY = canvasHeight - newImgHeight;
             }
         }
         self.updateCursor( newImgWidth, newImgHeight );
         $.fxModalBox.animate( $what, {
             top    : posY,
             left   : posX,
             scaleX : scaleX,
             scaleY : scaleY
         }, duration || 330, function() {
             self.isAnimating = false;
         });
         // Stop slideshow
         if ( self.SlideShow && self.SlideShow.isActive ) {
             self.SlideShow.stop();
         }
     },

     // Scale image to fit inside parent element
     // ========================================
     scaleToFit : function( duration ) {
         var self = this;
         var current = self.current;
         var $what   = current.$content;
         var end;
         if ( !( current.type == 'image' && !current.hasError) || !$what || self.isAnimating ) {
             return;
         }
         $.fxModalBox.stop( $what );
         self.isAnimating = true;
         end = self.getFitPos( current );
         self.updateCursor( end.width, end.height );
         $.fxModalBox.animate( $what, {
             top    : end.top,
             left   : end.left,
             scaleX : end.width  / $what.width(),
             scaleY : end.height / $what.height()
         }, duration || 330, function() {
             self.isAnimating = false;
         });
     },
     // Calculate image size to fit inside viewport
     // ===========================================
     getFitPos : function( slide ) {
         var self  = this;
         var $what = slide.$content;
         var imgWidth  = slide.width;
         var imgHeight = slide.height;
         var margin = slide.opts.margin;
         var canvasWidth, canvasHeight, minRatio, width, height;
         if ( !$what || !$what.length || ( !imgWidth && !imgHeight) ) {
             return false;
         }
         // Convert "margin to CSS style: [ top, right, bottom, left ]
         if ( typeof ( margin ) === "number" ) {
             margin = [ margin, margin ];
         }
         if ( margin.length == 2 ) {
             margin = [ margin[0], margin[1], margin[0], margin[1] ];
         }
         // We can not use $slide width here, because it can have different diemensions while in transiton
         canvasWidth  = parseInt( self.$refs.stage.width(), 10 )  - ( margin[ 1 ] + margin[ 3 ] );
         canvasHeight = parseInt( self.$refs.stage.height(), 10 ) - ( margin[ 0 ] + margin[ 2 ] );
         minRatio = Math.min(1, canvasWidth / imgWidth, canvasHeight / imgHeight );
         width  = Math.floor( minRatio * imgWidth );
         height = Math.floor( minRatio * imgHeight );
         // Use floor rounding to make sure it really fits
         return {
             top    : Math.floor( ( canvasHeight - height ) * 0.5 ) + margin[ 0 ],
             left   : Math.floor( ( canvasWidth  - width )  * 0.5 ) + margin[ 3 ],
             width  : width,
             height : height
         };
     },
     // Update content size and position for all slides
     // ==============================================
     update : function() {
         var self = this;
         $.each( self.slides, function( key, slide ) {
             self.updateSlide( slide );
         });
     },
     // Update slide content position and size
     // ======================================
     updateSlide : function( slide, duration ) {
         var self  = this,
             $what = slide && slide.$content;
         if ( $what && ( slide.width || slide.height ) ) {
             self.isAnimating = false;
             $.fxModalBox.stop( $what );
             $.fxModalBox.setTranslate( $what, self.getFitPos( slide ) );
             if ( slide.pos === self.currPos ) {
                 self.updateCursor();
             }
         }
         slide.$slide.trigger( 'refresh' );
         self.trigger( 'onUpdate', slide );
     },
     // Horizontally center slide
     // =========================
     centerSlide : function( slide, duration ) {
         var self  = this, canvasWidth, pos;
         if ( self.current ) {
             canvasWidth = Math.round( slide.$slide.width() );
             pos = slide.pos - self.current.pos;
             $.fxModalBox.animate( slide.$slide, {
                 top  : 0,
                 left : ( pos * canvasWidth ) + ( pos * slide.opts.gutter ),
                 opacity : 1
             }, duration === undefined ? 0 : duration, null, false);
         }
     },
     // Update cursor style depending if content can be zoomed
     // ======================================================
     updateCursor : function( nextWidth, nextHeight ) {
         var self = this;
         var isScaledDown;
         var $container = self.$refs.container.removeClass( 'fxModalBox-is-zoomable fxModalBox-can-zoomIn fxModalBox-can-drag fxModalBox-can-zoomOut' );
         if ( !self.current || self.isClosing ) {
             return;
         }
         if ( self.isZoomable() ) {
             $container.addClass( 'fxModalBox-is-zoomable' );
             if ( nextWidth !== undefined && nextHeight !== undefined ) {
                 isScaledDown = nextWidth < self.current.width && nextHeight < self.current.height;
             } else {
                 isScaledDown = self.isScaledDown();
             }
             if ( isScaledDown ) {
                 // If image is scaled down, then, obviously, it can be zoomed to full size
                 $container.addClass( 'fxModalBox-can-zoomIn' );
             } else {
                 if ( self.current.opts.touch ) {
                     // If image size ir largen than available available and touch module is not disable,
                     // then user can do panning
                     $container.addClass( 'fxModalBox-can-drag' );
                 } else {
                     $container.addClass( 'fxModalBox-can-zoomOut' );
                 }
             }
         } else if ( self.current.opts.touch ) {
             $container.addClass( 'fxModalBox-can-drag' );
         }
     },
     // Check if current slide is zoomable
     // ==================================
     isZoomable : function() {
         var self = this;
         var current = self.current;
         var fitPos;
         if ( !current || self.isClosing ) {
             return;
         }
         // Assume that slide is zoomable if
         //   - image is loaded successfuly
         //   - click action is "zoom"
         //   - actual size of the image is smaller than available area
         if ( current.type === 'image' && current.isLoaded && !current.hasError &&
             ( current.opts.clickContent === 'zoom' || ( typeof current.opts.clickContent === 'function' && current.opts.clickContent( current ) ===  "zoom" ) )
         ) {
             fitPos = self.getFitPos( current );
             if ( current.width > fitPos.width || current.height > fitPos.height ) {
                 return true;
             }
         }
         return false;
     },
     // Check if current image dimensions are smaller than actual
     // =========================================================
     isScaledDown : function() {
         var self = this;
         var current = self.current;
         var $what   = current.$content;
         var rez = false;
         if ( $what ) {
             rez = $.fxModalBox.getTranslate( $what );
             rez = rez.width < current.width || rez.height < current.height;
         }
         return rez;
     },
     // Check if image dimensions exceed parent element
     // ===============================================
     canPan : function() {
         var self = this;
         var current = self.current;
         var $what   = current.$content;
         var rez = false;
         if ( $what ) {
             rez = self.getFitPos( current );
             rez = Math.abs( $what.width() - rez.width ) > 1  || Math.abs( $what.height() - rez.height ) > 1;
         }
         return rez;
     },
     // Load content into the slide
     // ===========================
     loadSlide : function( slide ) {
         var self = this, type, $slide;
         var ajaxLoad;
         if ( slide.isLoading ) {
             return;
         }
         if ( slide.isLoaded ) {
             return;
         }
         slide.isLoading = true;
         self.trigger( 'beforeLoad', slide );
         type   = slide.type;
         $slide = slide.$slide;
         $slide
             .off( 'refresh' )
             .trigger( 'onReset' )
             .addClass( 'fxModalBox-slide--' + ( type || 'unknown' ) )
             .addClass( slide.opts.slideClass );
         // Create content depending on the type
         switch ( type ) {
             case 'image':
                 self.setImage( slide );
             break;
             case 'iframe':
                 self.setIframe( slide );
             break;
             case 'html':
                 self.setContent( slide, slide.src || slide.content );
             break;
             case 'inline':
                 if ( $( slide.src ).length ) {
                     self.setContent( slide, $( slide.src ) );
                 } else {
                     self.setError( slide );
                 }
             break;
             case 'ajax':
                 self.showLoading( slide );
                 ajaxLoad = $.ajax( $.extend( {}, slide.opts.ajax.settings, {
                     url : slide.src,
                     success : function ( data, textStatus ) {
                         if ( textStatus === 'success' ) {
                             self.setContent( slide, data );
                         }
                     },
                     error : function ( jqXHR, textStatus ) {
                         if ( jqXHR && textStatus !== 'abort' ) {
                             self.setError( slide );
                         }
                     }
                 }));
                 $slide.one( 'onReset', function () {
                     ajaxLoad.abort();
                 });
             break;
             case 'video' :
                 self.setContent( slide,
                     '<video controls>' +
                       '<source src="' + slide.src + '" type="' + slide.opts.videoFormat + '">' +
                         'Your browser doesn\'t support HTML5 video' +
                     '</video>'
                 );
             break;
             default:
                 self.setError( slide );
             break;
         }
         return true;
     },


     // Use thumbnail image, if possible
     // ================================
     setImage : function( slide ) {
         var self   = this;
         var srcset = slide.opts.srcset || slide.opts.image.srcset;
         var found, temp, pxRatio, windowWidth;
         // If we have "srcset", then we need to find matching "src" value.
         // This is necessary, because when you set an src attribute, the browser will preload the image
         // before any javascript or even CSS is applied.
         if ( srcset ) {
             pxRatio     = window.devicePixelRatio || 1;
             windowWidth = window.innerWidth  * pxRatio;
             temp = srcset.split(',').map(function ( el ) {
         		var ret = {};
         		el.trim().split(/\s+/).forEach(function ( el, i ) {
                     var value = parseInt( el.substring(0, el.length - 1), 10 );
         			if ( i === 0 ) {
         				return ( ret.url = el );
         			}
                     if ( value ) {
                         ret.value   = value;
                         ret.postfix = el[ el.length - 1 ];
                     }
         		});
         		return ret;
         	});
             // Sort by value
             temp.sort(function (a, b) {
               return a.value - b.value;
             });
             // Ok, now we have an array of all srcset values
             for ( var j = 0; j < temp.length; j++ ) {
                 var el = temp[ j ];
                 if ( ( el.postfix === 'w' && el.value >= windowWidth ) || ( el.postfix === 'x' && el.value >= pxRatio ) ) {
                     found = el;
                     break;
                 }
             }
             // If not found, take the last one
             if ( !found && temp.length ) {
                 found = temp[ temp.length - 1 ];
             }
             if ( found ) {
                 slide.src = found.url;
                 // If we have default width/height values, we can calculate height for matching source
                 if ( slide.width && slide.height && found.postfix == 'w' ) {
                     slide.height = ( slide.width / slide.height ) * found.value;
                     slide.width  = found.value;
                 }
             }
         }
         // This will be wrapper containing both ghost and actual image
         slide.$content = $('<div class="fxModalBox-image-wrap"></div>')
             .addClass( 'fxModalBox-is-hidden' )
             .appendTo( slide.$slide );
         // If we have a thumbnail, we can display it while actual image is loading
         // Users will not stare at black screen and actual image will appear gradually
         if ( slide.opts.preload !== false && slide.opts.width && slide.opts.height && ( slide.opts.thumb || slide.opts.$thumb ) ) {
             slide.width  = slide.opts.width;
             slide.height = slide.opts.height;
             slide.$ghost = $('<img />')
                 .one('error', function() {
                     $(this).remove();
                     slide.$ghost = null;
                     self.setBigImage( slide );
                 })
                 .one('load', function() {
                     self.afterLoad( slide );
                     self.setBigImage( slide );
                 })
                 .addClass( 'fxModalBox-image' )
                 .appendTo( slide.$content )
                 .attr( 'src', slide.opts.thumb || slide.opts.$thumb.attr( 'src' ) );
         } else {
             self.setBigImage( slide );
         }
     },
     // Create full-size image
     // ======================
     setBigImage : function ( slide ) {
         var self = this;
         var $img = $('<img />');
         slide.$image = $img
             .one('error', function() {
                 self.setError( slide );
             })
             .one('load', function() {
                 // Clear timeout that checks if loading icon needs to be displayed
                 clearTimeout( slide.timouts );
                 slide.timouts = null;
                 if ( self.isClosing ) {
                     return;
                 }
                 slide.width  = slide.opts.width  || this.naturalWidth;
                 slide.height = slide.opts.height || this.naturalHeight;
                 if ( slide.opts.image.srcset ) {
                     $img.attr( 'sizes', '100vw' ).attr( 'srcset', slide.opts.image.srcset );
                 }
                 self.hideLoading( slide );
                 if ( slide.$ghost ) {
                     slide.timouts = setTimeout(function() {
                         slide.timouts = null;
                         slide.$ghost.hide();
                     }, Math.min( 300, Math.max( 1000, slide.height / 1600 ) ) );
                 } else {
                     self.afterLoad( slide );
                 }
             })
             .addClass( 'fxModalBox-image' )
             .attr('src', slide.src)
             .attr('alt', slide.opts.$orig[0].dataset.alt)
             .attr('title', slide.opts.$orig[0].title)
             .appendTo( slide.$content );
         
			if ( ( $img[0].complete || $img[0].readyState == "complete" ) && $img[0].naturalWidth && $img[0].naturalHeight ) {
               $img.trigger( 'load' );
         } else if( $img[0].error ) {
              $img.trigger( 'error' );
         } else {
             slide.timouts = setTimeout(function() {
                 if ( !$img[0].complete && !slide.hasError ) {
                     self.showLoading( slide );
                 }
             }, 100);
         }
     },

     // Create iframe wrapper, iframe and bindings
     // ==========================================
     setIframe : function( slide ) {
         var self	= this,
             opts    = slide.opts.iframe,
             $slide	= slide.$slide,
             $iframe;
         slide.$content = $('<div class="fxModalBox-content' + ( opts.preload ? ' fxModalBox-is-hidden' : '' ) + '"></div>')
             .css( opts.css )
             .appendTo( $slide );
         $iframe = $( opts.tpl.replace(/\{rnd\}/g, new Date().getTime()) )
             .attr( opts.attr )
             .appendTo( slide.$content );
         if ( opts.preload ) {
             self.showLoading( slide );
             // Unfortunately, it is not always possible to determine if iframe is successfully loaded
             // (due to browser security policy)
             $iframe.on('load.fxmb error.fxmb', function(e) {
                 this.isReady = 1;
                 slide.$slide.trigger( 'refresh' );
                 self.afterLoad( slide );
             });
             // Recalculate iframe content size
             // ===============================
             $slide.on('refresh.fxmb', function() {
                 var $wrap = slide.$content,
                     frameWidth  = opts.css.width,
                     frameHeight = opts.css.height,
                     scrollWidth,
                     $contents,
                     $body;
                 if ( $iframe[0].isReady !== 1 ) {
                     return;
                 }
                 // Check if content is accessible,
                 // it will fail if frame is not with the same origin
                 try {
                     $contents = $iframe.contents();
                     $body     = $contents.find('body');
                 } catch (ignore) {}
                 // Calculate dimensions for the wrapper
                 if ( $body && $body.length ) {
                     if ( frameWidth === undefined ) {
                         scrollWidth = $iframe[0].contentWindow.document.documentElement.scrollWidth;
                         frameWidth = Math.ceil( $body.outerWidth(true) + ( $wrap.width() - scrollWidth ) );
                         frameWidth += $wrap.outerWidth() - $wrap.innerWidth();
                     }
                     if ( frameHeight === undefined ) {
                         frameHeight = Math.ceil( $body.outerHeight(true) );
                         frameHeight += $wrap.outerHeight() - $wrap.innerHeight();
                     }
                     // Resize wrapper to fit iframe content
                     if ( frameWidth ) {
                         $wrap.width( frameWidth );
                     }
                     if ( frameHeight ) {
                         $wrap.height( frameHeight );
                     }
                 }
                 $wrap.removeClass( 'fxModalBox-is-hidden' );
             });
         } else {
             this.afterLoad( slide );
         }
         $iframe.attr( 'src', slide.src );
         if ( slide.opts.smallBtn === true ) {
             slide.$content.prepend( self.translate( slide, slide.opts.btnTpl.smallBtn ) );
         }
         // Remove iframe if closing or changing gallery item
         $slide.one( 'onReset', function () {
             // This helps IE not to throw errors when closing
             try {
                 $( this ).find( 'iframe' ).hide().attr( 'src', '//about:blank' );

             } catch ( ignore ) {}
             $( this ).empty();
             slide.isLoaded = false;
         });
     },
     // Wrap and append content to the slide
     // ======================================
     setContent : function ( slide, content ) {
         var self = this;
         if ( self.isClosing ) {
             return;
         }
         self.hideLoading( slide );
         slide.$slide.empty();
         if ( isQuery( content ) && content.parent().length ) {
             // If content is a jQuery object, then it will be moved to the slide.
             // The placeholder is created so we will know where to put it back.
             // If user is navigating gallery fast, then the content might be already inside fxModalBox
             // ===================================================================
             // Make sure content is not already moved to fxModalBox
             content.parent( '.fxModalBox-slide--inline' ).trigger( 'onReset' );
             // Create temporary element marking original place of the content
             slide.$placeholder = $( '<div></div>' ).hide().insertAfter( content );
             // Make sure content is visible
             content.css('display', 'inline-block');
         } else if ( !slide.hasError ) {
             // If content is just a plain text, try to convert it to html
             if ( typeof ( content ) === 'string' ) {
                 content = $('<div>').append( (content) ? content.trim() : "" ).contents();
                 // If we have text node, then add wrapping element to make vertical alignment work
                 if ( content[0].nodeType === 3 ) {
                     content = $('<div>').html( content );
                 }
             }
             // If "filter" option is provided, then filter content
             if ( slide.opts.filter ) {
                 content = $('<div>').html( content ).find( slide.opts.filter );
             }
         }
         slide.$slide.one('onReset', function () {
             // Pause all html5 video/audio
             $( this ).find( 'video,audio' ).trigger( 'pause' );
             // Put content back
             if ( slide.$placeholder ) {
                 slide.$placeholder.after( content.hide() ).remove();
                 slide.$placeholder = null;
             }
             // Remove custom close button
             if ( slide.$smallBtn ) {
                 slide.$smallBtn.remove();
                 slide.$smallBtn = null;
             }
             // Remove content and mark slide as not loaded
             if ( !slide.hasError ) {
                 $(this).empty();
                 slide.isLoaded = false;
             }
         });
         slide.$content = $( content ).appendTo( slide.$slide );
         this.afterLoad( slide );
     },
     // Display error message
     // =====================
     setError : function ( slide ) {
         slide.hasError = true;
         slide.$slide.removeClass( 'fxModalBox-slide--' + slide.type );
         this.setContent( slide, this.translate( slide, slide.opts.errorTpl ) );
     },
     // Show loading icon inside the slide
     // ==================================
     showLoading : function( slide ) {
         var self = this;
         slide = slide || self.current;
         if ( slide && !slide.$spinner ) {
             slide.$spinner = $( self.opts.spinnerTpl ).appendTo( slide.$slide );
         }
     },
     // Remove loading icon from the slide
     // ==================================
     hideLoading : function( slide ) {
         var self = this;
         slide = slide || self.current;
         if ( slide && slide.$spinner ) {
             slide.$spinner.remove();
             delete slide.$spinner;
         }
     },
     // Adjustments after slide content has been loaded
     // ===============================================
     afterLoad : function( slide ) {
         var self = this;
         if ( self.isClosing ) {
             return;
         }
         slide.isLoading = false;
         slide.isLoaded  = true;
         self.trigger( 'afterLoad', slide );
         self.hideLoading( slide );
         if ( slide.opts.smallBtn && !slide.$smallBtn ) {
             slide.$smallBtn = $( self.translate( slide, slide.opts.btnTpl.smallBtn ) ).appendTo( slide.$content.filter('div,form').first() );
         }
         if ( slide.opts.protect && slide.$content && !slide.hasError ) {
             // Disable right click
             slide.$content.on( 'contextmenu.fxmb', function( e ) {
                  if ( e.button == 2 ) {
                      e.preventDefault();
                  }
                 return true;
             });
             // Add fake element on top of the image
             // This makes a bit harder for user to select image
             if ( slide.type === 'image' ) {
                 $( '<div class="fxModalBox-spaceball"></div>' ).appendTo( slide.$content );
             }
         }
         self.revealContent( slide );
     },
     // Make content visible
     // This method is called right after content has been loaded or
     // user navigates gallery and transition should start
     // ============================================================
     revealContent : function( slide ) {
         var self   = this;
         var $slide = slide.$slide;
         var effect, effectClassName, duration, opacity, end, start = false;
         effect   = slide.opts[ self.firstRun ? 'animationEffect'   : 'transitionEffect' ];
         duration = slide.opts[ self.firstRun ? 'animationDuration' : 'transitionDuration' ];
         duration = parseInt( slide.forcedDuration === undefined ? duration : slide.forcedDuration, 10 );
         if ( slide.isMoved || slide.pos !== self.currPos || !duration ) {
             effect = false;
         }
         // Check if can zoom
         if ( effect === 'zoom' && !( slide.pos === self.currPos && duration && slide.type === 'image' && !slide.hasError && ( start = self.getThumbPos( slide ) ) ) ) {
             effect = 'fade';
         }
         // Zoom animation
         // ==============
         if ( effect === 'zoom' ) {
             end = self.getFitPos( slide );
             end.scaleX = end.width  / start.width;
             end.scaleY = end.height / start.height;
             delete end.width;
             delete end.height;
             // Check if we need to animate opacity
             opacity = slide.opts.zoomOpacity;
             if ( opacity == 'auto' ) {
                 opacity = Math.abs( slide.width / slide.height - start.width / start.height ) > 0.1;
             }
             if ( opacity ) {
                 start.opacity = 0.1;
                 end.opacity   = 1;
             }
             // Draw image at start position
             $.fxModalBox.setTranslate( slide.$content.removeClass( 'fxModalBox-is-hidden' ), start );
             forceRedraw( slide.$content );
             // Start animation
             $.fxModalBox.animate( slide.$content, end, duration, function() {
                 self.complete();
             });
             return;
         }
         self.updateSlide( slide );
         // Simply show content
         // ===================
         if ( !effect ) {
             forceRedraw( $slide );
             slide.$content.removeClass( 'fxModalBox-is-hidden' );
             if ( slide.pos === self.currPos ) {
                 self.complete();
             }
             return;
         }
         $.fxModalBox.stop( $slide );
         effectClassName = 'fxModalBox-animated fxModalBox-slide--' + ( slide.pos >= self.prevPos ? 'next' : 'previous' ) + ' fxModalBox-fx-' + effect;
         $slide.removeAttr( 'style' ).removeClass( 'fxModalBox-slide--current fxModalBox-slide--next fxModalBox-slide--previous' ).addClass( effectClassName );
         slide.$content.removeClass( 'fxModalBox-is-hidden' );
         //Force redraww for CSS3 transitions
         forceRedraw( $slide );
         $.fxModalBox.animate( $slide, 'fxModalBox-slide--current', duration, function(e) {
             $slide.removeClass( effectClassName ).removeAttr( 'style' );
             if ( slide.pos === self.currPos ) {
                 self.complete();
             }
         }, true);
     },
     // Check if we can and have to zoom from thumbnail
     //================================================
     getThumbPos : function( slide ) {
         var self = this;
         var rez  = false;
         // Check if element is inside the viewport by at least 1 pixel
         var isElementVisible = function( $el ) {
             var element = $el[0];
             var elementRect = element.getBoundingClientRect();
             var parentRects = [];
             var visibleInAllParents;
             while ( element.parentElement !== null ) {
                 if ( $(element.parentElement).css('overflow') === 'hidden'  || $(element.parentElement).css('overflow') === 'auto' ) {
                     parentRects.push(element.parentElement.getBoundingClientRect());
                 }
                 element = element.parentElement;
             }
             visibleInAllParents = parentRects.every(function(parentRect){
                 var visiblePixelX = Math.min(elementRect.right, parentRect.right) - Math.max(elementRect.left, parentRect.left);
                 var visiblePixelY = Math.min(elementRect.bottom, parentRect.bottom) - Math.max(elementRect.top, parentRect.top);

                 return visiblePixelX > 0 && visiblePixelY > 0;
             });
             return visibleInAllParents &&
                 elementRect.bottom > 0 && elementRect.right > 0 &&
                 elementRect.left < $(window).width() && elementRect.top < $(window).height();
         };
         var $thumb   = slide.opts.$thumb;
         var thumbPos = $thumb ? $thumb.offset() : 0;
         var slidePos;
         if ( thumbPos && $thumb[0].ownerDocument === document && isElementVisible( $thumb ) ) {
             slidePos = self.$refs.stage.offset();
             rez = {
                 top    : thumbPos.top  - slidePos.top  + parseFloat( $thumb.css( "border-top-width" ) || 0 ),
                 left   : thumbPos.left - slidePos.left + parseFloat( $thumb.css( "border-left-width" ) || 0 ),
                 width  : $thumb.width(),
                 height : $thumb.height(),
                 scaleX : 1,
                 scaleY : 1
             };
         }
         return rez;
     },
     // Final adjustments after current gallery item is moved to position
     // and it`s content is loaded
     // ==================================================================

     complete : function() {
         var self = this,
             current = self.current,
             slides  = {},
             promise;
         if ( current.isMoved || !current.isLoaded || current.isComplete ) {
             return;
         }
         current.isComplete = true;
         current.$slide.siblings().trigger( 'onReset' );
         self.preload( 'inline' );
         // Trigger any CSS3 transiton inside the slide
         forceRedraw( current.$slide );
         current.$slide.addClass( 'fxModalBox-slide--complete' );
         // Remove unnecessary slides
         $.each( self.slides, function( key, slide ) {
             if ( slide.pos >= self.currPos - 1 && slide.pos <= self.currPos + 1 ) {
                 slides[ slide.pos ] = slide;
             } else if ( slide ) {
                 $.fxModalBox.stop( slide.$slide );
                 slide.$slide.off().remove();
             }
         });
         self.slides = slides;
         self.updateCursor();
         self.trigger( 'afterShow' );
         // Play first html5 video/audio
         current.$slide.find( 'video,audio' ).first().trigger( 'play' );
         // Try to focus on the first focusable element
         if ( $( document.activeElement ).is( '[disabled]' ) || ( current.opts.autoFocus && !( current.type == 'image' || current.type === 'iframe' ) ) ) {
             self.focus();
         }
     },
     // Preload next and previous slides
     // ================================
     preload : function( type ) {
         var self = this,
             next = self.slides[ self.currPos + 1 ],
             prev = self.slides[ self.currPos - 1 ];
         if ( next && next.type === type ) {
             self.loadSlide( next );
         }
         if ( prev && prev.type === type ) {
             self.loadSlide( prev );
         }
     },
     // Try to find and focus on the first focusable element
     // ====================================================
     focus : function() {
         var current = this.current;
         var $el;
         if ( this.isClosing ) {
             return;
         }
         if ( current && current.isComplete ) {
             // Look for first input with autofocus attribute
             $el = current.$slide.find('input[autofocus]:enabled:visible:first');
             if ( !$el.length ) {
                 $el = current.$slide.find('button,:input,[tabindex],a').filter(':enabled:visible:first');
             }
         }
         $el = $el && $el.length ? $el : this.$refs.container;
         $el.trigger('focus');
     },
     // Activates current instance - brings container to the front and enables keyboard,
     // notifies other instances about deactivating
     // =============================================================
     activate : function () {
         var self = this;
         // Deactivate all instances
         $( '.fxModalBox-container' ).each(function () {
             var instance = $(this).data( 'FxModalBox' );
             // Skip self and closing instances
             if (instance && instance.id !== self.id && !instance.isClosing) {
                 instance.trigger( 'onDeactivate' );
                 instance.removeEvents();
                 instance.isVisible = false;
             }
         });
         self.isVisible = true;
         if ( self.current || self.isIdle ) {
             self.update();
             self.updateControls();
         }
         self.trigger( 'onActivate' );
         self.addEvents();
     },
     // Start closing procedure
     // This will start "zoom-out" animation if needed and clean everything up afterwards
     // ==============================================================
     close : function( e, d ) {
         var self    = this;
         var current = self.current;
         var effect, duration;
         var $what, opacity, start, end;
         var done = function() {
             self.cleanUp( e );
         };
         if ( self.isClosing ) {
             return false;
         }
         self.isClosing = true;
         // If beforeClose callback prevents closing, make sure content is centered
         if ( self.trigger( 'beforeClose', e ) === false ) {
             self.isClosing = false;
             requestAFrame(function() {
                 self.update();
             });
             return false;
         }
         // Remove all events
         // If there are multiple instances, they will be set again by "activate" method
         self.removeEvents();
         if ( current.timouts ) {
             clearTimeout( current.timouts );
         }
         $what    = current.$content;
         effect   = current.opts.animationEffect;
         duration = FDX.services.utils.isNumeric( d ) ? d : ( effect ? current.opts.animationDuration : 0 );
         // Remove other slides
         current.$slide.off( transitionEnd ).removeClass( 'fxModalBox-slide--complete fxModalBox-slide--next fxModalBox-slide--previous fxModalBox-animated' );
         current.$slide.siblings().trigger( 'onReset' ).remove();
         // Trigger animations
         if ( duration ) {
             self.$refs.container.removeClass( 'fxModalBox-is-open' ).addClass( 'fxModalBox-is-closing' );
         }
         // Clean up
         self.hideLoading( current );
         self.hideControls();
         self.updateCursor();
         // Check if possible to zoom-out
         if ( effect === 'zoom' && !( e !== true && $what && duration && current.type === 'image' && !current.hasError && ( end = self.getThumbPos( current ) ) ) ) {
             effect = 'fade';
         }
         if ( effect === 'zoom' ) {
             $.fxModalBox.stop( $what );
             start = $.fxModalBox.getTranslate( $what );
             start.width  = start.width  * start.scaleX;
             start.height = start.height * start.scaleY;
             // Check if we need to animate opacity
             opacity = current.opts.zoomOpacity;
             if ( opacity == 'auto' ) {
                 opacity = Math.abs( current.width / current.height - end.width / end.height ) > 0.1;
             }
             if ( opacity ) {
                 end.opacity = 0;
             }
             start.scaleX = start.width  / end.width;
             start.scaleY = start.height / end.height;
             start.width  = end.width;
             start.height = end.height;
             $.fxModalBox.setTranslate( current.$content, start );
             forceRedraw( current.$content );
             $.fxModalBox.animate( current.$content, end, duration, done );
             return true;
         }
         if ( effect && duration ) {
             // If skip animation
             if ( e === true ) {
                 setTimeout( done, duration );
             } else {
                 $.fxModalBox.animate( current.$slide.removeClass( 'fxModalBox-slide--current' ), 'fxModalBox-animated fxModalBox-slide--previous fxModalBox-fx-' + effect, duration, done );
             }
         } else {
             done();
         }
         return true;
     },
     // Final adjustments after removing the instance
     // =============================================
     cleanUp : function( e ) {
         var self  = this,
             $body = $( 'body' ),
             instance,
             offset;
         self.current.$slide.trigger( 'onReset' );
         self.$refs.container.empty().remove();
         self.trigger( 'afterClose', e );
         // Place back focus
         if ( self.$lastFocus && !!self.current.opts.backFocus ) {
             self.$lastFocus.trigger('focus');
         }
         self.current = null;
         // Check if there are other instances
         instance = $.fxModalBox.getInstance();
         if ( instance ) {
             instance.activate();
         } else {
             $W.scrollTop( self.scrollTop ).scrollLeft( self.scrollLeft );
             $body.removeClass( 'fxModalBox-active compensate-for-scrollbar' );
             if ( $body.hasClass( 'fxModalBox-iosfix' ) ) {
                 offset = parseInt(document.body.style.top, 10);
                 $body.removeClass( 'fxModalBox-iosfix' ).css( 'top', '' ).scrollTop( offset * -1 );
             }
             $( '#fxModalBox-style-noscroll' ).remove();
         }
     },
     // Call callback and trigger an event
     // ==================================
     trigger : function( name, slide ) {
         var args  = Array.prototype.slice.call(arguments, 1),
             self  = this,
             obj   = slide && slide.opts ? slide : self.current,
             rez;
         if ( obj ) {
             args.unshift( obj );
         } else {
             obj = self;
         }
         args.unshift( self );
         if ( typeof obj.opts[ name ] === 'function' ) {
             rez = obj.opts[ name ].apply( obj, args );
         }
         if ( rez === false ) {
             return rez;
         }
         if ( name === 'afterClose' || !self.$refs ) {
             $D.trigger( name + '.fxmb', args );
         } else {
             self.$refs.container.trigger( name + '.fxmb', args );
         }
     },
     // Update infobar values, navigation button states and reveal caption
     // ==================================================================
     updateControls : function ( force ) {
         var self = this;
         var current  = self.current,
             index    = current.index,
             caption  = current.opts.caption,
             $container = self.$refs.container,
             $caption   = self.$refs.caption;
         // Recalculate content dimensions
         current.$slide.trigger( 'refresh' );
         self.$caption = caption && caption.length ? $caption.html( caption ) : null;
         if ( !self.isHiddenControls && !self.isIdle ) {
             self.showControls();
         }
         // Update info and navigation elements
         $container.find('[data-fxModalBox-count]').html( self.group.length );
         $container.find('[data-fxModalBox-index]').html( index + 1 );
         $container.find('[data-fxModalBox-prev]').prop( 'disabled', ( !current.opts.loop && index <= 0 ) );
         $container.find('[data-fxModalBox-next]').prop( 'disabled', ( !current.opts.loop && index >= self.group.length - 1 ) );
         if ( current.type === 'image' ) {
             // Update download button source
             $container.find('[data-fxModalBox-download]').attr( 'href', current.opts.image.src || current.src ).attr( 'data-analytics', current.opts.image.src || current.src ).show();
         } else {
             $container.find('[data-fxModalBox-download],[data-fxModalBox-zoom]').hide();
         }
     },
     // Hide toolbar and caption
     // ========================
     hideControls : function () {
         this.isHiddenControls = true;
         this.$refs.container.removeClass( 'fxModalBox-show-infobar fxModalBox-show-toolbar fxModalBox-show-caption fxModalBox-show-nav' );
     },
     showControls : function() {
         var self = this;
         var opts = self.current ? self.current.opts : self.opts;
         var $container = self.$refs.container;
         self.isHiddenControls   = false;
         self.idleSecondsCounter = 0;
         $container
             .toggleClass( 'fxModalBox-show-toolbar', !!( opts.toolbar && opts.buttons ) )
             .toggleClass( 'fxModalBox-show-infobar', !!( opts.infobar && self.group.length > 1 ) )
             .toggleClass( 'fxModalBox-show-nav',     !!( opts.arrows && self.group.length > 1 ) )
             .toggleClass( 'fxModalBox-is-modal',     !!opts.modal );
         if ( self.$caption ) {
             $container.addClass( 'fxModalBox-show-caption ');
         } else {
            $container.removeClass( 'fxModalBox-show-caption' );
        }
    },
    // Toggle toolbar and caption
    // ==========================
    toggleControls : function() {
        if ( this.isHiddenControls ) {
            this.showControls();
        } else {
            this.hideControls();
        }
    },
 });
 $.fxModalBox = {
     version  : "1.0.0",
     defaults : defaults,
     // Get current instance and execute a command.
     //
     // Examples of usage:
     //
     //   $instance = $.fxModalBox.getInstance();
     //   $.fxModalBox.getInstance().jumpTo( 1 );
     //   $.fxModalBox.getInstance( 'jumpTo', 1 );
     //   $.fxModalBox.getInstance( function() {
     //       console.info( this.currIndex );
     //   });
     // ======================================================
     getInstance : function ( command ) {
         var instance = $('.fxModalBox-container:not(".fxModalBox-is-closing"):last').data( 'FxModalBox' );
         var args     = Array.prototype.slice.call(arguments, 1);
         if ( instance instanceof FxModalBox ) {
             if ( typeof ( command ) === 'string' ) {
                 instance[ command ].apply( instance, args );
             } else if ( typeof ( command ) === 'function' ) {
                 command.apply( instance, args );
             }
             return instance;
         }
         return false;
     },
     // Create new instance
     // ===================
     open : function ( items, opts, index ) {
         return new FxModalBox( items, opts, index );
     },
     // Close current or all instances
     // ==============================
     close : function ( all ) {
         var instance = this.getInstance();
         if ( instance ) {
             instance.close();
             // Try to find and close next instance
             if ( all === true ) {
                 this.close();
             }
         }
     },
     // Close instances and unbind all events
     // ==============================
     destroy : function() {
         this.close( true );
         $D.off( 'click.fxmb-start' );
     },
     // Try to detect mobile devices
     // ============================
     isMobile : document.createTouch !== undefined && /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),
     // Detect if 'translate3d' support is available
     // ============================================
     use3d : (function() {
         var div = document.createElement('div');
         return window.getComputedStyle && window.getComputedStyle( div ).getPropertyValue('transform') && !(document.documentMode && document.documentMode < 11);
     }()),
     // Helper function to get current visual state of an element
     // returns array[ top, left, horizontal-scale, vertical-scale, opacity ]
     // =====================================================================
     getTranslate : function( $el ) {
         var matrix;
         if ( !$el || !$el.length ) {
             return false;
         }
         matrix  = $el.eq( 0 ).css('transform');
         if ( matrix && matrix.indexOf( 'matrix' ) !== -1 ) {
             matrix = matrix.split('(')[1];
             matrix = matrix.split(')')[0];
             matrix = matrix.split(',');
         } else {
             matrix = [];
         }
         if ( matrix.length ) {
             // If IE
             if ( matrix.length > 10 ) {
                 matrix = [ matrix[13], matrix[12], matrix[0], matrix[5] ];
             } else {
                 matrix = [ matrix[5], matrix[4], matrix[0], matrix[3]];
             }
             matrix = matrix.map(parseFloat);
         } else {
             matrix = [ 0, 0, 1, 1 ];
             var transRegex = /\.*translate\((.*)px,(.*)px\)/i;
             var transRez = transRegex.exec( $el.eq( 0 ).attr('style') );
             if ( transRez ) {
                 matrix[ 0 ] = parseFloat( transRez[2] );
                 matrix[ 1 ] = parseFloat( transRez[1] );
             }
         }
         return {
             top     : matrix[ 0 ],
             left    : matrix[ 1 ],
             scaleX  : matrix[ 2 ],
             scaleY  : matrix[ 3 ],
             opacity : parseFloat( $el.css('opacity') ),
             width   : $el.width(),
             height  : $el.height()
         };
     },
     // Shortcut for setting "translate3d" properties for element
     // Can set be used to set opacity, too
     // ========================================================
     setTranslate : function( $el, props ) {
         var str  = '';
         var css  = {};
         if ( !$el || !props ) {
             return;
         }
         if ( props.left !== undefined || props.top !== undefined ) {
             str = ( props.left === undefined ? $el.position().left : props.left )  + 'px, ' + ( props.top === undefined ? $el.position().top : props.top ) + 'px';
             if ( this.use3d ) {
                 str = 'translate3d(' + str + ', 0px)';
             } else {
                 str = 'translate(' + str + ')';
             }
         }
         if ( props.scaleX !== undefined && props.scaleY !== undefined ) {
             str = (str.length ? str + ' ' : '') + 'scale(' + props.scaleX + ', ' + props.scaleY + ')';
         }
         if ( str.length ) {
             css.transform = str;
         }
         if ( props.opacity !== undefined ) {
             css.opacity = props.opacity;
         }
         if ( props.width !== undefined ) {
             css.width = props.width;
         }
         if ( props.height !== undefined ) {
             css.height = props.height;
         }
         return $el.css( css );
     },
     // Simple CSS transition handler
     // =============================
     animate : function ( $el, to, duration, callback, leaveAnimationName ) {
         if ( typeof duration === 'function' ) {
             callback = duration;
             duration = null;
         }
         if ( !$.isPlainObject( to ) ) {
             $el.removeAttr( 'style' );
         }
         $el.on( transitionEnd, function(e) {
             // Skip events from child elements and z-index change
             if ( e && e.originalEvent && ( !$el.is( e.originalEvent.target ) || e.originalEvent.propertyName == 'z-index' ) ) {
                 return;
             }
             $.fxModalBox.stop( $el );
             if ( $.isPlainObject( to ) ) {
                 if ( to.scaleX !== undefined && to.scaleY !== undefined ) {
                     $el.css( 'transition-duration', '' );
                     to.width  = Math.round( $el.width()  * to.scaleX );
                     to.height = Math.round( $el.height() * to.scaleY );
                     to.scaleX = 1;
                     to.scaleY = 1;
                     $.fxModalBox.setTranslate( $el, to );
                 }
                 if ( leaveAnimationName === false ) {
                     $el.removeAttr( 'style' );
                 }
             } else if ( leaveAnimationName !== true ) {
                 $el.removeClass( to );
             }
             if ( typeof callback === 'function' ) {
                 callback( e );
             }
         });
         if ( $.isNumeric( duration ) ) {
             $el.css( 'transition-duration', duration + 'ms' );
         }
         if ( $.isPlainObject( to ) ) {
             $.fxModalBox.setTranslate( $el, to );
         } else {
             $el.addClass( to );
         }
         if ( to.scaleX && $el.hasClass( 'fxModalBox-image-wrap' ) ) {
             $el.parent().addClass( 'fxModalBox-is-scaling' );
         }
         // Make sure that `transitionend` callback gets fired
         $el.data("timer", setTimeout(function() {
             $el.trigger( 'transitionend' );
         }, duration + 16));
     },
     stop : function( $el ) {
         clearTimeout( $el.data("timer") );
         $el.off( 'transitionend' ).css( 'transition-duration', '' );
         if ( $el.hasClass( 'fxModalBox-image-wrap' ) ) {
             $el.parent().removeClass( 'fxModalBox-is-scaling' );
         }
     }
 };
 // Default click handler for "fxModalBoxed" links
 // ============================================
 function _run( e ) {
     var $target	= $( e.currentTarget ),
         opts	= e.data ? e.data.options : {},
         value	= $target.attr( 'data-fxModalBox' ) || '',
         index	= 0,
         items   = [];
     // Avoid opening multiple times
     if ( e.isDefaultPrevented() ) {
         return;
     }
     e.preventDefault();
     // Get all related items and find index for clicked one
     if ( value ) {
         items = opts.selector ? $( opts.selector ) : ( e.data ? e.data.items : [] );
         items = items.length ? items.filter( '[data-fxModalBox="' + value + '"]' ) : $( '[data-fxModalBox="' + value + '"]' );
         index = items.index( $target );
         // Sometimes current item can not be found
         // (for example, when slider clones items)
         if ( index < 0 ) {
             index = 0;
         }
     } else {
         items = [ $target ];
     }
     $.fxModalBox.open( items, opts, index );
 }
 // Create a jQuery plugin
 // ======================

 $.fn.fxModalBox = function (options) {
     var selector;
     options  = options || {};
     selector = options.selector || false;
     if ( selector ) {
         $( 'body' ).off( 'click.fxmb-start', selector ).on( 'click.fxmb-start', selector, {
             options : options
         }, _run );
     } else {
         this.off( 'click.fxmb-start' ).on( 'click.fxmb-start', {
             items   : this,
             options : options
         }, _run);
     }
     return this;
 };
 // Self initializing plugin
 // ========================
 $D.on( 'click.fxmb-start', '[data-fxModalBox]', _run );
}( window, document, window.jQuery || jQuery ));
//==========================================================================
//
//Media
//Adds additional media type support
//
//==========================================================================
;(function ($) {
	'use strict';
	// Formats matching url to final form
	var format = function (url, rez, params) {
		if ( !url ) {
			return;
		}
		params = params || '';
		if ( typeof (params) === "object" ) {
			params = $.param(params, true);
		}
		$.each(rez, function (key, value) {
			url = url.replace('$' + key, value || '');
		});
		if (params.length) {
			url += (url.indexOf('?') > 0 ? '&' : '?') + params;
		}
		return url;
	};
	// Object containing properties for each media type
	var defaults = {
		youtube : {
			matcher : /(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,
			params  : {
				autoplay : 1,
				autohide : 1,
				fs  : 1,
				rel : 0,
				hd  : 1,
				wmode : 'transparent',
				enablejsapi : 1,
				html5 : 1
			},
			paramPlace : 8,
			type  : 'iframe',
			url   : '//www.youtube.com/embed/$4',
			thumb : '//img.youtube.com/vi/$4/hqdefault.jpg'
		},
		vimeo : {
			matcher : /^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,
			params  : {
				autoplay : 1,
				hd : 1,
				show_title    : 1,
				show_byline   : 1,
				show_portrait : 0,
				fullscreen    : 1,
				api : 1
			},
			paramPlace : 3,
			type : 'iframe',
			url : '//player.vimeo.com/video/$2'
		},
		metacafe : {
			matcher : /^.+metacafe.com\/watch\/(\d+)\/(.*)?/,
			type    : 'iframe',
			url     : '//www.metacafe.com/embed/$1/?ap=1'
		},
		dailymotion : {
			matcher : /^.+dailymotion.com\/video\/(.*)\/?(.*)/,
			params : {
				additionalInfos : 0,
				autoStart : 1
			},
			type : 'iframe',
			url  : '//www.dailymotion.com/embed/video/$1'
		},
		vine : {
			matcher : /vine.co\/v\/([a-zA-Z0-9\?\=\-]+)/,
			type    : 'iframe',
			url     : '//vine.co/v/$1/embed/simple'
		},
		instagram : {
			matcher : /(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,
			type    : 'image',
			url     : '//$1/p/$2/media/?size=l'
		},
		// Examples:
		// http://maps.google.com/?ll=48.857995,2.294297&spn=0.007666,0.021136&t=m&z=16
		// https://www.google.com/maps/@37.7852006,-122.4146355,14.65z
		// https://www.google.com/maps/place/Googleplex/@37.4220041,-122.0833494,17z/data=!4m5!3m4!1s0x0:0x6c296c66619367e0!8m2!3d37.4219998!4d-122.0840572
		gmap_place : {
			matcher : /(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,
			type    : 'iframe',
			url     : function (rez) {
				return '//maps.google.' + rez[2] + '/?ll=' + ( rez[9] ? rez[9] + '&z=' + Math.floor(  rez[10]  ) + ( rez[12] ? rez[12].replace(/^\//, "&") : '' )  : rez[12] ) + '&output=' + ( rez[12] && rez[12].indexOf('layer=c') > 0 ? 'svembed' : 'embed' );
			}
		},
		// Examples:
		// https://www.google.com/maps/search/Empire+State+Building/
		// https://www.google.com/maps/search/?api=1&query=centurylink+field
		// https://www.google.com/maps/search/?api=1&query=47.5951518,-122.3316393
		gmap_search : {
			matcher : /(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,
			type    : 'iframe',
			url     : function (rez) {
				return '//maps.google.' + rez[2] + '/maps?q=' + rez[5].replace('query=', 'q=').replace('api=1', '') + '&output=embed';
			}
		}
	};
	$(document).on('objectNeedsType.fxmb', function (e, instance, item) {
		var url	 = item.src || '',
			type = false,
			media,
			thumb,
			rez,
			params,
			urlParams,
			paramObj,
			provider;
		media = $.extend( true, {}, defaults, item.opts.media );
		// Look for any matching media type
		$.each(media, function ( providerName, providerOpts ) {
			rez = url.match( providerOpts.matcher );
			if ( !rez ) {
				return;
			}
			type     = providerOpts.type;
			paramObj = {};
			if ( providerOpts.paramPlace && rez[ providerOpts.paramPlace ] ) {
				urlParams = rez[ providerOpts.paramPlace ];
				if ( urlParams[ 0 ] == '?' ) {
					urlParams = urlParams.substring(1);
				}
				urlParams = urlParams.split('&');
				for ( var m = 0; m < urlParams.length; ++m ) {
					var p = urlParams[ m ].split('=', 2);
					if ( p.length == 2 ) {
						paramObj[ p[0] ] = decodeURIComponent( p[1].replace(/\+/g, " ") );
					}
				}
			}
			params = $.extend( true, {}, providerOpts.params, item.opts[ providerName ], paramObj );
			url   = typeof ( providerOpts.url ) === "function" ? providerOpts.url.call( this, rez, params, item ) : format( providerOpts.url, rez, params );
			thumb = typeof ( providerOpts.thumb ) === "function" ? providerOpts.thumb.call( this, rez, params, item ) : format( providerOpts.thumb, rez );
			if ( providerName === 'vimeo' ) {
				url = url.replace('&%23', '#');
			}
			return false;
		});
		// If it is found, then change content type and update the url
		if ( type ) {
			item.src  = url;
			item.type = type;
			if ( !item.opts.thumb && !( item.opts.$thumb && item.opts.$thumb.length ) ) {
				item.opts.thumb = thumb;
			}
			if ( type === 'iframe' ) {
				$.extend(true, item.opts, {
					iframe : {
						preload : false,
						attr : {
							scrolling : "no"
						}
					}
				});
				item.contentProvider = provider;
				item.opts.slideClass += ' fxModalBox-slide--' + ( provider == 'gmap_place' || provider == 'gmap_search' ? 'map' : 'video' );
			}
		} else if ( url ) {
			item.type = item.opts.defaultType;
		}
	});
}( window.jQuery || jQuery ));

//==========================================================================
//
//Guestures
//Adds touch guestures, handles click and tap events
//
//==========================================================================
;(function (window, document, $) {
	'use strict';
	var requestAFrame = (function () {
		return window.requestAnimationFrame ||
			window.webkitRequestAnimationFrame ||
			window.mozRequestAnimationFrame ||
			window.oRequestAnimationFrame ||
			// if all else fails, use setTimeout
			function (callback) {
				return window.setTimeout(callback, 1000 / 60);
			};
	})();
	var cancelAFrame = (function () {
		return window.cancelAnimationFrame ||
			window.webkitCancelAnimationFrame ||
			window.mozCancelAnimationFrame ||
			window.oCancelAnimationFrame ||
			function (id) {
				window.clearTimeout(id);
			};
	})();
	var pointers = function( e ) {
		var result = [];
		e = e.originalEvent || e || window.e;
		e = e.touches && e.touches.length ? e.touches : ( e.changedTouches && e.changedTouches.length ? e.changedTouches : [ e ] );
		for ( var key in e ) {
			if ( e[ key ].pageX ) {
				result.push( { x : e[ key ].pageX, y : e[ key ].pageY } );
			} else if ( e[ key ].clientX ) {
				result.push( { x : e[ key ].clientX, y : e[ key ].clientY } );
			}
		}
		return result;
	};
	var distance = function( point2, point1, what ) {
		if ( !point1 || !point2 ) {
			return 0;
		}
		if ( what === 'x' ) {
			return point2.x - point1.x;
		} else if ( what === 'y' ) {
			return point2.y - point1.y;
		}
		return Math.sqrt( Math.pow( point2.x - point1.x, 2 ) + Math.pow( point2.y - point1.y, 2 ) );
	};
	var isClickable = function( $el ) {
		if ( $el.is('a,area,button,[role="button"],input,label,select,summary,textarea') || typeof $el.get(0).onclick === 'function' || $el.data('selectable') ) {
			return true;
		}
		// Check for attributes like data-fxModalBox-next or data-fxModalBox-close
		for ( var i = 0, atts = $el[0].attributes, n = atts.length; i < n; i++ ) {
			if ( atts[i].nodeName.substr(0, 14) === 'data-fxModalBox-' ) {
				return true;
			}
		}
	 	return false;
	};
	var hasScrollbars = function( el ) {
		var overflowY = window.getComputedStyle( el )['overflow-y'];
		var overflowX = window.getComputedStyle( el )['overflow-x'];
		var vertical   = (overflowY === 'scroll' || overflowY === 'auto') && el.scrollHeight > el.clientHeight;
		var horizontal = (overflowX === 'scroll' || overflowX === 'auto') && el.scrollWidth > el.clientWidth;
		return vertical || horizontal;
	};
	var isScrollable = function ( $el ) {
		var rez = false;
		while ( true ) {
			rez	= hasScrollbars( $el.get(0) );
			if ( rez ) {
				break;
			}
			$el = $el.parent();
			if ( !$el.length || $el.hasClass( 'fxModalBox-stage' ) || $el.is( 'body' ) ) {
				break;
			}
		}
		return rez;
	};
	var Guestures = function ( instance ) {
		var self = this;
		self.instance = instance;
		self.$bg        = instance.$refs.bg;
		self.$stage     = instance.$refs.stage;
		self.$container = instance.$refs.container;
		self.destroy();
		self.$container.on( 'touchstart.fxmb.touch mousedown.fxmb.touch', $.proxy(self, 'ontouchstart') );
	};
	Guestures.prototype.destroy = function() {
		this.$container.off( '.fxmb.touch' );
	};
	Guestures.prototype.ontouchstart = function( e ) {
		var self = this;
		var $target  = $( e.target );
		var instance = self.instance;
		var current  = instance.current;
		var $content = current.$content;
		var isTouchDevice = ( e.type == 'touchstart' );
		// Do not respond to both (touch and mouse) events
		if ( isTouchDevice ) {
			self.$container.off( 'mousedown.fxmb.touch' );
		}
		// Ignore right click
		if ( e.originalEvent && e.originalEvent.button == 2 ) {
			return;
		}
		// Ignore taping on links, buttons, input elements
		if ( !$target.length || isClickable( $target ) || isClickable( $target.parent() ) ) {
			return;
		}
		// Ignore clicks on the scrollbar
		if ( !$target.is('img') && e.originalEvent.clientX > $target[0].clientWidth + $target.offset().left ) {
			return;
		}
		// Ignore clicks while zooming or closing
		if ( !current || self.instance.isAnimating || self.instance.isClosing ) {
			e.stopPropagation();
			e.preventDefault();
			return;
		}
		self.realPoints = self.startPoints = pointers( e );

		if ( !self.startPoints ) {
			return;
		}
		e.stopPropagation();
		self.startEvent = e;
		self.canTap   = true;
		self.$target  = $target;
		self.$content = $content;
		self.opts     = current.opts.touch;
		self.isPanning   = false;
		self.isSwiping   = false;
		self.isZooming   = false;
		self.isScrolling = false;
		self.sliderStartPos  = self.sliderLastPos || { top: 0, left: 0 };
		self.contentStartPos = $.fxModalBox.getTranslate( self.$content );
		self.contentLastPos  = null;
		self.startTime = new Date().getTime();
		self.distanceX = self.distanceY = self.distance = 0;
		self.canvasWidth  = Math.round( current.$slide[0].clientWidth );
		self.canvasHeight = Math.round( current.$slide[0].clientHeight );
		$(document)
			.off( '.fxmb.touch' )
			.on( isTouchDevice ? 'touchend.fxmb.touch touchcancel.fxmb.touch' : 'mouseup.fxmb.touch mouseleave.fxmb.touch', $.proxy(self, "ontouchend"))
			.on( isTouchDevice ? 'touchmove.fxmb.touch' : 'mousemove.fxmb.touch', $.proxy(self, "ontouchmove"));
		if ( $.fxModalBox.isMobile ) {
			document.addEventListener('scroll', self.onscroll, true);
		}
		if ( !(self.opts || instance.canPan() ) || !( $target.is( self.$stage ) || self.$stage.find( $target ).length ) ) {
			// Prevent image ghosting while dragging
			if ( $target.is('img') ) {
				e.preventDefault();
			}
			return;
		}
		if ( !( $.fxModalBox.isMobile && ( isScrollable( $target ) || isScrollable( $target.parent() ) ) ) ) {
			e.preventDefault();
		}
		if ( self.startPoints.length === 1 ) {
			if ( current.type === 'image' && ( self.contentStartPos.width > self.canvasWidth + 1 || self.contentStartPos.height > self.canvasHeight + 1 ) ) {
				$.fxModalBox.stop( self.$content );
				self.$content.css( 'transition-duration', '' );

				self.isPanning = true;

			} else {
				self.isSwiping = true;
			}

			self.$container.addClass( 'fxModalBox-controls--isGrabbing' );
		}
		if ( self.startPoints.length === 2 && !instance.isAnimating && !current.hasError && current.type === 'image' && ( current.isLoaded || current.$ghost ) ) {
			self.canTap    = false;
			self.isSwiping = false;
			self.isPanning = false;
			self.isZooming = true;
			$.fxModalBox.stop( self.$content );
			self.$content.css( 'transition-duration', '' );
			self.centerPointStartX = ( ( self.startPoints[0].x + self.startPoints[1].x ) * 0.5 ) - $(window).scrollLeft();
			self.centerPointStartY = ( ( self.startPoints[0].y + self.startPoints[1].y ) * 0.5 ) - $(window).scrollTop();
			self.percentageOfImageAtPinchPointX = ( self.centerPointStartX - self.contentStartPos.left ) / self.contentStartPos.width;
			self.percentageOfImageAtPinchPointY = ( self.centerPointStartY - self.contentStartPos.top  ) / self.contentStartPos.height;
			self.startDistanceBetweenFingers = distance( self.startPoints[0], self.startPoints[1] );
		}

	};
	Guestures.prototype.onscroll = function(e) {
		self.isScrolling = true;
	};
	Guestures.prototype.ontouchmove = function( e ) {
		var self = this,
			$target = $(e.target);
		if ( self.isScrolling || !( $target.is( self.$stage ) || self.$stage.find( $target ).length ) ) {
			self.canTap = false;
			return;
		}
		self.newPoints = pointers( e );
		if ( !( self.opts || self.instance.canPan() ) || !self.newPoints || !self.newPoints.length ) {
			return;
		}
		if ( !(self.isSwiping && self.isSwiping === true) ) {
			e.preventDefault();
		}
		self.distanceX = distance( self.newPoints[0], self.startPoints[0], 'x' );
		self.distanceY = distance( self.newPoints[0], self.startPoints[0], 'y' );
		self.distance = distance( self.newPoints[0], self.startPoints[0] )
		// Skip false ontouchmove events (Chrome)
		if ( self.distance > 0 ) {
			if ( self.isSwiping ) {
				self.onSwipe(e);
			} else if ( self.isPanning ) {
				self.onPan();
			} else if ( self.isZooming ) {
				self.onZoom();
			}
		}
	};
	Guestures.prototype.onSwipe = function(e) {
		var self = this,
			swiping = self.isSwiping,
			left    = self.sliderStartPos.left || 0,
			angle;
		// If direction is not yet determined
		if ( swiping === true ) {
			// We need at least 10px distance to correctly calculate an angle
			if ( Math.abs( self.distance ) > 10 ) {
				self.canTap = false;
				if ( self.instance.group.length < 2 && self.opts.vertical ) {
					self.isSwiping = 'y';
				} else if ( self.instance.isDragging || self.opts.vertical === false || ( self.opts.vertical === 'auto' && $( window ).width() > 800 ) ) {
					self.isSwiping = 'x';
				} else {
					angle = Math.abs( Math.atan2( self.distanceY, self.distanceX ) * 180 / Math.PI );
					self.isSwiping = ( angle > 45 && angle < 135 ) ? 'y' : 'x';
				}
				self.canTap = false;
				if ( self.isSwiping === 'y' && $.fxModalBox.isMobile && ( isScrollable( self.$target ) || isScrollable( self.$target.parent() ) ) ) {
					self.isScrolling = true;
					return;
				}
				self.instance.isDragging = self.isSwiping;
				// Reset points to avoid jumping, because we dropped first swipes to calculate the angle
				self.startPoints = self.newPoints;
				$.each(self.instance.slides, function( index, slide ) {
					$.fxModalBox.stop( slide.$slide );
					slide.$slide.css( 'transition-duration', '' );
					slide.inTransition = false;
					if ( slide.pos === self.instance.current.pos ) {
						self.sliderStartPos.left = $.fxModalBox.getTranslate( slide.$slide ).left;
					}
				});
				// Stop slideshow
				if ( self.instance.SlideShow && self.instance.SlideShow.isActive ) {
					self.instance.SlideShow.stop();
				}
			}
			return;
		}
		// Sticky edges
		if ( swiping == 'x' ) {
			if ( self.distanceX > 0 && ( self.instance.group.length < 2 || ( self.instance.current.index === 0 && !self.instance.current.opts.loop ) ) ) {
				left = left + Math.pow( self.distanceX, 0.8 );
			} else if ( self.distanceX < 0 && ( self.instance.group.length < 2 || ( self.instance.current.index === self.instance.group.length - 1 && !self.instance.current.opts.loop ) ) ) {
				left = left - Math.pow( -self.distanceX, 0.8 );
			} else {
				left = left + self.distanceX;
			}
		}
		self.sliderLastPos = {
			top  : swiping == 'x' ? 0 : self.sliderStartPos.top + self.distanceY,
			left : left
		};
		if ( self.requestId ) {
			cancelAFrame( self.requestId );
			self.requestId = null;
		}
		self.requestId = requestAFrame(function() {
			if ( self.sliderLastPos ) {
				$.each(self.instance.slides, function( index, slide ) {
					var pos = slide.pos - self.instance.currPos;
					$.fxModalBox.setTranslate( slide.$slide, {
						top  : self.sliderLastPos.top,
						left : self.sliderLastPos.left + ( pos * self.canvasWidth ) + ( pos * slide.opts.gutter )
					});
				});
				self.$container.addClass( 'fxModalBox-is-sliding' );
			}
		});
	};
	Guestures.prototype.onPan = function() {
		var self = this;
		// Sometimes, when tapping causally, image can move a bit and that breaks double tapping
		if ( distance( self.newPoints[0], self.realPoints[0] ) < ($.fxModalBox.isMobile ? 10 : 5) ) {
			self.startPoints = self.newPoints;
			return;
		}
		self.canTap = false;
		self.contentLastPos = self.limitMovement();
		if ( self.requestId ) {
			cancelAFrame( self.requestId );
			self.requestId = null;
		}
		self.requestId = requestAFrame(function() {
			$.fxModalBox.setTranslate( self.$content, self.contentLastPos );
		});
	};
	// Make panning sticky to the edges
	Guestures.prototype.limitMovement = function() {
		var self = this;
		var canvasWidth  = self.canvasWidth;
		var canvasHeight = self.canvasHeight;
		var distanceX = self.distanceX;
		var distanceY = self.distanceY;
		var contentStartPos = self.contentStartPos;
		var currentOffsetX = contentStartPos.left;
		var currentOffsetY = contentStartPos.top;
		var currentWidth  = contentStartPos.width;
		var currentHeight = contentStartPos.height;
		var minTranslateX, minTranslateY,
			maxTranslateX, maxTranslateY,
			newOffsetX, newOffsetY;
		if ( currentWidth > canvasWidth ) {
			newOffsetX = currentOffsetX + distanceX;
		} else {
			newOffsetX = currentOffsetX;
		}
		newOffsetY = currentOffsetY + distanceY;
		// Slow down proportionally to traveled distance
		minTranslateX = Math.max( 0, canvasWidth  * 0.5 - currentWidth  * 0.5 );
		minTranslateY = Math.max( 0, canvasHeight * 0.5 - currentHeight * 0.5 );
		maxTranslateX = Math.min( canvasWidth  - currentWidth,  canvasWidth  * 0.5 - currentWidth  * 0.5 );
		maxTranslateY = Math.min( canvasHeight - currentHeight, canvasHeight * 0.5 - currentHeight * 0.5 );
		if ( currentWidth > canvasWidth ) {
			//   ->
			if ( distanceX > 0 && newOffsetX > minTranslateX ) {
				newOffsetX = minTranslateX - 1 + Math.pow( -minTranslateX + currentOffsetX + distanceX, 0.8 ) || 0;
			}
			//    <-
			if ( distanceX < 0 && newOffsetX < maxTranslateX ) {
				newOffsetX = maxTranslateX + 1 - Math.pow( maxTranslateX - currentOffsetX - distanceX, 0.8 ) || 0;
			}
		}
		if ( currentHeight > canvasHeight ) {
			//   \/
			if ( distanceY > 0 && newOffsetY > minTranslateY ) {
				newOffsetY = minTranslateY - 1 + Math.pow(-minTranslateY + currentOffsetY + distanceY, 0.8 ) || 0;
			}
			//   /\
			if ( distanceY < 0 && newOffsetY < maxTranslateY ) {
				newOffsetY = maxTranslateY + 1 - Math.pow ( maxTranslateY - currentOffsetY - distanceY, 0.8 ) || 0;
			}
		}
		return {
			top    : newOffsetY,
			left   : newOffsetX,
			scaleX : contentStartPos.scaleX,
			scaleY : contentStartPos.scaleY
		};
	};
	Guestures.prototype.limitPosition = function( newOffsetX, newOffsetY, newWidth, newHeight ) {
		var self = this;
		var canvasWidth  = self.canvasWidth;
		var canvasHeight = self.canvasHeight;
		if ( newWidth > canvasWidth ) {
			newOffsetX = newOffsetX > 0 ? 0 : newOffsetX;
			newOffsetX = newOffsetX < canvasWidth - newWidth ? canvasWidth - newWidth : newOffsetX;
		} else {
			// Center horizontally
			newOffsetX = Math.max( 0, canvasWidth / 2 - newWidth / 2 );
		}
		if ( newHeight > canvasHeight ) {
			newOffsetY = newOffsetY > 0 ? 0 : newOffsetY;
			newOffsetY = newOffsetY < canvasHeight - newHeight ? canvasHeight - newHeight : newOffsetY;
		} else {
			// Center vertically
			newOffsetY = Math.max( 0, canvasHeight / 2 - newHeight / 2 );
		}
		return {
			top  : newOffsetY,
			left : newOffsetX
		};
	};
	Guestures.prototype.onZoom = function() {
		var self = this;
		// Calculate current distance between points to get pinch ratio and new width and height
		var currentWidth  = self.contentStartPos.width;
		var currentHeight = self.contentStartPos.height;
		var currentOffsetX = self.contentStartPos.left;
		var currentOffsetY = self.contentStartPos.top;
		var endDistanceBetweenFingers = distance( self.newPoints[0], self.newPoints[1] );
		var pinchRatio = endDistanceBetweenFingers / self.startDistanceBetweenFingers;
		var newWidth  = Math.floor( currentWidth  * pinchRatio );
		var newHeight = Math.floor( currentHeight * pinchRatio );
		// This is the translation due to pinch-zooming
		var translateFromZoomingX = (currentWidth  - newWidth)  * self.percentageOfImageAtPinchPointX;
		var translateFromZoomingY = (currentHeight - newHeight) * self.percentageOfImageAtPinchPointY;
		//Point between the two touches
		var centerPointEndX = ((self.newPoints[0].x + self.newPoints[1].x) / 2) - $(window).scrollLeft();
		var centerPointEndY = ((self.newPoints[0].y + self.newPoints[1].y) / 2) - $(window).scrollTop();
		// And this is the translation due to translation of the centerpoint
		// between the two fingers
		var translateFromTranslatingX = centerPointEndX - self.centerPointStartX;
		var translateFromTranslatingY = centerPointEndY - self.centerPointStartY;
		// The new offset is the old/current one plus the total translation
		var newOffsetX = currentOffsetX + ( translateFromZoomingX + translateFromTranslatingX );
		var newOffsetY = currentOffsetY + ( translateFromZoomingY + translateFromTranslatingY );
		var newPos = {
			top    : newOffsetY,
			left   : newOffsetX,
			scaleX : self.contentStartPos.scaleX * pinchRatio,
			scaleY : self.contentStartPos.scaleY * pinchRatio
		};
		self.canTap = false;
		self.newWidth  = newWidth;
		self.newHeight = newHeight;
		self.contentLastPos = newPos;
		if ( self.requestId ) {
			cancelAFrame( self.requestId );
			self.requestId = null;
		}
		self.requestId = requestAFrame(function() {
			$.fxModalBox.setTranslate( self.$content, self.contentLastPos );
		});
	};
	Guestures.prototype.ontouchend = function( e ) {
		var self = this;
		var dMs  = Math.max( (new Date().getTime() ) - self.startTime, 1);
		var swiping   = self.isSwiping;
		var panning   = self.isPanning;
		var zooming   = self.isZooming;
		var scrolling = self.isScrolling;
		self.endPoints = pointers( e );
		self.$container.removeClass( 'fxModalBox-controls--isGrabbing' );
		$(document).off( '.fxmb.touch' );
		document.removeEventListener('scroll', self.onscroll, true);
		if ( self.requestId ) {
			cancelAFrame( self.requestId );
			self.requestId = null;
		}
		self.isSwiping   = false;
		self.isPanning   = false;
		self.isZooming   = false;
		self.isScrolling = false;
		self.instance.isDragging = false;
		if ( self.canTap ) {
			return self.onTap( e );
		}
		self.speed = 366;
		// Speed in px/ms
		self.velocityX = self.distanceX / dMs * 0.5;
		self.velocityY = self.distanceY / dMs * 0.5;
		self.speedX = Math.max( self.speed * 0.5, Math.min( self.speed * 1.5, ( 1 / Math.abs( self.velocityX ) ) * self.speed ) );
		if ( panning ) {
			self.endPanning();
		} else if ( zooming ) {
			self.endZooming();
		} else {
			self.endSwiping( swiping, scrolling );
		}
		return;
	};
	Guestures.prototype.endSwiping = function( swiping, scrolling ) {
		var self = this,
			ret  = false,
			len  = self.instance.group.length;
		self.sliderLastPos = null;
		// Close if swiped vertically / navigate if horizontally
		if ( swiping == 'y' && !scrolling && Math.abs( self.distanceY ) > 50 ) {
			// Continue vertical movement
			$.fxModalBox.animate( self.instance.current.$slide, {
				top     : self.sliderStartPos.top + self.distanceY + ( self.velocityY * 150 ),
				opacity : 0
			}, 150 );
			ret = self.instance.close( true, 300 );
		} else if ( swiping == 'x' && self.distanceX > 50 && len > 1 ) {
			ret = self.instance.previous( self.speedX );
		} else if ( swiping == 'x' && self.distanceX < -50 && len > 1 ) {
			ret = self.instance.next( self.speedX );
		}
		if ( ret === false && ( swiping == 'x' || swiping == 'y' ) ) {
			if ( scrolling || len < 2 ) {
				self.instance.centerSlide( self.instance.current, 150 );
			} else {
				self.instance.jumpTo( self.instance.current.index );
			}
		}
		self.$container.removeClass( 'fxModalBox-is-sliding' );
	};
	// Limit panning from edges
	// ========================
	Guestures.prototype.endPanning = function() {
		var self = this;
		var newOffsetX, newOffsetY, newPos;
		if ( !self.contentLastPos ) {
			return;
		}
		if ( self.opts.momentum === false ) {
			newOffsetX = self.contentLastPos.left;
			newOffsetY = self.contentLastPos.top;
		} else {
			// Continue movement
			newOffsetX = self.contentLastPos.left + ( self.velocityX * self.speed );
			newOffsetY = self.contentLastPos.top  + ( self.velocityY * self.speed );
		}
		newPos = self.limitPosition( newOffsetX, newOffsetY, self.contentStartPos.width, self.contentStartPos.height );
		 newPos.width  = self.contentStartPos.width;
		 newPos.height = self.contentStartPos.height;
		$.fxModalBox.animate( self.$content, newPos, 330 );
	};
	Guestures.prototype.endZooming = function() {
		var self = this;
		var current = self.instance.current;
		var newOffsetX, newOffsetY, newPos, reset;
		var newWidth  = self.newWidth;
		var newHeight = self.newHeight;
		if ( !self.contentLastPos ) {
			return;
		}
		newOffsetX = self.contentLastPos.left;
		newOffsetY = self.contentLastPos.top;
		reset = {
			top    : newOffsetY,
			left   : newOffsetX,
			width  : newWidth,
			height : newHeight,
			scaleX : 1,
			scaleY : 1
		};
		// Reset scalex/scaleY values; this helps for perfomance and does not break animation
		$.fxModalBox.setTranslate( self.$content, reset );
		if ( newWidth < self.canvasWidth && newHeight < self.canvasHeight ) {
			self.instance.scaleToFit( 150 );
		} else if ( newWidth > current.width || newHeight > current.height ) {
			self.instance.scaleToActual( self.centerPointStartX, self.centerPointStartY, 150 );
		} else {
			newPos = self.limitPosition( newOffsetX, newOffsetY, newWidth, newHeight );
			// Switch from scale() to width/height or animation will not work correctly
			$.fxModalBox.setTranslate( self.content, $.fxModalBox.getTranslate( self.$content ) );
			$.fxModalBox.animate( self.$content, newPos, 150 );
		}
	};
	Guestures.prototype.onTap = function(e) {
		var self    = this;
		var $target = $( e.target );
		var instance = self.instance;
		var current  = instance.current;
		var endPoints = ( e && pointers( e ) ) || self.startPoints;
		var tapX = endPoints[0] ? endPoints[0].x - self.$stage.offset().left : 0;
		var tapY = endPoints[0] ? endPoints[0].y - self.$stage.offset().top  : 0;
		var where;
		var process = function ( prefix ) {
			var action = current.opts[ prefix ];
			if ( typeof action === 'function' ) {
				action = action.apply( instance, [ current, e ] );
			}
			if ( !action) {
				return;
			}
			switch ( action ) {
				case "close" :
					instance.close( self.startEvent );
				break;
				case "toggleControls" :
					instance.toggleControls( true );
				break;
				case "next" :
					instance.next();
				break;
				case "nextOrClose" :
					if ( instance.group.length > 1 ) {
						instance.next();
					} else {
						instance.close( self.startEvent );
					}
				break;
				case "zoom" :
					if ( current.type == 'image' && ( current.isLoaded || current.$ghost ) ) {
						if ( instance.canPan() ) {
							instance.scaleToFit();
						} else if ( instance.isScaledDown() ) {
							instance.scaleToActual( tapX, tapY );
						} else if ( instance.group.length < 2 ) {
							instance.close( self.startEvent );
						}
					}
				break;
			}
		};
		// Ignore right click
		if ( e.originalEvent && e.originalEvent.button == 2 ) {
			return;
		}
		// Skip if clicked on the scrollbar
		if ( !$target.is('img') && tapX > $target[0].clientWidth + $target.offset().left ) {
			return;
		}
		// Check where is clicked
		if ( $target.is( '.fxModalBox-bg,.fxModalBox-inner,.fxModalBox-outer,.fxModalBox-container' ) ) {
			where = 'Outside';
		} else if ( $target.is( '.fxModalBox-slide' ) ) {
			where = 'Slide';
		} else if ( instance.current.$content && instance.current.$content.find( $target ).addBack().filter( $target ).length ) {
		 	where = 'Content';
		} else {
			return;
		}
		// Check if this is a double tap
		if ( self.tapped ) {
			// Stop previously created single tap
			clearTimeout( self.tapped );
			self.tapped = null;
			// Skip if distance between taps is too big
			if ( Math.abs( tapX - self.tapX ) > 50 || Math.abs( tapY - self.tapY ) > 50 ) {
				return this;
			}
			// OK, now we assume that this is a double-tap
			process( 'dblclick' + where );
		} else {
			// Single tap will be processed if user has not clicked second time within 300ms
			// or there is no need to wait for double-tap
			self.tapX = tapX;
			self.tapY = tapY;
			if ( current.opts[ 'dblclick' + where ] && current.opts[ 'dblclick' + where ] !== current.opts[ 'click' + where ] ) {
				self.tapped = setTimeout(function() {
					self.tapped = null;
					process( 'click' + where );
				}, 500);
			} else {
				process( 'click' + where );
			}
		}
		return this;
	};
	$(document).on('onActivate.fxmb', function (e, instance) {
		if ( instance && !instance.Guestures ) {
			instance.Guestures = new Guestures( instance );
		}
	});
}( window, document, window.jQuery || jQuery ));

//==========================================================================
//
//SlideShow
//Enables slideshow functionality
//
//Example of usage:
//$.fxModalBox.getInstance().SlideShow.start()
//
//==========================================================================
;(function (document, $) {
	'use strict';
	$.extend(true, $.fxModalBox.defaults, {
		btnTpl : {
			slideShow :
				'<button data-fxModalBox-play class="fxModalBox-button fxModalBox-button--play" title="{{PLAY_START}}">' +
					'<svg viewBox="0 0 40 40">' +
						'<path d="M13,12 L27,20 L13,27 Z" />' +
						'<path d="M15,10 v19 M23,10 v19" />' +
					'</svg>' +
				'</button>'
		},
		slideShow : {
			autoStart : false,
         speed     : 3000
		}
	});
	var SlideShow = function( instance ) {
		this.instance = instance;
		this.init();
	};
	$.extend( SlideShow.prototype, {
		timer    : null,
		isActive : false,
		$button  : null,
		init : function() {
			var self = this;
			self.$button = self.instance.$refs.toolbar.find('[data-fxModalBox-play]').on('click', function() {
				self.toggle();
			});
			if ( self.instance.group.length < 2 || !self.instance.group[ self.instance.currIndex ].opts.slideShow ) {
				self.$button.hide();
			}
		},
		set : function( force ) {
			var self = this;
			// Check if reached last element
			if ( self.instance && self.instance.current && (force === true || self.instance.current.opts.loop || self.instance.currIndex < self.instance.group.length - 1 )) {
				self.timer = setTimeout(function() {
					if ( self.isActive ) {
						self.instance.jumpTo( (self.instance.currIndex + 1) % self.instance.group.length );
					}
				}, self.instance.current.opts.slideShow.speed);
			} else {
				self.stop();
				self.instance.idleSecondsCounter = 0;
				self.instance.showControls();
			}
		},
		clear : function() {
			var self = this;
			clearTimeout( self.timer );
			self.timer = null;
		},
		start : function() {
			var self = this;
			var current = self.instance.current;
			if ( current ) {
				self.isActive = true;
				self.$button
					.attr( 'title', current.opts.i18n[ current.opts.lang ].PLAY_STOP )
					.removeClass( 'fxModalBox-button--play' )
					.addClass( 'fxModalBox-button--pause' );
					self.set( true );
			}
		},
		stop : function() {
			var self = this;
			var current = self.instance.current;
			self.clear();
			self.$button
				.attr( 'title', current.opts.i18n[ current.opts.lang ].PLAY_START )
				.removeClass( 'fxModalBox-button--pause' )
				.addClass( 'fxModalBox-button--play' );
			self.isActive = false;
		},
		toggle : function() {
			var self = this;
			if ( self.isActive ) {
				self.stop();
			} else {
				self.start();
			}
		}
	});
	$(document).on({
		'onInit.fxmb' : function(e, instance) {
			if ( instance && !instance.SlideShow ) {
				instance.SlideShow = new SlideShow( instance );
			}
		},
		'beforeShow.fxmb' : function(e, instance, current, firstRun) {
			var SlideShow = instance && instance.SlideShow;
			if ( firstRun ) {
				if ( SlideShow && current.opts.slideShow.autoStart ) {
					SlideShow.start();
				}
			} else if ( SlideShow && SlideShow.isActive )  {
				SlideShow.clear();
			}
		},
		'afterShow.fxmb' : function(e, instance, current) {
			var SlideShow = instance && instance.SlideShow;
			if ( SlideShow && SlideShow.isActive ) {
				SlideShow.set();
			}
		},
		'afterKeydown.fxmb' : function(e, instance, current, keypress, keycode) {
			var SlideShow = instance && instance.SlideShow;
			// "P" or Spacebar
			if ( SlideShow && current.opts.slideShow && ( keycode === 80 || keycode === 32 ) && !$(document.activeElement).is( 'button,a,input' ) ) {
				keypress.preventDefault();
				SlideShow.toggle();
			}
		},
		'beforeClose.fxmb onDeactivate.fxmb' : function(e, instance) {
			var SlideShow = instance && instance.SlideShow;
			if ( SlideShow ) {
				SlideShow.stop();
			}
		}
	});
	// Page Visibility API to pause slideshow when window is not active
	$(document).on("visibilitychange", function() {
		var instance  = $.fxModalBox.getInstance();
		var SlideShow = instance && instance.SlideShow;
		if ( SlideShow && SlideShow.isActive ) {
			if ( document.hidden ) {
				SlideShow.clear();
			} else {
				SlideShow.set();
			}
		}
	});
}( document, window.jQuery || jQuery ));

//==========================================================================
//
//FullScreen
//Adds fullscreen functionality
//
//==========================================================================
;(function (document, $) {
	'use strict';
	// Collection of methods supported by user browser
	var fn = (function () {
		var fnMap = [
			[
				'requestFullscreen',
				'exitFullscreen',
				'fullscreenElement',
				'fullscreenEnabled',
				'fullscreenchange',
				'fullscreenerror'
			],
			// new WebKit
			[
				'webkitRequestFullscreen',
				'webkitExitFullscreen',
				'webkitFullscreenElement',
				'webkitFullscreenEnabled',
				'webkitfullscreenchange',
				'webkitfullscreenerror'

			],
			// old WebKit (Safari 5.1)
			[
				'webkitRequestFullScreen',
				'webkitCancelFullScreen',
				'webkitCurrentFullScreenElement',
				'webkitCancelFullScreen',
				'webkitfullscreenchange',
				'webkitfullscreenerror'

			],
			[
				'mozRequestFullScreen',
				'mozCancelFullScreen',
				'mozFullScreenElement',
				'mozFullScreenEnabled',
				'mozfullscreenchange',
				'mozfullscreenerror'
			],
			[
				'msRequestFullscreen',
				'msExitFullscreen',
				'msFullscreenElement',
				'msFullscreenEnabled',
				'MSFullscreenChange',
				'MSFullscreenError'
			]
		];
		var val;
		var ret = {};
		var i, j;
		for ( i = 0; i < fnMap.length; i++ ) {
			val = fnMap[ i ];
			if ( val && val[ 1 ] in document ) {
				for ( j = 0; j < val.length; j++ ) {
					ret[ fnMap[ 0 ][ j ] ] = val[ j ];
				}
				return ret;
			}
		}
		return false;
	})();
	// If browser does not have Full Screen API, then simply unset default button template and stop
	if ( !fn ) {
		if ( $ && $.fxModalBox ) {
			$.fxModalBox.defaults.btnTpl.fullScreen = false;
		}
		return;
	}
	var FullScreen = {
		request : function ( elem ) {
			elem = elem || document.documentElement;
			elem[ fn.requestFullscreen ]( elem.ALLOW_KEYBOARD_INPUT );
		},
		exit : function () {
			document[ fn.exitFullscreen ]();
		},
		toggle : function ( elem ) {
			elem = elem || document.documentElement;
			if ( this.isFullscreen() ) {
				this.exit();
			} else {
				this.request( elem );
			}
		},
		isFullscreen : function()  {
			return Boolean( document[ fn.fullscreenElement ] );
		},
		enabled : function()  {
			return Boolean( document[ fn.fullscreenEnabled ] );
		}
	};
	$.extend(true, $.fxModalBox.defaults, {
		btnTpl : {
			fullScreen :
				'<button data-fxModalBox-fullscreen class="fxModalBox-button fxModalBox-button--fullscreen" title="{{FULL_SCREEN}}">' +
					'<svg viewBox="0 0 40 40">' +
						'<path d="M9,12 h22 v16 h-22 v-16 v16 h22 v-16 Z" />' +
					'</svg>' +
				'</button>'
		},
		fullScreen : {
			autoStart : false
		}
	});
	$(document).on({
		'onInit.fxmb' : function(e, instance) {
			var $container;
			if ( instance && instance.group[ instance.currIndex ].opts.fullScreen ) {
				$container = instance.$refs.container;
				$container.on('click.fxmb-fullscreen', '[data-fxModalBox-fullscreen]', function(e) {
					e.stopPropagation();
					e.preventDefault();
					FullScreen.toggle( $container[ 0 ] );
				});
				if ( instance.opts.fullScreen && instance.opts.fullScreen.autoStart === true ) {
					FullScreen.request( $container[ 0 ] );
				}
				// Expose API
				instance.FullScreen = FullScreen;
			} else if ( instance ) {
				instance.$refs.toolbar.find('[data-fxModalBox-fullscreen]').hide();
			}
		},
		'afterKeydown.fxmb' : function(e, instance, current, keypress, keycode) {
			// "P" or Spacebar
			if ( instance && instance.FullScreen && keycode === 70 ) {
				keypress.preventDefault();
				instance.FullScreen.toggle( instance.$refs.container[ 0 ] );
			}
		},
		'beforeClose.fxmb' : function( instance ) {
			if ( instance && instance.FullScreen ) {
				FullScreen.exit();
			}
		}
	});
	$(document).on(fn.fullscreenchange, function() {
		var isFullscreen = FullScreen.isFullscreen(),
			instance = $.fxModalBox.getInstance();
		if ( instance ) {
			// If image is zooming, then force to stop and reposition properly
			if ( instance.current && instance.current.type === 'image' && instance.isAnimating ) {
				instance.current.$content.css( 'transition', 'none' );

				instance.isAnimating = false;

				instance.update( true, true, 0 );
			}
			instance.trigger( 'onFullscreenChange', isFullscreen );
			instance.$refs.container.toggleClass( 'fxModalBox-is-fullscreen', isFullscreen );
		}
	});
}( document, window.jQuery || jQuery ));
//==========================================================================
//
//Thumbs
//Displays thumbnails in a grid
//
//==========================================================================
;(function (document, $) {
	'use strict';
	// Make sure there are default values
	$.fxModalBox.defaults = $.extend(true, {
		btnTpl : {
			thumbs :
			'<button data-fxModalBox-thumbs class="fxModalBox-button fxModalBox-button--thumbs" title="{{THUMBS}}">' +
				'<svg viewBox="0 0 120 120">' +
					'<path d="M30,30 h14 v14 h-14 Z M50,30 h14 v14 h-14 Z M70,30 h14 v14 h-14 Z M30,50 h14 v14 h-14 Z M50,50 h14 v14 h-14 Z M70,50 h14 v14 h-14 Z M30,70 h14 v14 h-14 Z M50,70 h14 v14 h-14 Z M70,70 h14 v14 h-14 Z" />' +
				'</svg>' +
			'</button>'
		},
		thumbs : {
			autoStart   : false,                  // Display thumbnails on opening
			hideOnClose : true,                   // Hide thumbnail grid when closing animation starts
			parentEl    : '.fxModalBox-container',  // Container is injected into this element
			axis        : 'y'                     // Vertical (y) or horizontal (x) scrolling
		}
	}, $.fxModalBox.defaults);

	var FxModalThumbs = function( instance ) {
		this.init( instance );
	};
	$.extend( FxModalThumbs.prototype, {
		$button		: null,
		$grid		: null,
		$list		: null,
		isVisible	: false,
		isActive	: false,
		init : function( instance ) {
			var self = this;
			self.instance = instance;
			instance.Thumbs = self;
			// Enable thumbs if at least two group items have thumbnails
			var first  = instance.group[0],
				second = instance.group[1];
			self.opts = instance.group[ instance.currIndex ].opts.thumbs;
			self.$button = instance.$refs.toolbar.find( '[data-fxModalBox-thumbs]' );
			if ( self.opts && first && second && (
		    		( first.type == 'image'  || first.opts.thumb  || first.opts.$thumb ) &&
		    		( second.type == 'image' || second.opts.thumb || second.opts.$thumb )
			)) {
				self.$button.show().on('click', function() {
					self.toggle();
				});
				self.isActive = true;
			} else {
				self.$button.hide();
			}
		},
		create : function() {
			var self = this,
				instance = self.instance,
				parentEl = self.opts.parentEl,
				list,
				src;
			self.$grid = $('<div class="fxModalBox-thumbs fxModalBox-thumbs-' + self.opts.axis + '"></div>').appendTo( instance.$refs.container.find( parentEl ).addBack().filter( parentEl ) );
			// Build list HTML
			list = '<ul>';
			$.each(instance.group, function( i, item ) {
				src = item.opts.thumb || ( item.opts.$thumb ? item.opts.$thumb.attr( 'src' ) : null );
				if ( !src && item.type === 'image' ) {
					src = item.src;
				}
				if ( src && src.length ) {
					list += '<li data-index="' + i + '"  tabindex="0" class="fxModalBox-thumbs-loading"><img data-src="' + src + '" alt="' + item.opts.$orig[0].dataset.alt + '" /></li>';
				}
			});
			list += '</ul>';
			self.$list = $( list ).appendTo( self.$grid ).on('click', 'li', function() {
				instance.jumpTo( $(this).data('index') );
			});
			self.$list.find( 'img' ).hide().one('load', function() {
				var $parent		= $(this).parent().removeClass( 'fxModalBox-thumbs-loading' ),
					thumbWidth	= $parent.outerWidth(),
					thumbHeight	= $parent.outerHeight(),
					width,
					height,
					widthRatio,
					heightRatio;
				width  = this.naturalWidth	|| this.width;
				height = this.naturalHeight	|| this.height;
				// Calculate thumbnail dimensions; center vertically and horizontally
				widthRatio  = width  / thumbWidth;
				heightRatio = height / thumbHeight;
				if (widthRatio >= 1 && heightRatio >= 1) {
					if (widthRatio > heightRatio) {
						width  = width / heightRatio;
						height = thumbHeight;
					} else {
						width  = thumbWidth;
						height = height / widthRatio;
					}
				}
				$(this).css({
					width         : Math.floor(width),
					height        : Math.floor(height),
					'margin-top'  : height > thumbHeight ? ( Math.floor(thumbHeight * 0.3 - height * 0.3 ) ) : Math.floor(thumbHeight * 0.5 - height * 0.5 ),
					'margin-left' : Math.floor(thumbWidth * 0.5 - width * 0.5 )
				}).show();
			})
			.each(function() {
				this.src = $( this ).data( 'src' );
			});
			if ( self.opts.axis === 'x' ) {
				self.$list.width( parseInt( self.$grid.css("padding-right") ) + ( instance.group.length * self.$list.children().eq(0).outerWidth(true) ) + 'px' );
			}
		},
		focus : function( duration ) {
			var self = this,
				$list = self.$list,
				thumb,
				thumbPos;
			if ( self.instance.current ) {
				thumb = $list.children()
					.removeClass( 'fxModalBox-thumbs-active' )
					.filter('[data-index="' + self.instance.current.index  + '"]')
					.addClass('fxModalBox-thumbs-active');
				thumbPos = thumb.position();
				// Check if need to scroll to make current thumb visible
				if ( self.opts.axis === 'y' && ( thumbPos.top < 0 || thumbPos.top > ( $list.height() - thumb.outerHeight() ) ) ) {
					$list.stop().animate({ 'scrollTop' : $list.scrollTop() + thumbPos.top }, duration);
				} else if ( self.opts.axis === 'x' && (
						thumbPos.left < $list.parent().scrollLeft() ||
						thumbPos.left > ( $list.parent().scrollLeft() + ( $list.parent().width() - thumb.outerWidth() ) )
					)
				) {
					$list.parent().stop().animate({ 'scrollLeft' : thumbPos.left }, duration);
				}
			}
		},
		update : function() {
			this.instance.$refs.container.toggleClass( 'fxModalBox-show-thumbs', this.isVisible );
			if ( this.isVisible ) {
				if ( !this.$grid ) {
					this.create();
				}
				this.instance.trigger( 'onThumbsShow' );
				this.focus( 0 );
			} else if ( this.$grid ) {
				this.instance.trigger( 'onThumbsHide' );
			}
			// Update content position
			this.instance.update();
		},
		hide : function() {
			this.isVisible = false;
			this.update();
		},
		show : function() {
			this.isVisible = true;
			this.update();
		},
		toggle : function() {
			this.isVisible = !this.isVisible;
			this.update();
		}
	});
	$(document).on({
		'onInit.fxmb' : function(e, instance) {
			var Thumbs;
			if ( instance && !instance.Thumbs ) {
				Thumbs = new FxModalThumbs( instance );
				if ( Thumbs.isActive && Thumbs.opts.autoStart === true ) {
					Thumbs.show();
				}
			}
		},
		'beforeShow.fxmb' : function(e, instance, item, firstRun) {
			var Thumbs = instance && instance.Thumbs;
			if ( Thumbs && Thumbs.isVisible ) {
				Thumbs.focus( firstRun ? 0 : 250 );
			}
		},
		'afterKeydown.fxmb' : function(e, instance, current, keypress, keycode) {
			var Thumbs = instance && instance.Thumbs;
			// "G"
			if ( Thumbs && Thumbs.isActive && keycode === 71 ) {
				keypress.preventDefault();
				Thumbs.toggle();
			}
		},
		'beforeClose.fxmb' : function( e, instance ) {
			var Thumbs = instance && instance.Thumbs;
			if ( Thumbs && Thumbs.isVisible && Thumbs.opts.hideOnClose !== false ) {
				Thumbs.$grid.hide();
			}
		}
	});
}(document, window.jQuery));
////==========================================================================
//
//Share
//Displays simple form for sharing current url
//
//==========================================================================
;(function (document, $) {
	'use strict';
	$.extend(true, $.fxModalBox.defaults, {
		btnTpl : {
			share :
				'<button data-fxModalBox-share class="fxModalBox-button fxModalBox-button--share" title="{{SHARE}}">' +
					'<svg viewBox="0 0 40 40">' +
						'<path d="M6,30 C8,18 19,16 23,16 L23,16 L23,10 L33,20 L23,29 L23,24 C19,24 8,27 6,30 Z">' +
					'</svg>' +
				'</button>'
		},
		share : {
			tpl :
				'<div class="fxModalBox-share">' +
					'<h1>{{SHARE}}</h1>' +
					'<p class="fxModalBox-share__links">' +
						'<a class="fxModalBox-share__button fxModalBox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u={{url}}">' +
							'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /></svg>' +
							'<span>Facebook</span>' +
						'</a>' +
						'<a class="fxModalBox-share__button fxModalBox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}">' +
							'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg>' +
							'<span>Pinterest</span>' +
						'</a>' +
						'<a class="fxModalBox-share__button fxModalBox-share__button--tw" href="https://twitter.com/intent/tweet?url={{url}}&text={{descr}}">' +
							'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /></svg>' +
							'<span>Twitter</span>' +
						'</a>' +
					'</p>' +
					'<p><input class="fxModalBox-share__input" type="text" value="{{url_raw}}" /></p>' +
				'</div>'
		}
	});
	function escapeHtml(string) {
		var entityMap = {
		  '&': '&amp;',
		  '<': '&lt;',
		  '>': '&gt;',
		  '"': '&quot;',
		  "'": '&#39;',
		  '/': '&#x2F;',
		  '`': '&#x60;',
		  '=': '&#x3D;'
		};
		return String(string).replace(/[&<>"'`=\/]/g, function (s) {
			return entityMap[s];
		});
	}
	$(document).on('click', '[data-fxModalBox-share]', function() {
		var f = $.fxModalBox.getInstance(),
			url,
			tpl;
		if ( f ) {
			url = f.current.opts.hash === false ? f.current.src : window.location;
			tpl = f.current.opts.share.tpl
					.replace( /\{\{media\}\}/g, f.current.type === 'image' ? encodeURIComponent( f.current.src ) : '' )
					.replace( /\{\{url\}\}/g, encodeURIComponent( url ) )
					.replace( /\{\{url_raw\}\}/g, escapeHtml( url ) )
					.replace( /\{\{descr\}\}/g, f.$caption ? encodeURIComponent( f.$caption.text() ) : '' );
			$.fxModalBox.open({
				src  : f.translate( f, tpl ),
				type : 'html',
				opts : {
					animationEffect   : "fade",
					animationDuration : 250,
					afterLoad : function(instance, current) {
						// Opening links in a popup window
						current.$content.find('.fxModalBox-share__links a').on('click', function() {
					        window.open(this.href, "Share", "width=550, height=450");
					        return false;
						});
					}
				}
			});
		}
	});
}( document, window.jQuery || jQuery ));
//==========================================================================
//
//Hash
//Enables linking to each modal
//
//==========================================================================
;(function (document, window, $) {
	'use strict';
	// Simple $.escapeSelector polyfill (for jQuery prior v3)
	if ( !$.escapeSelector ) {
		$.escapeSelector = function( sel ) {
			var rcssescape = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;
			var fcssescape = function( ch, asCodePoint ) {
				if ( asCodePoint ) {
					// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER
					if ( ch === "\0" ) {
						return "\uFFFD";
					}
					// Control characters and (dependent upon position) numbers get escaped as code points
					return ch.slice( 0, -1 ) + "\\" + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + " ";
				}
				// Other potentially-special ASCII characters get backslash-escaped
				return "\\" + ch;
			};
			return ( sel + "" ).replace( rcssescape, fcssescape );
		};
	}
	// Create new history entry only once
	var shouldCreateHistory = true;
	// Variable containing last hash value set by fxModalBox
	// It will be used to determine if fxModalBox needs to close after hash change is detected
 var currentHash = null;
	// Throttling the history change
	var timerID = null;
	// Get info about gallery name and current index from url
 function parseUrl() {
     var hash    = window.location.hash.substr( 1 );
     var rez     = hash.split( '-' );
     var index   = rez.length > 1 && /^\+?\d+$/.test( rez[ rez.length - 1 ] ) ? parseInt( rez.pop( -1 ), 10 ) || 1 : 1;
     var gallery = rez.join( '-' );
		// Index is starting from 1
		if ( index < 1 ) {
			index = 1;
		}
     return {
         hash    : hash,
         index   : index,
         gallery : gallery
     };
 }
	// Trigger click evnt on links to open new fxModalBox instance
	function triggerFromUrl( url ) {
		var $el;
     if ( url.gallery !== '' ) {
			// If we can find element matching 'data-fxModalBox' atribute, then trigger click event for that ..
			$el = $( "html" ).find( "[data-fxModalBox='" + $.escapeSelector( url.gallery ) + "']" ).eq( url.index - 1 );
         if ( !$el.length ) {
				// .. if not, try finding element by ID
				$el = $( "html" ).find( "#" + $.escapeSelector( url.gallery ) + "" );
			}
			if ( $el.length ) {
				shouldCreateHistory = false;
				$el.trigger( 'click' );
			}
     }
	}
	// Get gallery name from current instance
	function getGalleryID( instance ) {
		var opts;
		if ( !instance ) {
			return false;
		}
		opts = instance.current ? instance.current.opts : instance.opts;
		return opts.hash || ( opts.$orig ? opts.$orig.data( 'fxModalBox' ) : ''  );
	}
	// Start when DOM becomes ready
 $(function() {
		// Check if user has disabled this module
		if ( $.fxModalBox.defaults.hash === false ) {
			return;
		}
		// Update hash when opening/closing fxModalBox
	    $(document).on({
			'onInit.fxmb' : function( e, instance ) {
				var url, gallery;
				if ( instance.group[ instance.currIndex ].opts.hash === false ) {
					return;
				}
				url     = parseUrl();
				gallery = getGalleryID( instance );
				// Make sure gallery start index matches index from hash
				if ( gallery && url.gallery && gallery == url.gallery ) {
					instance.currIndex = url.index - 1;
				}
			},
			'beforeShow.fxmb' : function( e, instance, current ) {
				var gallery;
				if ( !current || current.opts.hash === false ) {
					return;
				}
	            gallery = getGalleryID( instance );
	            // Update window hash
	            if ( gallery && gallery !== '' ) {
					if ( window.location.hash.indexOf( gallery ) < 0 ) {
		                instance.opts.origHash = window.location.hash;
		            }
					currentHash = gallery + ( instance.group.length > 1 ? '-' + ( current.index + 1 ) : '' );
					if ( 'replaceState' in window.history ) {
						if ( timerID ) {
							clearTimeout( timerID );
						}
						timerID = setTimeout(function() {
							window.history[ shouldCreateHistory ? 'pushState' : 'replaceState' ]( {} , document.title, window.location.pathname + window.location.search + '#' +  currentHash );
							timerID = null;
							shouldCreateHistory = false;
						}, 300);
					} else {
						window.location.hash = currentHash;
					}
	            }
	        },
			'beforeClose.fxmb' : function( e, instance, current ) {
				var gallery, origHash;
				if ( timerID ) {
					clearTimeout( timerID );
				}
				if ( current.opts.hash === false ) {
					return;
				}
				gallery  = getGalleryID( instance );
				origHash = instance && instance.opts.origHash ? instance.opts.origHash : '';
	            // Remove hash from location bar
	            if ( gallery && gallery !== '' ) {
	                if ( 'replaceState' in history ) {
						window.history.replaceState( {} , document.title, window.location.pathname + window.location.search + origHash );
	                } else {
						window.location.hash = origHash;
						// Keep original scroll position
						$( window ).scrollTop( instance.scrollTop ).scrollLeft( instance.scrollLeft );
	                }
	            }
				currentHash = null;
	        }
	    });
		// Check if need to close after url has changed
		$(window).on('hashchange.fxmb', function() {
			var url = parseUrl();
			if ( $.fxModalBox.getInstance() ) {
				if ( currentHash && currentHash !== url.gallery + '-' + url.index && !( url.index === 1 && currentHash == url.gallery ) ) {
					currentHash = null;
					$.fxModalBox.close();
				}
			} else if ( url.gallery !== '' ) {
				triggerFromUrl( url );
			}
		});
		// Check current hash and trigger click event on matching element to start fxModalBox, if needed
		setTimeout(function() {
			triggerFromUrl( parseUrl() );
		}, 50);
 });
}( document, window, window.jQuery || jQuery ));
;(function (document, $) {
	'use strict';
	var prevTime = new Date().getTime();
 $(document).on({
     'onInit.fxmb' : function( e, instance, current ) {
			instance.$refs.stage.on('mousewheel DOMMouseScroll wheel MozMousePixelScroll', function(e) {
				var current  = instance.current,
					currTime = new Date().getTime();
				if ( instance.group.length < 1 || current.opts.wheel === false || ( current.opts.wheel === 'auto' && current.type !== 'image' ) ) {
					return;
				}
				e.preventDefault();
				e.stopPropagation();
				if ( current.$slide.hasClass( 'fxModalBox-animated' ) ) {
					return;
				}
				e = e.originalEvent || e;
				if ( currTime - prevTime < 250 ) {
					return;
				}
				prevTime = currTime;
				instance[ ( -e.deltaY || -e.deltaX || e.wheelDelta || -e.detail ) < 0 ? 'next' : 'previous' ]();
			});
		}
 });
}( document, window.jQuery || jQuery ));
/* This is the FedEx.com help component javascript file.
 The global FDX object must already be defined

 Author: quantrell.sanford@vml.com
 Created: 2017-04-11
 */

if (!FDX) {
    var FDX = {};
}

FDX.HELP ={
    helpClass : 'fxg-help',
    helpOpenClass : 'fxg-help--open',
    helpTitleClass : 'fxg-help__title',
    helpCloseButton : 'fxg-help__message-close',

    openHelp : function(element){
        $(element).addClass(FDX.HELP.helpOpenClass);
    },
    
    closeHelp : function(element){
        $(element).removeClass(FDX.HELP.helpOpenClass);
    }
};

$(document).ready(function(){
    $('.' + FDX.HELP.helpTitleClass).on('click', function(){
        FDX.HELP.openHelp($(this).closest('.' + FDX.HELP.helpClass));
    });

    $('.' + FDX.HELP.helpCloseButton).on('click', function(){
        FDX.HELP.closeHelp($(this).closest('.' + FDX.HELP.helpClass));
    });
});
/**
   * GENERATED BY FMOD
   * Please do not modify this file directly.
   * Check 'ui.frontend/README.md' for the instructions.
   **/

/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(1);
module.exports = __webpack_require__(2);


/***/ }),
/* 1 */
/***/ (function(module, exports) {

/**
 * Footer
 *
 * This component is created for demonstration purpose
 */

(function ($, _) {
  window.FDX.components.footer = function () {
    /**
    * @type {Object[]} list of instances
    */
    var instances = [];

    /**
    * @type {string} root selector
    */
    var selector = '.fxg-footer';

    /**
    * @type {string} root selector
    */
    var socialClass = '.fxg-footer__social';

    /**
    * @type {string} root selector
    */
    var socialInnerClass = 'fxg-footer__social-inner';

    /**
    * @type {string} root selector
    */
    var socialWrapperClass = 'fxg-footer__social-wrapper';

    /**
    * @type {string} root selector
    */
    var socialIndicatorClass = 'fxg-footer__social-indicator';

    /**
    * @type {string} root selector
    */
    var leftIndicatorClass = 'fxg-footer__social-indicator--left';

    /**
    * @type {string} root selector
    */
    var rightIndicatorClass = 'fxg-footer__social-indicator--right';

    /**
    * @type {string} root selector
    */
    var footerClass = '.fxg-footer';

    /**
    * @type {string} root selector
    */
    var aemLinkClass = '.icon_link';

    /**
    * @type {string} root selector
    */
    var wrapperSize = 0;

    /**
    * @type {string} root selector
    */
    var socialSize = 0;

    /**
    * @type {string} root selector
    */
    var rightToLeftValue = "" + $('#footerIconRtl').val() + "";

    /**
     * Create component instance
     *
     * @public
     * @return {Object} instance
     */
    function create() {
      /**
       * @type {Object} configuration
       */
      var config = {};

      /**
       * @type {Object} jQuery DOM root element
       */
      var $root = null;

      /**
       * @type {boolean} flag for button click
       */
      var buttonClicked = false;

      /**
       * Set configuration
       *
       * @public
       * @param {Object} _config - key/value pair
       * @return {Object} instance
       */
      function setConfig(_config) {
        var defaultConfig = {
          option1: '',
          option2: ''
        };
        config = $.extend({}, defaultConfig, _config);
      }
      ;

      /**
       * Render HTML
       *
       * @private
       * @return {Promise<string>} A promise that resolves with rendered HTML
       */
      function render() {}

      /**
       * showLeftIndicator
       *
       * @private
       */
      function showLeftIndicator() {
        //contolled by z-index because it is layered
        $('.' + FDX.components.footer.leftIndicatorClass).css('z-index', '2');
      }

      /**
       * hideLeftIndicator
       *
       * @private
       */
      function hideLeftIndicator() {
        $('.' + FDX.components.footer.leftIndicatorClass).css('z-index', '-1');
      }

      /**
       * showRightIndicator
       *
       * @private
       */
      function showRightIndicator() {
        $('.' + FDX.components.footer.rightIndicatorClass).css('display', 'inline-flex');
      }

      /**
       * hideRightIndicator
       *
       * @private
       */
      function hideRightIndicator() {
        $('.' + FDX.components.footer.rightIndicatorClass).css('display', 'none');
      }

      /**
       * mobileBreakpointChanged
       *
       * @private
       */
      function mobileBreakpointChanged(mq) {
        if (mq && mq.matches) {
          //Wrap
          $(FDX.components.footer.footerClass + ' ' + FDX.components.footer.socialClass + ' ' + FDX.components.column.columnClass).each(function (i, e) {
            $(e).find(FDX.components.footer.aemLinkClass).wrapAll("<div class='" + FDX.components.footer.socialWrapperClass + "' />").wrapAll("<div class='wrap' />").wrapAll("<div class='" + FDX.components.footer.socialInnerClass + "' />");
          });
          var left;
          var right;
          //Add indicators
          if (FDX.components.footer.rightToLeftValue !== "true") {
            left = '<div class="' + FDX.components.footer.socialIndicatorClass + ' ' + FDX.components.footer.leftIndicatorClass + '">' + '<svg xmlns="http://www.w3.org/2000/svg" width="12" height="22" viewBox="0 0 12 22"><desc>  Created with Sketch.</desc><g fill="none"><g style="stroke-width:2;stroke:#333333"><polyline transform="translate(-291 -317)translate(0 284.5)translate(297 43.89421)rotate(-90)translate(-297 -43.89421)" points="287 39 297.1 48.8 307 39.1"/></g></g></svg>' + '</div>';
            right = '<div class="' + FDX.components.footer.socialIndicatorClass + ' ' + FDX.components.footer.rightIndicatorClass + '">' + '<svg xmlns="http://www.w3.org/2000/svg" width="12" height="22" viewBox="0 0 12 22"><desc>  Created with Sketch.</desc><g fill="none"><g style="stroke-width:2;stroke:#333333"><polyline transform="translate(-291 -317)translate(0 284.5)translate(297 43.89421)rotate(-90)translate(-297 -43.89421)" points="287 39 297.1 48.8 307 39.1"/></g></g></svg>' + '</div>';
          } else {
            left = '<div class="' + FDX.components.footer.socialIndicatorClass + ' ' + FDX.components.footer.leftIndicatorClass + '">' + '<svg xmlns="http://www.w3.org/2000/svg" width="12" height="22" viewBox="0 0 12 22"><desc>  Created with Sketch.</desc><g fill="none"><g style="stroke-width:2;stroke:#333333"><polyline transform="translate(-291 -317)translate(0 284.5)translate(297 43.89421)rotate(90)translate(-297 -43.89421)" points="287 39 297.1 48.8 307 39.1"/></g></g></svg>' + '</div>';
            right = '<div class="' + FDX.components.footer.socialIndicatorClass + ' ' + FDX.components.footer.rightIndicatorClass + '">' + '<svg xmlns="http://www.w3.org/2000/svg" width="12" height="22" viewBox="0 0 12 22"><desc>  Created with Sketch.</desc><g fill="none"><g style="stroke-width:2;stroke:#333333"><polyline transform="translate(-291 -317)translate(0 284.5)translate(297 43.89421)rotate(90)translate(-297 -43.89421)" points="287 39 297.1 48.8 307 39.1"/></g></g></svg>' + '</div>';
          }
          $('.' + FDX.components.footer.socialWrapperClass).after(right).before(left);

          //set variables for calculations
          FDX.components.footer.wrapperSize = $('.' + FDX.components.footer.socialWrapperClass).width() - 10;
          $('.' + FDX.components.footer.socialInnerClass).children().width(function (i, w) {
            FDX.components.footer.socialSize += w;
          });
        } else {
          //Unwrap
          if ($(FDX.components.footer.footerClass + ' ' + FDX.components.footer.socialClass + ' ' + FDX.components.footer.aemLinkClass).parent().hasClass(FDX.components.footer.socialInnerClass)) {
            $(FDX.components.footer.footerClass + ' ' + FDX.components.footer.socialClass + ' ' + FDX.components.footer.aemLinkClass).unwrap().unwrap().unwrap();
          }
          $('.' + FDX.components.footer.leftIndicatorClass).remove();
          $('.' + FDX.components.footer.rightIndicatorClass).remove();
        }
      }

      /**
       * hideRightIndicator
       *
       * @private
       */
      function iconFocusCheck() {
        var parentElement = $('.' + FDX.components.footer.socialInnerClass).children();
        if (this === parentElement[5]) {
          hideRightIndicator();
          showLeftIndicator();
          $('.' + FDX.components.footer.socialInnerClass).css('left', '-239px');
        } else if (this === parentElement[4]) {
          $('.' + FDX.components.footer.socialInnerClass).css('left', '-158px');
          $('.' + FDX.components.footer.socialInnerClass).animate({
            right: 0
          }, 50);
        } else if (this === parentElement[3]) {
          $('.' + FDX.components.footer.socialInnerClass).css('left', '-79px');
        } else if (this === parentElement[2] || this === parentElement[1] || this === parentElement[0]) {
          $('.' + FDX.components.footer.socialInnerClass).css('left', '0px');
          showRightIndicator();
          hideLeftIndicator();
        }
      }

      /**
       * hideRightIndicator
       *
       * @private
       */
      function indicatorCheck() {
        var _FDX$BREAKPOINTS;
        if (FDX.components.footer.socialSize < FDX.components.footer.wrapperSize) {
          $('.' + FDX.components.footer.rightIndicatorClass).hide();
          hideRightIndicator();
        } else if ($(document).width() <= ((_FDX$BREAKPOINTS = FDX.BREAKPOINTS) === null || _FDX$BREAKPOINTS === void 0 ? void 0 : _FDX$BREAKPOINTS.MobileMediaQuery)) {
          $('.' + FDX.components.footer.rightIndicatorClass).css('display', '');
          showRightIndicator();
        }
      }

      /**
       * Bind interactions events
       *
       * @private
       */
      function bindInteractions() {
        var _FDX$BREAKPOINTS2, _FDX$BREAKPOINTS3;
        var startX = -1;
        //remove ghost nodes in Preview/Disabled mode
        var ghostNodes = $(".ghost");
        if (ghostNodes.length > 0) {
          $.each(ghostNodes, function (index, value) {
            if ($(this).has("div").length == 0 || document.cookie.indexOf("cq-editor-layer.page") > 0 && FDX.SESSION.getCookie("cq-editor-layer.page") == 'Preview') {
              $(this).remove();
            }
          });
        }
        document.body.addEventListener("touchmove", handleMove, false);
        document.body.addEventListener("touchstart", handleStart, false);
        (_FDX$BREAKPOINTS2 = FDX.BREAKPOINTS) === null || _FDX$BREAKPOINTS2 === void 0 ? void 0 : _FDX$BREAKPOINTS2.getMobileMediaQuery().addListener(mobileBreakpointChanged);
        mobileBreakpointChanged((_FDX$BREAKPOINTS3 = FDX.BREAKPOINTS) === null || _FDX$BREAKPOINTS3 === void 0 ? void 0 : _FDX$BREAKPOINTS3.getMobileMediaQuery());
        $(FDX.components.footer.aemLinkClass).on('keydown', function (e) {
          if (e.which === 9) {
            iconFocusCheck();
          }
        });
        $('.' + FDX.components.footer.leftIndicatorClass).on('click', function () {
          if (FDX.components.footer.rightToLeftValue !== "true") {
            $('.' + FDX.components.footer.socialInnerClass).animate({
              left: 0
            }, 250);
          } else {
            $('.' + FDX.components.footer.socialInnerClass).animate({
              right: 0
            }, 250);
          }
          showRightIndicator();
          hideLeftIndicator();
        });
        $('.' + FDX.components.footer.rightIndicatorClass).on('click', function () {
          if (FDX.components.footer.rightToLeftValue !== "true") {
            $('.' + FDX.components.footer.socialInnerClass).animate({
              left: -(FDX.components.footer.socialSize - FDX.components.footer.wrapperSize)
            }, 250);
          } else {
            $('.' + FDX.components.footer.socialInnerClass).animate({
              right: -(FDX.components.footer.socialSize - FDX.components.footer.wrapperSize)
            }, 250);
          }
          showLeftIndicator();
          hideRightIndicator();
        });
        $(window).on('resize', function () {
          FDX.components.footer.wrapperSize = $('.' + FDX.components.footer.socialWrapperClass).width() - 10;
          indicatorCheck();
        });
        function handleMove(evt) {
          if (startX >= 0) {
            if (FDX.components.footer.socialSize < FDX.components.footer.wrapperSize) return;
            var move = evt.changedTouches[0].pageX - startX;
            startX = evt.changedTouches[0].pageX;
            var position;
            if (FDX.components.footer.rightToLeftValue !== "true") {
              position = parseInt($('.' + FDX.components.footer.socialInnerClass).css('left')) + move || 0 + move;
            } else {
              position = parseInt($('.' + FDX.components.footer.socialInnerClass).css('right')) - move || 0 + move;
            }
            if (position < -(FDX.components.footer.socialSize - FDX.components.footer.wrapperSize)) {
              position = -(FDX.components.footer.socialSize - FDX.components.footer.wrapperSize);
              hideRightIndicator();
              showLeftIndicator();
            } else if (position > 0) {
              position = 0;
              showRightIndicator();
              hideLeftIndicator();
            } else {
              showRightIndicator();
              showLeftIndicator();
            }
            if (FDX.components.footer.rightToLeftValue !== "true") {
              $('.' + FDX.components.footer.socialInnerClass).css('left', position + 'px');
            } else {
              $('.' + FDX.components.footer.socialInnerClass).css('right', position + 'px');
            }
          }
        }
        function handleStart(evt) {
          var _FDX$BREAKPOINTS4;
          if ($('.' + FDX.components.footer.socialWrapperClass).length < 1) return;
          var elementBox = {};
          elementBox.top = $('.' + FDX.components.footer.socialWrapperClass).offset().top;
          elementBox.bottom = $('.' + FDX.components.footer.socialWrapperClass).offset().top + $('.' + FDX.components.footer.socialWrapperClass).height();
          elementBox.left = $('.' + FDX.components.footer.socialWrapperClass).offset().left;
          elementBox.right = $('.' + FDX.components.footer.socialWrapperClass).offset().left + $('.' + FDX.components.footer.socialWrapperClass).width();
          var touchX = evt.changedTouches[0].pageX;
          var touchY = evt.changedTouches[0].pageY;
          if (touchX >= elementBox.left && touchX <= elementBox.right && touchY >= elementBox.top && touchY <= elementBox.bottom && $(document).width() <= ((_FDX$BREAKPOINTS4 = FDX.BREAKPOINTS) === null || _FDX$BREAKPOINTS4 === void 0 ? void 0 : _FDX$BREAKPOINTS4.MobileMediaQuery)) {
            startX = touchX;
          } else {
            startX = -1;
          }
        }
        (function () {
          /* to hide link focus ring for mouse interaction in footer*/
          var links = $('.fxg-copyright a');
          $(links).each(function (index, arrVal) {
            $(arrVal).addClass('fxg-keyboard');
            var content = $(arrVal).html();
            var span = '<span class="fxg-mouse" tabindex="-1">' + content + '</span>';
            $(arrVal).html(span);
          });
        })();
      }

      /**
       * Initialize component instance
       *
       * @public
       * @param {Object} [_$root] component root element (optional)
       * @return {Promise} A promise that resolves when instance is initiated
       */
      function init(_$root) {
        var promise = $.Deferred();
        $root = _$root;
        // bind interactions
        bindInteractions();

        // initialized
        $root.data('initialized', true);
        promise.resolve();
        return promise;
      }

      /**
       * Get component element
       *
       * @public
       * @return {Object} jQuery DOM element
       */
      function getElement() {
        return $root;
      }

      // add and return instance
      var instance = {
        setConfig: setConfig,
        init: init,
        getElement: getElement,
        showLeftIndicator: showLeftIndicator,
        hideLeftIndicator: hideLeftIndicator,
        showRightIndicator: showRightIndicator,
        hideRightIndicator: hideRightIndicator,
        mobileBreakpointChanged: mobileBreakpointChanged,
        iconFocusCheck: iconFocusCheck,
        indicatorCheck: indicatorCheck
      };

      // pass private attributes and methods to jest
      if (typeof jest !== 'undefined') {
        bindInteractions = jest.fn(bindInteractions);
        instance.$private = function () {
          return {
            buttonClicked: buttonClicked,
            bindInteractions: bindInteractions
          };
        };
      }
      instances.push(instance);
      return instance;
    }

    /**
     * Create instances
     *
     * @public
     * @return {Promise} A promise that resolves when all instances are initiated
     */
    function createInstances() {
      var promise = $.Deferred();
      var initPromises = [];

      // find all related elements
      $(selector).each(function () {
        // skip already initialized elements
        var $element = $(this);
        if ($element.data('initialized')) return;

        // create instance
        var instance = window.FDX.components.footer.create();

        // initialize instance
        var initPromise = instance.init($element);
        initPromises.push(initPromise);
      });

      // resolve after all inits
      $.when.apply($, initPromises).then(function () {
        promise.resolve();
      });
      return promise;
    }

    // return component
    return {
      create: create,
      instances: instances,
      createInstances: createInstances,
      selector: selector,
      socialClass: socialClass,
      socialInnerClass: socialInnerClass,
      socialWrapperClass: socialWrapperClass,
      socialIndicatorClass: socialIndicatorClass,
      leftIndicatorClass: leftIndicatorClass,
      rightIndicatorClass: rightIndicatorClass,
      footerClass: footerClass,
      aemLinkClass: aemLinkClass,
      wrapperSize: wrapperSize,
      socialSize: socialSize,
      rightToLeftValue: rightToLeftValue
    };
  }();
})(jQuery, _);

/***/ }),
/* 2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ })
/******/ ]);
/**
  * ajax Service MODULE
  * fires ajax requests and avoids duplicate requests.
  */
  (function ($, _, window) {

  window.FDX = window.FDX || {};

  var fetchService = function () {

    // per url we will setup the service, since it could happen both urls are not the same...
    var deferred = {};
    var data = {};
    var xhr = {};

    // Default is JSON format.
    var $get = $.getJSON;

    function get(url, type) {
      if (type) {
        // other formats like html.
        $get = $.get;
      }

      // setup promise if not set allready
      if (!deferred[url]) {
        deferred[url] = $.Deferred();
      }

      if (data[url]) {
        // When we allready stored data we simply return this
        deferred[url].resolve(data[url]);
        return deferred[url];
      } else if (xhr[url]) {
        // When no data is set but request being made again (page and bar component on same page) we simply return xhr call
        return deferred[url];
      } else {
        // When checkig this service for the first time we will store it to xhr and return promise
        xhr[url] = $get(url)
          .done(function (response) {
            // we did succeed in retrieving any data
            data[url] = response;
            deferred[url].resolve(response);
          })
          .fail(function () {
            // reject on error
            deferred[url].reject();
          });

        return deferred[url];

      }
    }

    // expose the service
    return {
      get: get
    };

  };


  // expose 'interimForms' module
  window.FDX.FetchService = fetchService();

}(window.jQuery, _, window));
/* This is the FedEx.com expandable columns component javascript file.
 The global FDX object must already be defined.

 Author: quantrell.sanford@vml.com
 Created: 2017-03-27
 */
if (!FDX) {
    var FDX = {};
}

FDX.EXP_COLUMNS = {
    optionsClass : "fxg-expandable-cols",
    optionsItemClass : "fxg-expandable-cols__item",
    optionsItemInnerClass : "fxg-expandable-cols__item-inner",
    optionsItemContentClass : "fxg-expandable-cols__inner-right",
    optionsItemTitleClass : "fxg-expandable-cols__title",
    optionsItemOpenClass : "fxg-expandable-cols__item--open",
    optionsItemClosedClass : "fxg-expandable-cols__item--close", 
    optionsCloseBtnClass : "fxg-expandable-cols__close",
    optionWrapperClass : "fxg-expandable-cols__wrapper",
    optionsWrapperCenteredClass : "fxg-expandable-cols__wrapper--centered",
    optionsItemOpenedWidth : 465,
    rightToLeftValue : ""+$('#expandableRtl').val()+"",
    optionsCloseOpenBtn : "fxg-expClsAriaLbl",


    // column refers to an element '.fxg-expandable-cols__item'
    expandColumn: function($column) {
      var closedWidth = $column.width();
      if(!$column.hasClass(FDX.EXP_COLUMNS.optionsItemOpenClass)){
        //Close all open items
        $('.' + FDX.EXP_COLUMNS.optionsItemOpenClass).addClass(FDX.EXP_COLUMNS.optionsItemClosedClass).removeClass(FDX.EXP_COLUMNS.optionsItemOpenClass);
    	$('.' + FDX.EXP_COLUMNS.optionsItemTitleClass).attr('aria-expanded', 'false');
    	$('.' + FDX.EXP_COLUMNS.optionsCloseOpenBtn).attr('aria-expanded', 'false');
        //Open this item
        $column.removeClass(FDX.EXP_COLUMNS.optionsItemClosedClass).addClass(FDX.EXP_COLUMNS.optionsItemOpenClass);
    	$column.find('.' + FDX.EXP_COLUMNS.optionsItemTitleClass).attr('aria-expanded', 'true');
    	$column.find('.' + FDX.EXP_COLUMNS.optionsCloseOpenBtn).attr('aria-expanded', 'true');

        //if mobile, halt execution
        if($(document).width() <= FDX.BREAKPOINTS.MobileMediaQuery){
            $column.parent().css('transform', '');
            return;
        }

        //If item in position 3 or 4 of 4 items
        if($column.index() > 1 && $column.siblings().length == 3){
            var trans;
            if(FDX.EXP_COLUMNS.rightToLeftValue !== "true"){
            trans = trans = "translateX(-"+ (FDX.EXP_COLUMNS.optionsItemOpenedWidth - closedWidth) +"px)"; 
            }
            else
            {
             trans = trans = "translateX("+ (FDX.EXP_COLUMNS.optionsItemOpenedWidth - closedWidth) +"px)"; 
            }
            $column.parent().css('transform', trans);
        }else{
            $column.parent().css('transform', '');
        }
      } else {
        // toggle expand/collapse - for accessibility
        FDX.EXP_COLUMNS.collapseColumn($column);
      }
    },

    // column refers to an element '.fxg-expandable-cols__item'
    collapseColumn: function($column) {
      if($column.hasClass(FDX.EXP_COLUMNS.optionsItemOpenClass)){
        $column.addClass(FDX.EXP_COLUMNS.optionsItemClosedClass).removeClass(FDX.EXP_COLUMNS.optionsItemOpenClass);
        $column.closest('.' + FDX.EXP_COLUMNS.optionWrapperClass).css('transform', '');
        $column.find('.' + FDX.EXP_COLUMNS.optionsItemTitleClass).attr('aria-expanded', 'false');
        $column.find('.' + FDX.EXP_COLUMNS.optionsCloseOpenBtn).attr('aria-expanded', 'false');
      }else{
        // toggle expand/collapse - for accessibility
        FDX.EXP_COLUMNS.expandColumn($column);
      }  
    }
}

$(document).ready(function(){
    //If less then 4, add centered class
    $('.' + FDX.EXP_COLUMNS.optionsClass + ' .' + FDX.EXP_COLUMNS.optionWrapperClass).each(function(index){
        if($(this).children().length < 4){
            $(this).addClass(FDX.EXP_COLUMNS.optionsWrapperCenteredClass);
        }
    });

    $('.' + FDX.EXP_COLUMNS.optionsItemClass).on('click', function(e){
      if ($(e.target).is("a")) {
        // let links follow their natural flow
        return;
      }
      
      if ($(e.target).hasClass("fxg-expandable-cols__inner-left") 
          || $(e.target).closest(".fxg-expandable-cols__inner-left").length === 1) {
        FDX.EXP_COLUMNS.expandColumn($(this));
      }

    });
    
    // for accessibility
    $('.' + FDX.EXP_COLUMNS.optionsItemClass).on('keydown', function(e){
      if (e.type === 'keydown' && e.which !== 13) {
        // if keydown, ignore other than 'enter'
        return;
      }
      
      if (!$(e.target).hasClass(FDX.EXP_COLUMNS.optionsItemTitleClass) 
          && !$(e.target).hasClass(FDX.EXP_COLUMNS.optionsCloseBtnClass)
          && !$(e.target).hasClass(FDX.EXP_COLUMNS.optionsItemInnerClass)) {
        // discard 'enter' triggered from the above elements
        return;
      }
      FDX.EXP_COLUMNS.expandColumn($(this));
    });

    //  for accessibility - note the 'keydown' listener
    $('.' + FDX.EXP_COLUMNS.optionsClass + ' .' + FDX.EXP_COLUMNS.optionsCloseBtnClass).on('click keydown', function(e){
      e.stopPropagation();	
      if (e.type === 'keydown' && e.which !== 13) {
        // if keydown, ignore other than 'enter'
        return;
      }
      var $column = $(this).parents('.'+ FDX.EXP_COLUMNS.optionsItemClass);
      FDX.EXP_COLUMNS.collapseColumn($column);
    });

    /* Set + icon inside expand/close button div */		
    (function () {		
        var expClsDivs = $('.fxg-expandable-cols__wrapper .fxg-expandable-cols__close-sign');		
        $(expClsDivs).each(function(ind, arrVal){		
			$(arrVal).html('+');		
        });		
    })();
    
});
/* This is the FedEx.com Dynamic Table component javascript file.

 Author: troy.gottier.osv@fedex.com
 Created: 2018-04-17
 */
if (!FDX) {
    var FDX = {};
}
$(document).ready(function() {
	var dynamicTable = $(".fx-dt_dynamic_table");
	// Only proceed if there is a dynamic table to build.
	if(dynamicTable.length > 0) {
		// build each dynamic table found on page
		$.each(dynamicTable, function() {
			var dtData = $(this).find(".fx-dt_data"), // Data container
			dtData_api = dtData.find(".fx-dt_api").text().trim(), // API url
			dtData_useCustom = dtData.find(".fx-dt_useCustom").text().trim(), // check if using API or custom JSON
			dtData_customData = dtData.find(".fx-dt_customData").text().trim(), // Custom JSON
			dtHeadersDataVal = [], // The Json Headers
			dtHeadersDisplayVal = [], // What author wants each header called
			dtHeaders = headersToList(dtData.find(".fx-dt_headers").text().trim()), // Author headers config			
			dtHeadersContainer = $(this).find("thead").find("tr"), // where to build out headers
			dtDataContainer = $(this).find("tbody"), // where to build out the data
			dtDisplayCount = parseInt(dtData.find(".fx-dt_displayCount").text().trim()), // How many rows from your data to display
			dtRowToHighlight = dtData.find(".fx-dt_highlight").text().trim(), // The row of data that is highlighted and always displayed
			dtCellPadding = dtData.find(".fx-dt_cssPadding").text().trim(), // user setting of custom cell padding
			dtFontSize = dtData.find(".fx-dt_fontSize").text().trim(), // user setting of custom css
			dtCustomCSS = "";
			
			// check for custom cell padding 
			if(dtCellPadding != "") {
				dtCellPadding = "padding:" + dtCellPadding + "; ";
			}
			
			dtCustomCSS = "style='" + dtCellPadding + "font-size:" + dtFontSize + "px;'";
			
			// useCustom toggles API or custom JSON
			if(dtData_useCustom == "no") {
				// Use Api
				$.getJSON(dtData_api).done(function (data) {
					dataToTable(data);
				}).fail(function (xhr, textStatus, errorThrown) { errorHandler(); });
				
			}else {
				// Use Custom JSON
				dataToTable(JSON.parse(dtData_customData));
			}
			
			function dataToTable(data) {
				if (data.length == 0) {
					// No result data
					errorHandler();
					return false;
				}
				
				// if author didn't supply headers to use, use all the headers from the data
				// depending on data this is not going to give you very good table headers
				if(dtHeadersDataVal.length == 0) {
					headersToList(getHeadersFromData(data[0])) ;
				}
				
				buildTableHeaders(dtHeadersContainer, dtHeadersDisplayVal); // build the table headers
				buildTableData(dtDataContainer, dtHeadersDataVal, data); // Build the table data
			}
			
			function headersToList(headerList) {
				// Take headers to display from dialog and convert to 2 lists
				// one being list of header title you want
				// other being a list of the header titles from data 
				if(headerList.length > 0) {
					var list = headerList.split(",");
					for(var i in list) {
						if(list[i].indexOf(":") >= 0) {
						    var splitList = list[i].split(":");
							dtHeadersDisplayVal.push( (splitList[0]) ? splitList[0].trim() : "");
							dtHeadersDataVal.push( (splitList[1]) ? splitList[1].trim() : "");
						}else {
							dtHeadersDisplayVal.push( (list[i]) ? list[i].trim() : "");
							dtHeadersDataVal.push( (list[i]) ? list[i].trim() : "");
						}						
					}
				}				
			}
			
			function buildTableData(container, headers, data) {
				// takes JSON data and build the table. Will only build columns of the headers the author choses.
				// Will only display number of rows that the author chose.
				var dtRowToHighlightSplit = dtRowToHighlight.split(":");
				var foundHighlight = false,
					iterations = 0,
					highlightField = (dtRowToHighlightSplit[0]) ? dtRowToHighlightSplit[0].trim() : "",
					highlightValue = (dtRowToHighlightSplit[1]) ? dtRowToHighlightSplit[1].trim() : "";
		
				$.each(data, function (idx,val) {	
					// iterate through all data until the total to display is reached
					if (iterations < dtDisplayCount) {
						var html = '',
						highlightClass = '';
						
						$.each(headers, function(idx, header) {
							// only create mark-up for the data that matched the headers to display
							var dataValue = val[header];
							if(dataValue == undefined) {
								dataValue = "";
							}
							html += "<td " + dtCustomCSS + ">" + dataValue + "</td>";
							if(val[highlightField] == highlightValue) {
								foundHighlight = true;
								highlightClass = "class='fx-dt_content_highlighted'";	
								//html += "<td " + dtCustomCSS + " class='fx-dt_content_highlighted'>" + dataValue + "</td>";
							}
						});
						container.append("<tr " + highlightClass + ">" + html + "</tr>");
						highlightClass = '';
					}else {
						// if the row to highlight was found - done - else keep going until you find it.
						if(foundHighlight == true) {
							// if row to highlight has been found stop parsing table data
							return false;
						}	
						var html = '';
						
						$.each(headers, function(idx, header) {		
							var dataValue = val[header];
							if(dataValue == undefined) {
								dataValue = "";
							}
							if(val[highlightField] == highlightValue) {								
								foundHighlight = true;
								html += "<td " + dtCustomCSS + ">" + dataValue + "</td>";
							}
						});
						
						if(foundHighlight == true) {
							// replace the last table row with the row to highlight.
							dtDataContainer.children().last().remove();
							container.append("<tr class='fx-dt_content_highlighted'>" + html + "</tr>");	
						}						
					}
					iterations++;							
				});
			}
			function buildTableHeaders(container, headers) {
				// create the mark up for table headers
			 	for (var i in headers) {
			 		container.append("<th " + dtCustomCSS + ">" + ((headers[i]) ? headers[i].trim() : "") + "</th>")
			 	}
			}
		}); 		
	}
	
	function getHeadersFromData(data) {
		// take user specified comma list and turn it into an array object list
		return Object.keys(data).join(",");
	}
	
	function errorHandler() {
		// if data fetching fails display an error
		dynamicTable.append("<span>Unable to display Data</span>");
	}
});
/* This is the FedEx.com cube component javascript file.
 The global FDX object must already be defined

 Author: quantrell.sanford@vml.com
 Created: 2017-03-21
 */

 if (!FDX) {
    var FDX = {};
}

FDX.CUBE = {
    cubeClass: 'fxg-cube',
    cubeContainerClass: 'fxg-cube-container',
    appClass: 'fxg-app-container',
    appWrapperClass: 'fxg-app__wrapper',
    openAppClass: 'fxg-app-container--open',
    appErrorClass: 'fxg-app-container--error',
    activeCubeClass: 'fxg-cube--active',
    cubeContentClass: 'fxg-cube__content',
    noCubeClass: 'fxg-app_nocube',
    noCubeTrackClass: 'tracking_app',
    appNoCubeResult: 'fxg-app_noCubeResult',
    appActiveClass: 'fxg-app--active',
    heroClass: 'fxg-hero',
    rateShipAppClass: 'rate_ship_app',

    adminUrl: "",
    altUrl: "",
    activeCube: 2,

    cubeOneSecureClass: "fxg-cube__onesecure",
    cubeTwoSecureClass: "fxg-cube__twosecure",
    cubeThreeSecureClass: "fxg-cube__threesecure",
    fclPagePath: "",


    setActiveCube: function (elem) {
        var linkUrl = $(elem).attr('data-link-path');
        var linkTarget = $(elem).attr('data-link-target');
        if (typeof linkUrl !== typeof undefined && linkUrl !== false && linkUrl != '') {
            if (typeof linkTarget == typeof undefined || linkTarget == false || linkTarget == '') {
                linkTarget = "_self";
            }
            window.open(linkUrl, linkTarget);
        } else {
            $('.' + FDX.CUBE.activeCubeClass).removeClass(FDX.CUBE.activeCubeClass);
            $("." + FDX.CUBE.appClass).removeClass(FDX.CUBE.appActiveClass);
            $(elem).addClass(FDX.CUBE.activeCubeClass);
            var cudeId = $(elem).attr('id');
            $('#' + cudeId + '-tab').addClass(FDX.CUBE.appActiveClass);

            /*if(!$('.'+FDX.CUBE.activeCubeClass).hasClass('notTarget')){


                $('.' + FDX.components.dropdown.dropdownClass).trigger("click");

            }*/

            FDX.APPBASE.loadAppData();

            var isRateAppActive = $('.' + FDX.CUBE.appClass + '.' + FDX.CUBE.appActiveClass + ' .' + FDX.CUBE.rateShipAppClass).length > 0;
            if (isRateAppActive) {

                FDX.APPBASE.loadAppBaseData();
                if (!FDX.APPBASE.appThrottled) {
                    FDX.RATE_SHIP.loadRateShipScripts().done(function () {
                        if (window.top.location.href.indexOf('/editor.html/') < 0) {
                            setTimeout(function () {
                                FDX.RATE_SHIP.loadRateShipApp();
                                FDX.CUBE.openApp();
                            }, 200);
                        }

                    });
                }
            }
        }

        // add hero active cube class
        FDX.CUBE.activeCube = ($(elem).index() + 1);
        var cubeClass = 'fxg-hero--cube-' + FDX.CUBE.activeCube + '-active';
        $('.' + FDX.CUBE.heroClass).removeClass('fxg-hero--cube-1-active fxg-hero--cube-2-active fxg-hero--cube-3-active');
        $('.' + FDX.CUBE.heroClass).addClass(cubeClass);
    },

    setCubeData: function (elem) {
        var cubeId='';
        if(elem!='onload'){
       	 	cubeId = $(elem).attr('data-id');
        }else{
            cubeId = $('.'+FDX.CUBE.activeCubeClass).attr("data-id");
        }

		$('.cube-body').hide();
	    if(elem!='onload' && typeof $(elem).attr('data-link-path') === typeof undefined && typeof cubeId !== typeof undefined && $(elem).attr('data-cube-grid') == 'false' && $(elem).attr('data-cube-icon') == 'track') {
		    var cid = $('.tracking_app_v1');

		    if(cid[0]!= undefined && $('.tracking_app_v1').find('.fxg-wrapper.fxg-app__wrapper').css('display') !== 'none'){
		       var scrollPos = cid[0].getBoundingClientRect().top-100;
               window.scrollBy({
                  top: scrollPos,
                  behavior: 'smooth'
               });
            }
            
		} else if(elem!='onload' && typeof $(elem).attr('data-link-path') === typeof undefined && typeof cubeId !== typeof undefined && $(elem).attr('data-cube-grid') == 'false' && $(elem).attr('data-cube-icon') != 'track' && $('.genericAppContainer #'+ cubeId).length > 0) {
		    var cid = $('.genericAppContainer #'+ cubeId).parent().parent();
		    var loadAppOnPageLoad = cid.find('#app-hide-page-load').val();
		    if($('.genericAppContainer #'+ cubeId).children().length <= 0){
		        FDX.GENERIC_APPLOAD.loadCubeAppData(cubeId, loadAppOnPageLoad);
		    }
		    if(cid[0]!= undefined && $('#' + cubeId).parent().css('display') !== 'none'){
		        var scrollPos = cid[0].getBoundingClientRect().top-100;
                setTimeout(function() {
                   window.scrollBy({
                       top: scrollPos,
                       behavior: 'smooth'
                   });
                }, 100);
            }

		} else if(typeof $('.'+FDX.CUBE.activeCubeClass).attr('data-link-path') === typeof undefined && typeof cubeId !== typeof undefined && $('.'+FDX.CUBE.activeCubeClass).attr('data-cube-grid') == 'true' && $('.'+FDX.CUBE.activeCubeClass).attr('data-cube-icon') != 'track') {

			$('.body-wrapper #'+ cubeId +' .genericAppContainer input[id=app-base]').each(function(index, element) {
				var genericAppId = $(this).parent().find('#app-external').val();
                if(genericAppId && $('.genericAppContainer #'+ genericAppId).children().length <= 0) {
				    FDX.GENERIC_APPLOAD.loadCubeAppData(genericAppId, 'on');
                }
			});

            $('.'+cubeId).show();
            var cid= $('.body-wrapper #'+ cubeId);
            var cubeBody=$('.body-wrapper .'+cubeId).hasClass('cube-body');

            if(cid[0]!= undefined && cubeBody!=true){
                 cid.scrollIntoView({
                     behavior: 'smooth'
                 })
            }

		} else {		
		
            $('.'+cubeId).show();

		    //var cid= document.getElementsByClassName(cubeId)[0];
            var cid= document.getElementById(cubeId);
		    var cubeBody=$('.'+cubeId).hasClass('cube-body');

            if(cid!= undefined && cubeBody!=true){
               cid.scrollIntoView({
                  behavior: 'smooth'
               })
            }
        }

    },
    setAppError: function () {
        $(' .' + FDX.CUBE.appClass + '.' + FDX.CUBE.appActiveClass).addClass(FDX.CUBE.appErrorClass);
    },

    openApp: function () {

        // add app open cube class
        $('.' + FDX.CUBE.appClass + '.' + FDX.CUBE.appActiveClass).addClass(FDX.CUBE.openAppClass);
        $('.' + FDX.CUBE.appClass + '.' + FDX.CUBE.noCubeClass).addClass(FDX.CUBE.openAppClass);

        // add hero open cube class
        var cubeClass = 'fxg-hero--cube-' + FDX.CUBE.activeCube + '-open';
        $('.' + FDX.CUBE.heroClass).addClass(cubeClass);

        // focus on first "multi-tracking input box"
        $('.fxg-tracking-app__multi-tracking div:nth-child(1) div input.fxg-field__input-text').trigger('focus');
    },

    closeApp: function () {

        // remove app open cube class
        $('.' + FDX.CUBE.appClass + '.' + FDX.CUBE.appActiveClass).removeClass(FDX.CUBE.openAppClass);
        $('.' + FDX.CUBE.appClass + '.' + FDX.CUBE.noCubeClass).removeClass(FDX.CUBE.openAppClass);

        // remove hero open cube class
        var cubeClass = 'fxg-hero--cube-' + FDX.CUBE.activeCube + '-open';
        $('.' + FDX.CUBE.heroClass).removeClass(cubeClass);
    },
    getTargetAttributes: function (targetInfoAttributes) {


        var targetinfo = targetInfoAttributes.split(",");

        var ev1 = {};
        for (var x = 0; x < targetinfo.length; x++) {
            var kv1 = targetinfo[x].split("|");

            if (kv1.length == 2) {
                var b = kv1[1];
                switch (kv1[0]) {
                    case "fclPagePath":
                        FDX.CUBE.fclPagePath = b;
                        break;
                }
            }
        }
    },
    checkSecureLink: function (elem, cubeClicked) {
        FDX.CUBE.getTargetAttributes($(elem).attr('data-target'));
        var isWlgnLink = FDX.DATALAYER.page.pageInfo.useWLGN;

        if (FDX.SESSION.targetRedirectAuth == false && FDX.SESSION.userAuthenticated == false) {

            if (isWlgnLink === "true") {
                window.open(FDX.DATALAYER.page.pageInfo.wlgnURL, '_self', '', true);
            } else {
                if ($(document).width() <= FDX.BREAKPOINTS.TabletMediaQuery) {
                    if (!$(elem).hasClass('notTarget')) {

                        $('.fxg-app-container').on('click', function (evt) {    
                            evt.stopPropagation();
                        });
                        //$('.' + FDX.components.dropdown.dropdownClass).trigger("click");
                        $('.fxg-user-options__option.fxg-user-options__sign-in').toggleClass('fxg-dropdown__item--open');
                        $('input#NavLoginUserId').trigger('focus');
                    }
                } else {
                    if (!$(elem).hasClass('notTarget')) {
                        $('.fxg-app-container').on('click', function (evt) {
                            evt.stopPropagation();
                        });
                        $('.' + FDX.components.dropdown.dropdownClass).trigger("click");
                    }

                }


            }
        }

        if (FDX.SESSION.targetRedirectAuth || FDX.SESSION.userAuthenticated) {
            // $('.fxg-user-options__option.fxg-user-options__sign-in').toggleClass('fxg-dropdown__item--open');
        } else {

            if (isWlgnLink === "true") {
                //WLGN is enabled
                window.open(FDX.DATALAYER.page.pageInfo.wlgnURL, '_self', '', true);
            } else {
                // FDX.LOGIN.setLoginResource("window.open('" + $(elem).attr("href") + "','" + $(elem).attr("target") + "','',true)");
                FDX.LOGIN.setLoginResource($(elem), 'OPEN')
                $('input#NavLoginUserId').trigger('focus');
            }
            /*   if ($(document).width() <= FDX.BREAKPOINTS.TabletMediaQuery){
               $('.fxg-user-options__option.fxg-user-options__sign-in').toggleClass('fxg-dropdown__item--open');
               $('input#NavLoginUserId').trigger('focus');

           }*/
        }

    },
    //retrieving the active cube data from session storage after user comes back to home page from WLGN login
    //called on window load 
    getAppInfo: function () {
        if (FDX.DATALAYER.page.pageInfo.useWLGN === "true" && sessionStorage.getItem("storeActiveCube") !== null) {
            var activeCube = document.getElementById(sessionStorage.getItem("storeActiveCube"));
            if (activeCube !== null) {
                if (sessionStorage.getItem("activeSingleTrackInput") === "true") {
                    FDX.TRACKING.showSingleTracking();
                }
                sessionStorage.removeItem("activeSingleTrackInput");
                if (sessionStorage.getItem("activeMultiTrackInput") === "true") {
                    FDX.TRACKING.showMultiTracking();
                }
                sessionStorage.removeItem("activeMultiTrackInput");
                if (!$(activeCube).hasClass(FDX.CUBE.activeCubeClass)) {
                    FDX.CUBE.setActiveCube(activeCube);
                }
                sessionStorage.removeItem("storeActiveCube");
            }
        }
    },
    //storing the active cube data in session storage when user clicks on WLGN login
    //called in preLogin call in login js
    storeAppInfo: function () {
        if (FDX.DATALAYER.page.pageInfo.useWLGN === "true") {
            //check for active cube
            var activeCube = document.querySelector('.fxg-cube--active');
            var multiTrackClass = document.querySelector('.fxg-tracking-app__multi-tracking');
            var oldTrackClass = document.querySelectorAll('.redesignSnapshotTVC');
            var newTrackClass = document.querySelector('.track-shared-wrapper');
            if (activeCube !== null && activeCube.getAttribute('data-link-path') === null) {
                sessionStorage.setItem("storeActiveCube", activeCube.getAttribute('id'));
                //check for Multi-tracking
                if (multiTrackClass !== null && multiTrackClass.style !== null && multiTrackClass.style.display !== "none") {
                    sessionStorage.setItem("activeMultiTrackInput", true);
                }
                //check for single tracking results
                else if ((oldTrackClass[0] !== undefined && oldTrackClass.length > 0) || (newTrackClass !== null && !$(newTrackClass).is(':empty'))) {
                    sessionStorage.setItem("activeSingleTrackInput", true);
                }
            }
        }
    }
};

$(document).ready(function() {

	document.addEventListener('readystatechange', function(ev) {
		if (document.readyState === 'complete') {
			if ($('.cubes_v1').length > 0) {
				var activeCube = document.querySelector('.fxg-cube--active');
				if (activeCube != undefined) {

					FDX.CUBE.setCubeData('onload');
				}
			}

			$('.' + FDX.CUBE.cubeClass).on('click', function() {
				if (!$(this).hasClass(FDX.CUBE.activeCubeClass))
					FDX.CUBE.setActiveCube(this);
				if ($('.cubes_v1').length > 0) {
					FDX.CUBE.setCubeData(this);
				}
			});

			$('.' + FDX.CUBE.cubeOneSecureClass).on('click', function() {
				FDX.CUBE.checkSecureLink(this, 1);

			});
			$('.' + FDX.CUBE.cubeTwoSecureClass).on('click', function() {
				FDX.CUBE.checkSecureLink(this, 2);

			});
			$('.' + FDX.CUBE.cubeThreeSecureClass).on('click', function() {
				FDX.CUBE.checkSecureLink(this, 3);

			});

			$('.notTarget, .fxg-user-options__sign-in-text, .fxg-user-options__icon').on('click', function() {
				FDX.SESSION.cubeShippipng = false;
				// yet to implement below
				//FDX.CUBE.isTrackCall = false; 
				//FDX.CUBE.isLocationCall = false 
			});

			$('.' + FDX.CUBE.cubeClass).on('keydown', function(e) {
				if (e.keyCode === 13) {
					$(this).trigger('click');
				}
			});
		}
	});

});


window.addEventListener('load', function () {
    //loading active cube data
    FDX.CUBE.getAppInfo();
});

/*
  // Cookie consent bar

  // To initiate Cookie consent bar, create cookie consent object and then call the init() function as shown below.
  
  // ckConsent Object
  var ckConsent = window.FDX.CookieConsent();
  
  // CASE 1: Cookie consent bar will be shown only when there are empty cookie settings in R42
  ckConsent.init();
  
  // CASE 2: we need to pass true to show the Cookie consent bar for whatever cookie settings done previously.
  ckConsent.init(true);

  // On save, below is the payload format which will be sent to R42
  {'1': true, '2': true, '3': false}
*/

(function ($, _, window, $analytics) {

  if (!window.FDX) {
    window.FDX = {};
  }
  
  // Cookie Consent Module
  window.FDX.CookieConsent = function() {
    var $cookieConsent;
    var $cookieConsentWrapper;
    var $body = $('body');

    // send user CookiePref to R42
    function saveHandler(userCookiePref) {
      if (window._st && window._st.cookiepermission) {
        _st.cookiepermission.setCookiePreferences(userCookiePref);
        _st.core.executeTags();
      } else {
        console.log('NO R42 tag to process data');
      }
      console.log('User accepted cookies: ' + JSON.stringify(userCookiePref));
    }

    function setPosition(wrapperElement) {
      if (!wrapperElement) return;
      
      // RESET the position before we calculate the position
      wrapperElement.css('top', 'auto');

      var top = $(FDX.components.header.selector).outerHeight();
      var wrapperHeight = wrapperElement.outerHeight() + top;
      var viewportHeight = window.innerHeight;

      if(wrapperHeight < viewportHeight) {
        // leave space between header and Cookie Consent if Cookie Consent is smaller than viewport height 
        wrapperElement.css('top', 'auto');
      } else {
        wrapperElement.css('top', top + 'px');
      }
    }

    function setEvents() {
      var userCookiePref = {};
      var $cookies = $cookieConsent.find('input');

      // Cookie consent CTA events
      $cookieConsent.on('click', '.js-fxg-cookie-save', function(e) {
        e.preventDefault();
        var isSaveAll = $(this).hasClass('is-save-all');

        $cookies.each(function(index, item) {
          userCookiePref[index + 1] = isSaveAll ? true : item.checked
        });

        // send cookie preference to r42.
        saveHandler(userCookiePref);
        $cookieConsent.removeClass('is-active');
        $('body').removeClass('has-cookie-consent-open');

        $analytics.push({
          gdl: {
            category: 'cookie-consent',
            eventName: isSaveAll ? 'accept-all' : 'apply-settings',
          },
        });
      });

      // RESIZE
      $(window).on('resize', function() {   
        setPosition($cookieConsentWrapper);
      });
    }

    function init(modify) {
      // cookie Content component on DOM.
      $cookieConsent = $('.js-init-fdx-cookie-consent');
      $cookieConsentWrapper = $cookieConsent.find('.fxg-cookie-consent__wrapper');

      if ($cookieConsent.length > 0) {
        $cookieConsent.removeClass('is-active');

        var cookiePref = {};
        var doModify = modify || false;

        // configurations from external source - TODO (not need to be mandatory)
        if (window._st && window._st.cookiepermission) {
          cookiePref = _st.cookiepermission.getCookiePreferences();
        }

        // if no config then show
        if (_.isEmpty(cookiePref) || doModify) {
          $cookieConsent.addClass('is-active');

          $analytics.push({
            gdl: {
              category: 'cookie-consent',
              eventName: 'impression',
            }
          });
        }

        // Override the default cookie pref with user past cookie pref.
        if (doModify && !_.isEmpty(cookiePref)) {
          var $cookies = $cookieConsent.find('input');
          $cookies.each(function(index, item) {
            item.checked = cookiePref[index+1] || false;
          });
        }

        setPosition($cookieConsentWrapper);
      }

      setEvents();
    }

    // finds and returns the relay42 script tag
    function getRelayScriptTag() {
      var scripts = document.querySelectorAll('script');
      var relay42Script = ([].filter.call(scripts, function(script) {
        return script.src.indexOf('tdn.r42tag.com/lib') > -1;
      }) || [])[0];
    
      return relay42Script;
    }

    var checkInit = function (modify) {
      /* @NOTE: For local testing disable the relay42 checks below, but be sure to 
      re-enable before pushing changes. */
      
      if (!window._st) {
        // no relay at all. DO nothing
        return;
      }

      if (!window._st.cookiepermission) {
        // must wait. relay is being loaded but not ready.
        var relayScript = getRelayScriptTag();
        if (relayScript) {
          // Attach onload handler for r42 script and on finish init the cookie consent.
          relayScript.addEventListener('load', function () {
            init(modify);
          }, false);
        }

        return;
      }

      init(modify);
    };

    // register button event for Cookie Consent on cookie policy page
    // Author need to "js-fxg-cookie-modify" class to the link or button.
    $body.on('click', '.js-fxg-cookie-modify', function(e) {
      e.preventDefault();

      var doModify = true;
      checkInit(doModify);
    });

    return {
      checkInit: checkInit,
      setPosition: setPosition
    };
  };

}(window.jQuery, _, window, FDX.services.analytics));

if (!FDX) {
    var FDX = {};
}

FDX.APPBASE = {
    
	throttleURL : null,
    appJSpath : null,
    initFunction : null,
    userLoginFnCall : null,
    userLogoutFnCall : null,
    browserType : null,
    browserVersion : null,
    browserCondition : null,
    percntUserTraffic : null,
    dependentScripts : [],
    appBaseData : null,
	appBaseMap : null,
    appBase : null,
    appState : false,
    dependencyType : null,
    extAppHTML : null,
    domainName : window.location.hostname,
    appThrottled : false,
    loadGenApp : false,
    isWebComponent:false,
    appBaseObject : true,
    
    loadAppData : function() {
    	if (document.querySelector('.fxg-cube--active') !== null) {
    		FDX.APPBASE.appBase = "";
                if(document.querySelector('.fxg-app--active input[name=baseData]') !==null){
                     FDX.APPBASE.appBase=document.querySelector('.fxg-app--active input[name=baseData]').value;
                 }
            if($('.cubes_v1').length>0){
                 if(FDX.APPBASE.appBase == ""){
                    //testing cube component - with tracking application selected by default
                    if (document.querySelector('.tracking_app_v1 input[name=baseData]') !== null) {
                    FDX.APPBASE.appBase = document.querySelector('.tracking_app_v1 input[name=baseData]').value;
                    }
                 }
            }
    	} else if (document.querySelector('.tracking_app input[name=baseData]') !== null) {
    		FDX.APPBASE.appBase = document
            .querySelector('.tracking_app input[name=baseData]').value;
    	} else if (document.querySelector('.tracking_app_v1 input[name=baseData]') !== null) {
    		FDX.APPBASE.appBase = document
            .querySelector('.tracking_app_v1 input[name=baseData]').value;
    	} else if (document.querySelector('.genericAppContainer input[name=baseData]') !== null) {
            FDX.APPBASE.appBase = document
            .querySelector('.genericAppContainer input[name=baseData]').value;
            FDX.APPBASE.loadGenApp = true;
            //Moved the App load call to Generic app load JS.
            /*setTimeout(function(){
				FDX.RATE_SHIP.externalAppInject();
            },0);*/
        }
		
		if (document.querySelector('.genericAppContainer input[name=baseData]') !== null) {
			$('.genericAppContainer input[id=app-base]').each(function(index, element) {
				var genericAppId = $(this).parent().find('#app-external').val();
                if(genericAppId) {
				    FDX.APPBASE["appBase_" + genericAppId] = $(this).val();
                }
			});

            FDX.APPBASE.loadGenApp = true;
        }
		
    },
    
    loadAppBaseData : function() {
	if ($('.cubes_v1').length > 0) {
		if (FDX.APPBASE.appBase != '') {
				FDX.APPBASE.appBase = document
						.querySelector('.tracking_app_v1 input[name=baseData]').value;
			}
		}
    //console.log('final appBase'+FDX.APPBASE.appBase);
    FDX.APPBASE.appBaseData = JSON.parse(FDX.APPBASE.appBase);
    FDX.APPBASE.dependentScripts = [];
	//check for appBaseObject availability
    FDX.APPBASE.appBaseObject = !!FDX.APPBASE.appBaseData ? true : false;
    if(FDX.APPBASE.appBaseObject){
        if ((FDX.BREAKPOINTS.getViewPort() == "mediumViewPort") && (!FDX.APPBASE.appBaseData.setLvDefault)) {
            //console.log("The view port:: " + FDX.BREAKPOINTS.getViewPort())
            FDX.APPBASE.percntUserTraffic = FDX.APPBASE.appBaseData.mvUserTraffic;
            FDX.APPBASE.browserType = FDX.APPBASE.appBaseData.mvBrowserType;
            FDX.APPBASE.browserVersion = FDX.APPBASE.appBaseData.mvBrowserVersion;
            FDX.APPBASE.browserCondition = FDX.APPBASE.appBaseData.mvBrowserCondition;
			FDX.APPBASE.dependencyType = FDX.APPBASE.appBaseData.mvDependecyType;
            FDX.APPBASE.extAppHTML = FDX.APPBASE.appBaseData.mvExtAppHTML;
            FDX.APPBASE.isWebComponent =FDX.APPBASE.appBaseData.isWebComponent;
            

            if (FDX.APPBASE.appBaseData.mvScripts != null) {
                for (var i = 0; i < FDX.APPBASE.appBaseData.mvScripts.length; i++) {
                    FDX.APPBASE.dependentScripts
                            .push(FDX.APPBASE.appBaseData.mvScripts[i]);
                }
            }
            
            if (Number(FDX.THROTTLE.getThrottlePercentage()) <= Number(FDX.APPBASE.percntUserTraffic)) {
                
                FDX.APPBASE.initFunction = FDX.APPBASE.appBaseData.mvInitializationFnmet;
                FDX.APPBASE.throttleURL = FDX.APPBASE.appBaseData.mvURLrequestMet;
                
                FDX.APPBASE.appJSpath = FDX.APPBASE.appBaseData.mvAppJSmet;
                
                if ((FDX.APPBASE.appBaseData.mvLogsinPageReloadmet !== "") && (FDX.APPBASE.appBaseData.mvLogsinPageReloadmet != null)) {
                    FDX.APPBASE.userLoginFnCall = FDX.APPBASE.appBaseData.mvLogsinPageReloadmet;
                    $("body").on("loggedIn", FDX.APPBASE.userLoginFnCall);
                }
                if ((FDX.APPBASE.appBaseData.mvLogsoutPageReloadmet !== "") && (FDX.APPBASE.appBaseData.mvLogsoutPageReloadmet != null)) {
                    FDX.APPBASE.userLogoutFnCall = FDX.APPBASE.appBaseData.mvLogsoutPageReloadmet;
                    $("body").on("loggedOut", FDX.APPBASE.userLogoutFnCall);
                }
                
            } else {
                FDX.APPBASE.initFunction = FDX.APPBASE.appBaseData.mvInitializationFnNotmet;
                FDX.APPBASE.throttleURL = FDX.APPBASE.appBaseData.mvURLrequestNotMet;
                
                FDX.APPBASE.appJSpath = FDX.APPBASE.appBaseData.mvAppJSnotMet;
                
                if ((FDX.APPBASE.appBaseData.mvLogsinPageReloadNotmet !== "") && (FDX.APPBASE.appBaseData.mvLogsinPageReloadNotmet != null)) {
                    FDX.APPBASE.userLoginFnCall = FDX.APPBASE.appBaseData.mvLogsinPageReloadNotmet;
                    $("body").on("loggedIn", FDX.APPBASE.userLoginFnCall);
                }
                if ((FDX.APPBASE.appBaseData.mvLogsoutPageReloadNotmet !== "") && (FDX.APPBASE.appBaseData.mvLogsoutPageReloadNotmet != null)) {
                    FDX.APPBASE.userLogoutFnCall = FDX.APPBASE.appBaseData.mvLogsoutPageReloadNotmet;
                    $("body").on("loggedOut", FDX.APPBASE.userLogoutFnCall);
                }

            }
            FDX.APPBASE.loadThrottleURL(FDX.APPBASE.throttleURL);
            
        } else if ((FDX.BREAKPOINTS.getViewPort() == "smallViewPort") && (!FDX.APPBASE.appBaseData.setLvDefault)) {
            //console.log("THe view port:: " + FDX.BREAKPOINTS.getViewPort())
            FDX.APPBASE.percntUserTraffic = FDX.APPBASE.appBaseData.svUserTraffic;
            FDX.APPBASE.browserType = FDX.APPBASE.appBaseData.svBrowserType;
            FDX.APPBASE.browserVersion = FDX.APPBASE.appBaseData.svBrowserVersion;
            FDX.APPBASE.browserCondition = FDX.APPBASE.appBaseData.svBrowserCondition;
            FDX.APPBASE.dependencyType = FDX.APPBASE.appBaseData.svDependecyType;
            FDX.APPBASE.extAppHTML = FDX.APPBASE.appBaseData.svExtAppHTML;
            FDX.APPBASE.isWebComponent =FDX.APPBASE.appBaseData.isWebComponent;
            
            if (FDX.APPBASE.appBaseData.svScripts != null) {
                for (var i = 0; i < FDX.APPBASE.appBaseData.svScripts.length; i++) {
                    FDX.APPBASE.dependentScripts
                            .push(FDX.APPBASE.appBaseData.svScripts[i]);
                }
            }
            
            if (Number(FDX.THROTTLE.getThrottlePercentage()) <= Number(FDX.APPBASE.percntUserTraffic)) {
                
                FDX.APPBASE.initFunction = FDX.APPBASE.appBaseData.svInitializationFnmet;
                FDX.APPBASE.throttleURL = FDX.APPBASE.appBaseData.svURLrequestMet;
                
                FDX.APPBASE.appJSpath = FDX.APPBASE.appBaseData.svAppJSmet;
                
                if ((FDX.APPBASE.appBaseData.svLogsinPageReloadmet !== "") && (FDX.APPBASE.appBaseData.svLogsinPageReloadmet != null)) {
                    FDX.APPBASE.userLoginFnCall = FDX.APPBASE.appBaseData.svLogsinPageReloadmet;
                    $("body").on("loggedIn", FDX.APPBASE.userLoginFnCall);
                }
                if ((FDX.APPBASE.appBaseData.svLogsoutPageReloadmet !== "") && (FDX.APPBASE.appBaseData.svLogsoutPageReloadmet != null)) {
                    FDX.APPBASE.userLogoutFnCall = FDX.APPBASE.appBaseData.svLogsoutPageReloadmet;
                    $("body").on("loggedOut", FDX.APPBASE.userLogoutFnCall);
                }
                
            } else {
                
                FDX.APPBASE.initFunction = FDX.APPBASE.appBaseData.svInitializationFnNotmet;
                FDX.APPBASE.throttleURL = FDX.APPBASE.appBaseData.svURLrequestNotMet;
                
                FDX.APPBASE.appJSpath = FDX.APPBASE.appBaseData.svAppJSnotMet;
                
                if ((FDX.APPBASE.appBaseData.svLogsinPageReloadNotmet !== "") && (FDX.APPBASE.appBaseData.svLogsinPageReloadNotmet != null)) {
                    FDX.APPBASE.userLoginFnCall = FDX.APPBASE.appBaseData.svLogsinPageReloadNotmet;
                    $("body").on("loggedIn", FDX.APPBASE.userLoginFnCall);
                }
                if ((FDX.APPBASE.appBaseData.svLogsoutPageReloadNotmet !== "") && (FDX.APPBASE.appBaseData.svLogsoutPageReloadNotmet != null)) {
                    FDX.APPBASE.userLogoutFnCall = FDX.APPBASE.appBaseData.svLogsoutPageReloadNotmet;
                    $("body").on("loggedOut", FDX.APPBASE.userLogoutFnCall);
                }

            }
            FDX.APPBASE.loadThrottleURL(FDX.APPBASE.throttleURL);
        } else {
        
            FDX.APPBASE.percntUserTraffic = FDX.APPBASE.appBaseData.lvUserTraffic;
            FDX.APPBASE.browserType = FDX.APPBASE.appBaseData.lvBrowserType;
            FDX.APPBASE.browserVersion = FDX.APPBASE.appBaseData.lvBrowserVersion;
            FDX.APPBASE.browserCondition = FDX.APPBASE.appBaseData.lvBrowserCondition;
			FDX.APPBASE.dependencyType = FDX.APPBASE.appBaseData.lvDependecyType;
            FDX.APPBASE.extAppHTML = FDX.APPBASE.appBaseData.lvExtAppHTML;
            FDX.APPBASE.isWebComponent =FDX.APPBASE.appBaseData.isWebComponent;

            if (FDX.APPBASE.appBaseData.lvScripts != null) {
                for (var i = 0; i < FDX.APPBASE.appBaseData.lvScripts.length; i++) {
                    FDX.APPBASE.dependentScripts
                            .push(FDX.APPBASE.appBaseData.lvScripts[i]);
                }
            }
            
            if (Number(FDX.THROTTLE.getThrottlePercentage()) <= Number(FDX.APPBASE.percntUserTraffic)) {
                
                FDX.APPBASE.initFunction = FDX.APPBASE.appBaseData.lvInitializationFnmet;
                FDX.APPBASE.throttleURL = FDX.APPBASE.appBaseData.lvURLrequestMet;
                
                FDX.APPBASE.appJSpath = FDX.APPBASE.appBaseData.lvAppJSmet;
                
                if ((FDX.APPBASE.appBaseData.lvLogsinPageReloadmet !== "") && (FDX.APPBASE.appBaseData.lvLogsinPageReloadmet != null)) {
                    FDX.APPBASE.userLoginFnCall = FDX.APPBASE.appBaseData.lvLogsinPageReloadmet;
                    $("body").on("loggedIn", FDX.APPBASE.userLoginFnCall);
                }
                if ((FDX.APPBASE.appBaseData.lvLogsoutPageReloadmet !== "") && (FDX.APPBASE.appBaseData.lvLogsoutPageReloadmet != null)) {
                    FDX.APPBASE.userLogoutFnCall = FDX.APPBASE.appBaseData.lvLogsoutPageReloadmet;
                    $("body").on("loggedOut", FDX.APPBASE.userLogoutFnCall);
                }
                
            } else {
                
                FDX.APPBASE.initFunction = FDX.APPBASE.appBaseData.lvInitializationFnNotmet;
                FDX.APPBASE.throttleURL = FDX.APPBASE.appBaseData.lvURLrequestNotMet;
                
                FDX.APPBASE.appJSpath = FDX.APPBASE.appBaseData.lvAppJSnotMet;
                
                if ((FDX.APPBASE.appBaseData.lvLogsinPageReloadNotmet !== "") && (FDX.APPBASE.appBaseData.lvLogsinPageReloadNotmet != null)) {
                    FDX.APPBASE.userLoginFnCall = FDX.APPBASE.appBaseData.lvLogsinPageReloadNotmet;
                    $("body").on("loggedIn", FDX.APPBASE.userLoginFnCall);
                }
                if ((FDX.APPBASE.appBaseData.lvLogsoutPageReloadNotmet !== "") && (FDX.APPBASE.appBaseData.lvLogsoutPageReloadNotmet != null)) {
                    FDX.APPBASE.userLogoutFnCall = FDX.APPBASE.appBaseData.lvLogsoutPageReloadNotmet;
                    $("body").on("loggedOut", FDX.APPBASE.userLogoutFnCall);
                }

            }
             FDX.APPBASE.loadThrottleURL(FDX.APPBASE.throttleURL);
    	}
    }
        
        return {
        	throttleURL : FDX.APPBASE.throttleURLConditionNotMet,
            appJSpath : FDX.APPBASE.appJSpath,
            initFunction : FDX.APPBASE.initFunction,
            userLoginFnCall : FDX.APPBASE.userLoginFnCall,
            userLogoutFnCall : FDX.APPBASE.userLogoutFnCall,
            browserType : FDX.APPBASE.browserType,
            browserVersion : FDX.APPBASE.browserVersion,
            browserCondition : FDX.APPBASE.browserCondition,
            percntUserTraffic : FDX.APPBASE.percntUserTraffic,
            dependentScripts : FDX.APPBASE.dependentScripts,
            dependencyType : FDX.APPBASE.dependencyType,
    		extAppHTML : FDX.APPBASE.extAppHTML,
        };
    },

    loadNewAppBaseData : function(item) {		

    FDX.APPBASE.appBaseData = JSON.parse(FDX.APPBASE["appBase_"+ item]);
    FDX.APPBASE["dependentScripts_" + item] = [];
	//check for appBaseObject availability
    FDX.APPBASE.appBaseObject = !!FDX.APPBASE.appBaseData ? true : false;
    if(FDX.APPBASE.appBaseObject){

        if ((FDX.BREAKPOINTS.getViewPort() == "mediumViewPort") && (!FDX.APPBASE.appBaseData.setLvDefault)) {
            //console.log("The view port:: " + FDX.BREAKPOINTS.getViewPort())
            FDX.APPBASE["percntUserTraffic_" + item] = FDX.APPBASE.appBaseData.mvUserTraffic;
            FDX.APPBASE["browserType_" + item] = FDX.APPBASE.appBaseData.mvBrowserType;
            FDX.APPBASE["browserVersion_" + item] = FDX.APPBASE.appBaseData.mvBrowserVersion;
            FDX.APPBASE["browserCondition_" + item] = FDX.APPBASE.appBaseData.mvBrowserCondition;
			FDX.APPBASE["dependencyType_" + item] = FDX.APPBASE.appBaseData.mvDependecyType;
            FDX.APPBASE["extAppHTML_" + item] = FDX.APPBASE.appBaseData.mvExtAppHTML;
            FDX.APPBASE["isWebComponent_" + item] =FDX.APPBASE.appBaseData.isWebComponent;
            

            if (FDX.APPBASE.appBaseData.mvScripts != null) {
                for (var i = 0; i < FDX.APPBASE.appBaseData.mvScripts.length; i++) {
                    FDX.APPBASE["dependentScripts_" + item]
                            .push(FDX.APPBASE.appBaseData.mvScripts[i]);
                }
            }
            
            if (Number(FDX.THROTTLE.getThrottlePercentage()) <= Number(FDX.APPBASE.percntUserTraffic)) {
                
                FDX.APPBASE["initFunction_" + item] = FDX.APPBASE.appBaseData.mvInitializationFnmet;
                FDX.APPBASE["throttleURL_" + item] = FDX.APPBASE.appBaseData.mvURLrequestMet;
                
                FDX.APPBASE["appJSpath_" + item] = FDX.APPBASE.appBaseData.mvAppJSmet;
                
                if ((FDX.APPBASE.appBaseData.mvLogsinPageReloadmet !== "") && (FDX.APPBASE.appBaseData.mvLogsinPageReloadmet != null)) {
                    FDX.APPBASE["userLoginFnCall_" + item] = FDX.APPBASE.appBaseData.mvLogsinPageReloadmet;
                    $("body").on("loggedIn", FDX.APPBASE["userLoginFnCall_" + item]);
                }
                if ((FDX.APPBASE.appBaseData.mvLogsoutPageReloadmet !== "") && (FDX.APPBASE.appBaseData.mvLogsoutPageReloadmet != null)) {
                    FDX.APPBASE["userLogoutFnCall_" + item] = FDX.APPBASE.appBaseData.mvLogsoutPageReloadmet;
                    $("body").on("loggedOut", FDX.APPBASE["userLogoutFnCall_" + item]);
                }
                
            } else {
                FDX.APPBASE["initFunction_" + item] = FDX.APPBASE.appBaseData.mvInitializationFnNotmet;
                FDX.APPBASE["throttleURL_" + item] = FDX.APPBASE.appBaseData.mvURLrequestNotMet;
                
                FDX.APPBASE["appJSpath_" + item] = FDX.APPBASE.appBaseData.mvAppJSnotMet;
                
                if ((FDX.APPBASE.appBaseData.mvLogsinPageReloadNotmet !== "") && (FDX.APPBASE.appBaseData.mvLogsinPageReloadNotmet != null)) {
                    FDX.APPBASE["userLoginFnCall_" + item] = FDX.APPBASE.appBaseData.mvLogsinPageReloadNotmet;
                    $("body").on("loggedIn", FDX.APPBASE["userLoginFnCall_" + item]);
                }
                if ((FDX.APPBASE.appBaseData.mvLogsoutPageReloadNotmet !== "") && (FDX.APPBASE.appBaseData.mvLogsoutPageReloadNotmet != null)) {
                    FDX.APPBASE["userLogoutFnCall_" + item] = FDX.APPBASE.appBaseData.mvLogsoutPageReloadNotmet;
                    $("body").on("loggedOut", FDX.APPBASE["userLogoutFnCall_" + item]);
                }

            }
            FDX.APPBASE.loadThrottleURL(FDX.APPBASE["throttleURL_" + item]);
            
        } else if ((FDX.BREAKPOINTS.getViewPort() == "smallViewPort") && (!FDX.APPBASE.appBaseData.setLvDefault)) {
            //console.log("THe view port:: " + FDX.BREAKPOINTS.getViewPort())
            FDX.APPBASE["percntUserTraffic_" + item] = FDX.APPBASE.appBaseData.svUserTraffic;
            FDX.APPBASE["browserType_" + item] = FDX.APPBASE.appBaseData.svBrowserType;
            FDX.APPBASE["browserVersion_" + item] = FDX.APPBASE.appBaseData.svBrowserVersion;
            FDX.APPBASE["browserCondition_" + item] = FDX.APPBASE.appBaseData.svBrowserCondition;
            FDX.APPBASE["dependencyType_" + item] = FDX.APPBASE.appBaseData.svDependecyType;
            FDX.APPBASE["extAppHTML_" + item] = FDX.APPBASE.appBaseData.svExtAppHTML;
            FDX.APPBASE["isWebComponent_" + item] =FDX.APPBASE.appBaseData.isWebComponent;
            
            if (FDX.APPBASE.appBaseData.svScripts != null) {
                for (var i = 0; i < FDX.APPBASE.appBaseData.svScripts.length; i++) {
                    FDX.APPBASE["dependentScripts_" + item]
                            .push(FDX.APPBASE.appBaseData.svScripts[i]);
                }
            }
            
            if (Number(FDX.THROTTLE.getThrottlePercentage()) <= Number(FDX.APPBASE.percntUserTraffic)) {
                
                FDX.APPBASE["initFunction_" + item] = FDX.APPBASE.appBaseData.svInitializationFnmet;
                FDX.APPBASE["throttleURL_" + item] = FDX.APPBASE.appBaseData.svURLrequestMet;
                
                FDX.APPBASE["appJSpath_" + item] = FDX.APPBASE.appBaseData.svAppJSmet;
                
                if ((FDX.APPBASE.appBaseData.svLogsinPageReloadmet !== "") && (FDX.APPBASE.appBaseData.svLogsinPageReloadmet != null)) {
                    FDX.APPBASE["userLoginFnCall_" + item] = FDX.APPBASE.appBaseData.svLogsinPageReloadmet;
                    $("body").on("loggedIn", FDX.APPBASE["userLoginFnCall_" + item]);
                }
                if ((FDX.APPBASE.appBaseData.svLogsoutPageReloadmet !== "") && (FDX.APPBASE.appBaseData.svLogsoutPageReloadmet != null)) {
                    FDX.APPBASE["userLogoutFnCall_" + item] = FDX.APPBASE.appBaseData.svLogsoutPageReloadmet;
                    $("body").on("loggedOut", FDX.APPBASE["userLogoutFnCall_" + item]);
                }
                
            } else {
                
                FDX.APPBASE["initFunction_" + item] = FDX.APPBASE.appBaseData.svInitializationFnNotmet;
                FDX.APPBASE["throttleURL_" + item] = FDX.APPBASE.appBaseData.svURLrequestNotMet;
                
                FDX.APPBASE["appJSpath_" + item] = FDX.APPBASE.appBaseData.svAppJSnotMet;
                
                if ((FDX.APPBASE.appBaseData.svLogsinPageReloadNotmet !== "") && (FDX.APPBASE.appBaseData.svLogsinPageReloadNotmet != null)) {
                    FDX.APPBASE["userLoginFnCall_" + item] = FDX.APPBASE.appBaseData.svLogsinPageReloadNotmet;
                    $("body").on("loggedIn", FDX.APPBASE["userLoginFnCall_" + item]);
                }
                if ((FDX.APPBASE.appBaseData.svLogsoutPageReloadNotmet !== "") && (FDX.APPBASE.appBaseData.svLogsoutPageReloadNotmet != null)) {
                    FDX.APPBASE["userLogoutFnCall_" + item] = FDX.APPBASE.appBaseData.svLogsoutPageReloadNotmet;
                    $("body").on("loggedOut", FDX.APPBASE["userLogoutFnCall_" + item]);
                }

            }
            FDX.APPBASE.loadThrottleURL(FDX.APPBASE["throttleURL_" + item]);
        } else {
        
            FDX.APPBASE["percntUserTraffic_" + item] = FDX.APPBASE.appBaseData.lvUserTraffic;
            FDX.APPBASE["browserType_" + item] = FDX.APPBASE.appBaseData.lvBrowserType;
            FDX.APPBASE["browserVersion_" + item] = FDX.APPBASE.appBaseData.lvBrowserVersion;
            FDX.APPBASE["browserCondition_" + item] = FDX.APPBASE.appBaseData.lvBrowserCondition;
			FDX.APPBASE["dependencyType_" + item] = FDX.APPBASE.appBaseData.lvDependecyType;
            FDX.APPBASE["extAppHTML_" + item] = FDX.APPBASE.appBaseData.lvExtAppHTML;
            FDX.APPBASE["isWebComponent_" + item] =FDX.APPBASE.appBaseData.isWebComponent;

            if (FDX.APPBASE.appBaseData.lvScripts != null) {
                for (var i = 0; i < FDX.APPBASE.appBaseData.lvScripts.length; i++) {
                    FDX.APPBASE["dependentScripts_" + item]
                            .push(FDX.APPBASE.appBaseData.lvScripts[i]);
                }
            }

            if (Number(FDX.THROTTLE.getThrottlePercentage()) <= Number(FDX.APPBASE.appBaseData.lvUserTraffic)) {

                FDX.APPBASE["initFunction_" + item] = FDX.APPBASE.appBaseData.lvInitializationFnmet;
                FDX.APPBASE["throttleURL_" + item] = FDX.APPBASE.appBaseData.lvURLrequestMet;

                FDX.APPBASE["appJSpath_" + item] = FDX.APPBASE.appBaseData.lvAppJSmet;

                if ((FDX.APPBASE.appBaseData.lvLogsinPageReloadmet !== "") && (FDX.APPBASE.appBaseData.lvLogsinPageReloadmet != null)) {
                    FDX.APPBASE["userLoginFnCall_" + item] = FDX.APPBASE.appBaseData.lvLogsinPageReloadmet;
                    $("body").on("loggedIn", FDX.APPBASE["userLoginFnCall_" + item]);
                }
                if ((FDX.APPBASE.appBaseData.lvLogsoutPageReloadmet !== "") && (FDX.APPBASE.appBaseData.lvLogsoutPageReloadmet != null)) {
                    FDX.APPBASE["userLogoutFnCall_" + item] = FDX.APPBASE.appBaseData.lvLogsoutPageReloadmet;
                    $("body").on("loggedOut", FDX.APPBASE["userLogoutFnCall_" + item]);
                }

            } else {

                FDX.APPBASE["initFunction_" + item] = FDX.APPBASE.appBaseData.lvInitializationFnNotmet;
                FDX.APPBASE["throttleURL_" + item] = FDX.APPBASE.appBaseData.lvURLrequestNotMet;

                FDX.APPBASE["appJSpath_" + item] = FDX.APPBASE.appBaseData.lvAppJSnotMet;

                if ((FDX.APPBASE.appBaseData.lvLogsinPageReloadNotmet !== "") && (FDX.APPBASE.appBaseData.lvLogsinPageReloadNotmet != null)) {
                    FDX.APPBASE["userLoginFnCall_" + item] = FDX.APPBASE.appBaseData.lvLogsinPageReloadNotmet;
                    $("body").on("loggedIn", FDX.APPBASE["userLoginFnCall_" + item]);
                }
                if ((FDX.APPBASE.appBaseData.lvLogsoutPageReloadNotmet !== "") && (FDX.APPBASE.appBaseData.lvLogsoutPageReloadNotmet != null)) {
                    FDX.APPBASE["userLogoutFnCall_" + item] = FDX.APPBASE.appBaseData.lvLogsoutPageReloadNotmet;
                    $("body").on("loggedOut", FDX.APPBASE["userLogoutFnCall_" + item]);
                }

            }
            FDX.APPBASE.loadThrottleURL(FDX.APPBASE["throttleURL_" + item]);
    	} 
    	
    }

        return {
        	throttleURL : FDX.APPBASE.throttleURLConditionNotMet,
            appJSpath : FDX.APPBASE["appJSpath_" + item],
            initFunction : FDX.APPBASE["initFunction_" + item],
            userLoginFnCall : FDX.APPBASE["userLoginFnCall_" + item],
            userLogoutFnCall : FDX.APPBASE["userLogoutFnCall_" + item],
            browserType : FDX.APPBASE["browserType_" + item],
            browserVersion : FDX.APPBASE["browserVersion_" + item],
            browserCondition : FDX.APPBASE["browserCondition_" + item],
            percntUserTraffic : FDX.APPBASE["percntUserTraffic_" + item],
            dependentScripts : FDX.APPBASE["dependentScripts_" + item],
            dependencyType : FDX.APPBASE["dependencyType_" + item],
    		extAppHTML : FDX.APPBASE["extAppHTML_" + item],
        };
    },

    loadThrottleURL : function(url) {
        if ((typeof(url) !== "undefined") && (url !== null) && (url !== "") && window.top.location.href.indexOf('/editor.html/') < 0) {
            FDX.APPBASE.appThrottled = true;
           	$(".fxg-cube.fxg-cube--active").attr("data-link-path",url);
           	if($(".fxg-cube.fxg-cube--active").hasClass("notTarget")){
           	 window.open(url, "_self");	
           	}
           
         	
        }
    }
}
FDX.APPBASE.loadAppData();
if (!FDX) {
	var FDX = {};
}

FDX.GENERIC_APPLOAD = {

	isBrand: false,
	dependentScriptLoaded: false,
	appHTML: null,
	homePageContainerFlag: false,

	loadDepScripts: function(appID) {

		var def = $.Deferred();

		if ((FDX.APPBASE["dependentScripts_" + appID].length > 0) &&
			!FDX.GENERIC_APPLOAD["dependentScriptLoaded_" + appID]) {

			var scriptTag = [];
			for (var i = 0; i < FDX.APPBASE["dependentScripts_" + appID].length; i++) {
				var scriptID = 'dep' + [i];
				scriptTag[i] = document.createElement('script');
				scriptTag[i].src = FDX.APPBASE["dependentScripts_" + appID][i];
				scriptTag[i].id = scriptID;
				scriptTag[i].async = true;

				var headTag = document.getElementsByTagName('head')[0];
				headTag.appendChild(scriptTag[i]);
			}

			def.resolve();
			FDX.GENERIC_APPLOAD["dependentScriptLoaded_" + appID] = true;
			//console.log("Dependent scripts executed!!");
		}
		return def.promise();
	},

	// This function been getting called by controlcenter Angular App when the app been injected to AEM.
	// controlcenter-exf is the main containers id of controlcenterexpfragment.

	controlcenterUUIDCheck: function(uuidflag) {

		if (uuidflag) {
			$('#controlcenter-exf').show();
		} else {
			$('#controlcenter-exf').hide();
		}
	},

	loadCubeAppData: function(genericAppId, loadAppOnPageLoad) {
		if (window.top.location.href.indexOf('/editor.html/') < 0) {

			if (FDX.LOGINCHECK && FDX.LOGINCHECK.loginCookie && FDX.LOGINCHECK.fName) {
				FDX.GENERIC_APPLOAD.controlcenterUUIDCheck(false);
			}
			if (FDX.APPBASE.loadGenApp && !FDX.APPBASE.appThrottled) {

				if (genericAppId !== null && $('#' + genericAppId).parent().css('display') !== 'none' && loadAppOnPageLoad == 'on') {
					FDX.APPBASE.loadNewAppBaseData(genericAppId);
					FDX.GENERIC_APPLOAD.loadDepScripts(genericAppId);
					setTimeout(function() {
						FDX.GENERIC_APPLOAD.externalAppInject(genericAppId);
					}, 50);

				}

			}
		}
	},

	loadButtonAppData: function(appId, event) {

		if (typeof appId !== typeof undefined && appId != null && typeof event !== typeof undefined) {
			event.preventDefault();

			if (appId.indexOf('track') >= 0) {
				var cid = $('.tracking_app_v1');
				if (cid[0] != undefined && $('.tracking_app_v1').find('.fxg-wrapper.fxg-app__wrapper').css('display') !== 'none') {
					window.scrollBy({
						top: cid[0].getBoundingClientRect().top - 100,
						behavior: 'smooth'
					});
				}

			} else if (appId.indexOf('track') < 0 && $('.genericAppContainer #' + appId).length > 0) {
				var cid = $('.genericAppContainer #' + appId).parent().parent();
				var loadAppOnPageLoad = cid.find('#app-hide-page-load').val();
				if ($('#' + appId).children().length <= 0) {
					FDX.GENERIC_APPLOAD.loadCubeAppData(appId, loadAppOnPageLoad);
				}
				if (cid[0] != undefined && $('#' + appId).parent().css('display') !== 'none') {
					setTimeout(function() {
						window.scrollBy({
							top: cid[0].getBoundingClientRect().top - 100,
							behavior: 'smooth'
						});
					}, 100);
				}

			}
		}
		return false;
	},

	externalAppInject: function(appID) {

		var fdx = FDX;
		var extAppHTML = FDX.APPBASE["extAppHTML_" + appID];

		if ((typeof(appID) !== "undefined") && appID !== null) {

			try {

				$.ajax({
					type: "GET",
					url: extAppHTML,
					cache: false,
					crossDomain: true,

					success: function(result) {
						try {

							if (FDX.APPBASE["extAppHTML_" + appID] == '/control-center/' && result.indexOf("nomodule") < 0) {
								result = result.replaceAll('type="module"', '');
							}
							$.when($(".appBaseComponent  #" + appID).append(result))
								.then(function() {
									FDX = fdx;
									setTimeout(function() {
										if (!FDX.APPBASE["extAppHTML_" + appID].includes('control-center')) {
											FDX.CUBE.openApp();
										}
									}, 300);
								});

						} catch (e) {
							// fdx_debug(e, "IM", "loadApp:success");
						}
					},

				});
			} catch (e) {
				console.error(e);
			}
		}

	},

};

/*if (FDX.APPBASE.loadGenApp && !FDX.APPBASE.appThrottled) {
	FDX.GENERIC_APPLOAD.loadDepScripts();
}*/

$(document).ready(function() {

	if (window.top.location.href.indexOf('/editor.html/') < 0) {

		if (FDX.LOGINCHECK && FDX.LOGINCHECK.loginCookie && FDX.LOGINCHECK.fName) {
			FDX.GENERIC_APPLOAD.controlcenterUUIDCheck(false);
		}
		if (FDX.APPBASE.loadGenApp && !FDX.APPBASE.appThrottled) {
			$('.genericAppContainer input[id=app-base]').each(function(index, element) {
				var genericAppId = $(this).parent().find('#app-external').val();
				var loadAppOnPageLoad = $(this).parent().find('#app-hide-page-load').val();

				if ((typeof(genericAppId) !== "undefined") && genericAppId !== null && $('#' + genericAppId).parent().css('display') !== 'none' && loadAppOnPageLoad !== 'on') {

					FDX.APPBASE.loadNewAppBaseData(genericAppId);
					FDX.GENERIC_APPLOAD.loadDepScripts(genericAppId);
					setTimeout(function() {
						FDX.GENERIC_APPLOAD.externalAppInject(genericAppId);
					}, 50);

				}
			});
		}
	}

	//To show appbase container if appbase container is added through Target 
	document.addEventListener('readystatechange', function(ev) {
		if (document.readyState === 'complete') {
			setTimeout(function() {
				if (document.querySelector('.root.responsivegrid>.aem-Grid>.genericAppContainer input[name=baseData]') != null && document.querySelector('.root.responsivegrid>.aem-Grid>.genericAppContainer .fxg-app__appContainer script[src]') == null) {
					FDX.APPBASE.loadAppData();
					if (FDX.APPBASE.loadGenApp && !FDX.APPBASE.appThrottled) {
						$('.genericAppContainer input[id=app-base]').each(function(index, element) {
							var genericAppId = $(this).parent().find('#app-external').val();
							var loadAppOnPageLoad = $(this).parent().find('#app-hide-page-load').val();

							if ((typeof(genericAppId) !== "undefined") && genericAppId !== null && $('#' + genericAppId).parent().css('display') !== 'none' && loadAppOnPageLoad !== 'on') {

								FDX.APPBASE.loadNewAppBaseData(genericAppId);
								FDX.GENERIC_APPLOAD.loadDepScripts(genericAppId);
								setTimeout(function() {
									FDX.GENERIC_APPLOAD.externalAppInject(genericAppId);
								}, 50);
							}
						});
					}
				}
			}, 300);
		}
	});
});


/* This is the FedEx.com API Form Validator component javascript file.

 Author: troy.gottier.osv@fedex.com
 Created: 2018-09-25
 */
if (!FDX) {
    var FDX = {};
}

$(document).ready(function() {
	"use strict";
	
	var form = $(".fx-apiform_validator"),
		submitButton = $(".fx-av_submit_button"),
		errorContainer = '<div role="alert" class="fxg-field__validation"></div>',
		formIsValid = false;
	
	form.on('submit', function(e) {
		
		var fields = $(this).find(".fx-av_fields").find("input"),
		validArray = [];
		 
		$.each(fields, function() {
			var list = $(this).siblings(".fx-av_vlist").text(),
				errorMessage = $(this).siblings(".fx-av_error").text(),
				inputValue = $(this).val(),
				required = $(this).attr("data-required"),
				fieldIsValid = false;

			if(required == "notRequired") {
				// If field is not required but has a list of valid values,
				// Then blank space is a valid value. Add to var list
				list = list + ", ";
			}
			if(list.length > 0) {				
				fieldIsValid = validateList(inputValue, list);
				validArray.push(fieldIsValid);
			}
			
			if(fieldIsValid) {
				// remove the error container if there is no error to show
				$(this).removeClass("fxg-field__input--error").attr("aria-invalid","false");
				$(this).siblings(".fxg-field__validation").remove();
				//custom button behavior 
				form.find(".fx-av_submit_wrap").css("padding-top", "35px");
			}else {
				displayError($(this), errorMessage);
				//custom button behavior 
				form.find(".fx-av_submit_wrap").css("padding-top", "10px");
			}
			
			
		});
		
		if($.inArray(false,validArray) !== -1) {
			// Prevent form submission. Do Nothing. Field errors will be displayed.
			e.preventDefault();
		}
		// Form validated and will now submit.
	
		function displayError(input, reason) {
			//remove the previous error and display the new error.
			input.siblings(".fxg-field__validation").remove();
			input.addClass("fxg-field__input--error").attr("aria-invalid","true");
			input.after(errorContainer);
			input.siblings(".fxg-field__validation").text(reason);
		}
		
		function validateList(value, list) {
			var arrayList = list.replace(/,\s+/g, ',').split(','),
				validationStatus = false;

			arrayList.map(function(item) {
				if(item.indexOf('*') > -1) {
					// Wildcard validation string. 
					if(item.length == value.length) {
						// possible match is length is the same.
						var charArray = item.split(''),
							valCharArray = value.split(''),
							wordTest = true;

						for(var i = 0 ; i < item.length ; i++) {
							if(wordTest == true &&  ((charArray[i] == valCharArray[i]) || charArray[i] == "*")) {
								// If character matches or wildcard is present (*) - PASS
								
							}else {
								wordTest = false;
							}
						}
						if (wordTest == true) {
							validationStatus = true;
						}
					}					
					
				}else if(item == value) {
					// strings match value has been found
					validationStatus = true;
				}
			
			});
			if(validationStatus == true) {
				// Validation Success
				return true;
			}
			// Validation Failed
			return false;
		}
		 
    });
});
/* This is the FedEx.com alert component javascript file.
 The global FDX object must already be defined

 Author: joey.dukeminier@vml.com
 Created: 2017-06-30
 */

if (!FDX) {
    var FDX = {};
}

FDX.ALERT = {
  alertClass: 'fxg-alert',
  showAlertClass: 'fxg-alert--show',
  detailsClass: 'fxg-alert__details',
  detailsBtnClass: 'fxg-alert__details-btn',
  detailsShowClass: 'fxg-alert__details--show',
  closeButtonClass: 'fxg-alert__close-btn',
  cookieNameAttr: 'data-cname',
  cookieExpireAttr: 'data-cexpire',
  hiddenClass: 'fxg-hidden',

  setAlertCookie: function (elem) {
    var cname = $(elem).attr(FDX.ALERT.cookieNameAttr);
    var cexpire = $(elem).attr(FDX.ALERT.cookieExpireAttr);
    
    if (FDX.SESSION) {
      // set the cookie alert
      FDX.SESSION.setCookieBySeconds(cname, Math.floor(Date.now() / 1000), cexpire);
    }
  },
  closeAlert: function (elem) {
    var cname = $(elem).attr(FDX.ALERT.cookieNameAttr);
    $('.' + cname).removeClass(FDX.ALERT.showAlertClass);
    FDX.components.header.calcHeight();
  },
  toggleAlertDetails: function (elem) {
    $(elem).parent().toggleClass(FDX.ALERT.detailsShowClass);
    FDX.components.header.calcHeight();
  },
}

$(document).ready(function () {
  $('header').on('click keydown', '.' + FDX.ALERT.closeButtonClass, function (e) {
    if (e.type === 'keydown' && e.which !== 13) {
      return;
    }

    var cookieConsentWrapper = $('.js-init-fdx-cookie-consent').find('.fxg-cookie-consent__wrapper');
    var CookieConsent = window.FDX.CookieConsent();

    e.preventDefault();
    FDX.ALERT.closeAlert($(this));
    FDX.ALERT.setAlertCookie($(this));
    if(CookieConsent) CookieConsent.setPosition(cookieConsentWrapper);
  })

  $('header').on('click keydown', '.' + FDX.ALERT.detailsBtnClass, function (e) {
    if (e.type === 'keydown' && e.which !== 13) {
      return;
    }

    var cookieConsentWrapper = $('.js-init-fdx-cookie-consent').find('.fxg-cookie-consent__wrapper');
    var CookieConsent = window.FDX.CookieConsent();

    e.preventDefault();
    
    $(this)
      .find('a')
      .toggle(0, function () {
        if ($(this).hasClass(FDX.ALERT.hiddenClass)) {
          $(this).removeClass(FDX.ALERT.hiddenClass);
          $(this).trigger('focus');
        } else {
          $(this).addClass(FDX.ALERT.hiddenClass);
        }
      });

    FDX.ALERT.toggleAlertDetails(this);
    if(CookieConsent) CookieConsent.setPosition(cookieConsentWrapper);
  })

})





/*
This file is appending Alert content to alert component after getting response from AJAX.
The Servlet is sending the alerts in a list. 0th element being highest priority alert.
The code will check the cookies for corresponding alert and if cookie is not present in browser
then the respective alert will be shown on browser. Else next alert will be shown.
Cookies are set once user closes the alert. It means User got the alert and now next alert should be 
shown to the user.
*/

if (!FDX) {
    var FDX = {};
}

// FDX.ALERT_CONETNT will only return one public function i.e showAlert. Others are specific and need not to be made public.
FDX.ALERT_CONTENT = (function() {
    var addHeaderClasses = function(alert) {
        if (alert.location === 'footer'){
			return ("<div class='fxg-alert fxg-alert__" + alert.cookieUniqueID + " " + alert.showAlertClass + " " + alert.noDetailsClass + " " + alert.alertColor + " " + alert.hideOnDesktop + " " + alert.hideOnTablet + " " + alert.hideOnMobile + " fxg-alert__footer js-alert-footer'>" + "<div class='fxg-wrapper'>");
        }
        else{
        	return ("<div class='fxg-alert fxg-alert__" + alert.cookieUniqueID + " " + alert.showAlertClass + " " + alert.noDetailsClass + " " + alert.alertColor + " " + alert.hideOnDesktop + " " + alert.hideOnTablet + " " + alert.hideOnMobile + " js-alert-header'>" + "<div class='fxg-wrapper'>");
        }
    };
    var showAlertIcon = function(alert) {
        return (alert.showIcon == 'yes' ? "<span class='fxg-alert__icon'>" + alert.alertIcon + "</span>" : "");
    };
    var showAlertText = function(alert) {
        return (alert.showIcon === 'yes' ? "<div class='fxg-alert__text fxg-alert__text-spacer'>" + alert.alertText + "</div>" : "<div class='fxg-alert__text'>" + alert.alertText + "</div>");
    };
    var showAlertDetails = function(alert) {
        return (alert.showDetails == 'yes' ? " <span class='fxg-alert__details-info'> " + alert.alertDetails + "</span>" : "")
    };
    var showAlertOnLoad = function(alert) {
        return (alert.detailsOpen === 'yes' ? "<div>" + "<a href='#' role='button' aria-label='"+alert.alertsAltSeeDetailsButton+"' class='fxg-link fxg-hidden' style='display: none'>" + alert.alertsDetailsButton + "</a>" + "<a href='#' role='button' aria-label='"+alert.alertsAltHideDetailsButton+"' class='fxg-link'>" + alert.alertsHideDetailsButton + "</a>" + "<span>" + alert.alertDetailsChevronIcon + "</span>" + "</div >" : "");
    };
    var doNotShowAlertOnLoad = function(alert) {
        return (alert.detailsOpen === "no" ? "<div>" + "<a href='#' role='button' aria-label='"+alert.alertsAltSeeDetailsButton+"' class='fxg-link'>" + alert.alertsDetailsButton + "</a>" + "<a href='#' class='fxg-link fxg-hidden' role='button' aria-label='"+alert.alertsAltHideDetailsButton+"' style='display: none'>" + alert.alertsHideDetailsButton + "</a>" + "<span>" + alert.alertDetailsChevronIcon + "</span>" + "</div >" : "");
    };
    var showAlertDetailsButton = function(alert) {
        return (alert.showDetails == 'yes' ? "<div  class='fxg-alert__details-btn'>" + showAlertOnLoad(alert) + doNotShowAlertOnLoad(alert) + "</div>" : "")
    };
    var addShowAlertDetailsClass=function(alert){
        return (alert.detailsOpen === 'yes' ? alert.showAlertDetailsClass : "");
    };
    var adjustShowDetailsIcon = function(alert) {
        return (alert.showIcon === 'yes' ? "<div class='fxg-alert__details fxg-alert__details-icon-spacer " + addShowAlertDetailsClass(alert) + "'>" : " <div class='fxg-alert__details " + alert.detailsOpen + "'>");
    };
    var showDetailsSection = function(alert) {
        return (alert.alertDetails ? adjustShowDetailsIcon(alert) + showAlertDetails(alert) + showAlertDetailsButton(alert) + "</div>" : "")
    };
    var closeIcon = function(alert) {
        return (alert.isDismissible == 'yes' ? " <span  tabindex='0' role='button' aria-label='" + alert.closeButtonAltText + "' class='fxg-alert__close-btn' data-cname='fxg-alert__" + alert.cookieUniqueID + "'" + " data-cexpire= " + alert.cookieExpire + " >" + alert.alertCloseIcon + "</span>" : "");
    };
    var showAlert = function(alert) {
        return (addHeaderClasses(alert) + showAlertIcon(alert) + showAlertText(alert) + showDetailsSection(alert) + closeIcon(alert) + "</div></div>")
    };
	return {
        getAlert: showAlert
    };
})();
//Once the jquery is loaded, the ajax call will be made. On success, the alert will be extracted and specific alert gets appended in the alert component.
$(document).ready(function() {
    var jsonDataTemplate = {
        alertText: "",
        cookieUniqueID: "",
        showAlertClass: "",
        noDetailsClass: "",
        alertColor: "",
        hideOnDesktop: "",
        hideOnTablet: "",
        hideOnMobile: "",
        showIcon: "",
        alertIcon: "",
        detailsOpen: "",
        alertDetails: "",
        showDetails: "",
        alertDetailsButton: "",
        alertHideDetailsButton: "",
        alertDetailsChevronIcon: "",
        isDismissible: "",
        closeButtonAltText: "",
        cookieExpire: ""
    };

    // if new alert tags exist, we won't do anything
    if($("fedex-alert-header").length > 0 || $("fedex-alert-footer").length > 0) {
        return;
    }

    if(window.location.href.indexOf('/content/experience-fragments/') != -1) {
        return;
    }
    
    var $body = $('body');
    var countryParam=FDX.DATALAYER.page.pageInfo.country;
    var regionParam=FDX.DATALAYER.page.pageInfo.region;
    var localeParam=FDX.DATALAYER.page.pageInfo.locale;
    var pathParam=encodeURI(window.location.pathname);
    var brand = "false";
    var trimPath=pathParam.replace(/\/aem._l./i,'');
    if(pathParam.match("^/apps")){
            FDX.contextPath="";
    }
    if(FDX.contextPath==undefined){
        if (typeof(fdx) !== 'undefined') {
            FDX.contextPath=fdx.context.envtVar;
        }
    }
    if (typeof(fdx) !== 'undefined' && fdx.isBrand !== 'undefined' && fdx.isBrand == "true") {
        brand = "true";
    }
    var apiURL = FDX.contextPath+"/etc/services/getalerts."+brand+"."+regionParam+"."+countryParam+"."+localeParam+"."+trimPath+".jsonp";
    
    
	/*To FIX ERROR on console  */
	var host=encodeURI(window.location.host);
	
	
	if(host.indexOf("www")>-1 || FDX.DATALAYER.page.category.pageType == "sharednav") {
	// always 'https' protocol in PROD/L6 envi
	apiURL= ("https://"+host+"/etc/services/getalerts."+brand+"."+regionParam+"."+countryParam+"."+localeParam+"."+trimPath+".jsonp");
	}
	

    var calculateDateTime=function(ms){
        var date = new Date(ms);
        var options = {
            year: 'numeric', month: 'short', day: 'numeric',
            hour: 'numeric', minute: 'numeric',
            hour12: true
        };
        return  FDX.SESSION ? (new Intl.DateTimeFormat(FDX.SESSION.getCookie("fdx_locale").replace("_","-"),options).format(date)) : '';
    };
    var replaceDateTime=function(alert){
        if(alert.toFromShow === 'yes'){
            var region = Intl.DateTimeFormat().resolvedOptions().timeZone;
            var timezone = moment().tz(region).format('z');
            var alertTo = calculateDateTime(alert.to) != "" ? calculateDateTime(alert.to)+" "+timezone : "";
            var alertFrom = calculateDateTime(alert.from) != "" ? calculateDateTime(alert.from)+" "+timezone : "";

            alert.alertDetails=alert.alertDetails.replace("$[to]",alertTo);
            alert.alertDetails=alert.alertDetails.replace("$[from]",alertFrom);
            alert.alertText=alert.alertText.replace("$[to]",alertTo);
            alert.alertText=alert.alertText.replace("$[from]",alertFrom);
        }
        return alert;
    };
    $.when($.ajax(apiURL)).then(function(data, textStatus, jqXHR) {
        if (!data) {
            // if No data then do nothing.
            return;
        }

        var jsonDataFull = data;
        var alertArray = [];
        var headerAlert = {};
        var footerAlert = {};
        if(typeof data === 'string'){
            jsonDataFull= JSON.parse(data);
        }
        if(jsonDataFull.finalAlertData){
            for (var i = 0; i < jsonDataFull.finalAlertData.length; i++) {
                var jsonData = {};
                jsonData=$.extend({},jsonDataTemplate);
                jsonData=$.extend(jsonData,jsonDataFull.finalAlertData[i]);
                alertArray.push(jsonData);
            }
        }
        for (var i = 0; i < alertArray.length; i++) {
            if (alertArray[i]['cookieUniqueID']) {
                var cookie_name = "fxg-alert__" + alertArray[i]['cookieUniqueID'];
                if (FDX.SESSION && !FDX.SESSION.getCookie(cookie_name)) {
                    if (Object.keys(footerAlert).length===0 && alertArray[i].location === 'footer'){
                        footerAlert=$.extend({},alertArray[i]);
                    }else if(Object.keys(headerAlert).length===0 && alertArray[i].location === 'header'){
                        headerAlert=$.extend({},alertArray[i]);
                    }
                    if(Object.keys(footerAlert).length!==0 && Object.keys(headerAlert).length !== 0 ){
                    break;
                    }
                }
            }
        }

        // reset the state of alerts on body tag
        $body.removeClass('has-alert-footer has-alert-header');

        if(Object.keys(footerAlert).length !== 0) {
            var ftContent = '';
            footerAlert=replaceDateTime(footerAlert);

            if (footerAlert.hideOnDesktop === "on") {
			footerAlert.hideOnDesktop = "fxg-desktop--hide";
		}

    	if (footerAlert.hideOnTablet === "on") {
			footerAlert.hideOnTablet = "fxg-tablet--hide";
            }

            if (footerAlert.hideOnMobile === "on") {
			footerAlert.hideOnMobile = "fxg-mobile--hide";
            }

            if (footerAlert.gdprmodal === 'on') {

                // use old config to show the new GDPR
                var $container = $('fedex-cookie-consent');
                var isAuthor = window.Granite && window.Granite.author;
                if ($container.length && !isAuthor) {
                    var config = $.extend({}, footerAlert, {
                        title: footerAlert.gdprtitle,
                        description: footerAlert.alertText,
                        disclaimer: footerAlert.alertDetails || ''
                    });
                    var instance = FDX.components.gdpr.create();
                    instance.setContainer($container);
                    instance.setConfig(config);
                    instance.init().then(function () {
                        instance.show();
                    });
                }
            } else {
                ftContent = FDX.ALERT_CONTENT.getAlert(footerAlert);
                $("fedex-alert").append(ftContent);
                $body.addClass('has-alert-footer');
            }
        }

        if(Object.keys(headerAlert).length !== 0) {


            if (headerAlert.hideOnDesktop === "on") {
			headerAlert.hideOnDesktop = "fxg-desktop--hide";
		}

    	if (headerAlert.hideOnTablet === "on") {
			headerAlert.hideOnTablet = "fxg-tablet--hide";
            }

            if (headerAlert.hideOnMobile === "on") {
			headerAlert.hideOnMobile = "fxg-mobile--hide";
            }

            headerAlert = replaceDateTime(headerAlert);
            var hdContent = FDX.ALERT_CONTENT.getAlert(headerAlert);
            if (hdContent) {
                $("fedex-alert").append(hdContent);
                $body.addClass('has-alert-header');
                FDX.components.header.calcHeight();
            }
        }
    });
}); 
$(document).ready(function() {
	(function(){    
		var htmlTag = document.querySelector('html');
		var dir = htmlTag.getAttribute('dir');
		var alertTag = document.querySelector('fedex-alert');
		if (FDX && FDX.SESSION && FDX.CORE) {
			var lang = FDX.SESSION.getCookie('fdx_locale');
			   
			if (!dir) { //if page does not have dir attribute
					//if page has fdx_locale cookie and cookie value is arabic or hebrew
					if(lang && (lang.indexOf('ar')>=0 || lang.indexOf('he')>=0)) {
						alertTag.setAttribute('dir', 'rtl');
					}
					else { //if cookie is NOT arabic or hebrew
						htmlTag.setAttribute('dir', 'ltr');
					}
					 // set the container element
					 FDX.CORE.mainContentWrapper = ".fxg-sharednav";
					 // recalculate the header height
					 FDX.components.header.calcHeight();
			}
		} 
	})();
});
/* This is the FedEx.com global breakpoints javascript definitions.
 The global FDX object must already be defined

 Author: joey.dukeminier@vml.com
 Created: 2017-03-20
 */
if (!FDX) {
    var FDX = {};
}

FDX.BREAKPOINTS = {
    DesktopMediaQuery : "993",
    TabletMediaQuery : "992",
    MobileMediaQuery : "767",
    viewPortType : null,

    getDesktopMediaQuery : function() {
        return window.matchMedia("(min-width: " + FDX.BREAKPOINTS.DesktopMediaQuery + "px)");
    },

    getTabletMediaQuery : function() {
        return window.matchMedia("(max-width: " + FDX.BREAKPOINTS.TabletMediaQuery + "px)");
    },

    getMobileMediaQuery : function() {
        return window.matchMedia("(max-width: " + FDX.BREAKPOINTS.MobileMediaQuery + "px)");
    },
    
    getViewPort : function() {
        if ($(document).width() <= FDX.BREAKPOINTS.MobileMediaQuery) {
            FDX.BREAKPOINTS.viewPortType = "smallViewPort";
            return FDX.BREAKPOINTS.viewPortType;
        } else if (($(document).width() <= FDX.BREAKPOINTS.TabletMediaQuery) && ($(document).width() > FDX.BREAKPOINTS.MobileMediaQuery)) {
            FDX.BREAKPOINTS.viewPortType = "mediumViewPort";
            return FDX.BREAKPOINTS.viewPortType;
        } else if ($(document).width() >= FDX.BREAKPOINTS.DesktopMediaQuery) {
            FDX.BREAKPOINTS.viewPortType = "largeViewPort";
            return FDX.BREAKPOINTS.viewPortType;
        }
	}
 };
