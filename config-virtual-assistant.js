/*! For license information please see config-virtual-assistant.js.LICENSE.txt */
(()=>{"use strict";const t=function(t,e,n,r){var a=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++a]);++a<o;)n=e(n,t[a],a,t);return n},e=function(t,e,n){for(var r=-1,a=Object(t),o=n(t),i=o.length;i--;){var s=o[++r];if(!1===e(a[s],s,a))break}return t},n="object"==typeof global&&global&&global.Object===Object&&global;var r="object"==typeof self&&self&&self.Object===Object&&self;const a=n||r||Function("return this")(),o=a.Symbol;var i=Object.prototype,s=i.hasOwnProperty,u=i.toString,c=o?o.toStringTag:void 0;var l=Object.prototype.toString;var p=o?o.toStringTag:void 0;const v=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":p&&p in Object(t)?function(t){var e=s.call(t,c),n=t[c];try{t[c]=void 0;var r=!0}catch(t){}var a=u.call(t);return r&&(e?t[c]=n:delete t[c]),a}(t):function(t){return l.call(t)}(t)},f=function(t){return null!=t&&"object"==typeof t},y=function(t){return f(t)&&"[object Arguments]"==v(t)};var d=Object.prototype,h=d.hasOwnProperty,g=d.propertyIsEnumerable,m=y(function(){return arguments}())?y:function(t){return f(t)&&h.call(t,"callee")&&!g.call(t,"callee")};const b=m,_=Array.isArray;var j="object"==typeof exports&&exports&&!exports.nodeType&&exports,A=j&&"object"==typeof module&&module&&!module.nodeType&&module,k=A&&A.exports===j?a.Buffer:void 0;const E=(k?k.isBuffer:void 0)||function(){return!1};var O=/^(?:0|[1-9]\d*)$/;const T=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&O.test(t))&&t>-1&&t%1==0&&t<e},w=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var S={};S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S["[object Arguments]"]=S["[object Array]"]=S["[object ArrayBuffer]"]=S["[object Boolean]"]=S["[object DataView]"]=S["[object Date]"]=S["[object Error]"]=S["[object Function]"]=S["[object Map]"]=S["[object Number]"]=S["[object Object]"]=S["[object RegExp]"]=S["[object Set]"]=S["[object String]"]=S["[object WeakMap]"]=!1;var N="object"==typeof exports&&exports&&!exports.nodeType&&exports,I=N&&"object"==typeof module&&module&&!module.nodeType&&module,L=I&&I.exports===N&&n.process,x=function(){try{return I&&I.require&&I.require("util").types||L&&L.binding&&L.binding("util")}catch(t){}}(),C=x&&x.isTypedArray;const D=C?(P=C,function(t){return P(t)}):function(t){return f(t)&&w(t.length)&&!!S[v(t)]};var P,V=Object.prototype.hasOwnProperty;const z=function(t,e){var n=_(t),r=!n&&b(t),a=!n&&!r&&E(t),o=!n&&!r&&!a&&D(t),i=n||r||a||o,s=i?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=s.length;for(var c in t)!e&&!V.call(t,c)||i&&("length"==c||a&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||T(c,u))||s.push(c);return s};var M=Object.prototype;const q=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||M)},B=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object);var U=Object.prototype.hasOwnProperty;const R=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},$=function(t){if(!R(t))return!1;var e=v(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},F=function(t){return null!=t&&w(t.length)&&!$(t)},W=function(t){return F(t)?z(t):function(t){if(!q(t))return B(t);var e=[];for(var n in Object(t))U.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)},H=function(t,n){if(null==t)return t;if(!F(t))return function(t,n){return t&&e(t,n,W)}(t,n);for(var r=t.length,a=-1,o=Object(t);++a<r&&!1!==n(o[a],a,o););return t},G=function(t,e){return t===e||t!=t&&e!=e},Y=function(t,e){for(var n=t.length;n--;)if(G(t[n][0],e))return n;return-1};var K=Array.prototype.splice;function X(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}X.prototype.clear=function(){this.__data__=[],this.size=0},X.prototype.delete=function(t){var e=this.__data__,n=Y(e,t);return!(n<0||(n==e.length-1?e.pop():K.call(e,n,1),--this.size,0))},X.prototype.get=function(t){var e=this.__data__,n=Y(e,t);return n<0?void 0:e[n][1]},X.prototype.has=function(t){return Y(this.__data__,t)>-1},X.prototype.set=function(t,e){var n=this.__data__,r=Y(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};const Q=X,J=a["__core-js_shared__"];var Z,tt=(Z=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+Z:"";var et=Function.prototype.toString;const nt=function(t){if(null!=t){try{return et.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var rt=/^\[object .+?Constructor\]$/,at=Function.prototype,ot=Object.prototype,it=at.toString,st=ot.hasOwnProperty,ut=RegExp("^"+it.call(st).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const ct=function(t){return!(!R(t)||function(t){return!!tt&&tt in t}(t))&&($(t)?ut:rt).test(nt(t))},lt=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return ct(n)?n:void 0},pt=lt(a,"Map"),vt=lt(Object,"create");var ft=Object.prototype.hasOwnProperty;var yt=Object.prototype.hasOwnProperty;function dt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}dt.prototype.clear=function(){this.__data__=vt?vt(null):{},this.size=0},dt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},dt.prototype.get=function(t){var e=this.__data__;if(vt){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return ft.call(e,t)?e[t]:void 0},dt.prototype.has=function(t){var e=this.__data__;return vt?void 0!==e[t]:yt.call(e,t)},dt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=vt&&void 0===e?"__lodash_hash_undefined__":e,this};const ht=dt,gt=function(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map};function mt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}mt.prototype.clear=function(){this.size=0,this.__data__={hash:new ht,map:new(pt||Q),string:new ht}},mt.prototype.delete=function(t){var e=gt(this,t).delete(t);return this.size-=e?1:0,e},mt.prototype.get=function(t){return gt(this,t).get(t)},mt.prototype.has=function(t){return gt(this,t).has(t)},mt.prototype.set=function(t,e){var n=gt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};const bt=mt;function _t(t){var e=this.__data__=new Q(t);this.size=e.size}_t.prototype.clear=function(){this.__data__=new Q,this.size=0},_t.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},_t.prototype.get=function(t){return this.__data__.get(t)},_t.prototype.has=function(t){return this.__data__.has(t)},_t.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Q){var r=n.__data__;if(!pt||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new bt(r)}return n.set(t,e),this.size=n.size,this};const jt=_t;function At(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new bt;++e<n;)this.add(t[e])}At.prototype.add=At.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},At.prototype.has=function(t){return this.__data__.has(t)};const kt=At,Et=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},Ot=function(t,e,n,r,a,o){var i=1&n,s=t.length,u=e.length;if(s!=u&&!(i&&u>s))return!1;var c=o.get(t),l=o.get(e);if(c&&l)return c==e&&l==t;var p=-1,v=!0,f=2&n?new kt:void 0;for(o.set(t,e),o.set(e,t);++p<s;){var y=t[p],d=e[p];if(r)var h=i?r(d,y,p,e,t,o):r(y,d,p,t,e,o);if(void 0!==h){if(h)continue;v=!1;break}if(f){if(!Et(e,(function(t,e){if(i=e,!f.has(i)&&(y===t||a(y,t,n,r,o)))return f.push(e);var i}))){v=!1;break}}else if(y!==d&&!a(y,d,n,r,o)){v=!1;break}}return o.delete(t),o.delete(e),v},Tt=a.Uint8Array,wt=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n},St=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n};var Nt=o?o.prototype:void 0,It=Nt?Nt.valueOf:void 0;const Lt=function(t,e){for(var n=-1,r=null==t?0:t.length,a=0,o=[];++n<r;){var i=t[n];e(i,n,t)&&(o[a++]=i)}return o};var xt=Object.prototype.propertyIsEnumerable,Ct=Object.getOwnPropertySymbols;const Dt=Ct?function(t){return null==t?[]:(t=Object(t),Lt(Ct(t),(function(e){return xt.call(t,e)})))}:function(){return[]},Pt=function(t){return function(t,e,n){var r=e(t);return _(t)?r:function(t,e){for(var n=-1,r=e.length,a=t.length;++n<r;)t[a+n]=e[n];return t}(r,n(t))}(t,W,Dt)};var Vt=Object.prototype.hasOwnProperty;const zt=lt(a,"DataView"),Mt=lt(a,"Promise"),qt=lt(a,"Set"),Bt=lt(a,"WeakMap");var Ut="[object Map]",Rt="[object Promise]",$t="[object Set]",Ft="[object WeakMap]",Wt="[object DataView]",Ht=nt(zt),Gt=nt(pt),Yt=nt(Mt),Kt=nt(qt),Xt=nt(Bt),Qt=v;(zt&&Qt(new zt(new ArrayBuffer(1)))!=Wt||pt&&Qt(new pt)!=Ut||Mt&&Qt(Mt.resolve())!=Rt||qt&&Qt(new qt)!=$t||Bt&&Qt(new Bt)!=Ft)&&(Qt=function(t){var e=v(t),n="[object Object]"==e?t.constructor:void 0,r=n?nt(n):"";if(r)switch(r){case Ht:return Wt;case Gt:return Ut;case Yt:return Rt;case Kt:return $t;case Xt:return Ft}return e});const Jt=Qt;var Zt="[object Arguments]",te="[object Array]",ee="[object Object]",ne=Object.prototype.hasOwnProperty;const re=function(t,e,n,r,a,o){var i=_(t),s=_(e),u=i?te:Jt(t),c=s?te:Jt(e),l=(u=u==Zt?ee:u)==ee,p=(c=c==Zt?ee:c)==ee,v=u==c;if(v&&E(t)){if(!E(e))return!1;i=!0,l=!1}if(v&&!l)return o||(o=new jt),i||D(t)?Ot(t,e,n,r,a,o):function(t,e,n,r,a,o,i){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new Tt(t),new Tt(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return G(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=wt;case"[object Set]":var u=1&r;if(s||(s=St),t.size!=e.size&&!u)return!1;var c=i.get(t);if(c)return c==e;r|=2,i.set(t,e);var l=Ot(s(t),s(e),r,a,o,i);return i.delete(t),l;case"[object Symbol]":if(It)return It.call(t)==It.call(e)}return!1}(t,e,u,n,r,a,o);if(!(1&n)){var f=l&&ne.call(t,"__wrapped__"),y=p&&ne.call(e,"__wrapped__");if(f||y){var d=f?t.value():t,h=y?e.value():e;return o||(o=new jt),a(d,h,n,r,o)}}return!!v&&(o||(o=new jt),function(t,e,n,r,a,o){var i=1&n,s=Pt(t),u=s.length;if(u!=Pt(e).length&&!i)return!1;for(var c=u;c--;){var l=s[c];if(!(i?l in e:Vt.call(e,l)))return!1}var p=o.get(t),v=o.get(e);if(p&&v)return p==e&&v==t;var f=!0;o.set(t,e),o.set(e,t);for(var y=i;++c<u;){var d=t[l=s[c]],h=e[l];if(r)var g=i?r(h,d,l,e,t,o):r(d,h,l,t,e,o);if(!(void 0===g?d===h||a(d,h,n,r,o):g)){f=!1;break}y||(y="constructor"==l)}if(f&&!y){var m=t.constructor,b=e.constructor;m==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b||(f=!1)}return o.delete(t),o.delete(e),f}(t,e,n,r,a,o))},ae=function t(e,n,r,a,o){return e===n||(null==e||null==n||!f(e)&&!f(n)?e!=e&&n!=n:re(e,n,r,a,t,o))},oe=function(t){return t==t&&!R(t)},ie=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}},se=function(t){var e=function(t){for(var e=W(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,oe(a)]}return e}(t);return 1==e.length&&e[0][2]?ie(e[0][0],e[0][1]):function(n){return n===t||function(t,e,n,r){var a=n.length,o=a,i=!r;if(null==t)return!o;for(t=Object(t);a--;){var s=n[a];if(i&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++a<o;){var u=(s=n[a])[0],c=t[u],l=s[1];if(i&&s[2]){if(void 0===c&&!(u in t))return!1}else{var p=new jt;if(r)var v=r(c,l,u,t,e,p);if(!(void 0===v?ae(l,c,3,r,p):v))return!1}}return!0}(n,t,e)}},ue=function(t){return"symbol"==typeof t||f(t)&&"[object Symbol]"==v(t)};var ce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,le=/^\w*$/;const pe=function(t,e){if(_(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ue(t))||le.test(t)||!ce.test(t)||null!=e&&t in Object(e)};function ve(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,a=e?e.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var i=t.apply(this,r);return n.cache=o.set(a,i)||o,i};return n.cache=new(ve.Cache||bt),n}ve.Cache=bt;var fe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ye=/\\(\\)?/g;const de=(he=ve((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(fe,(function(t,n,r,a){e.push(r?a.replace(ye,"$1"):n||t)})),e}),(function(t){return 500===ge.size&&ge.clear(),t})),ge=he.cache,he);var he,ge;var me=o?o.prototype:void 0,be=me?me.toString:void 0;const _e=function t(e){if("string"==typeof e)return e;if(_(e))return function(t,e){for(var n=-1,r=null==t?0:t.length,a=Array(r);++n<r;)a[n]=e(t[n],n,t);return a}(e,t)+"";if(ue(e))return be?be.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n},je=function(t,e){return _(t)?t:pe(t,e)?[t]:de(function(t){return null==t?"":_e(t)}(t))},Ae=function(t){if("string"==typeof t||ue(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},ke=function(t,e){for(var n=0,r=(e=je(e,t)).length;null!=t&&n<r;)t=t[Ae(e[n++])];return n&&n==r?t:void 0},Ee=function(t,e,n){var r=null==t?void 0:ke(t,e);return void 0===r?n:r},Oe=function(t,e){return null!=t&&e in Object(t)},Te=function(t,e){return null!=t&&function(t,e,n){for(var r=-1,a=(e=je(e,t)).length,o=!1;++r<a;){var i=Ae(e[r]);if(!(o=null!=t&&n(t,i)))break;t=t[i]}return o||++r!=a?o:!!(a=null==t?0:t.length)&&w(a)&&T(i,a)&&(_(t)||b(t))}(t,e,Oe)},we=function(t){return t},Se=function(t){return pe(t)?(e=Ae(t),function(t){return null==t?void 0:t[e]}):function(t){return function(e){return ke(e,t)}}(t);var e},Ne=function(t){return"function"==typeof t?t:null==t?we:"object"==typeof t?_(t)?function(t,e){return pe(t)&&oe(e)?ie(Ae(t),e):function(n){var r=Ee(n,t);return void 0===r&&r===e?Te(n,t):ae(e,r,3)}}(t[0],t[1]):se(t):Se(t)},Ie=function(t,e,n,r,a){return a(t,(function(t,a,o){n=r?(r=!1,t):e(n,t,a,o)})),n},Le=function(e,n,r){var a=_(e)?t:Ie,o=arguments.length<3;return a(e,Ne(n),r,o,H)};var xe,Ce;!function(t){t.AND="AND",t.OR="OR"}(xe||(xe={})),function(t){t.ANYTHING="matches-anything",t.DATE_IS_AFTER="date-is-after",t.DATE_IS_BEFORE="date-is-before",t.DATE_IS_BETWEEN="date-is-between",t.DOES_NOT_EQUAL="does-not-equal",t.DOES_NOT_EXIST="does-not-exist",t.EQUALS="equals",t.EXISTS="exists",t.IS_NUMBER="is-number",t.LIST_HAS_ITEMS="list-has-items",t.LIST_IS_EMPTY="list-is-empty",t.MATCHES="matches",t.NEVER="matches-never",t.NOT_ONE_OF="not-one-of",t.ONE_OF="one-of"}(Ce||(Ce={}));const De=(t,e)=>({logic:xe.AND,items:[{path:"event.category",test:Ce.EQUALS,value:t},{path:"event.name",test:Ce.EQUALS,value:e}]}),Pe=(...t)=>({logic:xe.OR,items:t});var Ve=Math.max;const ze=function(t){return function(){return t}},Me=function(){try{var t=lt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),qe=Me?function(t,e){return Me(t,"toString",{configurable:!0,enumerable:!1,value:ze(e),writable:!0})}:we;var Be=Date.now;const Ue=function(t){var e=0,n=0;return function(){var r=Be(),a=16-(r-n);if(n=r,a>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(qe);var Re=Object.prototype.hasOwnProperty;const $e=function(t){if(!R(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=q(t),n=[];for(var r in t)("constructor"!=r||!e&&Re.call(t,r))&&n.push(r);return n},Fe=function(t){return F(t)?z(t,!0):$e(t)};var We=Object.prototype,He=We.hasOwnProperty,Ge=function(t,e){return Ue(function(t,e,n){return e=Ve(void 0===e?t.length-1:e,0),function(){for(var r=arguments,a=-1,o=Ve(r.length-e,0),i=Array(o);++a<o;)i[a]=r[e+a];a=-1;for(var s=Array(e+1);++a<e;)s[a]=r[a];return s[e]=n(i),function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,s)}}(t,e,we),t+"")}((function(t,e){t=Object(t);var n=-1,r=e.length,a=r>2?e[2]:void 0;for(a&&function(t,e,n){if(!R(n))return!1;var r=typeof e;return!!("number"==r?F(n)&&T(e,n.length):"string"==r&&e in n)&&G(n[e],t)}(e[0],e[1],a)&&(r=1);++n<r;)for(var o=e[n],i=Fe(o),s=-1,u=i.length;++s<u;){var c=i[s],l=t[c];(void 0===l||G(l,We[c])&&!He.call(t,c))&&(t[c]=o[c])}return t}));const Ye=Ge;var Ke;!function(t){t.DOWNLOAD="d",t.EXIT="e",t.OTHER="o"}(Ke||(Ke={}));const Xe={linkName:"{path:event|format:gdlEvent}",linkType:Ke.OTHER,dimensions:{}},Qe=(t={})=>{const{linkName:e,linkType:n,linkNameExtra:r,dimensions:a,events:o}=Ye(t,Xe),i=r?`${e}:${r}`:e;return{linkName:i,linkType:n,dimensions:{prop18:"{path:page.pageName}",prop19:i,prop20:`{path:page.pageName} | ${i}`,prop24:"{path:event.type}:{path:event.category}",...a},events:o}},Je=[{rules:((...t)=>({logic:xe.AND,items:Le(t,((t,e)=>t.concat(e.items)),[])}))(De("va","submit"),{logic:xe.AND,items:[{path:"virtualAssistant.linkClicks.submit",test:Ce.EQUALS,value:1}]}),actions:[{type:"ADOBE_ANALYTICS_LOG_LINKVIEW",data:Qe({linkName:"va:{path:event.payload.vaType}:{path:event.name}",dimensions:{prop21:'{path:event.payload.vaType|format:equals("embed", "e", "p")}:{path:event.payload.query}',eVar14:"va:{path:page.pageName}:{path:event.payload.vaType}:{path:page.url.baseUrl}"},events:{event112:1,event244:'{path:event.payload.vaType|format:equals("embed", 1, 0)}',event245:'{path:event.payload.vaType|format:equals("popin", 1, 0)}'}})}]},{rules:De("va","dialog"),actions:[{type:"ADOBE_ANALYTICS_LOG_LINKVIEW",data:Qe({linkName:"va:{path:event.payload.vaType}:{path:event.name}",dimensions:{prop30:"va:{path:event.payload.vaType}:{path:event.name}:{path:event.payload.linkLabel|format:lowercase}"},events:{event242:"{path:virtualAssistant.linkClicks.dialog}"}})}]},{rules:De("va","web"),actions:[{type:"ADOBE_ANALYTICS_LOG_LINKVIEW",data:Qe({linkName:"va:{path:event.payload.vaType}:{path:event.name}",dimensions:{prop30:"va:{path:event.payload.vaType}:{path:event.name}:{path:event.payload.linkLabel|format:lowercase}"},events:{event243:"{path:virtualAssistant.linkClicks.web}"}})}]},{rules:De("va","transcriptlink"),actions:[{type:"ADOBE_ANALYTICS_LOG_LINKVIEW",data:Qe({linkName:"va:{path:event.payload.vaType}:{path:event.name}"})}]},{rules:Pe(De("va","open"),De("va","close")),actions:[{type:"ADOBE_ANALYTICS_LOG_LINKVIEW",data:Qe({linkName:"va:popin:{path:event.name}",dimensions:{eVar14:"va:{path:page.pageName}:popin:{path:page.url.baseUrl}"},events:{event246:'{path:event.name|format:equals("open", 1, 0)}',event113:'{path:event.name|format:equals("close", 1, 0)}'}})}]},{rules:De("va","live-chat"),actions:[{type:"ADOBE_ANALYTICS_LOG_LINKVIEW",data:Qe({linkName:"va:{path:event.payload.vaType}:{path:event.name}",dimensions:{eVar14:"va:{path:page.pageName}:{path:event.payload.vaType}:{path:page.url.baseUrl}"},events:{event114:1}})}]},{rules:De("va","chat-engaged"),actions:[{type:"ADOBE_ANALYTICS_LOG_LINKVIEW",data:Qe({linkName:"nuance:{path:event.payload.vaType}:{path:event.name}",dimensions:{eVar14:"nuance:{path:page.pageName}:{path:event.payload.vaType}:{path:page.url.baseUrl}"},events:{event246:1}})}]}];const Ze=[{rules:Pe(De("va","submit"),De("va","dialog"),De("va","web"),De("va","transcriptlink")),actions:[{type:"PARAMS_INCREMENT",data:{path:"virtualAssistant.linkClicks.{path:event.name}"}}]},{rules:De("va","chat-engaged"),actions:[{type:"PARAMS_SET",data:{path:"virtualAssistant.chatId",value:"{path:event.payload.chatId}"}},{type:"PARAMS_SET",data:{path:"virtualAssistant.customerId",value:"{path:event.payload.customerId}"}}]}],tn={name:"VirtualAssistantSubmit",attributes:[{property:"query",type:"string"},{property:"vaType",type:"string",allowedValues:["embed","popin","unknown"]}],examples:[{query:"How can I track my package?",vaType:"embed"}]},en={name:"VirtualAssistantLinkClick",attributes:[{property:"linkLabel",type:"string"},{property:"vaType",type:"string",allowedValues:["embed","popin","unknown"]}],examples:[{linkLabel:"I donâ€™t know my tracking number",vaType:"embed"},{linkLabel:"Customer Support",vaType:"embed"},{linkLabel:"Click here for previous conversation",vaType:"embed"}]},nn=[tn,en,{name:"VirtualAssistantLiveChat",attributes:[{property:"vaType",type:"string",allowedValues:["embed","popin","unknown"]}],examples:[{vaType:"embed"}]},{name:"VirtualAssistantChatEngaged",attributes:[{property:"vaType",type:"string",allowedValues:["embed","popin","unknown"]},{property:"chatId",type:"string"},{property:"customerId",type:"string"}],examples:[{vaType:"unknown",chatId:"7104259693714031938",customerId:"7104822643209504441"}]}],rn={name:"VirtualAssistant",attributes:[{property:"linkClicks",required:!1,type:"object"},{property:"chatId",required:!1,type:"string"},{property:"customerId",required:!1,type:"string"}],examples:[{submits:tn.examples,linkClicks:en.examples}]},an={name:"Datalayer",attributes:[{property:"virtualAssistant",required:!1,ref:"VirtualAssistant"}],examples:[{virtualAssistant:rn.examples}]},on=[{category:"va",name:"submit",payloadType:"VirtualAssistantSubmit",payloadExample:tn.examples[0],type:"custom",notes:'Event is automatically triggered once per session after clicking on the "SUBMIT" button or pressing "ENTER" on the keyboard'},{category:"va",name:"dialog",payloadType:"VirtualAssistantLinkClick",payloadExample:en.examples[0],type:"custom",notes:'Event is automatically triggered after clicking on the "Dialog" link'},{category:"va",name:"web",payloadType:"VirtualAssistantLinkClick",payloadExample:en.examples[1],type:"custom",notes:'Event is automatically triggered after clicking on the "Web" link'},{category:"va",name:"transcriptlink",payloadType:"VirtualAssistantLinkClick",payloadExample:en.examples[2],type:"custom",notes:'Event is automatically triggered after clicking on the "Transcriptlink" link'},{category:"va",name:"open",payloadType:"",type:"custom",notes:"Event is automatically triggered after clicking on virtual assistant open popin icon"},{category:"va",name:"close",payloadType:"",type:"custom",notes:"Event is automatically triggered after clicking on virtual assistant close popin icon"},{category:"va",name:"live-chat",payloadType:"VirtualAssistantLiveChat",type:"custom",notes:"Event is automatically triggered after the user starts the live chat"},{category:"va",name:"chat-engaged",payloadType:"VirtualAssistantChatEngaged",type:"custom",notes:"Event is automatically triggered after the user engages with the live chat"}],sn=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t},un=function(t,e){return(_(t)?sn:H)(t,function(t){return"function"==typeof t?t:we}(e))},cn=function(){},ln=function(t,e){var n=[];return H(t,(function(t,r,a){e(t,r,a)&&n.push(t)})),n},pn=function(t,e){return(_(t)?Lt:ln)(t,Ne(e))},vn=t=>pn(t,(t=>t instanceof Element)),fn=(t,e,n)=>{((t,e,n,r)=>{var a;a=()=>{const a=r||document.documentElement;t(a),window.MutationObserver&&new MutationObserver((r=>{un(r,(({addedNodes:r,removedNodes:a,target:o,type:i})=>{un(vn(r),t),un(vn(a),e||cn),"attributes"===i&&n&&n(o)}))})).observe(a,{childList:!0,subtree:!0,attributeFilter:["class","style"]})},"loading"!==document.readyState?a():document.addEventListener("DOMContentLoaded",(()=>a()),!1)})((n=>{const r=n.querySelector(t);return!(!(null==n?void 0:n.matches(t))&&!Boolean(r)||(e(r||n),0))}),void 0,(n=>{(null==n?void 0:n.matches(t))&&e(n)}),n)},yn=t=>({type:"EVENT_PUBLISH",data:{...t,payload:t.payload||{}}}),dn="va",hn=t=>!Ee(t(),"params.virtualAssistant.linkClicks.submit"),gn=(t,e)=>yn({category:dn,name:"submit",payload:{vaType:jn(e),query:t}}),mn=(t,e)=>yn({category:dn,name:`${t}`,payload:{vaType:jn(e),linkLabel:e.innerText||"n/a"}}),bn=t=>yn({category:dn,name:`${t}`}),_n=t=>yn({category:dn,name:"live-chat",payload:{vaType:jn(t)}}),jn=t=>(null==t?void 0:t.closest(".virtual-assistant"))?"embed":"popin",An="Enter",kn="#nina-fedex",En=".nw_UserInputField",On={eventDefinitions:on,mappings:{platforms:{aa:Je},datalayer:Ze},schemas:{others:nn,datalayer:an,namespaces:[rn]},publishers:[{NAME:"virtualAssistant",shouldActivate:()=>!!document.querySelector(kn),activate:(t,e)=>{let n=null;document.addEventListener("keyup",(r=>{const a=r.target;if(null==a?void 0:a.closest(kn)){const o=document.querySelector(`${kn} ${En}`);r.key!==An&&(n=o?o.value:"unknown"),hn(e)&&n&&(null==a?void 0:a.closest(En))&&r.key===An&&t(gn(n,a))}})),document.addEventListener("click",(r=>{const a=r.target;(null==a?void 0:a.closest(kn))&&(hn(e)&&n&&(null==a?void 0:a.closest(".nw_UserSubmit"))&&t(gn(n,a)),(null==a?void 0:a.closest('[data-vtz-link-type="Dialog"]'))&&t(mn("dialog",a)),(null==a?void 0:a.closest('[data-vtz-link-type="Web"]'))&&t(mn("web",a)),(null==a?void 0:a.closest(".nw_TranscriptLink"))&&t(mn("transcriptlink",a)),(null==a?void 0:a.closest(".nw_CloseXX"))&&t(bn("close"))),(()=>{const t=document.querySelector(".nw_Conversation");return!!t&&"block"!==t.style.display})()&&((null==a?void 0:a.closest(".va_icon"))||(null==a?void 0:a.closest(".askFedex")))&&t(bn("open"))})),fn(".nw_TitleBar_LiveChat",(e=>{t(_n(e))})),fn(".nw_CloseX",(e=>{"inline-block"===e.style.display&&t(_n(e))}))},initTiming:"immediate"}]};var Tn;!function(t){t[t.High=1]="High"}(Tn||(Tn={}));(t=>{var e,n,r,a,o,i,s,u;const c=(()=>{const t=Ee(window,"gdl");return t?(e,n)=>{n&&t.push([e,[n],null,Tn.High])}:cn})();c("config:extendDatalayerSchema",null===(e=t.schemas)||void 0===e?void 0:e.datalayer),c("config:registerEventDefinitions",t.eventDefinitions),c("config:registerEventPostProcessors",t.eventPostProcessors),c("config:registerEventPreProcessors",t.eventPreProcessors),c("config:registerDatalayerMappings",t.mappings.datalayer),c("config:registerPlatformMappings",[...(null===(n=t.mappings.platforms)||void 0===n?void 0:n.adobeId)||[],...(null===(r=t.mappings.platforms)||void 0===r?void 0:r.aa)||[],...(null===(a=t.mappings.platforms)||void 0===a?void 0:a.relay42)||[],...(null===(o=t.mappings.platforms)||void 0===o?void 0:o.target)||[],...(null===(i=t.mappings.platforms)||void 0===i?void 0:i.va)||[],...t.mappings.persist||[]]),c("config:registerEventMappings",t.mappings.event),c("config:registerSchemas",[...(null===(s=t.schemas)||void 0===s?void 0:s.namespaces)||[],...(null===(u=t.schemas)||void 0===u?void 0:u.others)||[]]),c("config:registerSiteConfig",t.siteConfig),un(t.publishers||[],(t=>{c("publishers:registerPublisher",t)}))})(On)})();