
/*@preserve
***Version 2.42.0***
*/

/*@license
 *                       Copyright 2002 - 2018 Qualtrics, LLC.
 *                                All rights reserved.
 *
 * Notice: All code, text, concepts, and other information herein (collectively, the
 * "Materials") are the sole property of Qualtrics, LLC, except to the extent
 * otherwise indicated. The Materials are proprietary to Qualtrics and are protected
 * under all applicable laws, including copyright, patent (as applicable), trade
 * secret, and contract law. Disclosure or reproduction of any Materials is strictly
 * prohibited without the express prior written consent of an authorized signatory
 * of Qualtrics. For disclosure requests, please contact notice@qualtrics.com.
 */

try {
  (window["WAFQualtricsWebpackJsonP-cloud-2.42.0"]=window["WAFQualtricsWebpackJsonP-cloud-2.42.0"]||[]).push([[7],{17:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u}));var r=[],i=function(e){var t=e;return"string"==typeof e&&(t=document.getElementById(e)),t};function o(e,t,n){try{var r=e[t];return e[t]=n(r),function(){e[t]=r}}catch(e){return function(){}}}var a=function(e,t){var n;13!==e.which&&32!==e.which||(e.preventDefault(),(n=document.querySelector('button, a[href], input, select, textarea, [tabindex]:not([tabindex="-1"])'))&&n.focus(),t())},s=function(e,t,n,i){void 0===i&&(i=!1),r=r||[],e&&(r.push({elementToObserve:e,eventName:t,eventHandler:n,preventRemove:i||!1}),e.addEventListener(t,n,!1))},c=function(e){return"string"==typeof e},u=function(e){return"object"==typeof e&&e instanceof Array}},25:function(e,t,n){"use strict";function r(e){window.QSI.dbg.e(e)}n.d(t,"a",(function(){return r}))},28:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},o=function(){function e(t,n){var o=this;this.components=e.components,this.overallLatencyStartTime=null,this.overallLatency=null,this.componentStartTimes={},this.componentLatencies={},this.componentStatuses={},this.isDuplicateScriptExecution=!1,this.setRequestId=function(e){o.requestId=e},this.startTimer=function(){o.latencyStartTime=Date.now()},this.endTimer=function(){null!==o.latencyStartTime?o.overallLatency=Date.now()-o.latencyStartTime:o.debugLog.e("Tried to log overall end time without a start time.")},this.startComponentTimer=function(e){o.componentStartTimes[e]=Date.now()},this.endComponentTimer=function(e){var t=o.componentStartTimes[e];void 0!==t?(o.componentLatencies[e]=Date.now()-t,o.debugLog.safeConsole("log","Component "+e+" loaded in "+o.componentLatencies[e]+"ms")):o.debugLog.e("Tried to log a component end time without a component start time.  Component name: "+e)},this.setComponentStatus=function(e,t){o.componentStatuses[e]=t},this.markComponentAlreadyFetched=function(t){o.componentLatencies[t]||(o.componentLatencies[t]=e.alreadyFetchedMarker)},this.markDuplicateScriptExecution=function(){o.isDuplicateScriptExecution=!0},this.getPerformanceResourceTiming=function(){try{var e={},t=0,n=window.QSI.global,r=n.baseURL,o=n.hostedJSLocation,a=window.QSI.Orchestrator.scriptSrc;if(!r||!o||!a)return null;var s=new RegExp(a.split("?")[0]),c=new RegExp(o),u=new RegExp(r),l=new RegExp(c.source+"|"+u.source+"|"+s.source);return performance.getEntriesByType("resource").filter((function(e){return e.name.match(l)})).forEach((function(n){var r=n.name.split("?")[0],o=!1,a=r.match(c),u=r.match(s)&&"script"===n.initiatorType,l=r.match(/(Asset|Targeting)\.php/);if(a)r=r.split("dxjsmodule/")[1],o=!0;else if(u)r="Orchestrator",o=!0;else{if(!l)return;r=i(l,1)[0]}var d=n.transferSize,p=n.duration,g=n.decodedBodySize,f=n.domainLookupStart,h=n.domainLookupEnd;o&&(t+=d),e[r]={transferSize:d,decodedBodySize:g,totalLatency:p,dnsLatency:h-f}})),t>0&&(e.totalJSTransfer=t),e}catch(e){return null}},this.send=function(e){try{if(null===o.overallLatency)return void o.debugLog.e("Incomplete Latency Data Provided");var t=r.a.baseURL+"Ajax.php?action=LatencyLog&"+r.a.getClientVersionQueryString(),n=o.buildLoggingData(e);QSI.util.sendHttpRequest({type:"POST",url:t,header:{"Content-type":"application/x-www-form-urlencoded"},includeCookies:!1,data:QSI.util.buildQueryString({LoggingData:JSON.stringify(n)})})}catch(e){o.debugLog.e(e)}},this.buildLoggingData=function(e){if(e&&e.length>0){var t={},n={};return e.forEach((function(e){e in o.componentLatencies&&(t[e]=o.componentLatencies[e]),e in o.componentStatuses&&(n[e]=o.componentStatuses[e])})),{MetricName:o.metricName,Latency:-1,ComponentLatencies:t,ComponentStatuses:n,AdditionalData:{RequestID:o.requestId,UserAgent:navigator.userAgent,BrandID:r.a.global.brandID,BrandDC:r.a.global.brandDC,OtherRequestIDsExecuted:[],IsDuplicateScriptExecution:!1}}}var i=[];for(var a in r.a.Request)Object.prototype.hasOwnProperty.call(r.a.Request,a)&&a!==o.requestId&&i.push(a);var s={};for(var c in o.componentLatencies)c.startsWith(o.components.SR)||(s[c]=o.componentLatencies[c]);var u={};for(var c in o.componentStatuses)c.startsWith(o.components.SR)||(u[c]=o.componentStatuses[c]);var l={MetricName:o.metricName,Latency:o.overallLatency,ComponentLatencies:s,ComponentStatuses:u,AdditionalData:{RequestID:o.requestId,UserAgent:navigator.userAgent,BrandID:r.a.global.brandID,BrandDC:r.a.global.brandDC,OtherRequestIDsExecuted:i,IsDuplicateScriptExecution:o.isDuplicateScriptExecution}},d=o.getPerformanceResourceTiming();return d&&Object.keys(d).length&&(l.PerformanceResourceTiming=d),l},this.sampledSend=function(e){try{Math.random()<=e/100&&o.send()}catch(e){o.debugLog.e(e)}},this.sampledComponentSend=function(e,t){try{Math.random()<=e/100&&o.send(t)}catch(e){o.debugLog.e(e)}},this.debugLog=t,this.metricName=null!=n?n:"si.SILatency"}return e.alreadyFetchedMarker="ALREADY_FETCHED",e.components={CORE_MODULE:"coreModuleRequest",TARGETING:"targetingRequest",DPR_TARGETING:"dprTargetingRequest",XMD_DEBUG_TARGETING:"xmdDebugTargetingRequest",ASSETS_AND_MODULES:"allAssetDefinitionsAndJSModules",CONTACT_FREQUENCY:"contactFrequencyCheck",SR:"sessionReplayRequest"},e}()},29:function(e,t,n){"use strict";var r,i;n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),function(e){e.ISOLATION_ERROR="ISOLATION_ERROR",e.NOT_ISOLATED="NOT_ISOLATED",e.ISOLATED_V1="ISOLATED_V1"}(r||(r={})),function(e){e.NOT_ISOLATED="not_isolated",e.ISOLATED_V1="isolated_v1"}(i||(i={}));var o,a,s;!function(e){e.IPAddress="IPAddress"}(o||(o={})),function(e){e.StartingUrl="StartingUrl",e.Device="Device",e.UserAgent="UserAgent",e.Referrer="Referrer",e.ValidatedIdentifierRules="ValidatedIdentifierRules",e.ZoneIdentifierRules="ZoneIdentifierRules",e.ExtRefId="ExtRefId",e.Email="Email",e.Phone="Phone",e.ContactEmbeddedData="ContactEmbeddedData",e.DirectoryId="DirectoryId",e.ScreenResolutionWidth="ScreenResolutionWidth",e.ScreenResolutionHeight="ScreenResolutionHeight",e.BrowserWidth="BrowserWidth",e.BrowserHeight="BrowserHeight",e.Browser="Browser",e.OS="OperatingSystem",e.Country="Country"}(a||(a={})),function(e){e.RageClick="RageClick",e.MouseThrash="MouseThrash",e.DeadClick="DeadClick",e.ErrorClick="ErrorClick"}(s||(s={}))},3:function(e,t,n){"use strict";n.r(t);n(49),n(50),n(51),n(52);var r=n(17),i=function(){var e=this;this.trackElements=function(){if(0==e.loaded){e.loadCounts();var t=window.QSI,n=t.dbg,i=t.global.eventTrackers;Object.keys(i).forEach((function(t){var n=i[t];e.trackElement(n,t)})),Object(r.d)(window,"beforeunload",(function(){try{e.storeCounts()}catch(e){void 0!==window.QSI&&n&&n.e&&n.e(e)}})),Object(r.d)(window,"pagehide",(function(){try{e.storeCounts()}catch(e){void 0!==window.QSI&&n&&n.e&&n.e(e)}})),e.loaded=!0}},this.trackElement=function(t,n){var i=window.QSI.dbg,o=Object(r.a)(t);o&&Object(r.d)(o,"click",(function(){try{e.track(n)}catch(e){void 0!==window.QSI&&i&&i.e&&i.e(e)}}))},this.track=function(t){e.clicked=!0,e.counts[t]?e.counts[t]++:e.counts[t]=1},this.storeCounts=function(){if(!0===e.clicked){var t=window.QSI.cookie,n=JSON.stringify(e.counts);t.set(e.cookieName,n)}},this.loadCounts=function(){var t=window.QSI.cookie.get(e.cookieName);t&&(e.counts=JSON.parse(t))},this.get=function(t){return e.counts[t]?e.counts[t]:0},this.incrementEventList=function(){if("_qsie"in window&&Object(r.b)(window._qsie))for(var t=0,n=window._qsie.length;t<n;t++){var i=window._qsie[t];Object(r.c)(i)&&e.track(i)}},this.counts={},this.cookieName="QSI_CT",this.loaded=!1,this.clicked=!1},o=n(34),a=n(28),s=function(){var e=this;this.isFullDbgInitialized=-1!==window.location.href.indexOf("Q_DEBUG"),this.safeConsole=function(t,n){if(e.isFullDbgInitialized)try{console[t]("Qualtrics: "+n)}catch(e){}},this.enableFullDebug=function(){e.isFullDbgInitialized=!0},this.disableFullDebug=function(){e.isFullDbgInitialized=!1},this.log=function(e,t,n){var r=window.QSI,i=r.ClientLog,o=r.global;i&&(o.featureFlags.isClientLoggingEnabled?i.send(e,t,n):i.sampledSend(e,t,n,.02))},this.alwaysLog=function(e,t,n){var r=window.QSI.ClientLog;r&&r.send(e,t,n)},this.c=function(t){e.safeConsole("log",t),e.log(t)},this.d=function(t){e.safeConsole("dir",t),e.log(t)},this.t=function(t){e.safeConsole("trace",t),e.log(t)},this.e=function(t){e.safeConsole("log",t&&t.message||"error"),e.safeConsole("error",t),e.log(t)},this.es=function(t){e.safeConsole("log",t&&t.message||"error"),e.safeConsole("error",t),e.alwaysLog(t)}},c=function(){function e(){}return e.prototype.send=function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n="error");try{var r=window.QSI,i=r.baseURL+"Ajax.php?action=ClientLog&"+(0,r.getClientVersionQueryString)(),o=window.QSI.reqID,a="";for(var s in o)o[s]&&(a+=s+" ");t&&e.stack&&(e=e.stack);var c=navigator.userAgent,u=window.QSI.global.brandID,l=void 0===u?"unknown":u,d={LevelName:n,Message:"requestId: "+a+"\n currentURL: "+location.origin+"\n userAgent: "+c+"\n brandID: "+l+"\n message: "+e};QSI.util.sendHttpRequest({type:"POST",url:i,header:{"Content-type":"application/x-www-form-urlencoded"},includeCookies:!1,data:QSI.util.buildQueryString(d)})}catch(e){window.QSI.isDebug&&console.log(e)}},e.prototype.sampledSend=function(e,t,n,r){Math.random()<=r/100&&this.send(e,t,n)},e}(),u=n(38),l=function(){function e(){this.storageCache={},this.cookieName="QSI_DATA",this.refreshFromCookie()}return e.prototype.refreshFromCookie=function(){try{var e=window.QSI.cookie.get(this.cookieName);e&&(this.storageCache=JSON.parse(e))}catch(e){this.storageCache={}}},e.prototype.setToCookie=function(){try{window.QSI.cookie.set(this.cookieName,JSON.stringify(this.storageCache))}catch(e){}},e.prototype.setItem=function(e,t){this.storageCache[e]=t,this.setToCookie()},e.prototype.getItem=function(e){return this.storageCache[e]||null},e.prototype.removeItem=function(e){delete this.storageCache[e],this.setToCookie()},e.prototype.reload=function(){this.refreshFromCookie()},e.prototype.clear=function(){this.storageCache={},this.setToCookie()},e}(),d=n(36),p=function(){function e(){}return e.prototype.increment=function(e){try{window.QSI.EventTracker.track(e)}catch(e){window.QSI.dbg.e(e)}},e.prototype.count=function(e){try{return window.QSI.EventTracker.get(e)}catch(e){window.QSI.dbg.e(e)}},e.prototype.push=function(e){try{window.QSI.EventTracker.track(e)}catch(e){window.QSI.dbg.e(e)}},e}(),g=function(){return(g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},f=["close"],h=function(){function e(e,t){var n=this;this.intercept=e,this.evaluation=t,this.events=f.reduce((function(e,t){return e[t]={counter:0,callbacks:{}},e}),{}),this.addCallbackForEvent=function(e,t){var r=n.events[e],i=String(r.counter++);return r.callbacks[i]=t,function(){r.callbacks[i]&&delete r.callbacks[i]}},this.runCallbacksForEvent=function(e){var t=n.events[e];Object.keys(t.callbacks).forEach((function(e){t.callbacks[e]()}))},this.onClose=function(e){return window.QSI.callbacks[n.id].onClose=function(){n.runCallbacksForEvent("close")},n.addCallbackForEvent("close",e)},this.getEvaluationResult=function(){var e={passed:!1};if(n.evaluation&&n.evaluation.Decision&&n.evaluation.Decision.ActionSetID){var t=n.evaluation.Decision.Target.Type;if(e.passed=!0,e=g(g({},e),{targetType:t,targetValue:n.evaluation.Decision.Target.URL}),n.evaluation.Decision.Creative){var r=n.evaluation.Decision.Creative;e=g(g({},e),{creative:{id:r.ID,name:r.Name,type:r.Type,revision:r.Revision}})}}return e},window.QSI.callbacks=window.QSI.callbacks||{},window.QSI.callbacks[this.id]=window.QSI.callbacks[this.id]||{}}return Object.defineProperty(e.prototype,"name",{get:function(){return this.intercept.Name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.intercept.InterceptID},enumerable:!1,configurable:!0}),e.instanceCache={},e.getInstance=function(t,n){var r=t.InterceptID;return e.instanceCache[r]||(e.instanceCache[r]=new e(t,n)),e.instanceCache[r]},e.clearInstanceCache=function(){delete e.instanceCache,e.instanceCache={}},e}(),S=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},I=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},w=function(){var e=this;this.start=function(){return S(e,void 0,void 0,(function(){var e,t,r,i,o,a=this;return I(this,(function(s){switch(s.label){case 0:e=function(e){},t=function(e){},r=new Promise((function(n,r){e=n,t=r})),s.label=1;case 1:if(s.trys.push([1,3,,4]),this.isStarting||window.QSI.SR)throw i=new Error("SessionRecording is already initializing"),window.QSI.dbg.e(i),i;if(!window.QSI.SRGlobalConfiguration)throw i=new Error("SessionRecording config not found"),window.QSI.dbg.e(i),i;return this.isStarting=!0,[4,n.e(12).then(n.bind(null,80)).then((function(n){(0,n.initSR)({brandId:window.QSI.SRGlobalConfiguration.brandId,zoneId:window.QSI.SRGlobalConfiguration.zoneId,brandDc:window.QSI.SRGlobalConfiguration.brandDc,srBaseUrl:window.QSI.SRGlobalConfiguration.srBaseUrl,cookieDomain:window.QSI.SRGlobalConfiguration.cookieDomain,configuration:window.QSI.SRGlobalConfiguration.configuration,brandBaseUrl:window.QSI.SRGlobalConfiguration.brandBaseUrl,latencyLog:window.QSI.LatencyLog,isolationStatus:window.QSI.SRGlobalConfiguration.isolationStatus,errorCallback:window.QSI.dbg.e,resolveSessionStartCallback:e,rejectSessionStartCallback:t})}))];case 2:return s.sent(),[3,4];case 3:return o=s.sent(),t(o.message),[3,4];case 4:return[2,r.finally((function(){a.isStarting=!1,window.QSI.dbg.c("DXJSAPIEvents: QSI.API.SessionRecording.start")}))]}}))}))},this.stop=function(){return S(e,void 0,void 0,(function(){var e;return I(this,(function(t){if(!window.QSI.SR)throw e=new Error("SessionRecording is not initialized"),window.QSI.dbg.e(e),e;return[2,window.QSI.SR.persistEventsAndCloseSession().then((function(e){return e})).finally((function(){window.QSI.dbg.c("DXJSAPIEvents: QSI.API.SessionRecording.stop"),window.QSI.SR=void 0}))]}))}))},this.pause=function(){return S(e,void 0,void 0,(function(){var e;return I(this,(function(t){if(!window.QSI.SR)throw e=new Error("SessionRecording is not initialized"),window.QSI.dbg.e(e),e;return window.QSI.SR.detachEventListeners(),[2,window.QSI.SR.persistEventsAndPauseSession().then((function(e){return e})).finally((function(){window.QSI.dbg.c("DXJSAPIEvents: QSI.API.SessionRecording.pause"),window.QSI.SR=void 0}))]}))}))},this.isStarting=!1},v=function(){return(v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},y=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},b=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},m=function(){function e(){var e=this;this.unloading=!1,this.Events=new p,this.SessionRecording=new w,this.load=function(){try{var t=window.QSI.Orchestrator.Deferred(),n=t.promise();return window.QSI.PendingQueue||(window.QSI.PendingQueue=[]),window.QSI.LoadingState&&window.QSI.LoadingState.length>0?window.QSI.PendingQueue.push(e.loadHelper.bind(e,t)):e.loadHelper.bind(e,t)(),n}catch(e){window.QSI.dbg.e(e)}finally{window.QSI.dbg.c("DXJSAPIEvents: QSI.API.load()")}},this.unloadForSPA=function(t){window.QSI.global.featureFlags["DX.DXA_Auto_SPA"]&&t&&window.QSI.API.SessionRecording.pause(),e.unloadBase(!0)},this.unload=function(){e.unloadBase(!1)},this.unloadBase=function(t){void 0===t&&(t=!1),window.QSI.DataLayerHelper=void 0,window.QSI.InterceptReevaluator=new d.a;try{if(window.QSI.PendingQueue||(window.QSI.PendingQueue=[]),window.QSI.LoadingState&&window.QSI.LoadingState.length>0)return void(t?window.QSI.PendingQueue.push(window.QSI.API.unloadForSPA):window.QSI.PendingQueue.push(window.QSI.API.unload));if(e.unloading=!0,window.QSI.SR&&!t){window.QSI.API.SessionRecording.pause();var n=document.getElementById("QSI_TestSessionToolbar");n&&n.parentNode&&n.parentNode.removeChild(n)}if(window.QSI.reg&&(window.QSI.util.forOwn(window.QSI.reg,(function(e,t){window.QSI.reg[t].remove()})),window.QSI.util.removeObservers(),window.QSI.util.removeTimeouts()),window.QSI.debug&&(window.QSI.util.remove(window.QSI.util.$("QSI_Debug")),window.QSI.debuggerHasDisplayed=!1),window.QSI.styleElements)for(var r=window.QSI.styleElements,i=0;i<r.length;i++)window.QSI.util.remove(r[i]);window.QSI.reg=void 0,window.QSI.Request=void 0,window.QSI.styleElements=void 0,window.QSI.callbacks=void 0,window.QSI.runOptions=void 0,h.clearInstanceCache(),e.unloading=!1}catch(e){window.QSI.dbg.e(e)}finally{window.QSI.dbg.c("DXJSAPIEvents: QSI.API.unload() invoked via "+(t?"SPA":"API"))}},this.run=function(t){try{if(window.QSI.PendingQueue||(window.QSI.PendingQueue=[]),window.QSI.LoadingState&&window.QSI.LoadingState.length>0)return void window.QSI.PendingQueue.push((function(){window.QSI.API.run(t)}));window.QSI.InterceptsRan||void 0===window.QSI.reg||(window.QSI.runOptions=t,e.shouldRunWithOptions(t)?(e.prepareForEvaluationWithOptions(),window.QSI.InterceptReevaluator.debouncedEvaluateAndRun()):window.QSI.RunIntercepts(null,!0))}catch(e){window.QSI.dbg.e(e)}finally{window.QSI.dbg.c("DXJSAPIEvents: QSI.API.run()")}},this.prepareForEvaluationWithOptions=function(){var e,t;try{for(var n=y(Object.entries(window.QSI.Request)),r=n.next();!r.done;r=n.next()){var i=b(r.value,2);i[0];i[1].Intercepts={}}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}window.QSI.InterceptReevaluator.resetInterceptHasRun(),window.QSI.InterceptReevaluator.resetEvaluationResults()},this.shouldRunWithOptions=function(e){var t=null==e?void 0:e.jsExpressionValues;return t&&"object"==typeof t&&Object.keys(t).length>0},this.getIntercept=function(e){return new Promise((function(e,t){try{window.QSI.PendingQueue||(window.QSI.PendingQueue=[]),window.QSI.LoadingState&&window.QSI.LoadingState.length>0?window.QSI.PendingQueue.push((function(){e()})):e()}catch(e){t(e)}})).then((function(){var t=b(window.QSI.Orchestrator.getInterceptFromSiResponse(e),2),n=t[0],r=t[1];if(!n)throw e+" is not a valid Intercept ID";return h.getInstance(v({},n),r?v({},r):null)})).catch((function(e){throw window.QSI.dbg.e(e),e})).finally((function(){window.QSI.dbg.log("DXJSAPIEvents: QSI.API.getIntercept()",!1,"info")}))}}return e.prototype.loadHelper=function(e){try{if(window.QSI.reg||this.unloading)return void e.reject();void 0===window.QSI.reg&&(window.QSI.reg={}),void 0===window.QSI.ed&&(window.QSI.ed={}),void 0===window.QSI.reqID&&(window.QSI.reqID={}),void 0===window.QSI.Request&&(window.QSI.Request={}),void 0===window.QSI.styleElements&&(window.QSI.styleElements=[]),window.QSI.util.forOwn(window.QSI.reqID,(function(t,n){var r={loadingFromAPI:!0};r.id=n,"Editing"===window.QSI.version&&(r.version="0"),void 0!==window.QSI.global.clientVersion&&null!==window.QSI.global.clientVersion&&(r.Q_CLIENTVERSION=window.QSI.global.clientVersion),void 0!==window.QSI.global.clientType&&null!==window.QSI.global.clientType&&(r.Q_CLIENTTYPE=window.QSI.global.clientType,void 0!==window.QSI.clientTypeVariant&&(r.Q_CLIENTTYPE+=window.QSI.clientTypeVariant)),0===n.search(/ZN/)?r.ZoneID=n:r.InterceptID=n,window.QSI.isDebug&&(r.Q_DEBUG=null),r.deferred=e,window.QSI.Orchestrator.load(r,!1)}))}catch(e){window.QSI.dbg.e(e)}},e}();function R(e){var t=new s;window.QSI&&window.QSI.closelyLoadedMultiZoneInfo&&(t.c("Multiple zone detected with info "+window.QSI.closelyLoadedMultiZoneInfo),window.QSI.closelyLoadedMultiZoneInfo=void 0);var n=new a.a(t);window.QSI.API=window.QSI.API||new m,window.QSI.ClientLog=new c,window.QSI.dbg=t,window.QSI.LatencyLog=n,window.QSI.EventTracker=new i,window.QSI.cookie=new u.a,window.QSI.CookieStorage=new l,window.QSI.Orchestrator=new o.a,window.QSI.Orchestrator.init(n,t,e)}n.d(t,"initialize",(function(){return R}))},34:function(e,t,n){"use strict";var r,i,o,a,s,c,u=n(29),l=!1,d=function(){function e(e){if(!l&&e.push){l=!0;var t=e.push;e.push=function(){for(var e,n,r,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=t.apply(this,i);if(window.QSI&&(null===(n=null===(e=window.QSI)||void 0===e?void 0:e.InterceptReevaluator)||void 0===n?void 0:n.isActive())&&window.QSI.DataLayerHelper)try{window.QSI.InterceptReevaluator.debouncedEvaluate()}catch(e){null===(r=window.QSI.dbg)||void 0===r||r.e(e)}return a}}}return e.prototype.get=function(e,t){void 0===t&&(t=function(){return null});try{var n=window.QSI.config.gtmContainerID;if(!n)throw new Error("Data layer value retrieval failed because of missing Google Tag Manager container id");if(!window.google_tag_manager[n])throw new Error("Google Tag Manager container with id '"+n+"' does not exist");return window.google_tag_manager[n].dataLayer.get(e)}catch(e){return t()}},e}(),p=function(){var e;if(window.QSI.DataLayerHelper)return window.QSI.InterceptReevaluator.isActive()||window.QSI.InterceptReevaluator.activate(),window.QSI.DataLayerHelper;var t=window.QSI.config.gtmContainerID;if(!t)throw new Error("Google Tag Manager container ID was not provided and is needed for the Qualtrics data layer integration");var n=null===(e=window.google_tag_manager)||void 0===e?void 0:e[t];if(!n)throw new Error("Google Tag Manager container '"+t+"' does not exist");var r=n.dataLayer.name;if(!r)throw new Error("Google Tag Manager container '"+t+"' does not have a data layer name");var i=window[r];if(!i)throw new Error("Data layer '"+r+"' does not exist on window");return window.QSI.DataLayerHelper=new d(i),window.QSI.InterceptReevaluator.isActive()||window.QSI.InterceptReevaluator.activate(),window.QSI.DataLayerHelper},g=n(36),f=function(){function e(e,t,n){this.retryerName=e,this.retryLimit=t,this.retryBackoff=n,this.retryCount=0}return e.prototype.backOffAndRetry=function(e){this.retryCount<this.retryLimit?(this.retryCount++,setTimeout(e,this.retryBackoff)):window.QSI.dbg.es("Retryer for "+this.retryerName+" - Exceeded retry limit of "+this.retryLimit+"; No longer retrying")},e.prototype.getRetryCount=function(){return this.retryCount},e.prototype.resetRetryCount=function(){this.retryCount=0},e}(),h=n(28),S=n(0);!function(e){e.AND="AND",e.OR="OR"}(r||(r={})),function(e){e.EQ="EQ",e.NEQ="NEQ",e.GT="GT",e.GTE="GTE",e.LT="LT",e.LTE="LTE",e.IS_EMPTY="IS_EMPTY",e.NOT_EMPTY="NOT_EMPTY",e.CONTAINS="CONTAINS",e.NOT_CONTAINS="NOT_CONTAINS",e.STARTS_WITH="STARTS_WITH",e.REGEX="REGEX",e.HAS_BEEN_TAKEN="HAS_BEEN_TAKEN",e.HAS_NOT_BEEN_TAKEN="HAS_NOT_BEEN_TAKEN",e.HAS_BEEN_SEEN="HAS_BEEN_SEEN",e.HAS_NOT_BEEN_SEEN="HAS_NOT_BEEN_SEEN",e.SAMPLING="SAMPLING"}(i||(i={})),function(e){e.VALUE_NODE="ValueNode",e.COMPARATOR_NODE="ComparatorNode",e.DEBUG_COMPARATOR_NODE="DebugComparatorNode",e.CONJUNCTION_NODE="ConjunctionNode",e.LOGIC_NODE="LogicNode",e.FAILURE_NODE="FailureNode"}(o||(o={})),function(e){e.ACTION_SET_LOGIC="ActionSetLogic",e.ADOBE_ANALYTICS="AdobeAnalyticsVariable",e.COOKIE="Cookie",e.EVENT_TRACKING="EventTracking",e.HTML_ON_SITE="HtmlOnSite",e.SITE_HISTORY="SiteHistory",e.INTERCEPT_LOGIC="InterceptLogic",e.INTERCEPT_LOGIC_ANY="InterceptLogicAny",e.INTERCEPT_LOGIC_NONE="InterceptLogicNone",e.JAVASCRIPT_EXPRESSION="JavaScriptExpression",e.PAGE_COUNT="PageCount",e.REFERRER="Referrer",e.RESOLUTION="Resolution",e.SEARCH_TERM="SearchTerm",e.TIME_ON_SITE="TimeOnSite",e.DATE_TIME_LOGIC="DateTime",e.BROWSER="Browser",e.DEVICE_TYPE="DeviceType",e.SAMPLING="Sampling",e.CURRENT_URL="CurrentUrl",e.QUERY_PARAM="QueryParameter",e.LOCATION="Location",e.IP_ADDRESS="IpAddress",e.USER_AGENT="UserAgent",e.QUALTRICS_SURVEY="QualtricsSurvey",e.SEGMENTATION="Segmentation",e.GOOGLE_DATA_LAYER="GoogleDataLayer",e.RAGE_CLICK="RageClick",e.MOUSE_THRASH="MouseThrash",e.ERROR_CLICK="ErrorClick",e.DEAD_CLICK="DeadClick"}(a||(a={})),function(e){e.ACTION_SET_LOGIC="ActionSetLogic",e.ADOBE_ANALYTICS="AdobeAnalyticsVariable",e.COOKIE="Cookie",e.EVENT_TRACKING="EventTracking",e.HTML_ON_SITE="HtmlOnSite",e.SITE_HISTORY="SiteHistory",e.INTERCEPT_LOGIC="InterceptLogic",e.INTERCEPT_LOGIC_ANY="InterceptLogicAny",e.INTERCEPT_LOGIC_NONE="InterceptLogicNone",e.JAVASCRIPT_EXPRESSION="JavaScriptExpression",e.PAGE_COUNT="PageCount",e.REFERRER="Referrer",e.RESOLUTION="Resolution",e.SEARCH_TERM="SearchTerm",e.TIME_ON_SITE="TimeOnSite",e.DATE_TIME_LOGIC="DateTime",e.GOOGLE_DATA_LAYER="GoogleDataLayer",e.RAGE_CLICK="RageClick",e.MOUSE_THRASH="MouseThrash",e.ERROR_CLICK="ErrorClick",e.DEAD_CLICK="DeadClick"}(s||(s={})),function(e){e.ANY="Any",e.FIRST="First",e.LAST="Last",e.ONLY="Only"}(c||(c={}));var I=n(26),w=n(48),v=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},y=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},b=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},m=function(e,t,n,r,i){var o=this;this.scZIndex=window.QSI.global.currentZIndex++,this.isScreenCaptureCancelled=!1,this.scCapturingScreen=null,this.scScreen=null,this.screenCaptureAnnotationsMap={},this.defaultTimeout=1e4,this.DX_SCREEN_CAPTURE_API_PATH=window.QSI.global.brandBaseUrl+"/dx-screencapture",this.currentController=null,this.QSI=window.QSI,this.elementsToRestoreAfterScreenshot=[],this.alreadyProcessedBlobUrls=new Map,this.screenCaptureTimeout=this.QSI.overrides.screenCaptureTimeout?this.QSI.overrides.screenCaptureTimeout:this.defaultTimeout,this.decompressPng=function(e){return"data:image/jpeg;base64,"+e},this.compressEvents=function(e){return(new w.a).encode(e)},this.captureScreen=function(e){return v(o,void 0,void 0,(function(){var t,n,r,i,o,a,s,c,u,l,d,p,g,f,h,S,I,w=this;return y(this,(function(v){switch(v.label){case 0:this.currentController&&this.currentController.abort(),this.currentController=new AbortController,t=null,n=null,v.label=1;case 1:return v.trys.push([1,6,7,8]),this.setInterceptVisibilty("hidden"),t=window.setTimeout((function(){return w.currentController.abort()}),this.screenCaptureTimeout),[4,this.findAndReplaceBlobs()];case 2:return n=v.sent(),[4,this.takeDOMSnapshotAndSerialize()];case 3:return r=v.sent(),n&&(n(),n=null),this.showCapturingScreen(),i=this.compressEvents(r),o={viewport:{width:window.innerWidth,height:window.innerHeight},resolutionRatio:1},a={serializedDOM:i,config:o},[4,fetch(this.DX_SCREEN_CAPTURE_API_PATH,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a),mode:"cors",signal:this.currentController.signal})];case 4:if(s=v.sent(),this.currentController.signal.aborted)return[2];if(!s.ok)throw new Error("HTTP "+s.status);return[4,s.json()];case 5:return c=v.sent().imageData,this.currentController.signal.aborted?[2]:(u=this.decompressPng(c),this.succeededScreenCapture(e,u,this.translations),[3,8]);case 6:if(l=v.sent(),this.isScreenCaptureCancelled)return this.isScreenCaptureCancelled=!1,[2];if(n){try{n()}catch(e){null===(f=null===(g=this.QSI.dbg)||void 0===g?void 0:g.e)||void 0===f||f.call(g,"Failed to restore blob URLs: "+e)}n=null}return"AbortError"===(null==l?void 0:l.name)?(null!==t&&clearTimeout(t),d="Screen capture request timed out after "+this.screenCaptureTimeout+"ms",this.failedScreenCapture(d,this.translations),[2,l]):(p="Screen capture failed: "+(null!==(h=null==l?void 0:l.message)&&void 0!==h?h:l),this.failedScreenCapture(p,this.translations),[2,l]);case 7:if(n)try{n()}catch(e){null===(I=null===(S=this.QSI.dbg)||void 0===S?void 0:S.e)||void 0===I||I.call(S,"Failed to restore blob URLs in finally: "+e)}return null!==t&&clearTimeout(t),[7];case 8:return[2]}}))}))},this.transformBlobUrlToDataUrl=function(e){return v(o,void 0,void 0,(function(){var t,n,r,i;return y(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,fetch(e)];case 1:return[4,o.sent().blob()];case 2:return t=o.sent(),[2,new Promise((function(e,n){var r=new FileReader;r.onloadend=function(){return e(r.result)},r.onerror=n,r.readAsDataURL(t)}))];case 3:return n=o.sent(),null===(i=null===(r=this.QSI.dbg)||void 0===r?void 0:r.e)||void 0===i||i.call(r,"Failed to convert blob URL to data URL: "+n),[2,e];case 4:return[2]}}))}))},this.extractBlobUrl=function(e){var t=e.replace(/&quot;/g,'"').replace(/&#34;/g,'"').match(/blob:(?:https?:\/\/[^\s"')]+|[^\s"')]+)/);return t?t[0]:null},this.processBlobImg=function(){return v(o,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,c,u;return y(this,(function(l){switch(l.label){case 0:e=document.querySelectorAll("img"),l.label=1;case 1:l.trys.push([1,7,8,9]),t=b(Array.from(e)),n=t.next(),l.label=2;case 2:return n.done?[3,6]:(r=n.value,(o=(i=r).src)&&o.startsWith("blob:")?(this.elementsToRestoreAfterScreenshot.push({element:i,property:"src",originalValue:o}),(a=this.alreadyProcessedBlobUrls.get(o))?[3,4]:[4,this.transformBlobUrlToDataUrl(o)]):[3,5]);case 3:a=l.sent(),this.alreadyProcessedBlobUrls.set(o,a),l.label=4;case 4:i.src=a,l.label=5;case 5:return n=t.next(),[3,2];case 6:return[3,9];case 7:return s=l.sent(),c={error:s},[3,9];case 8:try{n&&!n.done&&(u=t.return)&&u.call(t)}finally{if(c)throw c.error}return[7];case 9:return[2]}}))}))},this.processBlobStyles=function(){return v(o,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,c,u,l,d,p;return y(this,(function(g){switch(g.label){case 0:e=document.querySelectorAll("*"),g.label=1;case 1:g.trys.push([1,7,8,9]),t=b(Array.from(e)),n=t.next(),g.label=2;case 2:return n.done?[3,6]:(r=n.value,i=r,o=window.getComputedStyle(i),(a=o.backgroundImage)&&"none"!==a&&a.includes("blob:")&&(s=this.extractBlobUrl(a))?(c=i.style.backgroundImage||"",this.elementsToRestoreAfterScreenshot.push({element:i,property:"backgroundImage",originalValue:c}),(u=this.alreadyProcessedBlobUrls.get(s))?[3,4]:[4,this.transformBlobUrlToDataUrl(s)]):[3,5]);case 3:u=g.sent(),this.alreadyProcessedBlobUrls.set(s,u),g.label=4;case 4:i.style.backgroundImage='url("'+u+'")',g.label=5;case 5:return n=t.next(),[3,2];case 6:return[3,9];case 7:return l=g.sent(),d={error:l},[3,9];case 8:try{n&&!n.done&&(p=t.return)&&p.call(t)}finally{if(d)throw d.error}return[7];case 9:return[2]}}))}))},this.findAndReplaceBlobs=function(){return v(o,void 0,void 0,(function(){var e=this;return y(this,(function(t){switch(t.label){case 0:return[4,this.processBlobImg()];case 1:return t.sent(),[4,this.processBlobStyles()];case 2:return t.sent(),[2,function(){var t,n;try{for(var r=b(e.elementsToRestoreAfterScreenshot),i=r.next();!i.done;i=r.next()){var o=i.value,a=o.element,s=o.property,c=o.originalValue;"src"===s?a.src=c:"backgroundImage"===s&&(a.style.backgroundImage=c||"")}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}]}}))}))},this.takeDOMSnapshotAndSerialize=function(){return v(o,void 0,void 0,(function(){var e,t=this;return y(this,(function(n){return e=[],[2,new Promise((function(n,r){var i=!1,o=function(){};try{o=Object(I.record)({emit:function(t){e.push(t)},maskAllInputs:!0,blockSelector:"",maskTextSelector:""}),setTimeout((function(){i||(i=!0,o(),n(e))}),100)}catch(e){return void r(e)}setTimeout((function(){var e,n;if(!i){i=!0;try{o()}catch(r){null===(n=null===(e=t.QSI.dbg)||void 0===e?void 0:e.e)||void 0===n||n.call(e,r)}t.failedScreenCapture("Failed to capture serialized DOM",t.translations),r(new Error("Failed to capture serialized DOM"))}}),t.screenCaptureTimeout)}))]}))}))},this.createCapturingScreen=function(e){var t=o.QSI.util.build("div",{"data-qsi-sc-class":"qsi_sc_backdrop",style:{width:"100%",height:"100%",backgroundColor:"black",opacity:"0.7",filter:"alpha(opacity=70)",position:"fixed",top:"0px",left:"0px",zIndex:""+(o.scZIndex-1)}},[]),n=o.QSI.util.build("img",{"data-qsi-sc-class":"qsi_sc_loading_icon",src:o.QSI.baseURL+"../WRQualtricsShared/Graphics/siteintercept/building_preview.gif",style:{width:"100px"},alt:""},[]),r=o.QSI.util.build("img",{"data-qsi-sc-class":"qsi_sc_cancel_capture_button",src:o.QSI.baseURL+"../WRQualtricsShared/Graphics/siteintercept/remove_screen_capture.png",title:"Cancel Capturing Screen",style:{webkitFilter:"brightness(0) invert(1)",filter:"brightness(0) invert(1)",display:"block",width:"15px",height:"15px",marginLeft:"100px",cursor:"pointer"},alt:"Cancel"},[]);o.isScreenCaptureCancelled=!1,o.QSI.util.observe(r,"click",(function(){try{o.currentController&&(o.currentController.abort(),o.isScreenCaptureCancelled=!0),o.hideCapturingScreen()}catch(e){void 0!==o.QSI&&o.QSI.dbg&&o.QSI.dbg.e&&o.QSI.dbg.e(e)}}));var i=o.QSI.util.build("div",{"data-qsi-sc-class":"qsi_sc_building_preview_text",style:{color:"white"}},[]);i.innerText=e.ScreenCaptureBuilding||"Building Preview ...";var a=window.innerWidth,s=window.innerHeight;o.scCapturingScreen=o.QSI.util.build("div",{"data-qsi-sc-class":"qsi_sc_capturing_screen",style:{position:"fixed",top:s/2+"px",left:a/2+"px",marginTop:"-50px",marginLeft:"-50px",zIndex:""+o.scZIndex}},[r,n,i]),o.scScreen=o.QSI.util.build("div",{className:"QSI_ScreenCapture",style:{visibility:"hidden"}},[t,o.scCapturingScreen]),document.body.appendChild(o.scScreen)},this.showCapturingScreen=function(){o.setInterceptVisibilty("hidden"),o.scScreen.style.visibility="visible"},this.hideCapturingScreen=function(){o.setInterceptVisibilty("visible"),o.scScreen.style.visibility="hidden"},this.setInterceptVisibilty=function(e){if(o.intercept.container?o.intercept.container.style.visibility=e:o.intercept.link&&"FeedbackLink"===o.intercept.type?o.intercept.link.style.visibility=e:o.intercept.bar?o.intercept.bar.style.visibility=e:o.intercept.setVisibility&&o.intercept.setVisibility(e),o.intercept.embeddedWindows)for(var t=0;t<o.intercept.embeddedWindows.length;t++)o.intercept.embeddedWindows[t].container.style.visibility=e},this.editAnnotations=function(e){o.screenCaptureAnnotationsMap&&o.screenCaptureAnnotationsMap[e]&&o.screenCaptureAnnotationsMap[e].showAnnotationsArea()},this.succeededScreenCapture=function(e,t,n){o.scScreen.style.visibility="hidden",o.screenCaptureAnnotationsMap||(o.screenCaptureAnnotationsMap={}),o.screenCaptureAnnotationsMap[e]=new o.QSI.ScreenCaptureAnnotations(o,e,t,n||{})},this.saveScreenCapture=function(e,t){o.setInterceptVisibilty("visible");var n={event:"saveScreenCapture",from:"SI",to:"JFE",sessionId:o.surveySessionId,questionId:e,imageData:t};o.sendMessageToSurvey(n)},this.failedScreenCapture=function(e,t){o.QSI.dbg.e(e),o.scScreen.style.visibility="visible",o.scCapturingScreen.style.visibility="hidden";var n=o.QSI.util.build("p",{"data-qsi-sc-class":"qsi_sc_failure_message",style:{textAlign:"left",width:"150px",fontSize:"13px",lineHeight:"18px",marginTop:"5px",marginBottom:"10px"}},[]);n.innerText=t.ScreenCaptureBuildingFailed||"Sorry, we couldn't create a screenshot. Please try again later.";var r=o.QSI.util.build("img",{"data-qsi-sc-class":"qsi_sc_failure_icon",src:o.QSI.baseURL+"../WRQualtricsShared/Graphics/siteintercept/error_icon.png",style:{display:"inline-block",verticalAlign:"top",height:"30px",width:"30px",marginTop:"7px"},alt:"Error"},[]),i=o.QSI.util.build("p",{"data-qsi-sc-class":"qsi_sc_failure_confirm",style:{display:"table-cell",verticalAlign:"middle",backgroundColor:"#1cb06f",color:"white",width:"100px",height:"30px",borderRadius:"5px",fontSize:"13px",cursor:"pointer"}},[]);i.innerText=t.ScreenCaptureOK||"OK";var a=o.QSI.util.build("div",{"data-qsi-sc-class":"qsi_sc_failure_message_container",style:{display:"inline-block",marginLeft:"15px"}},[n,i]),s=o.QSI.util.build("div",{"data-qsi-sc-class":"qsi_sc_failure_popover",style:{position:"fixed",top:"50%",left:"50%",marginTop:"-55px",marginLeft:"-110px",width:"220px",height:"110px",textAlign:"center",fontFamily:"Arial",borderRadius:"3px",background:"rgba(255, 255, 255, 0.95)",zIndex:""+o.scZIndex}},[r,a]);o.QSI.util.observe(i,"click",(function(){try{window.QSI.util.remove(s),o.scCapturingScreen.style.visibility="inherit",o.hideCapturingScreen()}catch(e){void 0!==o.QSI&&o.QSI.dbg&&o.QSI.dbg.e&&o.QSI.dbg.e(e)}})),o.scScreen.appendChild(s)},this.removeScreenCapture=function(e){o.screenCaptureAnnotationsMap&&o.screenCaptureAnnotationsMap[e]&&(o.screenCaptureAnnotationsMap[e].destroyAnnotationsArea(),delete o.screenCaptureAnnotationsMap[e])},this.removeAllScreenCaptures=function(){if(o.screenCaptureAnnotationsMap)for(var e in o.screenCaptureAnnotationsMap)Object.prototype.hasOwnProperty.call(o.screenCaptureAnnotationsMap,e)&&o.removeScreenCapture(e)},this.isElementAdvertisement=function(e){return"div"===e.tagName.toLowerCase()&&-1!==e.id.indexOf("google_ads_iframe")},this.sendMessageToSurvey=function(e){var t=JSON.stringify(e);o.embeddedTarget.postMessage(t,o.surveyOrigin)},this.intercept=e,this.embeddedTarget=t,this.surveySessionId=n,this.translations=r||{},this.surveyOrigin=i,this.createCapturingScreen(this.translations)};!function(){var e=window;e.QSI=e.QSI||{};var t=e.QSI.global&&e.QSI.global.featureFlags&&!e.QSI.global.featureFlags["DX.UseHtmlToImage"];!e.QSI.ScreenCaptureHandler&&t&&(e.QSI.ScreenCaptureHandler=m)}();var R=n(39);n.d(t,"b",(function(){return Q})),n.d(t,"a",(function(){return O}));var Q,C=function(){return(C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},D=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},E=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},T=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},L=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},A=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(e){e[e.ExtRef=100]="ExtRef",e[e.FirstName=100]="FirstName",e[e.LastName=100]="LastName",e[e.Language=20]="Language",e[e.Phone=25]="Phone",e[e.Email=100]="Email",e[e.ContactEmbeddedData=400]="ContactEmbeddedData",e[e.ContactEmbeddedDataKey=50]="ContactEmbeddedDataKey",e[e.ContactEmbeddedDataValue=50]="ContactEmbeddedDataValue"}(Q||(Q={}));var O=function(){function e(){var e=this;this.init=function(t,n,r){e.setupBaseProperties(t,n,r),e.setupWindowHandlers(),e.latencyLog.startTimer(),S.a.config.evaluate&&e.handleSPAEvaluation(S.a.config.evaluate),e.setupGlobalObjects();var i=S.a.global.legacyId,o=e.setupLegacyParams(i);return e.processQueryStringParams(o),e.applyClientVersionParams(o),e.handleLoadOrPreview(o)},this.loadAndStartSessionRecording=function(){return D(e,void 0,void 0,(function(){var e;return E(this,(function(t){return(e=window.QSI.API).load().then((function(){return e.SessionRecording.start()})),[2]}))}))},this.debouncedLoadAndStartSessionRecording=this.debounce(this.loadAndStartSessionRecording,5e3),this.isSRThrottled=function(t){var n=e.getSRThrottledCookieName(t);return!!window.QSI.cookie.get(n)},this.getSRThrottledCookieName=function(e){return"QSI_ReplaySession_Throttled_"+e},this.generateQueryString=S.a.generateQueryString,this.getClientVersionQueryString=S.a.getClientVersionQueryString,this.Deferred=function(){var t={},n="pending",r=[],i=[],o=[],a=[],s=e,c={state:function(){return n},then:function(e,t){return this.done(e).fail(t),this},done:function(e){if("pending"===n&&e)o.push(e);else if("resolved"===n)try{e.apply(this,r)}catch(e){s.debugLog.e(e)}return this},fail:function(e){if("pending"===n&&e)a.push(e);else if("rejected"===n)try{e.apply(this,i)}catch(e){s.debugLog.e(e)}return this},promise:function(){return c}};return e.forOwn(c,(function(e,n){t[n]=c[n]})),t.resolve=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"pending"===n&&(n="resolved",r=e,s.each(o,(function(t){try{t.apply(s,e)}catch(e){s.debugLog.e(e)}})))},t.reject=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"pending"===n&&(n="rejected",i=e,s.each(a,(function(t){try{t.apply(s,e)}catch(e){s.debugLog.e(e)}})))},t},this.getInterceptFromSiResponse=function(t){var n=e.lastSiResponse;if(n&&n.ClientSideIntercepts){for(var r=null,i=0;i<n.ClientSideIntercepts.length;i++){if((a=n.ClientSideIntercepts[i]).InterceptID===t){r=a;break}}var o=null;if(n.Intercepts)for(i=0;i<n.Intercepts.length;i++){var a;if((a=n.Intercepts[i]).InterceptID===t){o=a;break}}return[r,o]}return null}}return e.prototype.setupBaseProperties=function(e,t,n){this.latencyLog=e,this.debugLog=t,this.scriptSrc=n,this.defaultClientSideDelayMilliseconds=5e3,this.setupJFEMessageEventHandlerForIOSOptimization()},e.prototype.setupWindowHandlers=function(){window.QSI.windows||(window.QSI.windows={}),window.QSI.targetWindows||(window.QSI.targetWindows=[]),window.addEventListener("message",this.addWindowHandlersPostMessageListener)},e.prototype.setupGlobalObjects=function(){window.QSI.InitializeDataLayerHelper=p,window.QSI.foundFrustrationLogic=!1,window.QSI.InterceptReevaluator=new g.a,S.a.Request||(S.a.Request={}),S.a.debugConfig=S.a.debugConfig||{}},e.prototype.setupLegacyParams=function(e){var t={id:e};return this.latencyLog.setRequestId(e),~Object.keys(S.a.Request).indexOf(e)&&this.latencyLog.markDuplicateScriptExecution(),0===e.indexOf("ZN")?t.ZoneID=e:t.InterceptID=e,t},e.prototype.processQueryStringParams=function(e){S.a.global.isHostedJS()?this.processHostedJSQueryString(e):this.processStandardQueryString(e)},e.prototype.processHostedJSQueryString=function(e){(void 0!==this.parseQueryString(window.location.href).Q_DEBUG||S.a.config.debug)&&(e.Q_DEBUG=null,this.debugLog.enableFullDebug()),(S.a.config.editing||"0"===S.a.global.version)&&(e.version="0"),this.debugLog.safeConsole("log","DX Tag Loading HostedJS version "+S.a.global.clientVersion)},e.prototype.processStandardQueryString=function(e){var t=this.findLegacyScriptSrc(),n=this.parseQueryString(t);this.applyStandardQueryStringParams(e,n)},e.prototype.findLegacyScriptSrc=function(){if(this.scriptSrc)return this.scriptSrc;try{var e=document.querySelectorAll("script"),t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);var r=S.a.global.baseURL;return 0===r.indexOf("https://")?r=r.substring(8):0===r.indexOf("http://")?r=r.substring(7):0===r.indexOf("//")&&(r=r.substring(2)),t.filter((function(e){return(-1!==e.src.indexOf(r+"/WRSiteInterceptEngine/?")||-1!==e.src.indexOf(r+"/SIE/?"))&&(-1===e.src.indexOf("Q_Impress")&&-1===e.src.indexOf("Q_Redirect")&&-1===e.src.indexOf("Q_Click")&&-1===e.src.indexOf("Q_DPR"))}))[0].src}catch(e){return this.debugLog.e("An error occurred while loading the intercept. "+e),""}},e.prototype.applyStandardQueryStringParams=function(e,t){void 0!==t.Q_NOCACHE&&(e.Q_NOCACHE=null),void 0!==t.Q_BOOKMARKLET&&(e.Q_BOOKMARKLET=null,e.Q_DEBUG=null,this.debugLog.enableFullDebug()),void 0!==t.Q_DEBUG&&(e.Q_DEBUG=null,this.debugLog.enableFullDebug()),void 0!==t.Q_VERSION&&(e.version=t.Q_VERSION)},e.prototype.applyClientVersionParams=function(e){void 0!==S.a.global.clientVersion&&null!==S.a.global.clientVersion&&(e.Q_CLIENTVERSION=S.a.global.clientVersion),void 0!==S.a.global.clientType&&null!==S.a.global.clientType&&(e.Q_CLIENTTYPE=S.a.global.clientType,void 0!==S.a.clientTypeVariant&&(e.Q_CLIENTTYPE+=S.a.clientTypeVariant))},e.prototype.handleLoadOrPreview=function(e){var t=this;return-1!==window.location.search.indexOf("Q_WAF_PREVIEWER")?Promise.all([n.e(20),n.e(1),n.e(17)]).then(n.bind(null,83)).then((function(e){new(0,e.LivePreviewer)})).catch((function(e){t.debugLog.e("An error occurred while loading the live previewer. "+e)})):(this.load(e,!1),Promise.resolve(null))},e.prototype.debounce=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];window.QSI.global.srDebounce&&clearTimeout(window.QSI.global.srDebounce),window.QSI.global.srDebounce=window.setTimeout((function(){e.apply(void 0,L([],T(n)))}),t)}},e.prototype.doSPAReload=function(){var e,t=this;if(window.QSI&&window.QSI.API){var n=window.QSI,r=n.API,i=n.global,o=null!==(e=!!n.SR)&&void 0!==e&&e;r.unloadForSPA(o),i.featureFlags["DX.DXA_Auto_SPA"]&&(o||window.QSI.global.srDebounce)?this.debouncedLoadAndStartSessionRecording():setTimeout((function(){var e=r.load();e&&"function"==typeof e.then?e.then((function(){t.handleSessionRecordingAfterLoad()}),(function(e){t.handleSessionRecordingAfterLoad()})):setTimeout((function(){t.handleSessionRecordingAfterLoad()}),500)}),100)}},e.prototype.handleSessionRecordingAfterLoad=function(){var e;if(window.QSI.global.featureFlags["DX.DXAConditionalTargeting_EA"]){var t=!!window.QSI.SR,n=null===(e=this.csTargetingParams)||void 0===e?void 0:e.targetingResponse,r=!!n&&this.evaluateSRConditionalTargeting(n);t&&!r&&window.QSI.API.SessionRecording.pause()}},e.prototype.handleSPAEvaluation=function(e){var t=this;if(e&&!window.QSI.spaEvaluation)if(window.QSI.spaEvaluation=!0,e.onUrlPathChange){if(window.history.pushState){var n=window.history.pushState;window.history.pushState=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.apply(window.history,e);try{this.doSPAReload()}catch(e){this.debugLog.e("An error occurred while handling SPA reload on pushState. "+e)}}.bind(this)}if(window.history.replaceState){var r=window.history.replaceState;window.history.replaceState=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r.apply(window.history,e);try{this.doSPAReload()}catch(e){this.debugLog.e("An error occurred while handling SPA reload on replaceState. "+e)}}.bind(this)}window.addEventListener("popstate",(function(){try{t.doSPAReload()}catch(e){t.debugLog.e("An error occurred while handling SPA reload on popstate. "+e)}}))}else e.onHashChange&&window.addEventListener("hashchange",(function(){try{t.doSPAReload()}catch(e){t.debugLog.e("An error occurred while handling SPA reload on hashchange. "+e)}}))},e.prototype.addWindowHandlersPostMessageListener=function(e){if("string"==typeof e.data&&-1!=e.data.indexOf("QSI_popunderwatcher_addWindowHandler")){var t=T(e.data.split("|"),3),n=t[1],r=t[2],i=e.source;try{JSON.parse(window.sessionStorage.getItem("QSI_OptInIDsAndWindowNames"))[n]!==r||window.QSI.windows[r]||(window.QSI.windows[r]=i)}catch(e){this.debugLog.e(e)}}},e.prototype.load=function(e,t){var n=this,r=window.QSI.AssetManager;if(!t){this.targetingRetryer=new f("Targeting Call",5,2500)}t||e.Q_EXT_REF||S.a.LoadingState.push(!0);var i=this.generateTargetingURL(e);this.xmdDebugRetryer=new f("Q_XMD_DEBUG Call",6,2500);var o=h.a.components.TARGETING;t?o=h.a.components.TARGETING+"_retry_"+this.targetingRetryer.getRetryCount():e.Q_EXT_REF&&(o=h.a.components.TARGETING+"_extRefRetry"),this.latencyLog.startComponentTimer(o);var a=this.getTargetingPostData(this.targetingRetryer.getRetryCount()),s=r.promiseFetch("POST",i,a);S.a.Request[e.id]={Intercepts:{},Params:e},this.debugLog.safeConsole("log","Making Targeting call to: "+i),s.then((function(){n.latencyLog.endComponentTimer(o)})).then(this.handleTargetingResponse.bind(this,e),(function(t){n.debugLog.e(t.Message),e.deferred&&e.deferred.reject()}))},e.prototype.getTargetingPostData=function(e){var t;void 0===e&&(e=0),t=S.a.shouldStripQueryParamsInQLoc?"Q_LOC="+encodeURIComponent(window.location.href.split("?")[0]):"Q_LOC="+encodeURIComponent(window.location.href);var n=!(null==S.a.config.externalReference);S.a.config.externalReference;if(n&&"number"==typeof S.a.config.externalReference&&""+S.a.config.externalReference,n){var r=S.a.config.externalReference.toString().trim();this.xmdContactInfoIsValid(r,Q.ExtRef)?t+="&extRef="+encodeURIComponent(r):this.debugLog.e("External reference input exceeds character limit: {"+Q.ExtRef+"}, will be dropped in targeting evaluation.")}if(null!=S.a.config.firstName){var i=S.a.config.firstName.trim();this.xmdContactInfoIsValid(i,Q.FirstName)?t+="&firstName="+encodeURIComponent(i):this.debugLog.e("First name input exceeds character limit: {"+Q.FirstName+"}, will be dropped in targeting evaluation.")}if(null!=S.a.config.lastName){var o=S.a.config.lastName.trim();this.xmdContactInfoIsValid(o,Q.LastName)?t+="&lastName="+encodeURIComponent(o):this.debugLog.e("Last name input exceeds character limit: {"+Q.LastName+"}, will be dropped in targeting evaluation.")}if(null!=S.a.config.email){var a=S.a.config.email.trim();this.xmdContactInfoIsValid(a,Q.Email)?t+="&email="+encodeURIComponent(a):this.debugLog.e("Email input exceeds character limit: {"+Q.Email+"}, will be dropped in targeting evaluation.")}if(null!=S.a.config.phone){var s=S.a.config.phone.trim();this.xmdContactInfoIsValid(s,Q.Phone)?t+="&phone="+encodeURIComponent(s):this.debugLog.e("Phone input exceeds character limit: {"+Q.Phone+"}, will be dropped in targeting evaluation.")}if(null!=S.a.config.language){var c=S.a.config.language.trim();this.xmdContactInfoIsValid(c,Q.Language)?t+="&language="+encodeURIComponent(c):this.debugLog.e("Language input exceeds character limit: {"+Q.Language+"}, invalid language will be dropped in targeting evaluation.")}if(null!=S.a.config.contactEmbeddedData){var u=S.a.config.contactEmbeddedData;if(JSON.stringify(u).trim().length<=Q.ContactEmbeddedData){var l=Object(R.a)(u);if(Object.keys(l).length>0){var d=JSON.stringify(l);t+="&contactEmbeddedData="+encodeURIComponent(d)}}else this.debugLog.e("Contact embedded data input exceeds character limit: {"+Q.ContactEmbeddedData+"}, will be dropped in targeting evaluation.")}t+="&xmdRetryCount="+encodeURIComponent(e);var p=this.formatHasAnalyticsConsent();return t+="&hasAnalyticsConsent="+encodeURIComponent(p),t+=this.getCJAEventData()},e.prototype.xmdContactInfoIsValid=function(e,t){return e.length<=t},e.prototype.getCJAEventData=function(){var e=new Date;return"&Timestamp="+encodeURIComponent(e.toISOString())+this.getCjaCustomValues()},e.prototype.getCjaCustomValues=function(){var e=S.a.config.customCjaData;if(null!==e&&"object"==typeof e&&!Array.isArray(e)){var t={};for(var n in e){if(Object.keys(t).length>=20)break;var r=e[n],i="string"==typeof n?n:JSON.stringify(n),o="string"==typeof r?r:JSON.stringify(r);i.length>100||o.length>100||(t[i]=o)}if(0!==Object.keys(t).length)return"&customCjaData="+encodeURIComponent(JSON.stringify(t))}return""},e.prototype.formatHasAnalyticsConsent=function(){var e=S.a.config.hasAnalyticsConsent;if(!(null==e)){var t=e.toString().toLowerCase();if("true"==t||"false"==t)return t}return null},e.prototype.reduceContactEmbeddedDataToLegalSize=function(e,t){var n,r,i=Object.entries(e).slice(0,t),o={};try{for(var a=A(i),s=a.next();!s.done;s=a.next()){var c=T(s.value,2),u=c[0],l=c[1];o[u]=l}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o},e.prototype.generateTargetingURL=function(e){var t=S.a.baseURL+"Targeting.php?",n=[];e.InterceptID&&n.push("Q_InterceptID="+e.InterceptID),e.ZoneID&&n.push("Q_ZoneID="+e.ZoneID),e.Q_XMD_DEBUG?n.push("Q_XMD_DEBUG"):(null===e.Q_DEBUG&&(n.push("Q_DEBUG"),S.a.isDebug=!0),null===e.Q_BOOKMARKLET&&n.push("Q_BOOKMARKLET")),null===e.Q_NOCACHE&&n.push("Q_NOCACHE"),void 0!==e.version&&null!==e.version&&n.push("Version="+e.version);var r=window.QSI.profile.get("QualtricsSurveyHistory","",1);if(r){var i=encodeURIComponent(Object.keys(r).toString());n.push("Q_QualtricsSurveyTaken="+i)}return void 0!==e.Q_CLIENTVERSION&&null!==e.Q_CLIENTVERSION&&n.push("Q_CLIENTVERSION="+e.Q_CLIENTVERSION),void 0!==e.Q_CLIENTTYPE&&null!==e.Q_CLIENTTYPE&&n.push("Q_CLIENTTYPE="+e.Q_CLIENTTYPE),e.Q_EXT_REF&&n.push("Q_EXT_REF"),t+n.join("&")},e.prototype.isMessageEventOriginAllowed=function(e){if(S.a.reg)for(var t in S.a.reg)if(Object.prototype.hasOwnProperty.call(S.a.reg,t)&&S.a.reg[t]&&S.a.reg[t].options){var n=S.a.reg[t].options;if(n.targetURLOrigin===e)return!0;if(n.target&&n.target.OriginalURLOrigin===e)return!0}return!1},e.prototype.doCSTargetingEvaluation=function(e,t,n){return D(this,void 0,void 0,(function(){var r,i,o,a,s,c=this;return E(this,(function(u){switch(u.label){case 0:return function(e){e.EMBEDDED_TARGET="EmbeddedTarget"}(r||(r={})),Array.isArray(e.ClientSideIntercepts)?(i=window.QSI.ClientSideTargeting,e.Intercepts=[],o={Intercepts:{},Type:S.a.config.editing?"Editing":"Published"},a={FirstDCFInterceptPassed:!1},s=e.ClientSideIntercepts.map((function(s){return D(c,void 0,void 0,(function(){var c,u,l,d=this;return E(this,(function(p){switch(p.label){case 0:return s?s.Error?(this.debugLog.log(s.Message),[3,3]):[3,1]:[3,3];case 1:return[4,new Promise((function(e,t){setTimeout((function(){try{var n=void 0;d.usePreviousEvaluationResult(s.InterceptID)?n=window.QSI.InterceptReevaluator.getInterceptEvaluationResult(s.InterceptID):(n=i.evaluateIntercept(s,a,S.a.isDebug),window.QSI.InterceptReevaluator.setInterceptEvaluationResult(s.InterceptID,n)),e(n)}catch(e){t(e)}}))}))];case 2:c=p.sent(),u=c.interceptEntry,l=c.interceptDebugInfo,o.Intercepts[s.InterceptID]=l,u&&(window.QSI.InterceptReevaluator.isActive()&&window.QSI.InterceptReevaluator.hasInterceptAlreadyRun(u.InterceptID)||(t.Intercepts[s.InterceptID]={},t.Intercepts[s.InterceptID].Targeting=u,e.Intercepts.push(u),u.Decision.Creative&&(u.Decision.Creative.Type&&(e.Modules[u.Decision.Creative.Type]=n),u.Decision.PopUnderTarget&&(e.Modules.PopUnder=n)),u.Decision.Target&&u.Decision.Target.DisplayType===r.EMBEDDED_TARGET&&(e.Modules.EmbeddedTarget=n))),p.label=3;case 3:return[2]}}))}))})),[4,Promise.all(s)]):[2];case 1:return u.sent(),e.Intercepts.length>0&&(e.Modules.ScreenCapture=n,e.Intercepts.forEach((function(e){var t=e.InterceptID;window.QSI.InterceptReevaluator.setInterceptHasRun(t)}))),S.a.isDebug&&(e.DebugInfo=JSON.stringify(o)),delete e.Modules.DependencyResolver,[2]}}))}))},e.prototype.usePreviousEvaluationResult=function(e){var t=window.QSI.InterceptReevaluator;return!!t.isActive()&&(!!t.hasInterceptAlreadyRun(e)||!window.QSI.DataLayerHelper&&(null!=window.QSI.InterceptReevaluator.getInterceptEvaluationResult(e)&&!t.hasFrustrationSignalLogic(e)))},e.prototype.doStartTrackingMatrixCheck=function(e){var t=this.formatHasAnalyticsConsent(),n=null!=t?"true"===t:null,r=e.SRConfiguration.recordByDefault;return n||r&&null==n},e.prototype.canStartRegularSession=function(e){return!!e.RequestData.ID&&!!e.SRConfiguration&&!this.isSRThrottled(e.RequestData.ID)&&this.doStartTrackingMatrixCheck(e)},e.prototype.canStartTestSession=function(e){return!!e.RequestData.ID&&!!e.SRTestConfiguration&&!e.RequestData.isDebug&&"Editing"!==e.RequestData.bVersion},e.prototype.getExistingSessionTypeFromCookie=function(e){var t=window.QSI.cookie,n="QSI_ReplaySession_Info_"+e,r=JSON.parse(t.get(n));return null===r?(window.QSI.global.featureFlags["DX.PepperPotts_TestingTools"]&&console.log("No active session info cookie found called: "+n),"No_Active_Session"):!0===r.isTestSession?(window.QSI.global.featureFlags["DX.PepperPotts_TestingTools"]&&console.log("Found test session info cookie called: "+n),"Test_Session"):!1===r.isTestSession?(window.QSI.global.featureFlags["DX.PepperPotts_TestingTools"]&&console.log("Found regular session info cookie called: "+n),window.QSI.SRGlobalConfiguration.isTestSession&&(window.QSI.global.featureFlags["DX.PepperPotts_TestingTools"]&&console.log("Deleting regular session info cookie called: "+n+" to make way for test session"),t.erase(n,S.a.CookieDomain)),"Regular_Session"):void 0},e.prototype.getMillisecondsToDelay=function(){var e=S.a.config.clientSideDelayMilliseconds;return"number"!=typeof e||!e&&0!==e||e>=72e6||e<0?window.QSI.global.featureFlags["DX.DXA_No_Delay"]?0:this.defaultClientSideDelayMilliseconds:e},e.prototype.convertIsolationStatus=function(e){switch(e){case u.e.NOT_ISOLATED:return u.d.NOT_ISOLATED;case u.e.ISOLATED_V1:return u.d.ISOLATED_V1;default:throw new Error("Invalid isolation status: "+e)}},e.prototype.setSRGlobalConfiguration=function(e){var t=window.QSI.util;!e.SRTestConfiguration&&window.QSI.SRGlobalConfiguration||(window.QSI.SRGlobalConfiguration={brandId:e.RequestData.brandID,brandDc:t.getBrandDC(e.RequestData.brandDC),zoneId:e.RequestData.ID,validatedIdentifierRules:e.RequestData.validatedIdentifierRules,zoneIdentifierRules:e.RequestData.zoneIdentifierRules,srBaseUrl:S.a.getSRBaseURLFromConfigAndOverrides(t.getBrandDC(e.RequestData.brandDC)),cookieDomain:e.RequestData.cookieDomain,configuration:e.SRConfiguration||e.SRTestConfiguration,brandBaseUrl:e.RequestData.brandBaseUrl,isTestSession:!!e.SRTestConfiguration,isolationStatus:void 0!==e.RequestData.isolationStatus?this.convertIsolationStatus(e.RequestData.isolationStatus):void 0})},e.prototype.canStartSR=function(e){var t,n,r,i,o,a,s,c=window.QSI.global;return!(!e.SRConfiguration&&!e.SRTestConfiguration)&&(e.RequestData&&(null===(t=e.RequestData)||void 0===t?void 0:t.ID)&&(null===(r=null===(n=e.RequestData)||void 0===n?void 0:n.ID)||void 0===r?void 0:r.startsWith("ZN_"))?!!this.evaluateSRConditionalTargeting(e)&&(e.RequestData.isolationStatus!==u.e.ISOLATION_ERROR&&(e.SRConfiguration&&(null===(i=window.QSI.SR)||void 0===i?void 0:i.zoneId)?((null===(o=window.QSI.SR)||void 0===o?void 0:o.zoneId)!==e.RequestData.ID&&(c.srMultiZoneErrors+=1,this.debugLog.e("Multiple SR Zones Detected on page. "+(null===(a=window.QSI.SR)||void 0===a?void 0:a.zoneId)+" is already initialized, "+e.RequestData.ID+" attempted to initialize after. To resolve, please use only one zone snippet per page."),1==c.srMultiZoneErrors&&console.error("Qualtrics: Multiple Zones Detected on page. "+(null===(s=window.QSI.SR)||void 0===s?void 0:s.zoneId)+" is already initialized, "+e.RequestData.ID+" attempted to initialize after. To resolve, please use only one zone snippet per page.")),!1):!e.SRConfiguration||!e.RequestData||"SR_ENABLED_FOR_WEB_ONLY"===e.RequestData.srEnabled||"SR_ENABLED_FOR_WEB_AND_MOBILE"===e.RequestData.srEnabled)):(this.debugLog.e("Missing or incorrectly formatted request data in targeting response"),!1))},e.prototype.evaluateSRConditionalTargeting=function(e){if(window.QSI.global.featureFlags["DX.DXAConditionalTargeting_EA"]){if(!e)return!1;if(e.SRConfiguration){if(!e.SRConfiguration.logicTree||e.SRConfiguration.logicTree.Type!==o.VALUE_NODE)return this.debugLog.log("Brand "+e.RequestData.brandID+", zone "+e.SRConfiguration.zoneId+" does not have a valid conditional targeting logic tree, skipping SR"),!1;if(!(t=e.SRConfiguration.logicTree)||!t.Value)return this.debugLog.log("Brand "+e.RequestData.brandID+", zone "+e.SRConfiguration.zoneId+" conditional targeting logic tree evaluated false, skipping SR"),!1}else if(e.SRTestConfiguration){if(!e.SRTestConfiguration.logicTree||e.SRTestConfiguration.logicTree.Type!==o.VALUE_NODE)return this.debugLog.log("Brand "+e.RequestData.brandID+", zone "+e.SRTestConfiguration.zoneId+" does not have a valid test conditional targeting logic tree, skipping SR"),!1;var t;if(!(t=e.SRTestConfiguration.logicTree)||!t.Value)return this.debugLog.log("Brand "+e.RequestData.brandID+", zone "+e.SRTestConfiguration.zoneId+" test conditional targeting logic tree evaluated false, skipping SR"),!1}}return!0},e.prototype.startSR=function(e){var t=this,r=window.QSI,i=r.API,o=r.SR,a=r.SRGlobalConfiguration,s=this.canStartRegularSession(e),c=this.canStartTestSession(e),u=this.getExistingSessionTypeFromCookie(a.zoneId);c&&Promise.all([n.e(2),n.e(16)]).then(n.bind(null,81)).then((function(e){var n=e.RenderTestSessionComponents;o&&"No_Active_Session"===u&&(window.QSI.SR=null),n({zoneId:a.zoneId,brandBaseUrl:a.brandBaseUrl,isTestSessionActive:"Test_Session"===u,errorCallback:t.debugLog.e})})),(s||c&&"Test_Session"===u)&&i.SessionRecording.start()},e.prototype.handleTargetingResponse=function(e,t){var r=this,i=window.QSI,o=i.AssetManager,a=i.API,s=i.EventTracker,c=i.history;try{var u;if("SampleRejected"===t)return;try{u=JSON.parse(t)}catch(e){return void this.debugLog.e("Failed to parse JSON of targeting response: "+t)}if(u.Error)return void this.debugLog.e(u.Message);if("XMD_RETRY"===u.Message)return void this.targetingRetryer.backOffAndRetry((function(){r.load(e,!0)}));var l=u.Modules;this.setGlobalVars(u);var d=this.isBrowserSupported();if("EXTREF_RETRY"===u.Message){if(l.Core&&d)o.promiseLoadScript("Core",l.Core,S.a,this.latencyLog).then((function(){return D(r,void 0,void 0,(function(){return E(this,(function(t){return this.evaluateAndSetExternalReference(u),this.load(C(C({},e),{Q_EXT_REF:!0}),!1),[2]}))}))}));return}if(u.RequestData&&u.RequestData.reevaluateInterceptOnUrlChange&&this.handleSPAEvaluation({onHashChange:!0,onUrlPathChange:!0}),c.logVisit(),this.canStartSR(u)&&(this.setSRGlobalConfiguration(u),setTimeout((function(){r.startSR(u)}),this.getMillisecondsToDelay())),!S.a.Request[e.id].hasDependencies&&S.a.Request[e.id].hasBeenResolved||(s.trackElements(),s.incrementEventList(),window._qsie=a.Events),this.csTargetingParams={targetingResponse:u,targetingRequest:S.a.Request[e.id],clientVersion:S.a.global.clientVersion,assetLoadingParams:e},l.Core&&d)o.promiseLoadScript("Core",l.Core,S.a,this.latencyLog).then((function(){return D(r,void 0,void 0,(function(){var t,r,i=this;return E(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),t=window.QSI.ClientSideTargeting,S.a.global.featureFlags["DUX.ClientSideTargetingM1"]&&u.ClientSideIntercepts&&u.ClientSideIntercepts.length>0?(t.setEnabled(!0),[4,this.doCSTargetingEvaluation(u,S.a.Request[e.id],S.a.global.clientVersion)]):[3,2];case 1:return o.sent(),[3,3];case 2:u.Intercepts&&u.Intercepts.forEach((function(t){t&&(t.Error?i.debugLog.log(t.Message):(S.a.Request[e.id].Intercepts[t.InterceptID]={},S.a.Request[e.id].Intercepts[t.InterceptID].Targeting=t))})),o.label=3;case 3:return!u.Dependencies||S.a.global.featureFlags["DUX.ClientSideTargetingM1"]&&u.ClientSideIntercepts&&u.ClientSideIntercepts.length>0?(n.e(5).then(n.bind(null,35)).then((function(e){(0,e.addPopunderEmbeddedDataHandler)(e.updatePopunderEDCallback)})),this.shouldMakeXMDDebugCall()?(e.Q_XMD_DEBUG=!0,this.handleXMDDebug(e,u)):this.loadModules(e,u)):this.handleDependencyResolver(e,u),[3,5];case 4:return r=o.sent(),this.debugLog.e(r),[3,5];case 5:return[2]}}))}))}),(function(){}));else this.doneLoading(e,u)}catch(e){this.debugLog.e(e)}},e.prototype.evaluateAndSetExternalReference=function(e){var t,n=e.RequestData.extRefType,r=e.RequestData.extRefValue;switch(n){case"JS":t=window.QSI.EmbeddedData.getJavaScriptValue(r).toString();break;case"Cookie":t=window.QSI.EmbeddedData.getCookieVal(r);break;case"HTML":t=window.QSI.EmbeddedData.getHTMLFromDOM(r);break;case"StaticValue":t=r;break;default:return void this.debugLog.log("Invalid type when evaluating external reference of type "+n+" and value "+r+" in "+e.RequestData.ID)}t&&(S.a.config.externalReference=t)},e.prototype.shouldMakeXMDDebugCall=function(){return!window.QSI.ClientSideTargeting.isEnabled()&&(!!S.a.config.externalReference&&S.a.isDebug)},e.prototype.handleDependencyResolver=function(e,t){var n=this,r=window.QSI.AssetManager;e.BrandDC=t.RequestData.brandDC;var i=this.generateTargetingURL(e);i+="&t="+(new Date).getTime(),i+="&Q_VSI="+encodeURIComponent(JSON.stringify(t.RequestData.validIntercepts)),i+="&Q_DPR=true",this.latencyLog.startComponentTimer(h.a.components.DPR_TARGETING);var o="";for(var a in t.Dependencies)Object.prototype.hasOwnProperty.call(t.Dependencies,a)&&("SiteCatalyst"===a&&(QSI["Resolve"+a].rootName=S.a.adobeVar),o+=QSI["Resolve"+a].prepare(t.Dependencies[a]));o+="&"+this.getTargetingPostData(),r.promiseFetch("POST",i,o).then((function(){this.latencyLog.endComponentTimer(h.a.components.DPR_TARGETING)})).then(this.handleTargetingResponse.bind(this,e),(function(t){n.debugLog.e(t.Message),e.deferred&&e.deferred.reject()}))},e.prototype.handleXMDDebug=function(e,t){var n=this,r=window.QSI.AssetManager,i={};t.Intercepts.forEach((function(e){if(e.Decision&&e.Decision.ActionSetID){var t=e.InterceptID,n=e.Decision.ActionSetID;i[t]=n}})),e.BrandDC=t.RequestData.brandDC;var o=this.generateTargetingURL(e),a="";a+=this.getTargetingPostData();var s=""+h.a.components.XMD_DEBUG_TARGETING+this.xmdDebugRetryer.getRetryCount();this.latencyLog.startComponentTimer(s),r.promiseFetch("POST",o,a).then((function(r){n.latencyLog.endComponentTimer(s),n.handleXMDDebugResponse(e,t,i,r)}))},e.prototype.handleXMDDebugResponse=function(e,t,n,r){var i,o,a=this;try{i=JSON.parse(r)}catch(e){return void this.debugLog.e("Failed to parse JSON of Q_XMD_DEBUG targeting response: "+r)}if(S.a.isDebug)try{o=JSON.parse(t.DebugInfo)}catch(e){return void this.debugLog.e("Failed to parse debugInfo JSON of Q_DEBUG targeting response: "+t)}S.a.isDebug&&(i.Intercepts.forEach((function(e){if(e){var t=e.InterceptID;Object.prototype.hasOwnProperty.call(o.Intercepts,t)&&Object.prototype.hasOwnProperty.call(n,t)&&e.Error&&a.debugLog.log(e.Message)}})),i.DebugInfo=JSON.stringify(o),i.Modules.Debug=S.a.global.clientVersion),i.Intercepts.forEach((function(n){if(n)if(n.Error)a.debugLog.log(n.Message);else{for(var r=void 0,i=0;i<t.Intercepts.length;i++)n.InterceptID===t.Intercepts[i].InterceptID&&(r=t.Intercepts[i]);r&&(n.ContactID=r.ContactID||n.ContactID,n.DirectoryID=r.DirectoryID||n.DirectoryID,n.SurveyID=r.SurveyID||n.SurveyID,n.DistributionID=r.DistributionID||n.DistributionID),S.a.Request[e.id].Intercepts[n.InterceptID]={},S.a.Request[e.id].Intercepts[n.InterceptID].Targeting=n}})),this.loadModules(e,i)},e.prototype.loadDOMPurify=function(){var e=this,t=this.Deferred();return n.e(19).then(n.t.bind(null,79,7)).then((function(e){window.QSI.DOMPurify=e,t.resolve()})).catch((function(){e.debugLog.e("Failed to load DOMPurify when enableJSSanitization is enabled"),t.reject()})),t.promise()},e.prototype.loadModules=function(e,t){var r=this,i=window.QSI.AssetManager,o=[],a=t.Modules;for(var s in this.latencyLog.startComponentTimer(h.a.components.ASSETS_AND_MODULES),n.e(1).then(n.bind(null,73)),S.a.global.enableJSSanitization&&o.push(this.loadDOMPurify()),a)if(Object.prototype.hasOwnProperty.call(a,s)){if("ScreenCapture"===s){this.setupScreenCaptureListener(a[s]);continue}if("ClientLog"===s)continue;if("DependencyResolver"===s)continue;if(("HTTPRedirect"===s||"LatencyLog"===s)&&S.a.global.isHostedJS()){this.debugLog.c("Module type '"+s+"' is not supported when using Site Intercept Hosted JS");continue}if("EmbeddedFeedback"===s)continue;var c=i.promiseLoadScript(s,a[s],S.a,this.latencyLog);o.push(c)}for(var u=0;u<t.Intercepts.length;u++){var l=t.Intercepts[u];if(l&&!l.Error&&null!==l.Decision.ActionSetID){var d=i.promiseLoadIntercept(e.id,l,e,this.latencyLog),p=i.promiseLoadCreative(e.id,l,e,this.latencyLog);if(o.push(d,p),l.Decision.PopUnderTarget&&l.Decision.PopUnderTarget.ID&&"Target"!==l.Decision.PopUnderTarget.ID){var g=i.promiseLoadPopUnderTarget(e.id,l,e);o.push(g)}}}this.when.apply(this,o).then((function(){try{r.latencyLog.endComponentTimer(h.a.components.ASSETS_AND_MODULES),r.prepareIntercepts(e,t)}catch(e){r.debugLog.e(e)}}),(function(t){var n="";("string"==typeof t||t&&"string"==typeof t.Message)&&(n=t),r.debugLog.e("An error occurred while loading the intercept. "+n),e.deferred&&e.deferred.reject()}))},e.prototype.setInterceptDisplayOptionCallback=function(e,t){var n=window.QSI.util;switch(e){case"":case"onfocus":n.waitForFocus().then(t);break;case"onload":t();break;case"onexit":n.waitForExitIntent().then(t);break;default:return}},e.prototype.prepareIntercepts=function(e,t){var r=this;return n.e(1).then(n.bind(null,73)).then((function(){var n=window.QSI.RunIntercepts;!0!==e.loadingFromAPI&&(r.latencyLog.endTimer(),r.xmdDebugRetryer.getRetryCount()>0?r.latencyLog.send():r.latencyLog.sampledSend(S.a.global.latencySamplePercentage)),r.setGlobalIncludes(e,t);var i=S.a.Request[e.id].displayInterceptType,o=S.a.global.featureFlags["DUX.ClientSideTargetingM1"]&&t.ClientSideIntercepts&&t.ClientSideIntercepts.length>0;("manual"!==i&&!S.a.Request[e.id].zoneManualDisplay||S.a.Request[e.id].hasDependencies&&!o)&&n(e.id,!1),r.doneLoading(e,t),e.deferred&&e.deferred.resolve()}))},e.prototype.isBrowserSupported=function(){return!("Chrome"===window.QSI.Browser.name&&window.QSI.Browser.version<=20)&&(!("Firefox"===window.QSI.Browser.name&&window.QSI.Browser.version<=59)&&!("Internet Explorer"===window.QSI.Browser.name&&window.QSI.Browser.version<=10))},e.prototype.setGlobalIncludes=function(e,t){if(S.a.isDebug&&t.DebugInfo){S.a.Request[e.id].Debug={debugInfo:JSON.parse(t.DebugInfo),version:t.RequestData.bVersion};var n={version:t.RequestData.bVersion,debugInfo:JSON.parse(t.DebugInfo)};S.a.debugConfig=n}S.a.version=t.RequestData.bVersion,S.a.InterceptsRan=!1,S.a.Request[e.id].hasDependencies=t.RequestData.hasDependencies,S.a.Request[e.id].hasBeenResolved=t.RequestData.hasBeenResolved,S.a.Request[e.id].displayInterceptType=t.RequestData.displayInterceptType,S.a.Request[e.id].zoneManualDisplay=t.RequestData.zoneManualDisplay},e.prototype.setGlobalVars=function(e){window.QSI.Browser={name:e.RequestData.browser,version:e.RequestData.browserVersion,isMobile:e.RequestData.isMobile,isBrowserSupported:e.RequestData.isBrowserSupported},window.QSI.CORSOrigin=e.RequestData.CORSOrigin,window.QSI.OS={name:e.RequestData.osName,version:e.RequestData.osVersion},window.QSI.config.gtmContainerID=e.RequestData.googleDataLayerVariable,window.QSI.config.customJavaScriptPermission=e.RequestData.customJavaScriptPermission,S.a.global.brandID=e.RequestData.brandID,S.a.global.brandDC=e.RequestData.brandDC,S.a.global.geo=e.RequestData.geo,S.a.global.graphicPath=S.a.overrides.graphicPath||"https://"+S.a.global.brandDC+"/WRQualtricsSiteIntercept/Graphic.php?IM=",S.a.global.imagePath=S.a.global.baseURL+"/WRQualtricsShared/Graphics",S.a.global.maxCookieSize=e.RequestData.maxCookieSize,S.a.global.featureFlags=e.FeatureFlags,S.a.global.screenCaptureServiceBaseURL=e.RequestData.screenCaptureServiceBaseURL,S.a.global.brandBaseUrl=e.RequestData.brandBaseUrl,S.a.global.eventTrackers=e.RequestData.eventTrackers,S.a.adobeVar=e.RequestData.adobeSCVariable,S.a.id=e.RequestData.ID,S.a.reqID[e.RequestData.ID]=!0,S.a.CookieDomain=e.RequestData.cookieDomain,S.a.historyStorageType=e.RequestData.historyStorageType,S.a.historyStorageSize=e.RequestData.historyStorageSize,S.a.currentURL=window.location.href.split("?")[0],function(){var e=document.createElement("div");e.className="scrollbar-measure",e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.position="absolute",e.style.top="-99999px",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;S.a.scrollbarWidth=t,document.body.removeChild(e)}()},e.prototype.parseQueryString=function(e){var t={};if(e&&-1!==e.indexOf("?"))for(var n=e.split("?",2)[1].split("&"),r=0;r<n.length;r++){var i=n[r].split("=",2);"Q_LOC"===i[0]&&-1!==i[1].indexOf("Q_DEBUG")&&(t.Q_DEBUG=!0),i[0]&&(t[i[0]]=decodeURIComponent(i[1]))}return t},e.prototype.replaceAll=function(e,t,n){return t=t.replace(/([.*+?^${}()|[\]\\=!:/])/g,"\\$1"),e.replace(new RegExp(t,"g"),n)},e.prototype.when=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this,i=L([e],T(t)),o=i.length,a=o,s=1===a?e:this.Deferred(),c=function(e,t){return function(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t[e]=arguments.length>1?n:r.createArrayFromArguments(L([n],T(i))),--a||s.resolve(t)}};if(o>1)for(var u=0;u<o;u++)i[u]&&i[u].promise?i[u].promise().done(c(u,i)).fail(s.reject):a--;return a<1&&s.resolve(i),s.promise()},e.prototype.createArrayFromArguments=function(e){return e?Array.prototype.slice.call(e):[]},e.prototype.isFunction=function(e){return"function"==typeof e||!1},e.prototype.forOwn=function(e,t){if(e&&e instanceof Object&&this.isFunction(t))for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n,e)},e.prototype.each=function(e,t){var n=e.length;if(n)for(var r=0;r<n;r++)t(e[r],r)},e.prototype.doneLoading=function(e,t){if(S.a.LoadingState.pop(),0===S.a.LoadingState.length){if(!0!==e.loadingFromAPI){var n=document.createEvent("Event");n.initEvent("qsi_js_loaded",!0,!0),window.dispatchEvent(n)}this.lastSiResponse=t;for(var r=S.a.PendingQueue.length,i=0;i<r;i++){S.a.PendingQueue.shift()()}e&&e.deferred&&e.deferred.resolve()}},e.prototype.setupJFEMessageEventHandlerForIOSOptimization=function(){var e=this;if(!S.a.JFEListenerRegistered){S.a.JFEListenerRegistered=!0;return window.addEventListener("message",(function(t){try{if(!e.isMessageEventOriginAllowed(t.origin))return;(function(e){var t=null;if("string"==typeof e)try{t=JSON.parse(e)}catch(e){return!1}return null!==t&&"JFE"===t.from&&"SI"===t.to&&"JFELoaded"===t.event&&"iOS"===window.QSI.OS.name})(t.data)&&(n=t.source,r=t.origin,n.postMessage({event:"addIOSSIWorkaround",from:"SI",to:"JFE"},r))}catch(t){e.debugLog.e(t)}var n,r}))}},e.prototype.setupScreenCaptureListener=function(e){var t=this;S.a.screenCaptureListenerRegistered||(S.a.screenCaptureListenerRegistered=!0,window.addEventListener("message",(function(n){return D(t,void 0,void 0,(function(){var t,r,i,o,a,s;return E(this,(function(c){switch(c.label){case 0:if(c.trys.push([0,3,,4]),!this.isMessageEventOriginAllowed(n.origin))return[2];if(!(t=window.QSI.util.getOriginInterceptOfMessage(n.source)))return[2];if("string"==typeof(r=n.data))try{r=JSON.parse(r)}catch(e){return this.debugLog.e("Invalid message object: "+e),[2]}return r&&"JFE"===r.from&&"SI"===r.to?(S.a.screenCaptureHandlers=S.a.screenCaptureHandlers||{},"canScreenCapture"===r.event?(i={event:"canScreenCapture",from:"SI",to:"JFE",canScreenCapture:!0},(o=n.source)&&"function"==typeof o.postMessage&&o.postMessage(JSON.stringify(i),n.origin),[2]):(S.a.screenCaptureHandlers[r.sessionId]||(S.a.screenCaptureHandlers[r.sessionId]=new m(t,n.source,r.sessionId,r.translations,n.origin)),"startScreenCapture"!==r.event?[3,2]:(void 0===S.a.screenCaptureModulePromise&&(S.a.screenCaptureModulePromise=window.QSI.AssetManager.promiseLoadScript("ScreenCapture",e,S.a,this.latencyLog)),[4,S.a.screenCaptureModulePromise]))):[2];case 1:c.sent(),c.label=2;case 2:switch(a=S.a.screenCaptureHandlers[r.sessionId],r.event){case"startScreenCapture":a.captureScreen(r.questionId);break;case"editScreenCapture":a.editAnnotations(r.questionId);break;case"removeScreenCapture":a.removeScreenCapture(r.questionId);break;case"sessionFinished":a.removeAllScreenCaptures();break;default:return[2]}return[3,4];case 3:return s=c.sent(),this.debugLog.e(s),[3,4];case 4:return[2]}}))}))})))},e}()},36:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(53),i=n.n(r),o=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=function(){function e(){var t=this;this.evaluationResults={},this.oldEvaluationResults={},this.moduleActive=!1,this.debouncedEvaluate=i()((function(){t.evaluateIntercepts()}),e.evaluateDebounceTimeout),this.debouncedEvaluateAndRun=i()((function(){t.evaluateIntercepts().then((function(){window.QSI.RunIntercepts(null,!0)}))}),e.evaluateDebounceTimeout),this.interceptHasRun=new Set,this.interceptsWithFrustrationLogic=new Set,this.moduleActive=!1}return e.prototype.activate=function(){this.moduleActive=!0},e.prototype.isActive=function(){return this.moduleActive},e.prototype.hasInterceptAlreadyRun=function(e){return this.interceptHasRun.has(e)},e.prototype.setInterceptHasRun=function(e){this.interceptHasRun.add(e)},e.prototype.resetInterceptHasRun=function(){this.interceptHasRun=new Set},e.prototype.setOldEvaluationResults=function(e){this.oldEvaluationResults=JSON.parse(JSON.stringify(e))},e.prototype.hasFrustrationSignalLogic=function(e){return this.interceptsWithFrustrationLogic.has(e)},e.prototype.addInterceptWithFrustrationSignalLogic=function(e){this.interceptsWithFrustrationLogic.add(e)},e.prototype.getInterceptEvaluationResult=function(e){return this.evaluationResults[e]},e.prototype.setInterceptEvaluationResult=function(e,t){this.evaluationResults[e]=t},e.prototype.resetEvaluationResults=function(){this.evaluationResults={}},e.prototype.evaluateIntercepts=function(){return o(this,void 0,void 0,(function(){var e,t,r,i,o,s,c,u;return a(this,(function(a){switch(a.label){case 0:return e=window.QSI,t=e.Orchestrator,r=t.csTargetingParams,i=r.targetingResponse,o=r.targetingRequest,s=r.clientVersion,c=r.assetLoadingParams,[4,t.doCSTargetingEvaluation(i,o,s)];case 1:return a.sent(),(e.config.debug||e.isDebug)&&this.refreshDebug(i),i.Intercepts.length>0?(n.e(5).then(n.bind(null,35)).then((function(e){(0,e.addPopunderEmbeddedDataHandler)(e.updatePopunderEDCallback)})),u=t.Deferred(),c.deferred=u,t.loadModules(c,i),[2,new Promise((function(e,t){u.promise().then(e).fail(t)}))]):[2]}}))}))},e.prototype.refreshDebug=function(e){var t=this.oldEvaluationResults,n=this.evaluationResults;if(JSON.stringify(t)!==JSON.stringify(n)){var r={debugInfo:JSON.parse(e.DebugInfo)},i=window.QSI;i.debuggerHasDisplayed=!1,window.QSI.debugHandlerInstance=new i.DebugHandler(r),i.debuggerHasDisplayed=!0}else window.QSI.debugHandlerInstance&&window.QSI.foundFrustrationLogic&&window.QSI.InterceptReevaluator.isActive()&&window.QSI.debugHandlerInstance.refreshFrustrationSignalCounts();this.setOldEvaluationResults(n)},e.evaluateDebounceTimeout=100,e}()},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=["^QSI_ReplaySession_Info_ZN_.*"],a=function(){function e(){var e=this;this.cookieSize=0,document.cookie.split(";").forEach((function(t){var n=t.indexOf("QSI");~n&&(e.cookieSize+=t.length-n)}))}return e.prototype.set=function(e,t,n){void 0===n&&(n={});var i=n.force,o=n.erase,a=n.secure,s=n.daysToExpire,c=n.domain,u=n.shouldEncode,l=void 0!==u&&u,d=r.a.global.maxCookieSize,p=this.get(e),g=this.getCookieSize();p&&(g-=(e+"="+p).length);var f="";if(s){var h=new Date;h.setTime(h.getTime()+864e5*s),f="; expires="+h.toUTCString()}var S="";c?S="domain="+c:r.a.CookieDomain&&(S="domain="+r.a.CookieDomain);var I=e+"="+(l?this.encode(t):t),w=g+I.length;if(!(i||null!==d&&w<=d||null===d))throw new Error("Cannot exceed the specified maximum cookie size");this.cookieSize=o?g:w;var v=""+I+f+"; path=/; "+S;("https:"===location.protocol||a)&&(v+="; secure"),document.cookie=v},e.prototype.get=function(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var r=t[n].split("=");if(r[0].trim()===e){var i=r.slice(1).join("=");return this.shouldDecode(e)?this.decode(i):i}}return null},e.prototype.erase=function(e,t){this.set(e,"",{force:!0,erase:!0,daysToExpire:-1,domain:t})},e.prototype.getCookieSize=function(){return this.cookieSize},e.prototype.areCookiesEnabled=function(){try{document.cookie="cookietest=1";var e=-1!==document.cookie.indexOf("cookietest=");return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(e){return!1}},e.prototype.encode=function(e){return encodeURIComponent(e)},e.prototype.decode=function(e){return decodeURIComponent(e)},e.prototype.shouldDecode=function(e){var t,n;try{for(var r=i(o),a=r.next();!a.done;a=r.next()){var s=a.value;if(e.match(s))return!0}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!1},e}()},39:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(25),i=n(34),o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},s=function(e){var t,n,s={},c=i.b.ContactEmbeddedDataKey,u=i.b.ContactEmbeddedDataValue;try{for(var l=o(Object.entries(e)),d=l.next();!d.done;d=l.next()){var p=a(d.value,2),g=p[0],f=p[1];null!=f&&g.length<=c&&f.toString().length<=u?s[g.trim()]=f.toString().trim():Object(r.a)("Drop illegal item due to exceeding size limit (key > "+c+" characters, value > "+u+" characters or contains undefined value for key: "+g+")")}}catch(e){t={error:e}}finally{try{d&&!d.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return s}},49:function(e,t){QSI.history&&!window.QTestLib||(QSI.historyStorage={historySessionName:"QSI_HistorySession",get useCookie(){return"sessionStorage"!==QSI.historyStorageType},get limit(){return this.useCookie?2e3:1e4},getHistorySessionData:function(){return this.useCookie?QSI.cookie.get(this.historySessionName):sessionStorage.getItem(this.historySessionName)},eraseHistorySessionData:function(){this.useCookie?QSI.cookie.erase(this.historySessionName):sessionStorage.removeItem(this.historySessionName)},setHistorySessionData:function(e){this.useCookie?QSI.cookie.set(this.historySessionName,e,{daysToExpire:0}):sessionStorage.setItem(this.historySessionName,e)}},QSI.history={historyStorage:QSI.historyStorage,logVisit:function(){this.logCurrentURL(),this.logSearch(),this.startFocusTracking(),this.logReferrer()},startFocusTracking:function(){if(!this.started)try{this.started=!0,this.focusTime=this.getFocusTimeFromBrowserStorage(),this.blurTime=this.getBlurTimeFromBrowserStorage();var e=this;setInterval((function(){try{e.focused?e.focusTime+=1:e.blurTime+=1}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}}),1e3);var t=function(){try{e.focused=!0}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}};t(),QSI.util.observe(window,"focus",t),QSI.util.observe(window,"blur",(function(){try{e.focused=!1}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}})),QSI.util.observe(window,"pagehide",(function(){try{QSI.profile.set("History","BlurTime",e.blurTime),QSI.profile.set("History","FocusTime",e.focusTime)}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}}))}catch(e){QSI.dbg.e(e)}},logSite:function(e,t){var n,r=this.historyStorage.getHistorySessionData();if(r){var i=(r=decodeURIComponent(r)).split("|");n=i[i.length-1].split("~")[0],r+="|"}else r="",n="";e!==n&&(r+=e+"~"+t,this.writeHistory(r))},writeHistory:function(e,t){if(null!=t&&t<=0)this.historyStorage.eraseHistorySessionData();else{t=t||QSI.historyStorageSize||QSI.global.maxCookieSize||this.historyStorage.limit;var n=encodeURIComponent(e),r=this.limitSize(n,t);try{this.historyStorage.setHistorySessionData(r)}catch(n){e=decodeURIComponent(r),this.writeHistory(e,t-500)}}},limitSize:function(e,t){if(!e.length)return e;for(t=t||this.historyStorage.limit;e.length>t;){var n=decodeURIComponent(e).split("|");n.splice(0,1),e=n.join("|"),e=encodeURIComponent(e)}return e},get:function(){var e=this.historyStorage.getHistorySessionData();return e||(e=[]),e=this.limitSize(e),decodeURIComponent(e)},logCurrentURL:function(){var e=window.location.href,t=1*new Date;this.logSite(e,t)},getReferrer:function(){return document.referrer},logSearch:function(){var e,t,n=this.getReferrer();if(n.search(/(google.com)|(bing.com)|(yahoo.com)/)>=0){var r="";n.search(/(google.com)|(bing.com)/)>=0?(e=/q=(.*?)\&/,(t=n.match(e))&&t.length&&t[1]&&(r=t[1])):n.search(/yahoo.com/)>=0&&(e=/p=(.*?)\&/,(t=n.match(e))&&t.length&&t[1]&&(r=t[1])),r=decodeURIComponent(r),QSI.profile.set("History","SearchTerm",r)}},logReferrer:function(){var e=this.getReferrer();e&&(QSI.util.build("a",{href:e}).hostname!==document.location.host&&QSI.profile.set("History","SiteReferrer",e),QSI.profile.set("History","PageReferrer",e))},logIntercept:function(e,t){t&&this.logActionSet(t)},logActionSet:function(e){if(e.search("AS_")>=0){var t=e,n=1*new Date;QSI.profile.set("ActionSetHistory",t,n),QSI.profile.set("ActionSetHistory",t,n,1)}},logSurvey:function(e,t){QSI.profile.set("QualtricsSurveyHistory",e,t,1)},getSiteReferrer:function(){return QSI.profile.get("History","SiteReferrer")},getPageReferrer:function(){return QSI.profile.get("History","PageReferrer")},getSearch:function(){var e=QSI.profile.get("History","SearchTerm");return e||(e=""),e},getTimeOnSite:function(){var e=this.focusTime;return e+this.blurTime+"|"+e},getFocusTimeFromBrowserStorage:function(){var e=QSI.profile.get("History","FocusTime");return e||(e=0),e},getBlurTimeFromBrowserStorage:function(){var e=QSI.profile.get("History","BlurTime");return e||(e=0),e},getActionSetHistory:function(e,t){var n=QSI.profile.get("ActionSetHistory",e,t);return n||(n=0),n},getPageCount:function(){var e,t,n=this.historyStorage.getHistorySessionData(),r=0,i=[];if(n){var o=(n=decodeURIComponent(n)).split("|");for(t=o.length,e=0;e<t;e++)i.push(o[e].split("~")[0]);var a={};for(t=i.length,e=0;e<t;e++)a[i[e]]||(r++,a[i[e]]=!0)}return{unique:r,total:i.length}}})},50:function(e,t){QSI.profile&&!window.QTestLib||(QSI.profile={namespace:"QSI_",set:function(e,t,n,r){if(void 0===e||void 0===t||void 0===n)throw new Error("To few arguments");try{var i=this.getStorage(r),o=this.namespace+e,a=i.getItem(o);(a=a?JSON.parse(a):{})[t]=n,a=JSON.stringify(a),i.setItem(o,a)}catch(e){QSI.dbg.e("error setting profile item"),QSI.dbg.e(e)}},get:function(e,t,n){var r=this.getStorage(n),i=this.namespace+e,o=r.getItem(i);return o?(o=JSON.parse(o),t?o[t]?o[t]:null:o):null},erase:function(e,t,n){var r=this.getStorage(n),i=this.namespace+e;if(t){var o=JSON.parse(r.getItem(i));delete o[t],o=JSON.stringify(o),r.setItem(i,o)}else r.removeItem(i)},getStorage:function(e){if(this.hasSessionStorage())return e?localStorage:sessionStorage;if(QSI.UserDataStorage){var t=QSI.UserDataStorage;return e?t.isPermanent(!0):t.isPermanent(!1),t}return QSI.CookieStorage},hasSessionStorage:function(){try{var e="qualtricssessionstoragetestkey",t=window.sessionStorage;return t.setItem(e,e),t.removeItem(e),!0}catch(e){return!1}}})},51:function(module,exports){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}void 0===QSI.util&&(QSI.util={$:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e},forOwn:function(e,t){if(e&&e instanceof Object&&this.isFunction(t))for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n,e)},build:function(e,t,n){var r=document.createElement(e);if(t){var i=this;QSI.util.forOwn(t,(function(e,n){switch(n){case"style":i.setStyle(r,t[n]);break;case"className":r.className=t[n];break;case"id":r.id=t[n];break;default:r.setAttribute(n,t[n])}}))}if(n)if(QSI.util.isString(n))"style"===e&&r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(String(n)));else if(QSI.util.isArray(n))for(var o=0,a=n.length;o<a;o++){var s=n[o];"string"==typeof s||"number"==typeof s?r.appendChild(document.createTextNode(String(s))):s&&s.nodeType&&r.appendChild(s)}return r},setStyle:function(e,t){QSI.util.forOwn(t,(function(n,r){try{e.style[r]=t[r]}catch(e){QSI.dbg.e(e)}}))},isString:function(e){return"string"==typeof e},isArray:function(e){return"object"===_typeof(e)&&e instanceof Array},getQueryParam:function(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null===n?"":n[1]},getBrandDC:function(){return QSI.global.brandDC.match(/(.*).qualtrics.com$/)[1]},observe:function(e,t,n,r){this.obs=this.obs||[],e&&(this.obs.push({el:e,e:t,f:n,preventRemove:r||!1}),e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+this.capFirst(t)]&&(e["on"+this.capFirst(t)]=n))},stopObserving:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+this.capFirst(t)]&&(e["on"+this.capFirst(t)]=null)},removeObservers:function(){var e=this;this.each(this.obs||[],(function(t){t.preventRemove||e.stopObserving(t.el,t.e,t.f)}))},removeTimeouts:function(){var e=this;this.each(this.tims||[],(function(t){e.clearTimeout(t)}))},remove:function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},isFunction:function(e){return"function"==typeof e||!1},capFirst:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},each:function(e,t){var n=e.length;if(n)for(var r=0;r<n;r++)t(e[r],r)}}),void 0===QSI.doEvalJS&&(QSI.doEvalJS=function(e){return eval(e)}),void 0===QSI.strToVal&&(QSI.strToVal=function(e){try{for(var t=e.split(/[\'"\[\]]/).filter((function(e){return""!=e})),n=t[0].split("."),r=t.slice(1,t.length),i=n.concat(r),o=0;o<i.length;o++)if(0===i[o].indexOf(".")){var a=i[o].split(".");a=a.filter((function(e){return""!=e})),i.splice(o,1,a[0]),o++;for(var s=1;s<a.length;s++)i.splice(o,0,a[s]),o++}var c=window;return QSI.config&&QSI.config.variableRoot&&(c=QSI.config.variableRoot),i.forEach((function(e){c=c[e]})),c}catch(e){return}})},52:function(e,t){QSI.AssetManager={promiseFetch:function(e,t,n){var r=QSI.Orchestrator.Deferred(),i=new XMLHttpRequest;return i.open(e,t,!0),i.withCredentials=!0,"POST"===e&&i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.onreadystatechange=function(){4===i.readyState&&(200===i.status?r.resolve(i.responseText):r.reject(i.responseText))},i.send(n),r.promise()},generateDefinitionRequestURL:function(e,t,n,r){var i=QSI.baseURL+"Asset.php?",o=QSI.config.brandId||QSI.global.brandID,a=QSI.config.zoneId;try{if(QSI.global.featureFlags["DX.UpdateAssetHostName"]&&o&&a){var s=QSI.baseURL.split(/(https?:\/\/)/);i=s[1]+a+"-"+o+"."+s[2]+"Asset.php?"}}catch(e){QSI.dbg.e("Failed to deconstruct base URL and reconstruct new URL. Error: "+e)}var c=[];if(t=t||n.version,c.push("Module="+e),c.push("Version="+t),null!=r&&c.push("Q_InterceptID="+r),null===n.Q_NOCACHE&&c.push("Q_NOCACHE"),QSI.CORSOrigin&&c.push("Q_ORIGIN="+QSI.CORSOrigin),void 0!==n.Q_CLIENTVERSION&&null!==n.Q_CLIENTVERSION&&c.push("Q_CLIENTVERSION="+n.Q_CLIENTVERSION),void 0!==n.Q_CLIENTTYPE&&null!==n.Q_CLIENTTYPE){var u="Q_CLIENTTYPE="+n.Q_CLIENTTYPE;c.push(u)}null!==window.QSI.config.BrandTier&&""!==window.QSI.config.BrandTier&&void 0!==window.QSI.config.BrandTier||(window.QSI.config.BrandTier=""),c.push("Q_BrandTier="+window.QSI.config.BrandTier),c.push("Q_ARCACHEVERSION=21");var l=window.QSI.util.getBrandDC();return l&&c.push("Q_BRANDDC="+l),i+=c.join("&")},loadDefinition:function(e,t){var n=QSI.Orchestrator.Deferred(),r=new XMLHttpRequest;return r.open("GET",e,!0),r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status)try{var e=JSON.parse(r.responseText);e.Error?n.reject(e):(t(e),n.resolve(r.responseText))}catch(e){n.reject(r.responseText)}else n.reject(r.responseText)},r.send(),n.promise()},promiseLoadIntercept:function(e,t,n,r){var i=t.InterceptID,o=QSI.AssetManager.generateDefinitionRequestURL(i,t.InterceptRevision,n);return r.startComponentTimer("AssetDefinition-"+i),QSI.AssetManager.loadDefinition(o,(function(t){r.endComponentTimer("AssetDefinition-"+i),QSI.Request[e].Intercepts[i].Intercept=t.InterceptDefinition}))},promiseLoadCreative:function(e,t,n,r){var i=t.Decision.Creative.ID;if("CR_NoCreative"!==i){var o=QSI.AssetManager.generateDefinitionRequestURL(i,t.Decision.Creative.Revision,n,t.InterceptID);return r.startComponentTimer("AssetDefinition-"+i),QSI.AssetManager.loadDefinition(o,(function(n){r.endComponentTimer("AssetDefinition-"+i),QSI.util.isLegacyCreative(n.CreativeDefinition.Type)&&(n.CreativeDefinition=QSI.AssetManager.sortCreativeDefinition(n.CreativeDefinition)),QSI.Request[e].Intercepts[t.InterceptID].Creative=n.CreativeDefinition}))}return QSI.Request[e].Intercepts[t.InterceptID].Creative=null,QSI.Orchestrator.Deferred().resolve(null)},promiseLoadPopUnderTarget:function(e,t,n){var r=QSI.AssetManager.generateDefinitionRequestURL(t.Decision.PopUnderTarget.ID,t.Decision.PopUnderTarget.Revision,n,t.InterceptID);return QSI.AssetManager.loadDefinition(r,(function(n){QSI.Request[e].Intercepts[t.InterceptID].PopUnderTarget=n.CreativeDefinition}))},promiseLoadScript:function(e,t,n,r){var i,o=e+":"+QSI.global.clientVersion;if(-1!==n.global.alreadyFetchedJSModules.indexOf(o))return r.markComponentAlreadyFetched("JSModule-"+e),(i=QSI.Orchestrator.Deferred()).resolve(),i.promise();i=QSI.Orchestrator.Deferred();var a=document.createElement("script");a.src=QSI.global.hostedJSLocation+e+"Module.js?";var s=[];void 0!==QSI.Orchestrator&&void 0!==QSI.Orchestrator.getClientVersionQueryString&&s.push(QSI.Orchestrator.getClientVersionQueryString()),(-1!==window.location.href.indexOf("Q_DEBUG")||QSI.config.debug)&&s.push("Q_DEBUG=true");var c=QSI.config.brandId||QSI.global.brandID||window.location.host;return s.push("Q_BRANDID="+encodeURIComponent(c)),a.src+=s.join("&"),a.defer=!0,a.addEventListener("load",(function(){try{!0===QSI.wrongModuleVersionRequested&&(i.reject(),QSI.dbg.e("Script: "+e+" failed to load because an unavailable version ("+t+") was requested.")),n.global.alreadyFetchedJSModules.push(o),r.endComponentTimer("JSModule-"+e),i.resolve()}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}}),!1),a.addEventListener("error",(function(){try{i.reject(),QSI.dbg.e("Script: "+e+" failed to load.")}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}})),r.startComponentTimer("JSModule-"+e),document.body.appendChild(a),i.promise()},sortCreativeDefinition:function(e){if(e&&e.Options&&e.Options.elements&&e.Options.elements.Elements){var t=e.Options.elements.Elements;t=QSI.util.stableSort(t,(function(e,t){return Number(e.style.zIndex)<Number(t.style.zIndex)?-1:Number(e.style.zIndex)>Number(t.style.zIndex)?1:0}));for(var n=0;n<t.length;n++)t[n].style&&t[n].style.zIndex&&(t[n].style.zIndex=QSI.global.currentZIndex++);return t=QSI.util.stableSort(t,(function(e,t){return Number(e.position.left)<Number(t.position.left)?-1:Number(e.position.left)>Number(t.position.left)?1:0})),t=QSI.util.stableSort(t,(function(e,t){return Number(e.position.top)<Number(t.position.top)?-1:Number(e.position.top)>Number(t.position.top)?1:0})),e.Options.elements.Elements=t,e}return e}}}}]);
} catch(e) {
  if (typeof QSI !== 'undefined' && QSI.dbg && QSI.dbg.e) {
    QSI.dbg.e(e);
  }
}